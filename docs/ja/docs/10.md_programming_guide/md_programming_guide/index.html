<!doctype html>
<html lang="ja" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.101.0" />
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/docsy-example/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/docsy-example/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/docsy-example/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/docsy-example/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/docsy-example/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/docsy-example/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/docsy-example/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/docsy-example/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/docsy-example/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/docsy-example/favicons/android-192x192.png" sizes="192x192">

<title>プログラミングガイド | GridDB</title>
<meta name="description" content="JavaやC言語のAPIの使用方法や、データ登録や検索などのプログラム例を説明したマニュアルです">
<meta property="og:title" content="プログラミングガイド" />
<meta property="og:description" content="JavaやC言語のAPIの使用方法や、データ登録や検索などのプログラム例を説明したマニュアルです" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://gahoh.github.io/docsy-example/ja/docs/10.md_programming_guide/md_programming_guide/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2022-06-28T07:59:08+09:00" /><meta property="og:site_name" content="GridDB" />

<meta itemprop="name" content="プログラミングガイド">
<meta itemprop="description" content="JavaやC言語のAPIの使用方法や、データ登録や検索などのプログラム例を説明したマニュアルです">
<meta itemprop="dateModified" content="2022-06-28T07:59:08+09:00" />
<meta itemprop="wordCount" content="11499">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="プログラミングガイド"/>
<meta name="twitter:description" content="JavaやC言語のAPIの使用方法や、データ登録や検索などのプログラム例を説明したマニュアルです"/>




<link rel="preload" href="/docsy-example/scss/main.min.672aa3552c7ddf19ab9652258d5b72f8c78c155b74757e95f100f5b996b144d9.css" as="style">
<link href="/docsy-example/scss/main.min.672aa3552c7ddf19ab9652258d5b72f8c78c155b74757e95f100f5b996b144d9.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
  crossorigin="anonymous"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-00000000-0', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/docsy-example/ja/">
		<span class="navbar-logo"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" inkscape:version="1.0 (4035a4f, 2020-05-01)" sodipodi:docname="logo.svg" style="enable-background:new 0 0 500 500" viewBox="0 0 500 500" id="Layer_1"><defs id="defs296"/><sodipodi:namedview inkscape:current-layer="Layer_1" inkscape:window-maximized="0" inkscape:window-y="119" inkscape:window-x="172" inkscape:cy="125.17863" inkscape:cx="250" inkscape:zoom="1.47" showgrid="false" id="namedview294" inkscape:window-height="1683" inkscape:window-width="2927" inkscape:pageshadow="2" inkscape:pageopacity="0" guidetolerance="10" gridtolerance="10" objecttolerance="10" borderopacity="1" bordercolor="#666666" pagecolor="#ffffff" inkscape:document-rotation="0"/><g transform="matrix(0.45963542,0,0,0.45963542,-103,-103)" id="g302"><image x="0" y="0" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAACAAAAAgACAYAAACyp9MwAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAIABJREFUeJzs3X+M5Hd93/H3e2bXd7szc3uHuSM2mB/GAmyTULBaEttVCjaxAnYVmlpJikwCLTRKW5cqKaS0IQVB2iS0QjQNiltKGzdQShVKbSEQB0kaO4lLDYEEE4QxxRjb+Gpub2dm9+zb/b77x62pBQZ89t19dnceD2l1e7uj0/P+nPm85jMRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACcHNk6AAAAAIioqvkjR44M5+fnF44dO7Z7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X52xb/Zvrmc961nxzW9+M4aGhub0vltq1apV8ahHPWrO73v44YfHfvvtF3vssUfsvPPOMTIyEq1Wa847AICtk3O+ot1u75dSuqt0CwB0OwsAALAZqqo6I6V0VOkOAKCcTqcTGzdujF/84hdx3XXXxRlnnDGr3+7fXDfeeGM8+MHdfUDReeedF0ceeWTpjDjooIPi5S9/eTzhCU+IXXfdNYaHhz02AAB6x0fb7faxpSMAoNt5lwsA96FpmsNzzv9cugMAmHt33HFHrF69On7605/G2WefHcuWLSud9Ec+/vGPx2te85rSGfdocnIy9txzzxgbGyud8kcOPfTQeOlLXxq77757POABD4gFCxaUTgIA7t1r2+32Z0tHAEA3swAAAPeirusnRMTyiFhUugUAmH2dTifWrVsXP/vZz+L888+PT3ziE6WT7tNOO+0UN954Y9cOr6+55pp4znOeUzpjs/zd3/1d/MVf/EU8/OEPj5GREacDAED3uSMilrbb7etKhwBAt/JOFgDuwZo1a0a23Xbba1JKjyndAgDMnqmpqVi9enXccMMNXfst//ty9dVXx2Mf+9jSGX+k0+nE4YcfHueff37plC126KGHxiGHHBJ77LFH7LjjjjE0NFQ6CQCIiJzzzZs2bdp7++2331i6BQC6kQUAALgbOedU1/X5KaWXlm4BAGbefw/9r7322njf+94XK1asKJ20Vd71rnfFu9/97q77xvptt90We+yxR+mMrbZ06dJ4y1veEk996lNjl112iVarVToJAAZazvnr7Xb7JSmlXLoFALpNd30yAABdoq7rd0TEB0t3AAAzp9+G/n/o17/+dWy33XalM37PWWedFW9729tKZ8yo/fbbL44++ujYa6+9YocddrAMAADlHNdut08tHQEA3cYCAAD8gYmJiaWdTueyiJhfugUA2Do55/jNb34TV199dZxyyinxgx/8oHTSrLn44otj3333LZ3xP+q6jgc84AGlM2bVIYccEkcccUTsueeeMTIyUjoHAAbNpk6n8+ejo6NXlA4BgG5iAQAAfkdVVTullH4QEQ8s3QIA3H8TExNx0003xac+9an41Kc+VTpnTrzkJS+Jc845p2u+kf69730vDjzwwNIZc+bEE0+MF73oRfHwhz885s+3RwoAc+RXOee9RkZG1pQOAYBuYQEAAH4r59xqmuaiiNi/dAsAsOWmp6fjtttuiwsvvDDe8Y53lM4p4uabb45ddtmldEZMTU3Fy172srjkkktKp8y5PffcM0444YRYunRp7LDDDpGSj14AYJZdOjw8/NyU0nTpEADoBt6FAsBvVVV1ckrp3aU7AIAtMzk5GT/72c/iIx/5SJx//vmlc4o699xz4+CDDy6dEStXrownPOEJpTOKO/roo+N1r3tdPPrRj3YqAADMopzz342MjJxYugMAuoEFAACIiKZpXpBz/kZEdMeZuQDAvco5x+rVq+PSSy+NI488snRO19hzzz3jiiuuKD5s/vCHPxzvfe97izZ0k6VLl8YJJ5wQe+21V4yMjJTOAYB+1ImIF7Tb7YtKhwBAaRYAABh4k5OTD5mamvpBSmmH0i0AwL2bnp6On//853H22WfHRz7ykdI5XemHP/xh7LbbbsXuv2HDhnjQgx5U7P7d7sMf/nAcdNBBseuuu3o8AADMoJzzunnz5j1l4cKFPy/dAgAl+ZYjAAMt57xgenr6AsN/AOhumzZtihUrVsQb3vCGeOITn2j4fy+++c1vFr3/NddcU/T+3e5tb3tbPOYxj4mTTjopbrnlluh0OqWTAKAvpJS2n56e/mLOeZvSLQBQklVzAAZaVVVnpJSOKt0BANy9iYmJ+Pd///d45zvfGStWrCid0zNWrVoV7XZ7zu+7adOm2G+//eIHP/jBnN+7V73uda+Lt7zlLbHbbrvFvHnzSucAQM/LOX9sZGTkmNIdAFCKBQAABlZVVYeklD5fugMA+GP/Pfg/9thjY+XKlaVzes53v/vdeOpTnzrn9/3pT39a5L794KCDDop3vvOd8bjHPc4iAABsvcPa7fa5pSMAoASPAABgIG3cuPFREfHx0h0AwO9rmia+853vxOMe97h44QtfaPh/P5199tmRc57Te+ac4wtf+MKc3rOfLFu2LJ7xjGfEIYccEtddd11MTU2VTgKAnpVzPmN8fPzRpTsAoAQnAAAwcHLOC5qmuSoi9irdAgD8l6Zp4tJLL41jjz02xsbGSuf0hVtvvTV23HHHObvfb37zm3jYwx42Z/frdwcddFC85z3vicc+9rExNDRUOgcAetH3h4eHn55Suqt0CADMJScAADBwmqY5JQz/AaAr3HnnnXHllVfG0qVL49WvfrXh/wz6/ve/P6f3W758+Zzer98tW7Ysli5dGm9605vipptuik6nUzoJAHrNU5qmObl0BADMNScAADBQmqY5MOf8rfA7EACKmpqaihtuuCHe8Y53GBzPkr322isuvfTSOXme/F133RVPfepTPbJhFr31rW+No446Kh7ykIdESl7KAsBmyimlFw0PDy8rHQIAc8U7RgAGRl3XO0fEjyJi59ItADCoOp1O/OxnP4u//du/jYsuuqh0Tt+74YYb5uRY/uuvvz6WLl066/ch4uSTT47DDjsstt9++9IpANAr1qSUnjg8PHx76RAAmAseAQDAQMg5tyLic2H4DwDFrFmzJv7+7/8+9t57b8P/OXLppZfO+j1yznHOOefM+n34L+95z3viIQ95SHz961+PO+64o3QOAPSCHTudznk556HSIQAwF5wAAMBAaJrmhJzz/1e6AwAGUUaXcYYAACAASURBVF3X8bWvfS2OOuqo0ikDac2aNbFw4cJZu/6qVaviUY961Kxdn3u25557xmmnnRZ77bVXDA2ZaQDAfXhnu90+pXQEAMw2JwAA0PcmJib+NOf8v0t3AMCgmZqaiiuvvDKe/vSnG/4XdPPNN8/q9b/73e/O6vW5ZytWrIjnPOc58a53vStuv92pxgBwH06amJjwzCIA+p4FAAD62vr16xd3Op0vRsT80i0AMEhWrVoVxx57bBxwwAGxcuXK0jkD7dxzz42c86xce3JyMt797nfPyrXZfKeffnrstttucd5558Xk5GTpHADoVvOmp6fPXbdu3XalQwBgNnkEAAB9ra7rz0fEIaU7AGBQ3HHHHbFs2bJ4/etfXzqF33HbbbfFkiVLZvy61157bTz72c+e8ety/z3rWc+KD33oQ7HHHntEq+V7HwDwh3LOXx4ZGXll6Q4AmC3eCQLQt6qqelMY/gPAnOh0OrFixYp44QtfaPjfhX70ox/N+DU7nU6cdtppM35dts7ll18e++yzT3z0ox+N8fHx0jkA0HVSSq9omubw0h0AMFucAABAX6qqas+U0tURsah0CwD0u6Zp4pxzzom/+Zu/KZ3CPdhvv/3iK1/5SgwNDc3YNW+77bbYY489Zux6zLyddtopPvvZz8bSpUudBgAAv6/JOe89MjJyY+kQAJhp3v0B0HdyztumlD4Xhv8AMKtyznHTTTfFgQceaPjf5S655JJYtWrVjF7z4osvntHrMfPGxsbigAMOiJNPPjk2btxY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t29fFMVQ7hAAXpkBAIAGUC6X/09RFDfk7gAARkatVovu7u5YsGBBzJo1K7q7u3MnAbScSy+9NA488MDYaqutPA8AAC8hpXRIR0fHj3J3APDKfJsBaADlcvk/iqLYI3cHADC8ent749FHH42rrroq5s6dmzsHgIg4/vjj46ijjoodd9wxxo8fnzsHAOpGSmlBR0fH+3J3APDKDAAA1LlKpbJLRDyYuwMAGB5DQ0Px9NNPxx133BGnnnpq7hwAXsbUqVPj//7f/xvvec97YuONN86dAwB1oSiKae3t7b/M3QHAyzMAAFDnyuXyN4uiOD53BwCwYf771/6XX355/PCHP8ydA8A6uPjii+PAAw+MN77xjdHW1pY7BwCySSld1dHRcVLuDgBengEAgDq2fPnyjte85jXPFEXRkbsFAFh3tVoturu7Y8GCBXHsscfmzgFgAx111FFx/PHHx9ve9rbYaKONcucAwKhLKVX6+/u33nzzzXtytwDw0gwAANSxcrk8syiKr+fuAADWTV9fXzzyyCNx1VVXxdy5c3PnADDMpkyZEueff37stddesdlmm+XOAYBRlVI6saOj4+rcHQC8NAMAAHWsUqn8V0S8PXcHAPDq/vTX/rNmzYru7u7cSQCMgksvvTRmzJjheQAAWsmvSqXSLrkjAHhpBgAA6lS5XJ5eFMU9uTsAgFfW398fjz32WFx55ZUxZ86c3DkAZHLsscfGscce63kAAFpCrVbbY9KkST/P3QHAXzMAAFCnKpXKv0bEYbk7AIC/llKK5cuXx7333hunn366X/sD8D923333OPvss+Od73xnlEql3DkAMFK+UyqVjswdAcBfMwAAUId6enpe29bW9nREjM/dAgD8r4GBgVi6dGlcd911ceWVV+bOAaDOXXPNNbHvvvvG5ptvHkXhGA6AprImpfTGjo6O5blDAPhzvnkA1KFKpTIrIv4ldwcA8AeVSiWWLFkSX/ziF2PBggW5cwBoMGeccUYcdthhsd1220VbW1vuHAAYLqeXSqUv544A4M8ZAACoMymltmq1ujQitsvdAgCtrFarRXd3d9x6660xc+bM3DkANIGjjjoqTjrppHjrW98aY8eOzZ0DABskpfR4qVR6S1EUtdwtAPwvAwAAdaZarf5dSuknuTsAoFX19/fHY489Fl/72tdi7ty5uXMAaEK77757nHnm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/9P42bx5s3YC0Gm33HILN4MAgEsYYzhbBmANBgAArOE4zn7tBgDulJycLCeccIL8/ve/l08++USWL18uwWBQOyvuKioq5PLLL5epU6fKiBEj5Ctf+YosWbJE/vrXv8quXbuktdWOV9sFAgG54IILtDOADquurtZOsFJtba12AnBU+/fzK0s8GGOkrKxMOwPotPLycvn444+1MwAAIuI4DgMAANZI1g4AgFgxxhxwHN5sAuD/DoFbW1ulsbFRwuGwHDhwQKqrq6WxsVEaGhqkrq5Opk2b5rt3RVdWVsott9xy8F8Hg0G57LLL5KSTTpJhw4ZJ3759JTMzUwIB721Ejz/+eO0EoMO2b98u48eP186wzp49e7QTgKMKhULaCVZqbm6WtWvXamcAXXLffffJb37zG1+8ugsAXI6lJgBrMAAAYBNWmoAPRaNRCYfDUlNTI7t375YPPvhASkpKpLy8XDvN9UKhkNx6661f+Pfy8/OlqKhIJk6cKEOGDJHevXtLRkaGuH1gNXToUO0EoMPee+89mTlzpnaGdTZt2qSdABzVli1btBOsxA0g8LKVK1fKjTfeKHl5edopAOBrvAIAgE0YAACwCStNwAcikYjU1tbKnj17pKKiQu6//35Zv369dpY1KioqZMGCBV/49/Lz8+XCCy+U4447ToYMGSLBYFCys7MlPT1dqfLf9enTRzsB6LAnnnhCfvzjH3vytg23MsbI66+/rp0BHNXf/vY3mT9/vnaGdfbu3audAHTLY489JrfccovrR7cAYDkGAACswVMlAGuEw+HrRORu7Q4AsWWMkdraWtmyZYuUl5fLQw89JJWVldpZEJHCwkKZPn26jBo1Svr16ye9evWSzMxMSUlJSfjhZXNzs/Tt2zehPxPojt27d0vPnj21M6zBnwHwkv3790tKSop2hlWee+45KSws1M4AumXLli3Sr18/7QwA8LMFWVlZv9KOAIBY4AYAANYwxhxgLQ/Yob29XUKhkFRUVMiTTz4pJSUl2kk4hCeffFKefPLJf/v3Z8yYIWeccYaMGTNGBg4cKL1795aePXtKenp63MYBaWlpMmPGDCkrK4v53xuIhz179jAAiKHq6mrtBKDD6urquLkmhowx8vzzz2tnAN32yiuvyMUXX6ydAQC+5TgONwAAsAYDAAA24eQX8LBIJCJ79uyRN998UxYvXsy3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+PHjdeaZZ6pz587KycmxTkp6sVhM27dv11NPPaVx48ZZ5wAAAAA4TPv371d2drZ1BgBYOTsUCv3FOgIAEoUBAAAZJRqNHu2932HdAaSiaDSqV155Rb/5zW9S8g2S22+/XYMHD9bxxx+vvLw865yUVV1drVdeeUUTJkxIyd8HAAAAQCbavn27ioqKrDMAwIT3vjgcDu+y7gCARGEAAEDGiUQiH0jqaN0BpKqGhgZt2LBBCxcu1C233GKd86VKSkp03XXXqW/fvurcuTOb/i2ssbFR7733nh599FFNnDjROgcAAADAV6isrFTXrl2tMwDAwrZQKNTFOgIAEokBAAAZJxKJPCPpXOsOIB3U1tZqy5Yteumll3T//fersrLStOfqq6/WeeedpxNPPFHt27fniMsE8N5r3759eumll3Trrbea/x4AAAAA8HnPP/+8vvnNb1pnAICFBaFQ6ELrCABIJAYAAGScmpqa3znnfmndAaSbWCymjz76SDt27NCWLVv02muv6ZFHHtHmzZvj9jnHjh2rQYMG6cQTT9TRRx+t/Pz8uH0ufL36+npt2LBBs2fP1vTp061zAAAAAHzs4Ycf1ve//33rDABIOO/9reFw+NfWHQCQSAwAAMg4NTU15c65P1t3AJkgFouprq5OtbW1ikQiikQi2rt3r/bv36/q6mrt2bNHO3bsUFVVlSSpqqpKy5cv/9zH6dOnjy688EKdeuqpOuaYY9SxY0e1adNGubm5if5HwiHw3mvXrl164YUXNG7cuE/+/QIAAACwMW7cuKS+wg0A4iUWi32/sLDwCesOAEgkBgAAZJz9+/d3z87O3mjdAeCree/V1NQkScrKypJzPLakogMHDujtt9/WjBkzVFFRYZ0DAAAAZKTi4mJt3LhRgUDAOgUAEiorK6trfn7+VusOAEgkVtIBZBzvvYtEInudc62tWwAgU8RisU9OeLjxxhs5FQAAAABIsF27dnFtGoCM4r3fFwqF2jnnvHULACQSI58AMs7HD3zrrDsAIJMEAgF17NhRF198sSorK7VixQpdcskl1lkAAABAxqirq7NOAICEcs6tZfMfQCZiAABARnLOvWrdAACZKj8/X71799b999+vN998U1OmTLFOAgAAANJeNBq1TgCARGMNGEBGYgAAQKbi4Q8AjGVlZenYY4/VyJEjVVVVxakAAAAAQBxV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RSKcwAgAAOIvGo1aJwAAjDjnZrH5DwD2GAAAgCSQlZX1n5KarDsAAOlr79691gkAACADfPTRR9YJAAAbjc65/7KOAAAwAAAASSEYDG6TtMS6AwCQvnbv3m2dAADIMH369NEf//hH3XzzzdYpSCAGAAAgYz1bUFCwwzoCAMAAAAAkDe/9TOsGAED6qq+vt05AHPXp00d/+MMf9Nprr2nXrl16//33tXDhQpWXl1unAcgwxcXFmjFjhiorK7V06VL94Ac/0I033qjdu3dr3bp1euihh1RaWmqdiThqauJwOwDIRLFY7AHrBgDA3znrAADA33nvs6PR6BZJx1i3AADSz9KlS3XhhRdaZ6AFDR8+XBdeeKFOO+00dezYUVlZWZ/7ObFYTHv27NEbb7yhqVOnaskSDhwCEB+//vWvde6556p79+5q1arVV/7cWCym/fv3a9OmTXriiSc0derUBFUiERYtWqQBAwZYZwAAEuv9goKC451zTIEBQBLItg4AAPydc66xpqZmlnPuV9YtAID009DQYJ2AZiouLtYvf/lLfetb39Kxxx6rgoICOffVM92BQEAdOnTQWWedpW9/+9v64IMP9MILL+jmm29WVVVVgsoBpKurr75a5eXlOumkkxQKhQ751wUCAbVt21Zt27ZVv379dNNNN+n999/X6tWrNWnSJG3evDmO1Yg37711AgAgwZxzD7D5DwDJgxMAACCJ1NbWdo7FYu+JAS0AQAt78cUXdc4551hn4Ag88sgj6tWrl4466ijl5OS0yMesr6/Xtm3b9Ne//lXjx49nGADAIRs7dqwuvvhi9ejRQ+Fw+GsHkQ5XY2Ojdu3apbfeektXXnklX59S0IoVK9S7d2/rDABA4jQ657oWFBTssA4BAPwdG0wAkESCweC2mpqap51zF1m3AADSS5s2bawTcIS6dOmizp07t+jHzM3NVbdu3dStWzddcskl2rlzp9asWaMJEyaosrKyRT8XgNQ3duxY/ehHP1KPHj1UWFjY4pv+n5adna2jjz5atbW1bP6nqNatW1snAAASyDn332z+A0By4QQAAEgykUjkHEmLrDsAAOnl/fff1ymnnGKdgSNQXFysNWvWqG3btnH/XA0NDdq2bZteeuklTZw4kWO4gQx2/fXXq6ysTCeeeGLcN/0/KxKJaOjQoVq5cmXCPidazpYtW9S+fXvrDABAgnjvB4XD4aXWHQCA/8UAAAAkGe+9i0Qi7zjnTrRuAQCkj+rqanXq1Mk6A0doxIgRmjx5cotdAXAoGhsbtXPnTq1fv14PPvigFi1iPhFIZ8XFxfrFL36hgQMH6thjj1VBQYFJR1NTk26//XZNnDjR5POj+fbs2aO8vDzrDABAAnjvN4ZCoR7OOW/dAgD4XwwAAEASikQi4yTdad0BAEgfsVhMQ4cO1ZIlS6xTcIRmzpypSy65JKFv4f6D917V1dV699139ec//1nTp09PeAOAltetWzf9+7//uwYMGKAuXbooNzfXOklLly7VhRdeaJ2BIzR27FjdeSffygJABrkuFApNsY4AAPxfDAAAQBKqrq5uFwgEtklqZd0CAEgfc+fO1ZVXXmmdgWZYs2aNTj75ZNMG772i0ajee++9T64K4J5uIHWMHDlSQ4cOVY8ePdShQwdlZWVZJ33ib3/7m0pKSqwz0Azz58/X2WefbZ0BAEiMuqamps5FRUV7rUMAAP8XAwAAkKQikcjDkoZZdwAA0sfbb7+tvn37WmegGUpKSvTcc8+pqKjIOuUTDQ0Nqqqq0ttvv61HH31UFRUV1kkAPqVbt24aN26c+vXrp86dO6ugoMDkJJGvU1tbq/Lyci1fvtw6Bc1QWVmprl27WmcAABLjoVAodIV1BADg85LvOz4AgCSpurr6jEAgsMK6AwCQPg4ePKhTTjmFt7VT3DXXXKNf//rXys7Otk75HO+9IpGItm7dqlWrVmnq1KnavHmzdRaQccaOHavzzz9fJ510ktq3b5+UXy8+LRaLacqUKbrlllusU9AMffr00dKlS5P+9xsAoGUEAoF/DgaDq6w7AACfxwAAACSxSCSyVtI/WXcAANIH1wCkh4cfflgXXXRRUr7F+2lNTU366KOPPhkIuOOOOxhAAeJgyJAhuvjii9W7d2916tQpad/y/zLLly/XeeedZ52BZpozZ44uuOAC6wwAQGKsC4VCva0jAABfLHW+GwSADFRTUzPGOTfdugMAkD527NihHj16WGegBbz++uvq1q2bdcZhaWho0K5du7Rp0yYtXrxYd911l3USkJIGDhyoK664Qr169UrJDf9P48+l9LFp0yYdddRR1hkAgATw3o8Kh8MPWHcAAL5Yan53CAAZoqqqKpSfn7/dOVdo3QIASA/ee02YMEETJ060TkEzlZaWav78+QqFQtYpR+zAgQPavXu33nvvPb344ov67W9/a50EJKWhQ4fqhz/8oU4++WQdffTRCofDCgQC1lnNVldXpyuuuEJPPfWUdQqa6Re/+IVuvvnmlB1EAQAcOu99zYEDB47p0KFDjXULAOCL8VQOAEmupqZmhnNutHUHACB9bN++XSeddJJ1BlrATTfdpBtvvFFZWVnWKS2ioaFB+/fv1/bt27Vu3Tr94Q9/0Nq1a62zgIQbMWKEBg0apFNOOUVHHXWUCgsL025jNRaL6b777tMNN9xgnYIW8MYbb+i4446zzgAAJID3flo4HL7KugMA8OXS67tHAEhDkUikp6R11h0AgPThvdekSZN02223WaegBTz55JP67ne/a50RF01NTfroo4+0c+dOvfvuu3ruuec0e/Zs6yygRZWUlOjKK69Uz5491blzZ7Vr106tWrWyzoq7VatWadCgQdYZaAGjR4/WnXfemRanUgAADknPUCi03joCAPDlGAAAgBRQU1PzvHNuoHUHACB97N+/X3369FFVVZV1ClrAW2+9pS5dulhnJER9fb0++ugjVVVVqbKyUhUVFVqyZIl1FnDIRo4cqe985zufvN2fLsf5H46dO3eqe/fu1hloIe+8846OOeYY6wwAQGIsC4VC6Tl9DABphAEAAEgBNTU1P3DOPWbdAQBIL88//7zOP/986wy0gEGDBmnOnDkKBoPWKQnnvVc0GtWePXu0Y8cOvfXWW3riiScYCkBSGDdunE4//XQdd9xx6tChgwoLC5WTk2OdZergwYMaNWqU5s2bZ52CFjBjxgxdeumlaXdFBQDgi8VisYsKCwuftO4AAHw1ns4BIAV477Mikcg7zjlekwEAtJjGxkZdd911mjVrlnUKWsDvfvc7XX311Rn3JvEX8d6rrq5O+/fv14cffqgNGzZo8eLFmjt3rnUa0lRJSYn+5V/+Rf/0T/+kLl26qH379gqFQsrOzrZOSyree82aNUs///nPrVPQAkpKSrR06VIVFBRYpwAAEuO9goKCE51zTdYhAICvxgAAAKSISCRyraS7rDsAAOll3759OvPMM7V582brFLSAxYsXq7S01DojaTU2NioajWr//v2qqqrSe++9p+eff16zZ8+2TkMKGTlypEpLS3X88cerU6dOKioqUjAYZPjmEKxdu1YDB3KzWbpYs2aNTj75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fy/dATDsWq1WfO9734tPfepTccYZZ5TOgW32uc99Lg4//HAnmGGA5JzjzDPPjKOPPrp0CmyzPffcM0466aR4xjOeERMTEzEyMlI6CaBXnVfX9fNKRwCw+HxjAzAkJicnnzUyMnJx6Q6AYdTpdOLmm2+Oc889N972treVzoFH7JJLLomnPvWppTOABXLppZfGb/7mb5bOgEfsqKOOite85jWx9957uwoA8HO63e5zms2m7wYBhoAFAIAhMjU1dWFK6eDSHQDDotVqxXe/+934yEc+Euedd17pHFgwExMTcdlll8XOO+9cOgV4hG677bZ44hOfWDoDFtTExET86Z/+aRx00EHx6Ec/2tUagIh/ruv60NIRACwNv/sFGCKTk5PPHhkZ+UbpDoBB1u1240c/+lF85StfiRNOOKF0DiyadevWxSmnnBLLly8vnQJsp02bNsUrX/nKOOuss0qnwKI5/vjjY926dfH4xz8+RkdHS+cAFOGn/wGGiwUAgCEzNTX19ZTSc0t3AAyaubm5uPbaa+PUU0+N008/vXQOLIlPf/rT8Xu/93t+shL6UM45Tj31VE/TMDSOOOKIOO644+JXfuVXYsWKFaVzAJbS/6nr+rdKRwCwdHxLAzBkpqam/ntK6WulOwAGxczMTHzrW9+Kd73rXXHFFVeUzoEld+2118buu+9eOgPYRtdee23sv//+pTNgye23337xvve9Lw488MBYuXJl6RyARdftdg9qNpsuggIMkZHSAQAsrUajcWHO+V9LdwD0u5mZmbjwwgvj6U9/ehx++OGG/wytk08+Oebn50tnANtg06ZNceyxx5bOgCKuuOKKeN7znheHH354XH755TE3N1c6CWAx/YvhP8DwsQAAMJxOKh0A0K/m5ubi61//ejz96U+PF7zgBXHDDTeUToKizjjjjPjOd75TOgPYBv/6r/8a69evL50BRa1fvz4OPvjg+P3f//34/ve/Hznn0kkACy7nfHLpBgCWnicAAIbU1NTUv6aUDirdAdAvcs6xYcOGeNe73hVf+tKXSudAT1m7dm2cddZZTilDH5icnIynPe1psXHjxtIp0FNOOeWUeOlLXxpjY2OlUwAWygV1Xf+P0hEALD0XAACGVErJBjDAVtq0aVP89V//dey7776G//AA1q9fH1deeWXpDGArXHjhhYb/8ACOO+64eNGLXhS33HJL6RSABZFzdgEUYEi5AAAwxKampi5KKT2ndAdAL2u323H88cfHGWecUToFetohhxwSX/ziF2PZsmWlU4AHMTMzE2vWrLEAAA9hYmIiLr300th1111LpwA8En76H2CIuQAAMMRyzm8v3QDQy3LOccoppxj+w1a44IILYsOGDaUzgIfw7//+74b/8DA2btwY73znO2N+fr50CsB263Q67yzdAEA5FgAAhliz2bwkIs4q3QHQqzZs2BAf+MAHSmdA37joootKJwAPIuccf//3f186A/rCmWeeGd/+9rdLZwBsl5zzP46Pj3+zdAcA5XgCAGDItVqtfSPiO2EpDOB+ut1uvPWtb43TTjutdAr0jYmJibj22mtjxYoVpVOAnzM5ORm77bZb6QzoG2vWrImvf/3rsWrVqtIpANuik3N+SqPR+F7pEADKMewBGHJ1Xf97RJxZugOg1/z4xz82/IdttHHjxvjJT35SOgN4ALfeemvpBOgrV199dVx++eWlMwC21WcM/wGwAABAjI6OvjMiZkt3APSSc845p3QC9CULANCbbrrpptIJ0Hf++I//OGZn/VEZ6Buzo6OjJ5eOAKA8CwAAxKpVq27MOX+qdAdAr9i0aVO85S1vKZ0BfWnDhg2lE4AH8N3vfrd0AvSdK664wuca0E/+atWqVTeWjgCgPAsAAERExMjIyMkRMV26A6AX3HLLLaUToG/de++9pROAB3DbbbeVToC+dN5555VOAHhYOedWRHygdAcAvcECAAAREVFV1Y8j4i9LdwD0gu9///ulE6BvjYz4YyYAg+Md73iHZwCAfvCRuq5vLx0BQG/wzQwAW8zNzf1pzvmu0h0ApV1++eWlE6BvjY6Olk4AHsDy5ctLJ0Dfuusuf0wGelfO+e5Op/OR0h0A9A4LAABsseOOO96TUvr/SncAlHbOOeeUToC+tccee5ROAB7AU57ylNIJ0LcsAAC9LKX0/tWrV99dugOA3mEBAID7qarqlIi4tXQHQCmdTieuvvrq0hnQt57whCeUTgAegAUA2H733HNP6QSAB/Ojqqo+UToCgN5iAQCA+0kpzeScP1C6A6CUlFJMTEyUzoC+tHbt2th1111LZwAPYM899yydAH2r0+mUTgB4QCml96SUpkt3ANBbLAAA8Avquv7rnPP1pTsAShgZGYmDDjqodAb0pfe85z2xbNmy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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP5/e3BIAAAAACDo/2tvGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgIx79XJ7gjgunAAAAAElFTkSuQmCC" width="1536" height="1536" id="image300"/></g></svg></span><span class="font-weight-bold">GridDB</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="/docsy-example/ja/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			
			
			<li class="nav-item dropdown mr-4 d-none d-lg-block">
				

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	日本語
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/docsy-example/docs/10.md_programming_guide/md_programming_guide/">English</a>
	
</div>
			</li>
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block"><input type="search" class="form-control td-search-input" placeholder="&#xf002; サイトを検索..." aria-label="サイトを検索..." autocomplete="off">
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            
<div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    <input type="search" class="form-control td-search-input" placeholder="&#xf002; サイトを検索..." aria-label="サイトを検索..." autocomplete="off">

    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    <div class="nav-item dropdown d-block d-lg-none">
      

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	日本語
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/docsy-example/docs/10.md_programming_guide/md_programming_guide/">English</a>
	
</div>
    </div>
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docsy-examplejadocs-li">
  <a href="/docsy-example/ja/docs/" title="ドキュメンテーション" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-docsy-examplejadocs"><span class="">Documentation</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsy-examplejadocs2_quickstart_guide-li">
  <a href="/docsy-example/ja/docs/2_quickstart_guide/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsy-examplejadocs2_quickstart_guide"><span class="">クイックスタート</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs2_quickstart_guide2md_ce_quickstart_guidemd_quickstart_guide-li">
  <a href="/docsy-example/ja/docs/2_quickstart_guide/2.md_ce_quickstart_guide/md_quickstart_guide/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs2_quickstart_guide2md_ce_quickstart_guidemd_quickstart_guide"><span class="">Community Edition</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs2_quickstart_guide2md_quickstart_guidemd_quickstart_guide-li">
  <a href="/docsy-example/ja/docs/2_quickstart_guide/2.md_quickstart_guide/md_quickstart_guide/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs2_quickstart_guide2md_quickstart_guidemd_quickstart_guide"><span class="">Enterprise Edition</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs3md_reference_featuremd_reference_feature-li">
  <a href="/docsy-example/ja/docs/3.md_reference_feature/md_reference_feature/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs3md_reference_featuremd_reference_feature"><span class="">機能リファレンス</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs10md_programming_guidemd_programming_guide-li">
  <a href="/docsy-example/ja/docs/10.md_programming_guide/md_programming_guide/" class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs10md_programming_guidemd_programming_guide"><span class="td-sidebar-nav-active-item">プログラミングガイド</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs11md_reference_tqlmd_reference_tql-li">
  <a href="/docsy-example/ja/docs/11.md_reference_tql/md_reference_tql/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs11md_reference_tqlmd_reference_tql"><span class="">TQLリファレンス</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs14md_reference_sqlmd_reference_sql-li">
  <a href="/docsy-example/ja/docs/14.md_reference_sql/md_reference_sql/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs14md_reference_sqlmd_reference_sql"><span class="">SQLリファレンス</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs15md_sql_tuning_guidemd_sql_tuning_guide-li">
  <a href="/docsy-example/ja/docs/15.md_sql_tuning_guide/md_sql_tuning_guide/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs15md_sql_tuning_guidemd_sql_tuning_guide"><span class="">SQLチューニングガイド</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs16md_reference_jdbcmd_reference_jdbc-li">
  <a href="/docsy-example/ja/docs/16.md_reference_jdbc/md_reference_jdbc/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs16md_reference_jdbcmd_reference_jdbc"><span class="">JDBC ドライバ説明書</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs17md_reference_odbcmd_reference_odbc-li">
  <a href="/docsy-example/ja/docs/17.md_reference_odbc/md_reference_odbc/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs17md_reference_odbcmd_reference_odbc"><span class="">ODBCドライバ説明書</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsy-examplejadocs30_reference_api-li">
  <a href="/docsy-example/ja/docs/30_reference_api/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsy-examplejadocs30_reference_api"><span class="">APIリファレンス</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs30_reference_api12md_reference_java_api-li">
  <a href="/docsy-example/ja/docs/30_reference_api/12.md_reference_java_api/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsy-examplejadocs30_reference_api12md_reference_java_api"><span class="">Java APIリファレンス</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs30_reference_api13md_reference_c_api-li">
  <a href="/docsy-example/ja/docs/30_reference_api/13.md_reference_c_api/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsy-examplejadocs30_reference_api13md_reference_c_api"><span class="">C APIリファレンス</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs30_reference_api18md_reference_web_apimd_reference_web_api-li">
  <a href="/docsy-example/ja/docs/30_reference_api/18.md_reference_web_api/md_reference_web_api/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs30_reference_api18md_reference_web_apimd_reference_web_api"><span class="">Web APIリファレンス</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs30_reference_api19md_reference_python_api-li">
  <a href="/docsy-example/ja/docs/30_reference_api/19.md_reference_python_api/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsy-examplejadocs30_reference_api19md_reference_python_api"><span class="">Python API Reference</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs30_reference_api20md_reference_nodejs_api-li">
  <a href="/docsy-example/ja/docs/30_reference_api/20.md_reference_nodejs_api/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsy-examplejadocs30_reference_api20md_reference_nodejs_api"><span class="">Node.js API Reference</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs30_reference_api21md_reference_go_api-li">
  <a href="/docsy-example/ja/docs/30_reference_api/21.md_reference_go_api/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsy-examplejadocs30_reference_api21md_reference_go_api"><span class="">Go API Reference</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs4md_administrators_guidemd_administrators_guide-li">
  <a href="/docsy-example/ja/docs/4.md_administrators_guide/md_administrators_guide/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs4md_administrators_guidemd_administrators_guide"><span class="">データベース管理者ガイド</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs6md_error_codemd_error_code-li">
  <a href="/docsy-example/ja/docs/6.md_error_code/md_error_code/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs6md_error_codemd_error_code"><span class="">エラーコード</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs5md_reference_operation_toolmd_reference_operation_tool-li">
  <a href="/docsy-example/ja/docs/5.md_reference_operation_tool/md_reference_operation_tool/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs5md_reference_operation_toolmd_reference_operation_tool"><span class="">運用ツールリファレンス</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs7md_zabbix_template_guidemd_zabbix_template_guide-li">
  <a href="/docsy-example/ja/docs/7.md_zabbix_template_guide/md_zabbix_template_guide/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs7md_zabbix_template_guidemd_zabbix_template_guide"><span class="">監視テンプレートfor Zabbix 説明</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs8md_dockerfile_guidemd_dockerfile_guide-li">
  <a href="/docsy-example/ja/docs/8.md_dockerfile_guide/md_dockerfile_guide/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs8md_dockerfile_guidemd_dockerfile_guide"><span class="">Dockerfileサンプル 説明書</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs9md_ansible_template_guidemd_ansible_template_guide-li">
  <a href="/docsy-example/ja/docs/9.md_ansible_template_guide/md_ansible_template_guide/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs9md_ansible_template_guidemd_ansible_template_guide"><span class="">構築テンプレート for Ansible説明書</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsy-examplejadocs1_release_note-li">
  <a href="/docsy-example/ja/docs/1_release_note/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsy-examplejadocs1_release_note"><span class="">リリースノート</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs1_release_note1md_ce_release_notesmd_release_notes-li">
  <a href="/docsy-example/ja/docs/1_release_note/1.md_ce_release_notes/md_release_notes/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs1_release_note1md_ce_release_notesmd_release_notes"><span class="">Community Edition</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsy-examplejadocs1_release_note1md_release_notesmd_release_notes-li">
  <a href="/docsy-example/ja/docs/1_release_note/1.md_release_notes/md_release_notes/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsy-examplejadocs1_release_note1md_release_notesmd_release_notes"><span class="">Enterprise Edition</span></a>
</li>
  </ul>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
<a href="https://github.com/gahoh/docsy-example/tree/master/content/ja/docs/10.md_programming_guide/md_programming_guide.md" class="td-page-meta--view" target="_blank" rel="noopener"><i class="fa fa-file-alt fa-fw"></i> ページソースを表示</a>
  <a href="https://github.com/gahoh/docsy-example/edit/master/content/ja/docs/10.md_programming_guide/md_programming_guide.md" class="td-page-meta--edit" target="_blank" rel="noopener"><i class="fa fa-edit fa-fw"></i> ページの編集</a>
  <a href="https://github.com/gahoh/docsy-example/new/master/content/ja/docs/10.md_programming_guide/md_programming_guide.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" class="td-page-meta--child" target="_blank" rel="noopener"><i class="fa fa-edit fa-fw"></i> 子ページを作成</a>
  <a href="https://github.com/gahoh/docsy-example/issues/new?title=%e3%83%97%e3%83%ad%e3%82%b0%e3%83%a9%e3%83%9f%e3%83%b3%e3%82%b0%e3%82%ac%e3%82%a4%e3%83%89" class="td-page-meta--issue" target="_blank" rel="noopener"><i class="fab fa-github fa-fw"></i> ドキュメントのissueを作成</a>
  <a href="https://github.com/gahoh/docsy-example/issues/new" class="td-page-meta--project-issue" target="_blank" rel="noopener"><i class="fas fa-tasks fa-fw"></i> プロジェクトのissueを作成</a>
  <a id="print" href="https://gahoh.github.io/docsy-example/ja/docs/_print/"><i class="fa fa-print fa-fw"></i> セクション全体を印刷</a>

</div>

            


<div class="td-toc"><nav id="TableOfContents">
  <ul>
    <li><a href="#----はじめに---">&mdash; はじめに&mdash;</a></li>
    <li><a href="#-----概要----">&mdash;  概要 &mdash;</a></li>
    <li><a href="#開発言語">開発言語</a></li>
    <li><a href="#サポート範囲">サポート範囲</a>
      <ul>
        <li><a href="#データ型">データ型</a></li>
        <li><a href="#機能">機能</a></li>
      </ul>
    </li>
    <li><a href="#----java-api-nosqlインタフェース----">&mdash; Java API (NoSQLインタフェース) &mdash;</a></li>
    <li><a href="#java-apiを利用したアプリケーションの開発">Java APIを利用したアプリケーションの開発</a>
      <ul>
        <li><a href="#開発実行環境の構築">開発実行環境の構築</a></li>
        <li><a href="#サンプルプログラムの実行">サンプルプログラムの実行</a></li>
      </ul>
    </li>
    <li><a href="#プログラミングの基礎">プログラミングの基礎</a>
      <ul>
        <li><a href="#クラスタに接続する">クラスタに接続する</a></li>
        <li><a href="#コンテナを作成する">コンテナを作成する</a></li>
        <li><a href="#コンテナを取得する">コンテナを取得する</a></li>
        <li><a href="#データを登録する">データを登録する</a></li>
        <li><a href="#データを取得する">データを取得する</a></li>
        <li><a href="#tqlを実行する">TQLを実行する</a></li>
        <li><a href="#複数のコンテナに対して一括で操作を行う">複数のコンテナに対して一括で操作を行う</a></li>
        <li><a href="#バイナリデータを扱う">バイナリデータを扱う</a></li>
        <li><a href="#データを更新する">データを更新する</a></li>
        <li><a href="#データを削除する">データを削除する</a></li>
        <li><a href="#コンテナを削除する">コンテナを削除する</a></li>
        <li><a href="#索引を作成する">索引を作成する</a></li>
        <li><a href="#その他">その他</a></li>
      </ul>
    </li>
    <li><a href="#プログラミングの応用">プログラミングの応用</a>
      <ul>
        <li><a href="#時系列データを扱う">時系列データを扱う</a></li>
        <li><a href="#配列型のデータを扱う">配列型のデータを扱う</a></li>
        <li><a href="#空間型のデータを扱う">空間型のデータを扱う</a></li>
        <li><a href="#コンテナ情報を取得する">コンテナ情報を取得する</a></li>
        <li><a href="#複合ロウキーを扱う">複合ロウキーを扱う</a></li>
      </ul>
    </li>
    <li><a href="#----c-api-nosqlインタフェース----">&mdash; C API (NoSQLインタフェース) &mdash;</a></li>
    <li><a href="#c-apiを利用したアプリケーションの開発linux">C APIを利用したアプリケーションの開発(Linux)</a>
      <ul>
        <li><a href="#開発実行環境の構築-1">開発実行環境の構築</a></li>
        <li><a href="#プログラムのビルド方法">プログラムのビルド方法</a></li>
      </ul>
    </li>
    <li><a href="#c-apiを利用したアプリケーションの開発windows">C APIを利用したアプリケーションの開発(Windows)</a>
      <ul>
        <li><a href="#開発実行環境の構築-2">開発実行環境の構築</a></li>
        <li><a href="#プログラムのビルド方法-1">プログラムのビルド方法</a></li>
      </ul>
    </li>
    <li><a href="#プログラミングの基礎-1">プログラミングの基礎</a>
      <ul>
        <li><a href="#クラスタに接続する-1">クラスタに接続する</a></li>
        <li><a href="#コンテナを作成する-1">コンテナを作成する</a></li>
        <li><a href="#コンテナを取得する-1">コンテナを取得する</a></li>
        <li><a href="#データを登録する-1">データを登録する</a></li>
        <li><a href="#データを取得する-1">データを取得する</a></li>
        <li><a href="#tqlを実行する-1">TQLを実行する</a></li>
        <li><a href="#複数のコンテナに対して一括で操作を行う-1">複数のコンテナに対して一括で操作を行う</a></li>
        <li><a href="#バイナリデータを扱う-1">バイナリデータを扱う</a></li>
        <li><a href="#データを更新する-1">データを更新する</a></li>
        <li><a href="#データを削除する-1">データを削除する</a></li>
        <li><a href="#コンテナを削除する-1">コンテナを削除する</a></li>
        <li><a href="#索引を作成する-1">索引を作成する</a></li>
        <li><a href="#その他-1">その他</a></li>
      </ul>
    </li>
    <li><a href="#プログラミングの応用-1">プログラミングの応用</a>
      <ul>
        <li><a href="#時系列データを扱う-1">時系列データを扱う</a></li>
        <li><a href="#配列型のデータを扱う-1">配列型のデータを扱う</a></li>
        <li><a href="#空間型のデータを扱う-1">空間型のデータを扱う</a></li>
        <li><a href="#コンテナ情報を取得する-1">コンテナ情報を取得する</a></li>
        <li><a href="#複合ロウキーを扱う-1">複合ロウキーを扱う</a></li>
      </ul>
    </li>
    <li><a href="#----jdbc-newsqlインタフェース----">&mdash; JDBC (NewSQLインタフェース) &mdash;</a></li>
    <li><a href="#jdbcを利用したアプリケーションの開発">JDBCを利用したアプリケーションの開発</a>
      <ul>
        <li><a href="#開発実行環境の構築-3">開発実行環境の構築</a></li>
        <li><a href="#ログ機能">ログ機能</a></li>
        <li><a href="#サンプルプログラムの実行-1">サンプルプログラムの実行</a></li>
      </ul>
    </li>
    <li><a href="#プログラミングの基礎-2">プログラミングの基礎</a>
      <ul>
        <li><a href="#クラスタに接続する-2">クラスタに接続する</a></li>
        <li><a href="#トランザクション制御">トランザクション制御</a></li>
        <li><a href="#sqlを実行するコンテナ作成とロウ登録">SQLを実行する（コンテナ作成とロウ登録）</a></li>
        <li><a href="#sqlを実行する検索">SQLを実行する（検索）</a></li>
        <li><a href="#プリペアードステートメントを実行する">プリペアードステートメントを実行する</a></li>
        <li><a href="#バイナリデータを扱う-2">バイナリデータを扱う</a></li>
        <li><a href="#メタデータを取得する">メタデータを取得する</a></li>
        <li><a href="#jdbcではサポートしていないデータ型を持つコンテナを扱う">JDBCではサポートしていないデータ型を持つコンテナを扱う</a></li>
      </ul>
    </li>
    <li><a href="#----付録----">&mdash; 付録 &mdash;</a></li>
    <li><a href="#apiのサポート範囲の機能詳細">APIのサポート範囲の機能詳細</a>
      <ul>
        <li><a href="#接続機能">接続機能</a></li>
        <li><a href="#コンテナの機能">コンテナの機能</a></li>
        <li><a href="#パーティショニングコンテナの機能">パーティショニングコンテナの機能</a></li>
        <li><a href="#その他の機能">その他の機能</a></li>
      </ul>
    </li>
    <li><a href="#java-apiのプロパティの外部ファイル指定方法">Java APIのプロパティの外部ファイル指定方法</a>
      <ul>
        <li><a href="#javaのpropertiesのファイル読み込みを使用する">JavaのPropertiesのファイル読み込みを使用する</a></li>
        <li><a href="#java-apiのクライアント設定ファイル読み込み機能を使用する">Java APIの「クライアント設定ファイル読み込み機能」を使用する</a></li>
      </ul>
    </li>
    <li><a href="#nosqlインタフェースを利用する際のヒント">NoSQLインタフェースを利用する際のヒント</a>
      <ul>
        <li><a href="#既に存在するコンテナと同じ名前でコンテナを作成した場合はどうなるのか">既に存在するコンテナと同じ名前でコンテナを作成した場合はどうなるのか？</a></li>
        <li><a href="#既に存在するロウのロウキーと同じ値でロウ登録した場合はどうなるのか">既に存在するロウのロウキーと同じ値でロウ登録した場合はどうなるのか？</a></li>
        <li><a href="#登録先のコンテナの定義と異なるロウを登録した場合はどうなるのか">登録先のコンテナの定義と異なるロウを登録した場合はどうなるのか？</a></li>
        <li><a href="#複数ロウの登録中に異常が発生した場合はどうなるのか">複数ロウの登録中に異常が発生した場合はどうなるのか？</a></li>
        <li><a href="#時系列コンテナ作成時の注意点">時系列コンテナ作成時の注意点</a></li>
        <li><a href="#時系列データの最新または最古のロウ1件を取得する方法">時系列データの最新または最古のロウ1件を取得する方法</a></li>
      </ul>
    </li>
    <li><a href="#日付時刻機能を利用する上でのアプリ向けの推奨事項">日付時刻機能を利用する上でのアプリ向けの推奨事項</a></li>
  </ul>
</nav></div>



            

	
		
			
				
			
			



  
  

		
			
				
			
			



  
  

		
	

          </aside>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="https://gahoh.github.io/docsy-example/ja/docs/">Documentation</a>
  </li>
  <li class="breadcrumb-item active" aria-current="page">
    <a href="https://gahoh.github.io/docsy-example/ja/docs/10.md_programming_guide/md_programming_guide/">プログラミングガイド</a>
  </li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>プログラミングガイド</h1>
	<div class="lead">JavaやC言語のAPIの使用方法や、データ登録や検索などのプログラム例を説明したマニュアルです</div>
	<header class="article-meta">
		

  
    
      


    
      


    
  

		
	</header>    
	<h2 id="----はじめに---">&mdash; はじめに&mdash;</h2>
<p><strong>本書では、GridDBのアプリケーションプログラミングについて説明します。</strong></p>
<p>本書は、GridDBを用いたシステム設計・開発を行う設計・開発者の方を対象としています。</p>
<p>本書は、以下のような構成となっています。</p>
<ul>
<li>
<p>概要</p>
<ul>
<li>開発言語やNoSQL/NewSQLインタフェース、サポート範囲について説明します。</li>
</ul>
</li>
<li>
<p>Java API (NoSQLインタフェース)</p>
<ul>
<li>NoSQLインタフェースのJavaのプログラミングについて説明します。</li>
</ul>
</li>
<li>
<p>C API (NoSQLインタフェース)</p>
<ul>
<li>NoSQLインタフェースのCのプログラミングについて説明します。</li>
</ul>
</li>
<li>
<p>JDBC (NewSQLインタフェース)</p>
<ul>
<li>NewSQLインタフェースのJavaのプログラミングについて説明します。</li>
</ul>
</li>
</ul>
<h2 id="-----概要----">&mdash;  概要 &mdash;</h2>
<h2 id="開発言語">開発言語</h2>
<p>GridDBのアプリケーションプログラミングインタフェースには、
基本的なデータアクセスとTQLの実行ができるNoSQLインタフェースと、
SQL92に準拠したSQLを実行できるNewSQLインタフェースの2種類があります。</p>
<p>NoSQLインタフェースは、NewSQLインタフェースに比べてSQLの処理部を介さないためデータ登録や検索の処理が高速に行えます。
一方、NewSQLインタフェースは、
SQLを用いたデータ分析やBI(Business Intelligence)やETL(Extract Transfer Load)ツールからのアクセスなどができます。</p>
<figure>
  <img src="img/API.png" width="500" alt="NoSQLインタフェースとNewSQLインタフェース"/>
  <figcaption>NoSQLインタフェースとNewSQLインタフェース</figcaption>
</figure>
<table>
<thead>
<tr>
<th>I/F</th>
<th>特長</th>
<th>開発言語</th>
<th>API名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>NoSQLインタフェース</td>
<td>- 基本的なデータアクセスとTQLの実行<br>- 独自のAPI<br>- データ登録や検索の処理が高速</td>
<td>Java<br>C<br>Python<br>Node.js<br>Go</td>
<td>Java API<br>C API<br>Python API<br>Node.js API<br>Go API</td>
</tr>
<tr>
<td>NewSQLインタフェース</td>
<td>- SQL92に準拠したSQLの実行<br>- 標準仕様に準拠したAPI<br>- SQLの並列分散処理</td>
<td>Java<br>C</td>
<td>JDBC<br>ODBC(*1)</td>
</tr>
</tbody>
</table>
<p>(*1) ODBCはBIツールなどのシステムとの連携で使用します。</p>
<p>[メモ]</p>
<ul>
<li>NoSQLインタフェースで作成したコンテナと、NewSQLインタフェースで作成したコンテナに違いはありません。
どちらのインタフェースで作成したコンテナでも、両方のインタフェースからアクセスできます。</li>
<li>NewSQLインタフェースで作成したコンテナに対して「テーブル」という名称を使う場合がありますが、コンテナとテーブルは同じ意味を表します。</li>
</ul>
<h2 id="サポート範囲">サポート範囲</h2>
<p>NoSQLインタフェースとNewSQLインタフェースでは、サポートしている機能やデータ型の範囲が異なります。
本節では、各インタフェースのサポート範囲について説明します。
サポート範囲の詳細は、「付録」をご参照ください。</p>
<h3 id="データ型">データ型</h3>
<p>GridDBのデータ型には、基本型と複合型の2種類のデータ型があります。それぞれのサポート範囲を以下に示します。</p>
<p><strong>基本型のサポート</strong></p>
<table>
<thead>
<tr>
<th>GridDBのデータ型</th>
<th>NoSQLインタフェース</th>
<th>NewSQLインタフェース</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL型</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>STRING型</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>BYTE型</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>SHORT型</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>INTEGER型</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>LONG型</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>FLOAT型</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>DOUBLE型</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>TIMESTAMP型</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>GEOMETRY型</td>
<td>○</td>
<td>×</td>
</tr>
<tr>
<td>BLOB型</td>
<td>○</td>
<td>△</td>
</tr>
</tbody>
</table>
<p>(※ ○：サポート、△：一部サポート、×：未サポート)</p>
<p><strong>複合型のサポート</strong></p>
<table>
<thead>
<tr>
<th>GridDBのデータ型</th>
<th>NoSQLインタフェース</th>
<th>NewSQLインタフェース</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL配列型</td>
<td>○</td>
<td>×</td>
</tr>
<tr>
<td>STRING配列型</td>
<td>○</td>
<td>×</td>
</tr>
<tr>
<td>BYTE配列型</td>
<td>○</td>
<td>×</td>
</tr>
<tr>
<td>SHORT配列型</td>
<td>○</td>
<td>×</td>
</tr>
<tr>
<td>INTEGER配列型</td>
<td>○</td>
<td>×</td>
</tr>
<tr>
<td>LONG配列型</td>
<td>○</td>
<td>×</td>
</tr>
<tr>
<td>FLOAT配列型</td>
<td>○</td>
<td>×</td>
</tr>
<tr>
<td>DOUBLE配列型</td>
<td>○</td>
<td>×</td>
</tr>
<tr>
<td>TIMESTAMP配列型</td>
<td>○</td>
<td>×</td>
</tr>
</tbody>
</table>
<p>(※ ○：サポート、×：未サポート)</p>
<h3 id="機能">機能</h3>
<p>GridDBの主な機能についてのサポート範囲を以下に示します。</p>
<p><strong>基本機能のサポート</strong></p>
<table>
<thead>
<tr>
<th>GridDBの機能</th>
<th>NoSQLインタフェース</th>
<th>NewSQLインタフェース</th>
</tr>
</thead>
<tbody>
<tr>
<td>クラスタへの接続</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>コンテナ作成/削除</td>
<td>○</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>ロウ登録/削除</td>
<td>○</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>TQL実行</td>
<td>○</td>
<td>×</td>
</tr>
<tr>
<td>SQL実行</td>
<td>×</td>
<td>○</td>
</tr>
<tr>
<td>コミット/ロールバック</td>
<td>○</td>
<td>× 自動コミットのみ</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>索引作成/削除</td>
<td>○</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>コンテナ名一覧の取得</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>カラム情報の取得</td>
<td>○</td>
<td>○</td>
</tr>
</tbody>
</table>
<p>※ ○：サポート、○(SQL)：SQLによるサポート、×：未サポート</p>
<p><strong>拡張機能のサポート</strong></p>
<table>
<thead>
<tr>
<th>GridDBの機能</th>
<th>NoSQLインタフェース</th>
<th>NewSQLインタフェース</th>
</tr>
</thead>
<tbody>
<tr>
<td>アフィニティ設定</td>
<td>○</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>パーティションコンテナ作成</td>
<td>×</td>
<td>○(SQL)</td>
</tr>
</tbody>
</table>
<p>※ ○：サポート、△：一部サポート、×：未サポート</p>
<h2 id="----java-api-nosqlインタフェース----">&mdash; Java API (NoSQLインタフェース) &mdash;</h2>
<h2 id="java-apiを利用したアプリケーションの開発">Java APIを利用したアプリケーションの開発</h2>
<h3 id="開発実行環境の構築">開発実行環境の構築</h3>
<p>Java APIのアプリケーションを開発するには、以下のパッケージをインストールする必要があります。</p>
<table>
<thead>
<tr>
<th>パッケージ名</th>
<th>ファイル名</th>
<th>内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>griddb-ee-java-lib</td>
<td>・griddb-ee-java-lib-X.X.X-linux.x86_64.rpm<br>・griddb-ee-java-lib_X.X.X_amd64.deb</td>
<td>Java APIのライブラリ(gridstore.jar, gridstore-conf.jar, gridstore-advanced.jar, gridstore-jdbc.jar)が含まれます</td>
</tr>
</tbody>
</table>
<p>※: X.X.XはGridDBのバージョン</p>
<p>アプリケーションの開発や実行を行う際には、以下のライブラリをクラスパスに指定してください。</p>
<ul>
<li>/usr/share/java/gridstore.jar</li>
</ul>
<p>また、SSL機能を利用してGridDBクラスタとクライアントの通信を保護する場合には、以下のライブラリも追加でクラスパスに指定してください。</p>
<ul>
<li>/usr/share/java/gridstore-advanced.jar</li>
</ul>
<h3 id="サンプルプログラムの実行">サンプルプログラムの実行</h3>
<p>サンプルプログラムのコンパイルと実行方法を説明します。</p>
<p>コンパイルと実行の際には、クラスパスにライブラリgridstore.jarを設定します。必要に応じてロギングなどのライブラリも設定してください。</p>
<ul>
<li>
<p>例) Sample.javaのコンパイルと実行の例</p>
<pre tabindex="0"><code>$ javac -classpath &#34;/usr/share/java/gridstore.jar:.&#34; Sample.java
$ java -classpath &#34;/usr/share/java/gridstore.jar:.&#34; Sample
</code></pre></li>
</ul>
<p>サンプルプログラム一覧</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>プログラム名</th>
<th>内容</th>
<th>作成するコンテナ名</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#java_connect">クラスタに接続する</a></td>
<td>Connect.java</td>
<td>マルチキャスト方式でクラスタに接続して切断します。</td>
<td>-</td>
</tr>
<tr>
<td><a href="#java_create_collection_by_method">コレクションを作成する(メソッド)</a></td>
<td>CreateCollectionByMethod.java</td>
<td>メソッドでスキーマを指定する方法を用いて、コレクションを作成します。</td>
<td>SampleJava_collection1</td>
</tr>
<tr>
<td><a href="#java_create_collection_by_class">コレクションを作成する(クラス定義)</a></td>
<td>CreateCollectionByClass.java</td>
<td>クラス定義でスキーマを指定する方法を用いて、コレクションを作成します。</td>
<td>SampleJava_collection2</td>
</tr>
<tr>
<td><a href="#java_create_container_by_method">時系列コンテナを作成する(メソッド)</a></td>
<td>CreateTimeSeriesByMethod.java</td>
<td>メソッドでスキーマを指定する方法を用いて、時系列コンテナを作成します。</td>
<td>SampleJava_timeseries1</td>
</tr>
<tr>
<td><a href="#java_put_row">ロウを登録する</a></td>
<td>PutRow.java</td>
<td>ひとつのコンテナにひとつのロウを登録します。</td>
<td>SampleJava_PutRow</td>
</tr>
<tr>
<td><a href="#java_put_rows">複数のロウを登録する</a></td>
<td>PutRows.java</td>
<td>ひとつのコンテナに複数のロウを登録します。</td>
<td>SampleJava_PutRows</td>
</tr>
<tr>
<td><a href="#java_get_row">ロウを取得する</a></td>
<td>GetRow.java</td>
<td>ロウキーを指定してコンテナからロウを取得します。</td>
<td>SampleJava_GetRow</td>
</tr>
<tr>
<td><a href="#java_tql_select">TQLでロウを検索する</a></td>
<td>TQLSelect.java</td>
<td>TQLのSELECT文でロウを取得します。</td>
<td>SampleJava_TQLSelect</td>
</tr>
<tr>
<td><a href="#java_tql_aggregation">TQLの集計関数を実行する</a></td>
<td>TQLAggregation.java</td>
<td>TQLのSELECT文で集計演算を実行します。</td>
<td>SampleJava_TQLAggregation</td>
</tr>
<tr>
<td><a href="#java_multiput">複数コンテナにロウを登録する</a></td>
<td>MultiPut.java</td>
<td>複数のコンテナにロウを一括で登録します。</td>
<td>SampleJava_MultiPut1, SampleJava_MultiPut2</td>
</tr>
<tr>
<td><a href="#java_multiget">複数コンテナからロウを取得する</a></td>
<td>MultiGet.java</td>
<td>複数のコンテナからロウを一括で取得します。</td>
<td>SampleJava_MultiGet1, SampleJava_MultiGet2</td>
</tr>
<tr>
<td><a href="#java_fetchall">複数コンテナにTQLを実行する</a></td>
<td>FetchAll.java</td>
<td>複数のコンテナにTQLを一括で実行します。</td>
<td>SampleJava_FetchAll1, SampleJava_FetchAll2</td>
</tr>
<tr>
<td><a href="#java_binary">バイナリデータを登録・検索する</a></td>
<td>BlobData.java</td>
<td>バイナリデータをコンテナに登録して、コンテナから取得します。</td>
<td>SampleJava_BlobData</td>
</tr>
<tr>
<td><a href="#java_update">ロウを更新する</a></td>
<td>UpdateRowByTQL.java</td>
<td>TQLで取得したRowSetを用いて、ロウを更新します。</td>
<td>SampleJava_UpdateRowByTQL</td>
</tr>
<tr>
<td><a href="#java_remove_row">ロウを削除する(ロウキー)</a></td>
<td>RemoveRowByRowkey.java</td>
<td>ロウキーを指定してロウを削除します。</td>
<td>SampleJava_RemoveRowByRowkey</td>
</tr>
<tr>
<td><a href="#java_remove_rowset">ロウを削除する(TQL)</a></td>
<td>RemoveRowByTQL.java</td>
<td>TQLで検索したロウを削除します。</td>
<td>SampleJava_RemoveRowByTQL</td>
</tr>
<tr>
<td><a href="#java_create_index">索引を作成する</a></td>
<td>CreateIndex.java</td>
<td>索引を作成します。</td>
<td>SampleJava_Index</td>
</tr>
<tr>
<td><a href="#java_timeseries_function">時系列の演算を行う</a></td>
<td>TQLTimeseries.java</td>
<td>時系列データに対して様々な演算を行います。</td>
<td>SampleJava_TQLTimeseries</td>
</tr>
<tr>
<td><a href="#java_arraydata">配列型のデータを扱う</a></td>
<td>ArrayData.java</td>
<td>配列型のデータの登録と検索を行います。</td>
<td>SampleJava_ArrayData</td>
</tr>
<tr>
<td><a href="#java_geometry_data">空間型のデータを扱う</a></td>
<td>GeometryData.java</td>
<td>空間型のデータの登録と検索を行います。</td>
<td>SampleJava_GeometryData</td>
</tr>
<tr>
<td><a href="#java_containernames">コンテナ名一覧を取得する</a></td>
<td>ContainerNames.java</td>
<td>コンテナ名の一覧を取得します。</td>
<td>－</td>
</tr>
<tr>
<td><a href="#java_containerinfo">コンテナのスキーマ情報を取得する</a></td>
<td>ContainerInformation.java</td>
<td>コンテナのスキーマ情報を取得します。</td>
<td>SampleJava_Info</td>
</tr>
<tr>
<td><a href="#java_compositekey">複合ロウキーを使って複数コンテナからロウを取得する</a></td>
<td>CompositeKeyMultiGet.java</td>
<td>複合ロウキーを使って複数のコンテナからロウを一括で取得します。</td>
<td>SampleJava_CompositeKeyMultiGet1, SampleJava_CompositeKeyMultiGet2</td>
</tr>
</tbody>
</table>
<h2 id="プログラミングの基礎">プログラミングの基礎</h2>
<p>Java APIを用いた基礎的なプログラミングを説明します。</p>
<p><a id="java_connect"></a></p>
<h3 id="クラスタに接続する">クラスタに接続する</h3>
<p>データの登録や検索などの操作を行うためには、クラスタに接続する必要があります。接続処理では以下のメソッドを用います。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>GridStoreFactoryインスタンス取得</td>
<td>GridStoreFactory GridStoreFactory.getInstance()</td>
</tr>
<tr>
<td>GridStoreインスタンス取得</td>
<td>GridStore GridStoreFactory.getGridStore(java.util.Properties properties)</td>
</tr>
</tbody>
</table>
<p>クラスタへの接続を行うプログラムの例を以下に示します。</p>
<!-- Connect.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Properties</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStore</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">Connect</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">try</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// クラスタに接続する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//(1)接続情報を指定する (マルチキャスト方式)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJava&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//(2)GridStoreオブジェクトを生成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">GridStore</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getGridStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//(3)コンテナ作成や取得などの操作を行うと、クラスタに接続される
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;dummyContainer&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Connect to cluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// 終了処理
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// (4)接続をクローズする
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">catch</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">Exception</span> <span style="color:#000">e</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">e</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStackTrace</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>接続処理の部分を説明します。</p>
<p>(1)クラスタのアドレスやユーザ、パスワードなどの接続情報をJavaのプロパティクラスに指定します。</p>
<p>(2)接続情報のプロパティを基に、GridStoreオブジェクトを生成します。</p>
<p>(3)GridStoreオブジェクトを用いてコンテナ作成や取得などの操作を行うと、GridDBクラスタへの接続処理が行われます。</p>
<p>(4)クローズで切断します。</p>
<h4 id="接続方式">接続方式</h4>
<p>クラスタには、マルチキャスト方式、固定リスト方式、プロバイダ方式の3種類の接続方式があります。</p>
<table>
<thead>
<tr>
<th>接続方式</th>
<th>内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>マルチキャスト方式</td>
<td>マルチキャスト通信を用いた方式</td>
</tr>
<tr>
<td>固定リスト方式</td>
<td>クラスタを構成する全ノードのアドレスを直接指定する方式</td>
</tr>
<tr>
<td>プロバイダ方式</td>
<td>クラスタを構成する全ノードのアドレスをプロバイダを用いて提供する方式</td>
</tr>
</tbody>
</table>
<p>アプリケーションからクラスタに接続する際には、クラスタ定義ファイルgs_cluster.jsonで定義されている接続方式に合わせて、アプリケーション側の設定を行う必要があります。</p>
<p>まずはクラスタ定義ファイルgs_cluster.jsonを参照し、使用されている接続方式を確認してください。次に接続方式に基づいて、対応する値をPropertiesオブジェクトに設定してください。</p>
<table>
<thead>
<tr>
<th>接続方式</th>
<th>アプリケーションで指定する<br>プロパティのキー</th>
<th>内容</th>
<th>指定する値</th>
</tr>
</thead>
<tbody>
<tr>
<td>マルチキャスト方式</td>
<td>notificationAddress<br><br>notificationPort</td>
<td>マルチキャストのアドレス<br><br>マルチキャストのポート番号</td>
<td>/transaction/notificationAddressの値<br><br>/transaction/notificationPortの値</td>
</tr>
<tr>
<td>固定リスト方式</td>
<td>notificationMember</td>
<td>クラスタを構成するノードのアドレスとポート番号のリスト</td>
<td>/cluster/notificationMemberの/transaction/addressと/transaction/portをリスト形式にした値</td>
</tr>
<tr>
<td>プロバイダ方式</td>
<td>notificationProvider</td>
<td>プロバイダのURL</td>
<td>/cluster/notificationProvider/urlの値</td>
</tr>
</tbody>
</table>
<p>3つの接続方式について、クラスタ定義ファイルgs_cluster.jsonの記述内容と対応する接続プログラムの例を示します。</p>
<p><strong>マルチキャスト方式の例</strong></p>
<ul>
<li>
<p>gs_cluster.jsonの記述(一部抜粋)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;transaction&#34;</span><span style="color:#000;font-weight:bold">:{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;notificationAddress&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;notificationInterval&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;1s&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;notificationPort&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">31999</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
<li>
<p>接続プログラムのGridStoreプロパティキーnotificationAddressとnotificationPortには、マルチキャストアドレスとポート番号を記述します。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJava&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div></li>
</ul>
<p><strong>固定リスト方式の例</strong></p>
<ul>
<li>
<p>gs_cluster.jsonの記述(一部抜粋)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;replicationNum&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;notificationMember&#34;</span><span style="color:#000;font-weight:bold">:[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.10&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10010</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;sync&#34;</span><span style="color:#000;font-weight:bold">:</span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.10&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10020</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;system&#34;</span><span style="color:#000;font-weight:bold">:</span>  <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.10&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10040</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;transaction&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.10&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10001</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.11&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10010</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;sync&#34;</span><span style="color:#000;font-weight:bold">:</span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.11&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10020</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;system&#34;</span><span style="color:#000;font-weight:bold">:</span>  <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.11&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10040</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;transaction&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.11&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10001</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.12&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10010</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;sync&#34;</span><span style="color:#000;font-weight:bold">:</span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.12&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10020</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;system&#34;</span><span style="color:#000;font-weight:bold">:</span>  <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.12&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10040</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;transaction&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.12&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10001</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
<li>
<p>接続プログラムのGridStoreプロパティキーnotificationMemberには、アドレスとポート番号を:で連結してカンマで区切った値を記述します。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationMember&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;192.168.1.10:10001,192.168.1.11:10001,192.168.1.12:10001&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJava&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div></li>
</ul>
<p><strong>プロバイダ方式の例</strong></p>
<ul>
<li>
<p>gs_cluster.jsonの記述(一部抜粋)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;replicationNum&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;notificationProvider&#34;</span><span style="color:#000;font-weight:bold">:{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;url&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;http://example.com/notification/provider&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;updateInterval&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;30s&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
<li>
<p>接続プログラムのGridStoreプロパティキーnotificationProviderにはurlの値を記述します。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationProvider&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;http://example.com/notification/provider&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJava&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div></li>
</ul>
<h4 id="プロパティ">プロパティ</h4>
<p>接続方式以外の主なプロパティは以下の項目です。
その他のプロパティの詳細は、『<a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java APIリファレンス</a>』の「GridStoreFactory.getGridStore(java.util.Properties properties)」をご参照ください。</p>
<table>
<thead>
<tr>
<th>項目</th>
<th>プロパティのキー</th>
<th>必須</th>
<th>指定する値</th>
</tr>
</thead>
<tbody>
<tr>
<td>クラスタ名</td>
<td>clusterName</td>
<td>必須</td>
<td>gs_cluster.jsonの/cluster/clusterNameに記載している値</td>
</tr>
<tr>
<td>データベース名</td>
<td>database</td>
<td>publicデータベースに接続する場合は省略可<br>それ以外は必須</td>
<td>接続するデータベース名</td>
</tr>
<tr>
<td>ユーザ名</td>
<td>user</td>
<td>必須</td>
<td>接続するユーザ名(管理ユーザ・一般ユーザどちらも可)</td>
</tr>
<tr>
<td>パスワード</td>
<td>password</td>
<td>必須</td>
<td>接続するユーザのパスワード</td>
</tr>
<tr>
<td>アプリケーション名</td>
<td>applicationName</td>
<td>省略可</td>
<td>アプリケーションを識別するための名前<br>(運用ツールgs_shでコネクション情報や実行中イベントを確認する時に表示されます)</td>
</tr>
<tr>
<td>タイムゾーン</td>
<td>timeZone</td>
<td>省略可</td>
<td>時分で指定：±hh:mm または ±hhmm <br> タイムゾーンID：「Z」のみサポート<br>上位(JavaVM)の環境引継ぎ：auto<br>※省略時は「Z」相当</td>
</tr>
<tr>
<td>認証方式</td>
<td>authentication</td>
<td>省略可</td>
<td>認証方式として、INTERNAL(内部認証) / LDAP(LDAP認証)のいずれかを指定<br>※省略時は自動的に認証方式を選択</td>
</tr>
<tr>
<td>SSL通信</td>
<td>sslMode</td>
<td>省略可</td>
<td>以下のいずれかを指定 <br> ・PREFERRED(クラスタ設定に従う)  <br> ・VERIFY(SSL有効、サーバ証明書検証実施)  <br>   ・DISABLED(無効)<br>※省略時はPREFERRED</td>
</tr>
<tr>
<td>マルチキャストパケットを受信するインターフェースアドレス</td>
<td>notificationInterfaceAddress</td>
<td>省略可</td>
<td>複数のネットワークインターフェースがあるときにクラスタのネットワーク構成をマルチキャスト方式にする場合は、マルチキャストパケットを受信するインターフェースのIPアドレスを指定</td>
</tr>
<tr>
<td>フェイルオーバタイムアウト</td>
<td>failoverTimeout</td>
<td>省略可</td>
<td>クライアントフェイルオーバのタイムアウト時間（秒）<br>※省略時はGridStoreFactoryの設定値に従う</td>
</tr>
<tr>
<td>トランザクションタイムアウト</td>
<td>transactionTimeout</td>
<td>省略可</td>
<td>トランザクションのタイムアウト時間（秒）<br>※省略時は300(秒)</td>
</tr>
</tbody>
</table>
<p>[メモ]</p>
<ul>
<li>
<p>上記以外に、GridStoreFactoryに設定可能な以下のプロパティがあります。詳細は、『<a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java APIリファレンス</a>』の「GridStoreFactory.setProperties(java.util.Properties properties)」をご参照ください。</p>
<table>
<thead>
<tr>
<th>項目</th>
<th>プロパティのキー</th>
<th>必須</th>
<th>指定する値</th>
</tr>
</thead>
<tbody>
<tr>
<td>フェイルオーバタイムアウト</td>
<td>failoverTimeout</td>
<td>省略可</td>
<td>クライアントフェイルオーバのタイムアウト時間（秒）<br>※省略時は120(秒)</td>
</tr>
<tr>
<td>最大接続プールサイズ</td>
<td>maxConnectionPoolSize</td>
<td>省略可</td>
<td>接続プールで保持する最大接続数<br>※省略時は16</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>接続時にデータベースを指定します。その接続では、指定したデータベース上のデータにしかアクセスできません。別のデータベースに対して操作を行う場合には改めて接続処理を行ってください。</p>
<ul>
<li>例) データベースpublicの操作と、データベースuserDB1の操作を行う場合のプログラム</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span> <span style="color:#8f5902;font-style:italic">// データベース以外のプロパティ指定は省略
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span> <span style="color:#8f5902;font-style:italic">// データベースpublicに接続
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span> <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span> <span style="color:#000">GridStore</span> <span style="color:#000">store1</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getGridStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span> <span style="color:#000">store1</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;container1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>  <span style="color:#8f5902;font-style:italic">// データベースpublic上のコンテナcontainer1を取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span> <span style="color:#000">store1</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#8f5902;font-style:italic">// データベースuserDB1に接続
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span> <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;userDB1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span> <span style="color:#000">GridStore</span> <span style="color:#000">store2</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getGridStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span> <span style="color:#000">store2</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;container1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>  <span style="color:#8f5902;font-style:italic">// データベースuserDB1上のコンテナcontainer1を取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span> <span style="color:#000">store2</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span></code></pre></div></li>
<li>
<p>コンテナの取得getContainerを高速化するために、コンテナ情報をキャッシュする機能があります。
アクセスするコンテナ数が多い場合にはキャッシュのサイズを増やすことを推奨します。
キャッシュのサイズは、接続時のプロパティキーで指定します。</p>
<ul>
<li>デフォルトではキャッシュ機能は無効です</li>
<li>プロパティキーcontainerCacheSizeに指定する値は、キャッシュに情報を格納するContainerオブジェクトの数です</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;containerCacheSize&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;10000&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div></li>
<li>
<p>クラスタに実際に接続するのは、GridStoreオブジェクトを生成してから、最初にコンテナ作成や検索などのデータ操作を実施した時です。
接続先の誤りなどで接続が失敗する場合、GridStoreオブジェクトの生成GridStoreFactory.getGridStoreではエラーは発生せず、
次のデータ操作のメソッドで接続エラーが発生します。</p>
</li>
<li>
<p>プロパティは、外部ファイルに記載して指定することもできます。詳細は付録をご参照ください。</p>
</li>
<li>
<p>タイムゾーンでサポートされている範囲は以下になります。</p>
<ul>
<li>オフセット範囲: -23:59～+23:59</li>
<li>夏時間: 非サポート</li>
<li>タイムゾーンID (JSTなど): 「Z」を除き非サポート</li>
</ul>
</li>
<li>
<p>日付時刻機能の中でタイムゾーンを扱う場合には付録の<a href="#date_function">日付時刻機能を利用する上でのアプリ向けの推奨事項</a>をご参照ください。</p>
</li>
<li>
<p>SSL通信設定(sslMode)をVERIFYに設定する場合、GridDBクラスタ側の設定も必要です。詳細は、『<a href="../3.md_reference_feature/md_reference_feature.md">GridDB 機能リファレンス</a>』の「通信の暗号化」を参照してください。また、信頼する認証局の証明書がトラストストアになければ、keytoolコマンドを使ってインポートしてください。必要な場合は、java起動時の引数で、トラストストア(-Djavax.net.ssl.trustStore)、パスワード(-Djavax.net.ssl.trustStorePassword)を指定してください。信頼する認証局の証明書の有効期限切れ確認は未サポートです。</p>
</li>
</ul>
<h3 id="コンテナを作成する">コンテナを作成する</h3>
<p>コンテナを作成します。コンテナには、コレクションと時系列コンテナの2つの種類があります。
コンテナ作成では、カラム名やデータ型などのスキーマを指定する必要があります。
スキーマを指定する方法として、次の2つの方法があります。</p>
<ul>
<li>
<p>メソッドでスキーマを指定する方法</p>
<ul>
<li>Java APIのメソッドを使用して、スキーマを指定します。</li>
</ul>
</li>
<li>
<p>クラス定義でスキーマを指定する方法</p>
<ul>
<li>ユーザが定義したJavaのクラスを使用して、スキーマを指定します。</li>
</ul>
</li>
</ul>
<p>[メモ]</p>
<ul>
<li>コンテナ名で使える文字は、『<a href="../3.md_reference_feature/md_reference_feature.md">GridDB 機能リファレンス</a>』の「名前の制限」を参照してください。</li>
</ul>
<p><a id="java_create_collection_by_method"></a></p>
<h4 id="メソッドでスキーマを指定する方法">メソッドでスキーマを指定する方法</h4>
<p>コンテナのスキーマは、Java APIのメソッドを使用して動的に指定します。
スキーマを表すコンテナ情報クラスContainerInfoやカラム情報クラスColumnInfoを用います。
これらのクラスを用いてコンテナを作成するメソッドは以下の通りです。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>コレクション作成</td>
<td>putCollection(String name, ContainerInfo info, boolean modifiable)</td>
</tr>
<tr>
<td>時系列コンテナ作成</td>
<td>putTimeSeries(String name, ContainerInfo info, boolean modifiable)</td>
</tr>
<tr>
<td>コンテナ(コレクション、または時系列コンテナ)作成</td>
<td>GridStore.putContainer(String name, ContainerInfo info, boolean modifiable)</td>
</tr>
</tbody>
</table>
<p>[メモ]</p>
<ul>
<li>コンテナ作成のメソッドputContainerは、コレクションと時系列コンテナのどちらの種類も作成できます。</li>
<li>既に存在するコンテナと同じ名前を指定した場合、指定したスキーマ定義と既存コンテナのスキーマ定義が
同じであればエラーにはなりません。コンテナ取得getContainerを実行した時と同じ動作になります。</li>
<li>スキーマ定義が異なる場合、引数modifiableにtrueが指定されていると既存のスキーマ定義を変更します。
引数modifiableにfalseが指定されているとエラーになります。modifiableは、既存コンテナのスキーマ変更を許可するかどうかを指定する変数です。
コンテナの新規作成の場合はfalseを指定してください。</li>
</ul>
<h5 id="コレクションを作成する-putcollection">コレクションを作成する putCollection</h5>
<p>コレクション作成putCollectionを用いて、コレクションを作成するプログラムの全体を以下に示します。</p>
<!-- CreateCollectionByMethod.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.ArrayList</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.List</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Properties</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Collection</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.ContainerInfo</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GSType</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStore</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Row</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">CreateCollectionByMethod</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">try</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// クラスタに接続する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// 接続情報を指定する (マルチキャスト方式)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJava&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// GridStoreオブジェクトを生成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">GridStore</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getGridStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// コンテナ作成や取得などの操作を行うと、クラスタに接続される
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;dummyContainer&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// コレクションを作成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// (1)コンテナ情報オブジェクトを生成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">ContainerInfo</span> <span style="color:#000">containerInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ContainerInfo</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (2)カラムの名前やデータ型をカラム情報オブジェクトにセット
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">columnList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;id&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">INTEGER</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;productName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">STRING</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">INTEGER</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (3)カラム情報をコンテナ情報オブジェクトに設定
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setColumnInfoList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (4)ロウキーありの場合は設定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setRowKeyAssigned</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (5)コレクション作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">Collection</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Void</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">collection</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putCollection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_collection1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Create Collection name=SampleJava_collection1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// 終了処理
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">collection</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">catch</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">Exception</span> <span style="color:#000">e</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">e</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStackTrace</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>コレクションを作成する箇所を説明します。
(2)カラム名やデータ型は、カラム情報ColumnInfoに指定します。
複数のカラムがある場合は、ColumnInfoを複数生成します。
(3)ColumnInfoはリストオブジェクトに格納して、コンテナ情報ContainerInfoにセットします。
(5)この情報を用いて、putCollectionでコレクションを作成します。</p>
<p>[メモ]</p>
<ul>
<li>
<p>setRowKeyAssignedでロウキーを設定すると、一番目のカラムがロウキーになります。</p>
</li>
<li>
<p>putCollectionの戻り値はCollection&lt;K, R&gt;です。
総称型&lt;K, R&gt;は、&lt;ロウキーのデータ型, Row型&gt;として返されます。
ロウキーのデータ型は、ロウキーが無いコレクションの場合はVoid型、またはワイルドカード型”?&ldquo;を指定します。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">Collection</span><span style="color:#ce5c00;font-weight:bold">&lt;?,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">collection</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putCollection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;collectionNotRowkey&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div></li>
</ul>
<p><a id="java_create_container_by_method"></a></p>
<h5 id="時系列コンテナを作成する-puttimeseries">時系列コンテナを作成する putTimeSeries</h5>
<p>時系列コンテナ作成putTimeseries用いて、時系列コンテナを作成します。
プログラム全体の流れはコレクションの作成と同様ですので、異なる部分のプログラムのみを示します。</p>
<!-- CreateTimeSeriesByMethod.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 時系列コンテナ作成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)コンテナ情報オブジェクトを生成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ContainerInfo</span> <span style="color:#000">containerInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ContainerInfo</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)カラムの名前やデータ型をカラム情報オブジェクトにセット
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">columnList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;date&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">TIMESTAMP</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;value&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">DOUBLE</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setColumnInfoList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)ロウキーを設定 (時系列コンテナはロウキーの設定が必須)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setRowKeyAssigned</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)時系列コンテナ作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">TimeSeries</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">timeseries</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putTimeSeries</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_timeseries1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Create TimeSeries name=SampleJava_timeseries1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>[メモ]</p>
<ul>
<li>時系列コンテナの場合は、第一カラムはTIMESTAMP型のデータ型で、かつ、ロウキーの設定が必要です。</li>
<li>putTimeseriesの戻り値はTimeseries<R>です。総称型<R>は、&lt;Row型&gt;として返されます。</li>
<li>時系列コンテナ特有の設定は、TimeseriesPropertiesオブジェクトを用います。</li>
</ul>
<h5 id="コンテナを作成する-putcontainer">コンテナを作成する putContainer</h5>
<p>コンテナ作成putContainerメソッドは、コレクションと時系列コンテナのどちらでも作成することができます。
コレクションと時系列コンテナの種別は、ContainerInfo.setTypeで指定します。</p>
<ul>
<li>
<p>コレクションの作成方法</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// カラム情報の指定は省略
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コンテナ種別を指定
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setType</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ContainerType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">COLLECTION</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コレクション作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;?,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">collection</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;collection3&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><pre tabindex="0"><code></code></pre></li>
<li>
<p>時系列コンテナの作成方法</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// カラム情報の指定は省略
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コンテナ種別を指定
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setType</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ContainerType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">TIME_SERIES</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 時系列コンテナ作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;?,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">timeseries</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;timeseries3&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><pre tabindex="0"><code></code></pre></li>
</ul>
<p><a id="java_create_collection_by_class"></a></p>
<h4 id="クラス定義でスキーマを指定する方法">クラス定義でスキーマを指定する方法</h4>
<p>Javaのクラス定義を用いて、コンテナのスキーマを指定します。
Javaのクラス変数が、GridDBのコンテナのカラムに対応付けされます。</p>
<p>例) 以下のようにJavaのクラスを定義した場合の対応付け</p>
<ul>
<li>
<p>クラス変数とカラムの対応付け</p>
<ul>
<li>変数 int id　　　→ カラム 名前id、データ型Integer型</li>
<li>変数 String productName → カラム 名前productName、データ型String型</li>
<li>変数 int count　　　　　→ カラム 名前count、データ型Integer型</li>
</ul>
<!-- CreateCollectionClass.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">Products</span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#5c35cc;font-weight:bold">@RowKey</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#ce5c00;font-weight:bold">;</span>	<span style="color:#8f5902;font-style:italic">// ロウキーを設定
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">String</span> <span style="color:#000">productName</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div></li>
</ul>
<p>クラス変数の並びと同じ順番で、カラムは作成されます。
データ型の対応付けの詳細は、『<a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java APIリファレンス</a>』の「Interface Container&lt;K,R&gt;」をご参照ください。</p>
<p>Javaのクラス定義を用いた方法では以下のメソッドを使用します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>コレクション作成</td>
<td>putCollection(String name, java.lang.Class<R> rowType)<br>putCollection(String name, java.lang.Class<R> rowType, boolean modifiable)</td>
</tr>
<tr>
<td>時系列コンテナ作成</td>
<td>putTimeSeries(String name, java.lang.Class<R> rowType)<br>putTimeSeries(String name, java.lang.Class<R> rowType, TimeSeriesProperties props, boolean modifiable)</td>
</tr>
<tr>
<td>コンテナ(コレクション、または時系列コンテナ)作成</td>
<td>putContainer(String name, java.lang.Class<R> rowType, ContainerInfo info, boolean modifiable)</td>
</tr>
</tbody>
</table>
<p>コレクション作成putCollectionを用いて、ロウキーありのコレクションを作成するプログラムの全体を以下に示します。(接続と終了処理はこれまでのプログラムと同様です。)</p>
<p>時系列コンテナの作成putTimeseriesとコンテナ作成putContainerの場合も、プログラムの流れは同様です。</p>
<!-- CreateCollectionByClass.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Properties</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Collection</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStore</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.RowKey</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">CreateCollectionByClass</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// コレクションのスキーマ定義用のクラス
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">Product</span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#5c35cc;font-weight:bold">@RowKey</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#ce5c00;font-weight:bold">;</span>	<span style="color:#8f5902;font-style:italic">// ロウキーを設定
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>		<span style="color:#000">String</span> <span style="color:#000">productName</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">try</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// クラスタに接続する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// 接続情報を指定する (マルチキャスト方式)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJava&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// GridStoreオブジェクトを生成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">GridStore</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getGridStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// コンテナ作成や取得などの操作を行うと、クラスタに接続される
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;dummyContainer&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// コレクションを作成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// (1)コレクション作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">Collection</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Product</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">collection</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putCollection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_collection2&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Product</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Create Collection name=SampleJava_collection2&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// 終了処理
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">collection</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">catch</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">Exception</span> <span style="color:#000">e</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">e</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStackTrace</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><ul>
<li>コレクション作成putCollectionでは、Javaのクラスを引数に指定します。</li>
<li>putCollectionの戻り値はCollection&lt;K, R&gt;です。
総称型&lt;K, R&gt;は、&lt;ロウキーのデータ型, Row型&gt;として返されます。
ロウキーのデータ型は、ロウキーが無いコレクションの場合はVoid型、またはワイルドカード型”?&ldquo;を指定します。</li>
<li>Javaのクラス定義では、以下のアノテーションが指定できます。
<ul>
<li>ロウキーは、アノテーション@RowKeyで指定します。</li>
<li>コンテナのカラムとして作成しないクラス変数には、@TransientRowFieldを指定します</li>
<li>クラス変数の名前とは異なるカラム名を指定する場合には、@RowField(name=&ldquo;カラム名&rdquo;)を指定します
<ul>
<li>
<p>カラムの順番を明示的に指定する場合には、@RowField(columnNumber=カラム番号)を指定します（カラム番号は0以上カラム数未満の値）</p>
</li>
<li>
<p>例) クラス定義とアノテーションの例</p>
<ul>
<li>クラス変数commentは、コンテナのカラムには作らない</li>
<li>クラス変数tmpは、変数名をそのままコンテナ名にはしない。別名&quot;value&quot;をつける。</li>
<li>カラムの順番は、id, value, status</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">Data</span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#5c35cc;font-weight:bold">@TransientRowField</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">String</span> <span style="color:#000">comment</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#5c35cc;font-weight:bold">@RowField</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">columnNumber</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">boolean</span> <span style="color:#000">status</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#5c35cc;font-weight:bold">@RowKey</span>
</span></span><span style="display:flex;"><span>	<span style="color:#5c35cc;font-weight:bold">@RowField</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">columnNumber</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#5c35cc;font-weight:bold">@RowField</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">name</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;value&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span><span style="color:#000">columnNumber</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">long</span> <span style="color:#000">tmp</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><pre tabindex="0"><code></code></pre></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>[メモ]</p>
<ul>
<li>既に存在するコンテナと同じ名前を指定した場合、指定したスキーマ定義と既存コンテナのスキーマ定義が
同じであればエラーにはなりません。コンテナの取得getContainerを実行した時と同じ動作になります。</li>
<li>スキーマ定義が異なる場合、引数modifiableにtrueが指定されていると既存のスキーマ定義を変更します。
引数modifiableにfalseが指定されているとエラーになります。modifiableは、既存コンテナのスキーマ変更を許可するかどうかを指定する変数です。
コンテナの新規作成の場合はfalseを指定してください。</li>
</ul>
<h3 id="コンテナを取得する">コンテナを取得する</h3>
<p>コンテナの名前を指定して、コンテナを取得します。
データの登録やTQLなどのロウ操作を行うためには、まずコンテナを取得する必要があります。</p>
<p>コンテナ取得には以下のメソッドがあります。ロウ操作する際のロウのタイプの違いによって2種類に分けられます。</p>
<p><strong>Rowインタフェース</strong></p>
<ul>
<li>コンテナオブジェクトを取得します。取得したコンテナオブジェクトに対しては、com.toshiba.mwcloud.gs.Rowを使ってロウ操作できます。
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>コレクション取得</td>
<td>&lt;K&gt; Collection&lt;K,Row&gt; getCollection(java.lang.String name)</td>
</tr>
<tr>
<td>時系列コンテナ取得</td>
<td>TimeSeries&lt;Row&gt; getTimeSeries(java.lang.String name)</td>
</tr>
<tr>
<td>コンテナ取得</td>
<td>&lt;K&gt; Container&lt;K,Row&gt; getContainer(java.lang.String name)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p><strong>ユーザ定義のクラス</strong></p>
<ul>
<li>コンテナオブジェクトを取得します。取得したコンテナオブジェクトに対しては、ユーザがスキーマとして定義したクラスを使ってロウ操作できます。
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>コレクション取得</td>
<td>&lt;K,R&gt; Collection&lt;K,R&gt; getCollection(java.lang.String name, java.lang.Class&lt;R&gt; rowType)</td>
</tr>
<tr>
<td>時系列コンテナ取得</td>
<td>&lt;R&gt; TimeSeries&lt;R&gt; getTimeSeries(java.lang.String name, java.lang.Class&lt;R&gt; rowType)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>例) コンテナ取得(Rowインタフェースでロウ操作を行う)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コレクション取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Collection</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">collection</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getCollection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;collection1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ロウ(Rowオブジェクト)を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">collection</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>例) コンテナ取得(ユーザ定義のクラスでロウ操作を行う)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">Product</span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">String</span> <span style="color:#000">productName</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 省略
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コレクション取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Collection</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Product</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">collection</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getCollection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;collection1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Product</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ロウ(Productオブジェクト)を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Product</span> <span style="color:#000">product</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">collection</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p><a id="java_put_row"></a></p>
<h3 id="データを登録する">データを登録する</h3>
<p>コンテナにロウを登録する場合は、以下のメソッドを使用します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>ロウ登録</td>
<td>Container.put(R row)</td>
</tr>
</tbody>
</table>
<p>コレクションを作成し、ロウをひとつ登録するプログラムの全体を以下に示します。
(接続と終了処理はこれまでのプログラムと同様です。)</p>
<!-- PutRow.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.ArrayList</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.List</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Properties</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Container</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.ContainerInfo</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GSType</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStore</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Row</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">PutRow</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">try</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// クラスタに接続する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// 接続情報を指定する (マルチキャスト方式)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJava&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// GridStoreオブジェクトを生成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">GridStore</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getGridStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// コンテナ作成や取得などの操作を行うと、クラスタに接続される
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;dummyContainer&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// コレクションを作成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">ContainerInfo</span> <span style="color:#000">containerInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ContainerInfo</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">columnList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;id&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">INTEGER</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;productName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">STRING</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">INTEGER</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setColumnInfoList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setRowKeyAssigned</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">String</span> <span style="color:#000">containerName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SampleJava_PutRow&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putCollection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Create Collection name=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// ロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//(1) Containerオブジェクトの取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;?,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>				<span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//(2) 空のロウオブジェクトの作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRow</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//(3) ロウオブジェクトにカラム値をセット
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;display&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">150</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//(4) ロウの登録
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Put Row num=1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// 終了処理
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">catch</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">Exception</span> <span style="color:#000">e</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">e</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStackTrace</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>ロウを登録する部分を説明します。
(1)ロウを登録するコンテナを取得します。指定した名前のコンテナが存在しない場合はnullが返ります。
(2)コンテナオブジェクトから、空のロウオブジェクトを生成します。
(3)空のロウオブジェクトに、登録するデータをセットします。
(4)コンテナにロウを登録します。</p>
<p>GridDBのデータ型とJavaのデータ型の対応付けは<a href="#java_data_type">データ型の対応付け</a>を参照ください。</p>
<p>[メモ]</p>
<ul>
<li>
<p>ロウキーありのコンテナに対してputする場合、既に存在するロウキーと同じ値のロウを指定すると、既存のロウを更新します。</p>
</li>
<li>
<p>コミットには、自動コミットモードと手動コミットモードの2つの動作モードがあります。</p>
<ul>
<li>
<p>自動コミットモードの場合、putを実行すると自動的にロウがコミットされます。commit()は不要です。</p>
</li>
<li>
<p>手動コミットモードの場合には、明示的にcommit()が必要です。コミットはコンテナ単位です。コンテナをまたがったトランザクション処理はできません。</p>
</li>
<li>
<p>デフォルトは自動コミットモードです。</p>
</li>
<li>
<p>例) 手動コミットモードの場合</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 手動コミットモードの場合
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (ロウオブジェクトの作成は省略)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 手動コミットモードを指定
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setAutoCommit</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ロウ登録
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コミット
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">commit</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span></code></pre></div><pre tabindex="0"><code></code></pre></li>
</ul>
</li>
<li>
<p>ロウオブジェクトにカラム値をセットしなかった場合、カラムの初期値が登録されます。
初期値は、カラムのデータ型によって定義されています。
詳細は『<a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java APIリファレンス</a>』の「Interface Container&lt;K,R&gt;」をご参照ください。</p>
</li>
</ul>
<p><a id="java_put_rows"></a>
<strong>ひとつのコンテナに複数のロウを登録</strong></p>
<p>複数のロウを一度に登録することもできます。以下のメソッドを使用します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>ロウ登録</td>
<td>Container.put(java.util.Collection<R> rowCollection)</td>
</tr>
</tbody>
</table>
<p>putを用いて複数のロウを登録するプログラムを示します。</p>
<!-- PutRows.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)Containerオブジェクトの取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;?,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)複数のロウオブジェクトの作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">nameList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#4e9a06">&#34;notebook PC&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;desktop PC&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;keyboard&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;mouse&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;printer&#34;</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">numberList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">108</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">72</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">25</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">45</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">62</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rowList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">length</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRow</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">numberList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)複数のロウの登録
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Put Rows num=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">length</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>複数のロウオブジェクトを作成してリストにセットします。リストを引数としてputを実行します。</p>
<p>[メモ]</p>
<ul>
<li>ロウキーありのコンテナに対してputする場合、既に存在するロウキーと同じ値のロウを指定すると、既存のロウを更新します。</li>
</ul>
<p><a id="java_get_row"></a></p>
<h3 id="データを取得する">データを取得する</h3>
<p>コンテナからロウを取得します。</p>
<p>ロウキーが設定されているコンテナの場合、ロウキーの値を指定してロウを取得できます。
ロウキーが設定されていない場合は、後述のTQLを利用してロウを取得します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>ロウ取得</td>
<td>Container.get(K key)</td>
</tr>
</tbody>
</table>
<p>ロウキーありのコレクションから、ロウキーの値が&quot;0&quot;のロウを取得するプログラムを以下に示します。</p>
<!-- GetRow.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ロウを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)Containerオブジェクトの取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)ロウキーを指定してロウを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Row not found&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)ロウからカラムの値を取り出す
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Get Row id=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, count=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">count</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>ロウを取得する処理の部分を説明します。
(2)getにロウキーを指定して、コンテナからロウを取得します。
(3)取得したロウからカラム値を取り出すには、カラムのデータ型に合わせたgetメソッドを使用します。</p>
<h3 id="tqlを実行する">TQLを実行する</h3>
<p>TQLを実行します。</p>
<p>TQLの実行では、SELECTの選択式の種類によって、実行結果のクラスや処理方法が異なります。</p>
<table>
<thead>
<tr>
<th>SELECTの選択式の種類</th>
<th>内容</th>
<th>実行結果のクラス型</th>
</tr>
</thead>
<tbody>
<tr>
<td>ロウ(*)</td>
<td>コンテナに格納されているロウを取得します <br>例) SELECT * FROM container1</td>
<td>コンテナのロウオブジェクトの型<br>(Container&lt;K,R&gt;のRの型)</td>
</tr>
<tr>
<td>集計演算(MAX, MIN, COUNTなど)</td>
<td>集計演算の結果を取得します <br>例) SELECT COUNT(*) FROM container1</td>
<td>AggregationResult型</td>
</tr>
</tbody>
</table>
<p>[メモ]</p>
<ul>
<li>
<p>TQLでコンテナやカラムを指定する場合、名前に記号を含む名前はダブルクォーテーションで囲む必要があります。</p>
<pre tabindex="0"><code>select * from &#34;test.container&#34;;
</code></pre></li>
</ul>
<p><a id="java_tql_select"></a></p>
<h4 id="ロウを検索する">ロウを検索する</h4>
<p>ロウの値を検索するTQLを実行する場合は、以下のメソッドを使用します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>クエリ生成</td>
<td>Query&lt;R&gt; Container&lt;K,R&gt;.query(java.lang.String tql)</td>
</tr>
<tr>
<td>クエリ実行</td>
<td>RowSet&lt;R&gt; Query&lt;R&gt;.fetch()</td>
</tr>
</tbody>
</table>
<p>コレクションに対してカラムcountが50以上のロウを検索し、結果をidの昇順でソートして返すTQLのプログラムを示します。</p>
<!-- TQLSelect.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// TQLで検索する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)Containerオブジェクトの取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;?,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)TQLで検索実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * WHERE count &gt;= 50 ORDER BY id&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetch</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)結果をロウで取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;row id=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, count=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">count</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>検索処理の部分を説明します。(2)実行するTQLでクエリオブジェクトを生成し、fetchで検索を実行します。
(3)検索結果を取得します。コンテナのカラムのデータ型に合わせて、getメソッドでロウの値を取得します。</p>
<p><a id="java_tql_aggregation"></a></p>
<h4 id="集計演算を行う">集計演算を行う</h4>
<p>集計演算のTQLを実行する場合は、以下のメソッドを使用します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>クエリ生成</td>
<td>Query&lt;S&gt; Container&lt;K,R&gt;.query(java.lang.String tql, java.lang.Class&lt;S&gt; rowType)</td>
</tr>
<tr>
<td>クエリ実行</td>
<td>RowSet&lt;S&gt; Query&lt;S&gt;.fetch()</td>
</tr>
</tbody>
</table>
<p>コレクションに対して、カラムvalueの最大値を取得するプログラムを示します。</p>
<!-- TQLAggregate.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (オブジェクトの取得は省略)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)TQLで集計演算の実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">AggregationResult</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT MAX(value)&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">AggregationResult</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">AggregationResult</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetch</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)結果を取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">AggregationResult</span> <span style="color:#000">result</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">long</span> <span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">result</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getLong</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;max = &#34;</span><span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>(1)クエリの生成時に、第2引数で集計演算結果の型であるAggregationResultを指定します。
クエリを実行した結果はAggregationResultオブジェクトで返ります。
(2)実行した集計演算の種類によってAggregationResultオブジェクトの値のデータ型は異なります。データ型に合わせてgetLong、getDoubleまたはgetTimestampで値を取得します。</p>
<p>TQLの集計演算の一覧を以下に示します。</p>
<table>
<thead>
<tr>
<th>TQLの集計演算</th>
<th>内容</th>
<th>演算の引数</th>
<th>演算結果(AggregationResult)の値の型</th>
</tr>
</thead>
<tbody>
<tr>
<td>MAX(column)</td>
<td>指定カラムの最大値</td>
<td>数値型またはTIMESTAMP型のカラム</td>
<td>指定カラムと同一の型</td>
</tr>
<tr>
<td>MIN(column)</td>
<td>指定カラムの最小値</td>
<td>数値型またはTIMESTAMP型のカラム</td>
<td>指定カラムと同一の型</td>
</tr>
<tr>
<td>COUNT(*)</td>
<td>集計対象のロウの個数</td>
<td>&ldquo;*&ldquo;のみ</td>
<td>LONG型</td>
</tr>
<tr>
<td>SUM(column)</td>
<td>指定のカラムの合計値</td>
<td>数値型のカラム</td>
<td>指定カラムが整数型の場合LONG型<br>浮動小数点型の場合DOUBLE型</td>
</tr>
<tr>
<td>AVG(column)</td>
<td>指定のカラムの平均値</td>
<td>数値型のカラム</td>
<td>DOUBLE型</td>
</tr>
<tr>
<td>VARIANCE(column)</td>
<td>指定のカラムの分散値</td>
<td>数値型のカラム</td>
<td>DOUBLE型</td>
</tr>
<tr>
<td>STDDEV(column)</td>
<td>指定のカラムの標準偏差</td>
<td>数値型のカラム</td>
<td>DOUBLE型</td>
</tr>
</tbody>
</table>
<p>[メモ]</p>
<ul>
<li>集計演算は、ひとつのクエリでひとつしか指定できません。
<ul>
<li>例) 次のTQLはエラーになります。　SELECT MAX(value), MIN(value)</li>
</ul>
</li>
</ul>
<p><a id="java_batch_functions"></a></p>
<h3 id="複数のコンテナに対して一括で操作を行う">複数のコンテナに対して一括で操作を行う</h3>
<p>データの登録や検索の処理では、複数のコンテナに対して一度に操作を行うことができます。複数コンテナ用のメソッドは以下の通りです。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>複数コンテナのロウ登録</td>
<td>GridStore.multiPut(java.util.Map&lt;java.lang.String,java.util.List<Row>&gt; containerRowsMap)</td>
</tr>
<tr>
<td>複数コンテナのロウ取得</td>
<td>GridStore.multiGet(java.util.Map&lt;java.lang.String,? extends RowKeyPredicate<?>&gt; containerPredicateMap)</td>
</tr>
<tr>
<td>複数コンテナのTQL実行</td>
<td>GridStore.fetchAll(java.util.List<? extends Query<?>&gt; queryList)</td>
</tr>
</tbody>
</table>
<p>ひとつのコンテナに対する操作と複数のコンテナに対する操作では、メソッドや取得条件などが異なりますので、
用途に合わせて適切な方法をご利用ください。相違点を以下の表に示します。
それぞれの方法の説明は、「本書での参照先」の部分をご参照ください。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>処理対象のコンテナ</th>
<th>メソッド</th>
<th>取得条件の指定</th>
<th>本書での参照先</th>
</tr>
</thead>
<tbody>
<tr>
<td>ロウ登録</td>
<td>ひとつ</td>
<td>Container.put(R row)<br>Container.put(java.util.Collection<R> rowCollection)</td>
<td>－</td>
<td><a href="#java_put_row">データを登録する</a></td>
</tr>
<tr>
<td></td>
<td>複数</td>
<td>GridStore.multiPut(java.util.Map&lt;java.lang.String, java.util.List<Row>&gt; containerRowsMap)</td>
<td>－</td>
<td><a href="#java_multiput">複数コンテナのロウ登録</a></td>
</tr>
<tr>
<td>ロウ取得<br>(ロウキー指定)</td>
<td>ひとつ</td>
<td>Container.get(K key)</td>
<td>ロウキー指定</td>
<td><a href="#java_get_row">データを取得する</a></td>
</tr>
<tr>
<td></td>
<td>複数</td>
<td>GridStore.multiGet(java.util.Map&lt;java.lang.String, ? extends RowKeyPredicate<?>&gt; containerPredicateMap)</td>
<td>RowKeyPredicateクラスによるロウキー指定、または、ロウキー範囲指定</td>
<td><a href="#java_multiget">複数コンテナのロウ取得</a></td>
</tr>
<tr>
<td>ロウ取得<br>(TQL実行)</td>
<td>ひとつ</td>
<td>GridStore.query(java.lang.String tql)<br>Query.fetch()</td>
<td>TQLのクエリ</td>
<td><a href="#java_tql_select">TQLを実行する</a></td>
</tr>
<tr>
<td></td>
<td>複数</td>
<td>GridStore.fetchAll(java.util.List<? extends Query<?>&gt; queryList)</td>
<td>TQLのクエリ</td>
<td><a href="#java_fetchall">複数コンテナのTQL実行</a></td>
</tr>
</tbody>
</table>
<p><a id="java_multiput"></a></p>
<h4 id="複数コンテナのロウ登録">複数コンテナのロウ登録</h4>
<p>複数のコンテナに対して、複数のロウを登録します。
コンテナ名と登録するロウのリストの組合せを作り、multiPutでロウを登録できます。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>複数コンテナのロウ登録</td>
<td>GridStore.multiPut(java.util.Map&lt;java.lang.String,java.util.List<Row>&gt; containerRowsMap)</td>
</tr>
</tbody>
</table>
<p>コレクションと時系列コンテナに、それぞれロウを2個ずつ登録するプログラムを以下に示します。</p>
<!-- MultiPut.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 複数のコンテナにロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;</span> <span style="color:#000">paramMap</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">HashMap</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)コレクション&#34;SampleJava_MultiPut1&#34;に対して登録するロウを生成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">String</span> <span style="color:#000">containerName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SampleJava_MultiPut1&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// 登録するデータ
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">nameList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#4e9a06">&#34;notebook PC&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;desktop PC&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;keyboard&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;mouse&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;printer&#34;</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">int</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">numberList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">55</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">81</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">39</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">72</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">14</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// ロウにデータをセットする
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rowList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">length</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRow</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">numberList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">paramMap</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)時系列コンテナ&#34;SampleJava_MultiPut2&#34;に対して登録するロウを生成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">String</span> <span style="color:#000">containerName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SampleJava_MultiPut2&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// 登録するデータ
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">dateList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#4e9a06">&#34;2018/12/01 10:20:19.111+0900&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;2018/12/02 03:25:45.023+0900&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>					<span style="color:#4e9a06">&#34;2018/12/03 08:29:21.932+0900&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;2018/12/04 21:55:48.153+0900&#34;</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">double</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">valueList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span> <span style="color:#000">129</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">9</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">13</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">2</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">832</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">7</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">52</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">9</span> <span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// 日付の変換フォーマット
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">SimpleDateFormat</span> <span style="color:#000">format</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">SimpleDateFormat</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;yyyy/MM/dd hh:mm:ss.SSSZ&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// ロウにデータをセットする
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rowList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">dateList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">length</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRow</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setTimestamp</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">format</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">parse</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">dateList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setDouble</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">valueList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">paramMap</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)複数のコンテナに対してロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">multiPut</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">paramMap</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;MultiPut&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>ひとつのコンテナにロウを登録する時と同様に、コンテナオブジェクトから空のロウを作成して登録するロウを作ります。
コンテナとロウのリストの組合せをMapに格納し、まとめてmultiPutで登録を行います。</p>
<p>[メモ]</p>
<ul>
<li>指定するコンテナは、既に存在している必要があります。</li>
<li>ひとつのコンテナへのロウ登録と同様に、コンテナ単位でコミットされます。指定した複数のコンテナがまとめてコミットされるわけではありません。</li>
</ul>
<p><a id="java_multiget"></a></p>
<h4 id="複数コンテナのロウ取得">複数コンテナのロウ取得</h4>
<p>複数のコンテナから、指定した条件に当てはまるロウを取得します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>複数コンテナのロウ取得</td>
<td>GridStore.multiGet(java.util.Map&lt;java.lang.String,? extends RowKeyPredicate<?>&gt; containerPredicateMap)</td>
</tr>
</tbody>
</table>
<p>ロウキーの条件はコンテナごとに指定できます。条件には、特定の値を指定する個別条件と、値の範囲を指定する範囲条件の2種類があります。条件はRowKeyPredicateクラスのメソッドで指定します。</p>
<table>
<thead>
<tr>
<th>条件</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>ロウキーの個別条件</td>
<td>RowKeyPredicate.add(K key)</td>
</tr>
<tr>
<td>ロウキーの範囲条件</td>
<td>RowKeyPredicate.setStart(K startKey)<br>RowKeyPredicate.setFinish(K finishKey)</td>
</tr>
</tbody>
</table>
<p>[メモ]</p>
<ul>
<li>個別条件と範囲条件の2つの条件を混在して使用することはできません。</li>
<li>条件をどちらも指定しなかった場合は、すべてのロウが取得されます。</li>
<li>RowKeyPredicateクラスは、複数コンテナのロウ取得multiGetメソッドでのみ使用できます。他のロウ取得getメソッドでは使用できません。</li>
</ul>
<p>個別条件指定で、コレクションからINTEGER型のロウキーの値が&quot;0&quot;に合致するロウ、
別のコレクションからINTEGER型のロウキーの値が&quot;2&quot;または&quot;4&quot;に合致するロウをそれぞれ取得するプログラムを以下に示します。</p>
<!-- MultiGet.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 複数のコンテナから一括でロウを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)取得条件を構築する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;</span> <span style="color:#000">predMap</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">HashMap</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;();</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">predicate</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">predMap</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_MultiGet1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">predicate</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">4</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">predMap</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_MultiGet2&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)複数コンテナからロウを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;</span> <span style="color:#000">outMap</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">multiGet</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">predMap</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;MultiGet&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)ロウの値を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Entry</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;</span> <span style="color:#000">entry</span> <span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">outMap</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">entrySet</span><span style="color:#ce5c00;font-weight:bold">())</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;containerName=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">entry</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getKey</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">entry</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getValue</span><span style="color:#ce5c00;font-weight:bold">())</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    id=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34; name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34; count=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">count</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>(1)RowKeyPredicateクラスを使って取得するロウの条件を生成し、コンテナ名とRowKeyPredicateの組合せをMAPに格納します。
(2)multiGetを用いて検索を実行します。
(3)コンテナ名とロウのリストの組合せで結果が返ります。</p>
<p><a id="java_fetchall"></a></p>
<h4 id="複数コンテナのtql実行">複数コンテナのTQL実行</h4>
<p>複数のコンテナに対して、TQLを実行します。TQLはコンテナごとに指定できます。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>複数コンテナのTQL実行</td>
<td>GridStore.fetchAll(java.util.List<? extends Query<?>&gt; queryList)</td>
</tr>
</tbody>
</table>
<p>2つのコレクションに対応するそれぞれのTQLをまとめて実行し、ロウを取得するプログラムを以下に示します。</p>
<!-- FetchAll.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 複数のコンテナにTQLを実行する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;</span> <span style="color:#000">queryList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)コレクション&#34;SampleJava_FetchAll1&#34;に対するTQLのクエリを生成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_FetchAll1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">queryList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;select * where count &gt; 60&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)コレクション&#34;SampleJava_FetchAll2&#34;に対するTQLのクエリを生成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_FetchAll2&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">queryList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;select * where count &gt; 100&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)複数コンテナを一括検索する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetchAll</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">queryList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)結果を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">queryList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">size</span><span style="color:#ce5c00;font-weight:bold">();</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_FetchAll&#34;</span><span style="color:#ce5c00;font-weight:bold">+(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">queryList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getRowSet</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">while</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">())</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    row id=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, count=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">count</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>(1)(2)コンテナオブジェクトからTQLのクエリを生成して、リストに格納します。
(3)クエリのリストを指定して、TQL一括実行fetchAllを実行します。
(4)検索結果は、(3)で指定したクエリのリストに格納されます。クエリから結果を取得する処理は、通常のTQL検索の場合と同様です。</p>
<p><a id="java_binary"></a></p>
<h3 id="バイナリデータを扱う">バイナリデータを扱う</h3>
<p>バイナリデータを登録、取得します。バイナリのデータ型はBlob型です。他のデータ型と同様に操作することができます。</p>
<p><strong>バイナリデータの登録</strong></p>
<p>バイナリデータをファイルから読み込み、ロウを登録するプログラムを以下に示します。</p>
<!-- BlobData.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.sql.Blob</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 省略
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)バイナリデータをファイルから読み込み、Blobを作成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">FileInputStream</span> <span style="color:#000">blobFile</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">FileInputStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">File</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;BlobData.java&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">Blob</span> <span style="color:#000">blob</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createBlob</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">OutputStream</span> <span style="color:#000">blobBuffer</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">blob</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setBinaryStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">len</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#ce5c00;font-weight:bold">((</span><span style="color:#000">len</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">blobFile</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">read</span><span style="color:#ce5c00;font-weight:bold">())</span> <span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">blobBuffer</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">write</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">len</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">blobBuffer</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">flush</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)ロウにバイナリをセットする
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRow</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setBlob</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">blob</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)ロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Put Row (Binary)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">blobFile</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span></code></pre></div><p>(1)バイナリデータをファイルから読み込みます。バイナリデータを格納するBlobは、ContainerクラスのcreateBlobメソッドで作成できます。
SerialBlobなど、Blobを実装した他のクラスのインスタンスを使用することも可能です。
(2)ロウにsetBlobでバイナリデータをセットして、(3)ロウを登録します。</p>
<p><strong>バイナリデータの取得</strong></p>
<p>getBlobでバイナリデータを取得します。</p>
<!-- BlobData.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)ロウを取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)ロウからバイナリを取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Blob</span> <span style="color:#000">blob</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getBlob</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>　</p>
<p><a id="java_update"></a></p>
<h3 id="データを更新する">データを更新する</h3>
<p>ロウを更新します。ロウの更新には、ロウキーを指定して更新する方法と、TQLの実行結果から更新する方法の2種類があります。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>ロウキーを指定してロウ更新</td>
<td>put(R row)<br>put(K key, R row)<br>put(java.util.Collection<R> rowCollection)</td>
</tr>
<tr>
<td>TQLの実行結果からロウ更新</td>
<td>RowSet.update(R rowObj)</td>
</tr>
</tbody>
</table>
<p>ロウキーを指定してロウ更新する方法では、putで指定したロウのロウキーと合致するデータが既に存在していたら、そのデータを更新します。
ロウキーのデータが存在しなかった場合、または、ロウキーが設定されていないコレクションの場合は、putは常にロウの新規登録になります。</p>
<p>TQLの実行結果からロウを更新するプログラムを示します。</p>
<!-- UpdateRowByTQL.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// TQLの検索結果からロウを更新する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// Containerオブジェクトの取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)手動コミットモードを指定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setAutoCommit</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)TQLで検索実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * WHERE id = 3&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetch</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">);</span>	<span style="color:#8f5902;font-style:italic">// 削除するのでtrueを指定
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)検索でヒットしたロウを更新する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// ロウの値をセットする
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">77</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// ロウを更新する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">update</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)コミットする
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">commit</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Update Row&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>[メモ]</p>
<ul>
<li>TQLの検索結果RowSetからロウの更新を行う場合は、手動コミットモードに設定して、fetchメソッドの引数にtrueを指定してロックする必要があります。</li>
</ul>
<h3 id="データを削除する">データを削除する</h3>
<p>ロウを削除します。ロウの削除には、ロウキーを指定して削除する方法と、TQLの検索結果から削除する方法の2種類があります。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>ロウキーを指定してロウ削除</td>
<td>Container.remove(K key)<br>TimeSeries.remove(java.util.Date key)</td>
</tr>
<tr>
<td>TQLの検索結果からロウ削除</td>
<td>RowSet.remove()</td>
</tr>
</tbody>
</table>
<p><a id="java_remove_row"></a>
ロウキーを指定してロウ削除の方法を用いて、ロウキーの値&quot;3&quot;のロウを削除するプログラムを示します。</p>
<!-- RemoveRowByRowkey.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1) ロウキーを指定してロウを削除する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">remove</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">3</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p><a id="java_remove_rowset"></a>
TQLの検索結果からロウ削除する方法を用いて、ロウを削除するプログラムを示します。</p>
<!-- RemoveRowByTQL.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// TQLの検索結果からロウを削除する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// Containerオブジェクトの取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)手動コミットモードを指定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setAutoCommit</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)TQLで検索実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * WHERE count &lt; 50&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetch</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">);</span>	<span style="color:#8f5902;font-style:italic">// 削除するのでtrueを指定
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)検索でヒットしたロウを削除する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">remove</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)コミットする
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">commit</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Remove Row&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>[メモ]</p>
<ul>
<li>TQLの検索結果RowSetからロウの削除を行う場合は、手動コミットモードに設定して、fetchメソッドの引数にtrueを指定してロックする必要があります。</li>
</ul>
<h3 id="コンテナを削除する">コンテナを削除する</h3>
<p>コンテナ名を指定してコンテナを削除します。以下のメソッドで削除できます。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>コレクション削除</td>
<td>GridStore.dropCollection(java.lang.String name)</td>
</tr>
<tr>
<td>時系列コンテナ削除</td>
<td>GridStore.dropTimeSeries(java.lang.String name)</td>
</tr>
<tr>
<td>コンテナ削除</td>
<td>GridStore.dropContainer(java.lang.String name)</td>
</tr>
</tbody>
</table>
<p>[メモ]</p>
<ul>
<li>コレクション削除dropCollectionと時系列コンテナ削除dropTimeSeriesの場合は、
引数で指定したコンテナの種別とメソッドの種別が異なっているとエラーになります。
<ul>
<li>例) コレクション&quot;collection1&quot;を、dropTimeSeriesで削除しようとするとエラーになる</li>
</ul>
</li>
<li>コンテナ削除dropContainerは、コレクションと時系列コンテナのどちらの種別でも削除できます。</li>
</ul>
<p>コレクション&quot;collection1&quot;を削除するプログラムを以下に示します。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コレクション&#34;collection1&#34;を削除する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">dropCollection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;collection1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p><a id="java_create_index"></a></p>
<h3 id="索引を作成する">索引を作成する</h3>
<p>コンテナのカラムに索引を作成します。</p>
<p>索引種別には次の2種類があります。コンテナ種別やカラムのデータ型によって、指定できる索引種別が異なります。</p>
<table>
<thead>
<tr>
<th>索引種別</th>
<th>内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>ツリー索引</td>
<td>- Bツリーを用いた索引です。<br>- 等価条件(=)の検索や範囲検索(&gt;や&lt;=など)に適しています。<br>- カラムのデータ型が空間型、BLOB型、配列型の場合には使用できません。また、時系列コンテナのロウキーには使用できません。<br>- 複合索引を作成することができます。</td>
</tr>
<tr>
<td>空間索引</td>
<td>- 空間型用の索引です。<br>- 空間検索を高速に行う場合に適しています。<br>- コレクションでカラムのデータ型が空間型の場合のみ使用できます。</td>
</tr>
</tbody>
</table>
<p>索引作成は、索引種別やカラムを指定する方法の違いで以下の3種類のメソッドがあります。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>索引作成(カラム名、番号、索引種別、索引名を指定)</td>
<td>Container.createIndex(IndexInfo info)</td>
</tr>
<tr>
<td>索引作成(カラム名を指定)</td>
<td>Container.createIndex(java.lang.String columnName)</td>
</tr>
<tr>
<td>索引作成(カラム名と索引種別を指定)</td>
<td>Container.createIndex(java.lang.String columnName, IndexType type)</td>
</tr>
</tbody>
</table>
<p>[メモ]</p>
<ul>
<li>索引種別を指定しない場合は、カラムのデータ型で定義されているデフォルトの索引種別が作成されます。
デフォルトの索引種別は、『<a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java APIリファレンス</a>』の「createIndex(IndexInfo info)」をご参照ください。</li>
<li>索引名の指定は任意です。指定しても指定しなくてもどちらでも作成できます。</li>
<li>複合索引を作成する場合には、「createIndex(IndexInfo info)」のみ利用可能です。</li>
</ul>
<p>索引作成createIndex(IndexInfo info)を使用して、コレクションのカラムcountにツリー索引を作成するプログラムを以下に示します。</p>
<!-- CreateIndex.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (コンテナオブジェクトの取得は省略)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)索引情報を設定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">IndexInfo</span> <span style="color:#000">indexInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">IndexInfo</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">indexInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setColumnName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">indexInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setType</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">IndexType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">TREE</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">indexInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;tree_index&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)索引を作成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createIndex</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">indexInfo</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)複合索引の索引情報を設定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">IndexInfo</span> <span style="color:#000">compositeInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">IndexInfo</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">compositeInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setColumnNameList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Arrays</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">asList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span><span style="color:#4e9a06">&#34;productName&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">compositeInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setType</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">IndexType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">TREE</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">compositeInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;composite_index&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)複合索引を作成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createIndex</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">compositeInfo</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>(1)索引情報IndexInfoには、索引種別、作成対象のカラム（カラム番号またはカラム名）、索引名を指定します。<br>
(2)IndexInfoを引数として、createIndexを実行します。<br>
(3)複合索引の場合、索引情報IndexInfoに指定する作成対象のカラム（カラム番号またはカラム名）はList形式で指定します。<br>
(4)IndexInfoを引数として、createIndexを実行します。</p>
<h3 id="その他">その他</h3>
<p><a id="java_data_type"></a></p>
<h4 id="データ型の対応付け">データ型の対応付け</h4>
<p>Java APIにおいて、GridDBのデータ型とJavaのデータ型の対応付けは以下の通りです。ロウからの値取得や設定の際には、以下のデータ型を指定してください。</p>
<table>
<thead>
<tr>
<th>GridDBのデータ型</th>
<th>Javaのデータ型</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL型</td>
<td>boolean</td>
</tr>
<tr>
<td>STRING型</td>
<td>java.lang.String</td>
</tr>
<tr>
<td>BYTE型</td>
<td>byte</td>
</tr>
<tr>
<td>SHORT型</td>
<td>short</td>
</tr>
<tr>
<td>INTEGER型</td>
<td>int</td>
</tr>
<tr>
<td>LONG型</td>
<td>long</td>
</tr>
<tr>
<td>FLOAT型</td>
<td>float</td>
</tr>
<tr>
<td>DOUBLE型</td>
<td>double</td>
</tr>
<tr>
<td>TIMESTAMP型</td>
<td>java.util.Date</td>
</tr>
<tr>
<td>GEOMETRY型</td>
<td>Geometry</td>
</tr>
<tr>
<td>BLOB型</td>
<td>java.sql.Blob</td>
</tr>
</tbody>
</table>
<h4 id="エラー処理">エラー処理</h4>
<p>Java APIのメソッドでエラーが発生すると、GSExceptionがスローされます。</p>
<p>エラーコード取得getErrorCode()、スタックトレース表示printStackTrace()などを用いてエラー処理を行います。</p>
<h4 id="timestamp型のユーティリティ機能">TIMESTAMP型のユーティリティ機能</h4>
<p>TIMESTAMP型のデータは、Java APIではjava.util.Date型として扱います。
TIMESTAMP型に対するユーティリティ機能として以下のメソッドがあります。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>現在時刻の取得</td>
<td>TimestampUtils.current()<br>TimestampUtils.currentCalendar()</td>
</tr>
<tr>
<td>時刻の加算</td>
<td>TimestampUtils.add(java.util.Date timestamp, int amount, TimeUnit timeUnit)<br>TimestampUtils.add(java.util.Date timestamp, int amount, TimeUnit timeUnit, java.util.TimeZone zone)</td>
</tr>
<tr>
<td>GSTimestamp型を文字列表記に変換</td>
<td>TimestampUtils.format(java.util.Date timestamp)<br>TimestampUtils.format(java.util.Date timestamp, java.util.TimeZone zone)</td>
</tr>
<tr>
<td>文字列表記をGSTimestamp型に変換</td>
<td>TimestampUtils.parse(java.lang.String source)</td>
</tr>
<tr>
<td>TIMESTAMP値表記のフォーマットの取得</td>
<td>TimestampUtils.getFormat()<br>TimestampUtils.getFormat(java.util.TimeZone zone)</td>
</tr>
</tbody>
</table>
<p>ロウから取得したTIMESTAMP型の値を文字列表記に変換する例を示します。</p>
<pre tabindex="0"><code>// ロウからTIMESTAMP型の値を取得する
Date date = row.getTimestamp(0);

// GSTimestampを文字列に変換する
String dateStr = TimestampUtils.format(date)
</code></pre><h2 id="プログラミングの応用">プログラミングの応用</h2>
<p><a id="java_timeseries_function"></a></p>
<h3 id="時系列データを扱う">時系列データを扱う</h3>
<p>時系列コンテナに対して、時系列データ特有の演算を実行することができます。
この節では、これらの時系列データ特有の演算について説明します。</p>
<p>演算は、TQLまたはメソッドで実行することができます。</p>
<table>
<thead>
<tr>
<th>種類</th>
<th>名称</th>
<th>TQL演算</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>集計演算</td>
<td>重み付き平均値</td>
<td>TIME_AVG</td>
<td>TimeSeries.aggregate <br>(Aggregation.WEIGHTED_AVERAGEを指定)</td>
</tr>
<tr>
<td>選択演算</td>
<td>直後の時刻</td>
<td>TIME_NEXT</td>
<td>TimeSeries.get <br>(TimeOperator.NEXTを指定)</td>
</tr>
<tr>
<td></td>
<td>直後の時刻</td>
<td>TIME_NEXT_ONLY</td>
<td>TimeSeries.get <br>(TimeOperator.NEXT_ONLYを指定)</td>
</tr>
<tr>
<td></td>
<td>直前の時刻</td>
<td>TIME_PREV</td>
<td>TimeSeries.get <br>(TimeOperator.PREVIOUSを指定)</td>
</tr>
<tr>
<td></td>
<td>直前の時刻</td>
<td>TIME_PREV_ONLY</td>
<td>TimeSeries.get <br>(TimeOperator.PREVIOUS_ONLYを指定)</td>
</tr>
<tr>
<td>補間演算</td>
<td>線形補間</td>
<td>TIME_INTERPOLATED</td>
<td>TimeSeries.interpolate</td>
</tr>
<tr>
<td></td>
<td>サンプリング</td>
<td>TIME_SAMPLING</td>
<td>TimeSeries.query <br>(InterpolationModeを指定)</td>
</tr>
</tbody>
</table>
<ul>
<li>単純な検索/集約演算をする場合であれば、メソッドを用いた方が少し性能が良くなる場合があります。大量のヒット件数の場合や、検索後の集約などの複雑な操作が必要であれば、TQL演算を用いて実行してください。</li>
</ul>
<p>以下では、TQL演算を用いたプログラミングの例で説明します。</p>
<h4 id="集計演算">集計演算</h4>
<p><a id="java_timeseries_time_avg"></a></p>
<h5 id="time_avg-時刻の重み付き平均値">TIME_AVG 時刻の重み付き平均値</h5>
<p>ロウの時間間隔で重みをつけて平均を計算します。時間間隔が長いほど重みが大きくなります。
つまり、値が登録されていない期間の値は、その期間の前後の値が続いていたとみなして計算します。</p>
<table>
<thead>
<tr>
<th>TQL演算</th>
<th>内容</th>
<th>演算の引数</th>
<th>演算結果の型</th>
</tr>
</thead>
<tbody>
<tr>
<td>TIME_AVG(column)</td>
<td>指定カラムについての、ロウの時刻に基づく重み付き平均</td>
<td>時系列コンテナの数値型のカラム</td>
<td>DOUBLE型</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>例) TQLの集計演算TIME_AVGを使用する例</p>
<figure>
  <img src="img/TIME_AVG.png" width="800" alt="TIME_AVGの例"/>
  <figcaption>TIME_AVGの例</figcaption>
</figure>
  <!-- TQLTimeseries.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// TQLで演算の実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">AggregationResult</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT TIME_AVG(value1)&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">AggregationResult</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">AggregationResult</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetch</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 結果を取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">AggregationResult</span> <span style="color:#000">result</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">double</span> <span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">result</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDouble</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TIME_AVG = &#34;</span><span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div></li>
</ul>
<p>[メモ]</p>
<ul>
<li>コレクションに対して、TQLでTIME_AVG演算を実行するとエラーになります。</li>
<li>Java APIのメソッドTimeSeries.aggregate(java.util.Date start, java.util.Date end, java.lang.String column, Aggregation aggregation)を用いて、TQLのTIME_AVG演算と同等の処理を行うこともできます。</li>
</ul>
<p><a id="java_timeseries_next_prev"></a></p>
<h4 id="選択演算">選択演算</h4>
<p>指定された時刻と直前/直後の選択条件に基づいて、時系列コンテナのロウキーの時刻が合致するロウを返します。</p>
<table>
<thead>
<tr>
<th>TQL選択演算</th>
<th>内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>TIME_NEXT(*, timestamp)</td>
<td>指定の時刻timestampの直後の時刻を持つロウを返す。<br>同一時刻のロウが存在した場合は、そのロウを返す。</td>
</tr>
<tr>
<td>TIME_NEXT_ONLY(*, timestamp)</td>
<td>指定の時刻timestampの直後の時刻を持つロウを返す。</td>
</tr>
<tr>
<td>TIME_PREV(*, timestamp)</td>
<td>指定の時刻timestampの直前の時刻を持つロウを返す。<br>同一時刻のロウが存在した場合は、そのロウを返す。</td>
</tr>
<tr>
<td>TIME_PREV_ONLY(*, timestamp)</td>
<td>指定の時刻timestampの直前の時刻を持つロウを返す。</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>例) TQLの選択演算の使用例</p>
<figure>
  <img src="img/TIME_NEXT_TIME_PREV.png" width="600" alt="TIME_NEXTとTIME_PREVの例"/>
  <figcaption>TIME_NEXTとTIME_PREVの例</figcaption>
</figure>
<!-- TQLTimeseries.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// TQLで演算の実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT TIME_NEXT(*, TIMESTAMP(&#39;2018-12-01T10:10:00.000Z&#39;))&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetch</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 結果を取得(ロウはひとつしか返らない)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Date</span> <span style="color:#000">date</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getTimestamp</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">value1</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">double</span> <span style="color:#000">value2</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDouble</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TIME_NEXT row date=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">TimestampUtils</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">format</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">date</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, value1=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value1</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, value2=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div></li>
</ul>
<p>[メモ]</p>
<ul>
<li>コレクションに対して、TQLでこれらの選択演算を実行するとエラーになります。</li>
<li>Java APIのメソッドTimeSeries.get(java.util.Date base, TimeOperator timeOp)を用いて、TQLの選択演算と同等の処理を行うこともできます。</li>
</ul>
<p><a id="java_timeseries_sampling"></a></p>
<h4 id="補間演算">補間演算</h4>
<p>時系列データを補間します。</p>
<table>
<thead>
<tr>
<th>TQL補間演算</th>
<th>内容</th>
<th>演算の引数</th>
</tr>
</thead>
<tbody>
<tr>
<td>TIME_INTERPOLATED(column, timestamp)</td>
<td>指定の時刻timestampのロウが存在しない場合、補間した値を返す</td>
<td>column : 数値型のカラム<br>timestamp : 時刻</td>
</tr>
<tr>
<td>TIME_SAMPLING(*|column, timestamp_start, timestamp_end, interval, time_unit)</td>
<td>指定の期間において、ロウをサンプリングした結果を返す</td>
<td>timestamp_start : 開始時刻<br>timestamp_end : 終了時刻<br>interval : サンプリング間隔<br>time_unit : サンプリング間隔の単位(DAY|HOUR|MINUTE|SECOND|MILLISECOND)</td>
</tr>
</tbody>
</table>
<p><strong>TIME_INTERPOLATED(column, timestamp) ：値の補間</strong></p>
<ul>
<li>
<p>指定の時刻timestampのロウが存在する場合、そのロウをそのまま返します。</p>
</li>
<li>
<p>指定の時刻timestampのロウが存在しない場合、補間した値を格納したロウを返します。カラムcolumnの値は、その前後のロウの値を線形補間した値になります。ロウキーの値はtimestampの値になります。それ以外のカラムの値は、指定の時刻timestampより前のロウの値になります。</p>
</li>
<li>
<p>前後のロウの値を線形補間するとき、どちらかの値がNULLの場合は、補間値はNULLになります。</p>
</li>
<li>
<p>例) TIME_INTERPOLATED演算の実行例</p>
<figure>
  <img src="img/TIME_INTERPOLATED.png" width="900" alt="TIME_INTERPOLATED演算の実行例"/>
  <figcaption>TIME_INTERPOLATED演算の実行例</figcaption>
</figure>
<!-- TQLTimeseries.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// TQLで演算の実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT TIME_INTERPOLATED(value1, TIMESTAMP(&#39;2018-12-01T10:30:00.000Z&#39;))&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetch</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 結果を取得(ロウはひとつしか返らない)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Date</span> <span style="color:#000">date</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getTimestamp</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">value1</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">double</span> <span style="color:#000">value2</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDouble</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TIME_INTERPOLATED row date=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">date</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, value1=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value1</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, value2=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div></li>
</ul>
<p><strong>TIME_SAMPLING(*|column, timestamp_start, timestamp_end, interval, time_unit) ：値のサンプリング</strong></p>
<ul>
<li>
<p>開始時刻timestamp_startから終了時刻timestamp_endまでの期間で、サンプリング間隔intervalの時間でサンプリングします。</p>
</li>
<li>
<p>サンプリング時刻のロウが存在する場合、そのロウをそのまま返します。</p>
</li>
<li>
<p>サンプリング時刻のロウが存在しない場合、補間した値を格納したロウを返します。カラムcolumnの値、または*の場合全てのカラムの値は、その前後のロウの値を線形補間した値になります。ロウキーの値はtimestampの値になります。それ以外のカラムの値はサンプリング時刻より前のロウの値になります。</p>
</li>
<li>
<p>前後のロウの値を線形補間するとき、どちらかの値がNULLの場合は、補間値はNULLになります。</p>
</li>
<li>
<p>例) TIME_SAMPLING演算の実行例</p>
<figure>
  <img src="img/TIME_SAMPLING.png" width="900" alt="TIME_SAMPLING演算の実行例"/>
  <figcaption>TIME_SAMPLING演算の実行例</figcaption>
</figure>
<!-- TQLTimeseries.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// TQLで演算の実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT TIME_SAMPLING(value1, TIMESTAMP(&#39;2018-12-01T10:00:00.000Z&#39;),TIMESTAMP(&#39;2018-12-01T11:00:00.000Z&#39;), 15, MINUTE)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetch</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 結果を取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Date</span> <span style="color:#000">date</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getTimestamp</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">value1</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">double</span> <span style="color:#000">value2</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDouble</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TIME_SAMPLING row date=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">date</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, value1=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value1</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, value2=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div></li>
</ul>
<p>[メモ]</p>
<ul>
<li>コレクションに対して、TIME_INTERPOLATED、TIME_SAMPLINGを実行するとエラーになります。</li>
<li>集計演算(MAX, MIN, COUNTなど)とTIME_INTERPOLATED、TIME_SAMPLINGを同時に指定することはできません。</li>
<li>Java APIのメソッドTimeSeries.interpolate(java.util.Date base, java.lang.String column)を用いて、TQLのTIME_INTERPOLATED演算と同等の処理を行うこともできます。</li>
<li>Java APIのメソッドTimeSeries.query(java.util.Date start, java.util.Date end, java.util.Set&lt;java.lang.String&gt; columnSet, InterpolationMode mode, int interval, TimeUnit intervalUnit) を用いて、TQLのTIME_SAMPLING演算と同等の処理を行うこともできます。</li>
</ul>
<p><a id="java_arraydata"></a></p>
<h3 id="配列型のデータを扱う">配列型のデータを扱う</h3>
<p>配列型のデータはJavaの配列にマッピングします。
Rowクラスには、配列型のデータのセットや取得を行うための配列型用のsetter/getterがあります。
配列型のデータ型に合わせたsetter/getterを使用してロウを操作し、データの登録や取得を行います。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>ブール型の配列</td>
<td>void Row.setBoolArray(int column, boolean[] fieldValue)<br>boolean[] Row.getBoolArray(int column)</td>
</tr>
<tr>
<td>STRING型の配列</td>
<td>void Row.setStringArray(int column, java.lang.String[] fieldValue)<br>java.lang.String[] Row.getStringArray(int column)</td>
</tr>
<tr>
<td>BYTE型の配列</td>
<td>void Row.setByteArray(int column, byte[] fieldValue)<br>byte[] Row.getByteArray(int column)</td>
</tr>
<tr>
<td>SHORT型の配列</td>
<td>void Row.setShortArray(int column, short[] fieldValue)<br>short[] Row.getShortArray(int column)</td>
</tr>
<tr>
<td>INTEGER型の配列</td>
<td>void Row.setIntegerArray(int column, int[] fieldValue)<br>int[] Row.getIntegerArray(int column)</td>
</tr>
<tr>
<td>LONG型の配列</td>
<td>void Row.setLongArray(int column, long[] fieldValue)<br>long[] Row.getLongArray(int column)</td>
</tr>
<tr>
<td>FLOAT型の配列</td>
<td>void Row.setFloatArray(int column, float[] fieldValue)<br>float[] Row.getFloatArray(int column)</td>
</tr>
<tr>
<td>DOUBLE型の配列</td>
<td>void Row.setDoubleArray(int column, double[] fieldValue)<br>double[] Row.getDoubleArray(int column)</td>
</tr>
<tr>
<td>TIMESTAMP型の配列</td>
<td>void Row.setTimestampArray(int column, java.util.Date[] fieldValue)<br>java.util.Date[] Row.getTimestampArray(int column)</td>
</tr>
</tbody>
</table>
<p>配列型データを登録するプログラムを示します。</p>
<!-- ArrayData.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)配列型のデータ
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">stringArray</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#4e9a06">&#34;Sales&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;Development&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;Marketing&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;Research&#34;</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">integerArray</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">39</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">92</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">18</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">51</span> <span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)ロウに配列型のデータをセットする
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRow</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setStringArray</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">stringArray</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setIntegerArray</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">integerArray</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)ロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>配列型データを取得するプログラムを示します。</p>
<!-- ArrayData.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)ロウを取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)ロウから配列型データを取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">stringArray</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getStringArray</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">integerArray</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getIntegerArray</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>[メモ]</p>
<ul>
<li>配列型のカラムはロウキーには設定できません。</li>
</ul>
<p><a id="java_geometry_data"></a></p>
<h3 id="空間型のデータを扱う">空間型のデータを扱う</h3>
<p>空間型のデータを登録、取得します。</p>
<p>空間型のデータを表すWKT(Well-Known Text)形式の値から、Geometryオブジェクトを生成して操作します。
WKT形式は、ISOで定められている標準的な書式で、空間型のデータをテキスト形式で表現できます。</p>
<ul>
<li>例) 空間型データのWKT形式
<ul>
<li>2次元空間上の点(2, 3)   →　POINT(2 3)</li>
</ul>
</li>
</ul>
<p>Rowクラスには、空間型のデータのセットや取得を行うための空間型用のsetter/getterがあります。
これらを用いて、空間型データの登録や取得を行います。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>空間型データのセット</td>
<td>void Row.setGeometry(int column, Geometry fieldValue)</td>
</tr>
<tr>
<td>空間型データの取り出し</td>
<td>Geometry getGeometry(int column)</td>
</tr>
</tbody>
</table>
<p>空間型データを登録するプログラムを示します。</p>
<!-- GeometryData.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Geometry</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (省略)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)空間型のデータ
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Geometry</span> <span style="color:#000">geometry</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Geometry</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">valueOf</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;POINT(2 3)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)ロウに空間型のデータをセットする
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRow</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setGeometry</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">geometry</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)ロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>空間型データを取得するプログラムを示します。</p>
<!-- GeometryData.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Geometry</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (省略)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)ロウを取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)ロウから配列型データを取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Geometry</span> <span style="color:#000">geometry</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getGeometry</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>[メモ]</p>
<ul>
<li>空間型のカラムはロウキーには設定できません。</li>
</ul>
<h3 id="コンテナ情報を取得する">コンテナ情報を取得する</h3>
<p>コンテナの情報を取得する操作を説明します。</p>
<ul>
<li>コンテナ名の一覧を取得する</li>
<li>コンテナのスキーマ情報を取得する</li>
</ul>
<p><a id="java_containernames"></a></p>
<h4 id="コンテナ名の一覧を取得する">コンテナ名の一覧を取得する</h4>
<p>作成されているコンテナの名前の一覧を取得します。</p>
<p>コンテナ名の一覧取得は、パーティションの情報を取得するためのコントローラPartitionControllerインスタンスを用いて行います。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>パーティションコントローラの取得</td>
<td>GridStore.getPartitionController()</td>
</tr>
<tr>
<td>パーティション数の取得</td>
<td>PartitionController.getPartitionCount()</td>
</tr>
<tr>
<td>コンテナ名の一覧取得</td>
<td>PartitionController.getContainerNames(int partitionIndex, long start, java.lang.Long limit)</td>
</tr>
</tbody>
</table>
<p>パーティションコントローラを介して、パーティションごとにコンテナ名の一覧を取得します。
コンテナ名一覧のプログラムを示します。</p>
<!-- ContainerNames.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)パーティションコントローラと、パーティション数を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">PartitionController</span> <span style="color:#000">partitionController</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getPartitionController</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">partitionCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">partitionController</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getPartitionCount</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)パーティション数でループして、コンテナ名一覧を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">partitionCount</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">containerNames</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">partitionController</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainerNames</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">containerNames</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">size</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">0</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerNames</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>(2)getContainerNamesメソッドで第2引数0, 第3引数NULLを指定すると、指定したパーティション上の全コンテナ名を取得します。
取得するコンテナ名の数を制限する場合は、第3引数に制限する数を指定してください。</p>
<p>[メモ]</p>
<ul>
<li>
<p>クラスタ接続時に指定したデータベース上のコンテナ名一覧しか取得できません。
他のデータベースのコンテナ名の一覧を取得する場合は、そのデータベースに接続する必要があります。</p>
</li>
<li>
<p>取得するコンテナ名に正規表現のような条件は指定できません。</p>
</li>
</ul>
<p><a id="java_containerinfo"></a></p>
<h4 id="コンテナのスキーマ情報を取得する">コンテナのスキーマ情報を取得する</h4>
<p>コンテナに関する情報は、コンテナ情報ContainerInfoから取得します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>コンテナ情報の取得</td>
<td>GridStore.getContainerInfo(java.lang.String name)</td>
</tr>
</tbody>
</table>
<p>ContainerInfoには、様々な情報を取得するsetterメソッドがあります。必要な情報を取得するメソッドを使用してください。
メソッドの詳細は、『<a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java APIリファレンス</a>』をご参照ください。</p>
<p>コンテナのカラムや索引情報などを取得するプログラムを示します。</p>
<!-- ContainerInformation.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)コンテナ情報の取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ContainerInfo</span> <span style="color:#000">containerInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainerInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)名前とタイプの取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getName</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ContainerType</span> <span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getType</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;, type=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">type</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)カラム情報の取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnCount</span><span style="color:#ce5c00;font-weight:bold">();</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">ColumnInfo</span> <span style="color:#000">info</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// カラム名
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">String</span> <span style="color:#000">columnName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">info</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getName</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// カラムのデータ型
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">GSType</span> <span style="color:#000">columnType</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">info</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getType</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// NotNull制約 (true=Not Null制約なし, false=Not Null制約あり)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:bold">boolean</span> <span style="color:#000">columnNullable</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">info</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getNullable</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// 索引情報
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">Set</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">IndexType</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">indexTypes</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">info</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getIndexTypes</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;column name=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">columnName</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;, type=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">columnType</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;, nullable=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">columnNullable</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">indexTypes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">size</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">0</span> <span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;       indexTypes=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">indexTypes</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p><a id="java_compositekey"></a></p>
<h3 id="複合ロウキーを扱う">複合ロウキーを扱う</h3>
<p>データの登録や検索の処理では、複合ロウキーを指定して操作を行うことができます。</p>
<p>複合ロウキーを設定したデータを登録するプログラムを示します。複合ロウキーとして１つ目のINTEGER型と２つ目のSTRING型を指定します。</p>
<!-- CompositeKeyMultiGet.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)コンテナ情報の作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ContainerInfo</span> <span style="color:#000">containerInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ContainerInfo</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setType</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ContainerType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">COLLECTION</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">columnList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;id&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">INTEGER</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;productName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">STRING</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">INTEGER</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setColumnInfoList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)複合ロウキーを指定
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setRowKeyColumnList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Arrays</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">asList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)コンテナを作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;?,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_CompositeKeyMultiGet1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)ロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">nameList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#4e9a06">&#34;notebook PC&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;desktop PC&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;keyboard&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;mouse&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;printer&#34;</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">numberList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">108</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">72</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">25</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">45</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">62</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rowList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">length</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRow</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">numberList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>複数のコンテナから、複合ロウキーで指定した条件に当てはまるデータを取得するプログラムを示します。指定する条件は、個別条件指定を用い、１つ目のコンテナからはINTEGER型のロウキーの値が&quot;0&rdquo;、STRING型のロウキー値が&quot;notebook PC&quot;に合致するロウを、２つ目のコンテナからはINTEGER型のロウキーの値が&quot;2&rdquo;、STRING型のロウキー値が&quot;keyboard&quot;に合致するロウと、INTEGER型のロウキーの値が&quot;4&rdquo;、STRING型のロウキー値が&quot;printer&quot;に合致するロウを取得します。</p>
<!-- CompositeKeyMultiGet.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)取得条件を構築する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Key</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;</span> <span style="color:#000">predMap</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">HashMap</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Key</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;();</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Key</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">predicate</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">Key</span> <span style="color:#000">rowKey</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRowKey</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span>  <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span>  <span style="color:#4e9a06">&#34;notebook PC&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">predMap</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_CompositeKeyMultiGet1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Key</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">predicate</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">Key</span> <span style="color:#000">rowKey</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRowKey</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span>  <span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span>  <span style="color:#4e9a06">&#34;keyboard&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span>  <span style="color:#000">4</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span>  <span style="color:#4e9a06">&#34;printer&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">predMap</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_CompositeKeyMultiGet2&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)複数コンテナからロウを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;</span> <span style="color:#000">outMap</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">multiGet</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">predMap</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;CompositeKeyMultiGet&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)ロウの値を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Entry</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;</span> <span style="color:#000">entry</span> <span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">outMap</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">entrySet</span><span style="color:#ce5c00;font-weight:bold">())</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;containerName=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">entry</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getKey</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">entry</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getValue</span><span style="color:#ce5c00;font-weight:bold">())</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    id=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34; name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34; count=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">count</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>[メモ]</p>
<ul>
<li>個別条件と範囲条件の2つの条件を混在して使用することはできません。</li>
<li>条件をどちらも指定しなかった場合は、すべてのロウが取得されます。</li>
<li>RowKeyPredicateクラスは、複数コンテナのロウ取得multiGetメソッドでのみ使用できます。他のロウ取得getメソッドでは使用できません。</li>
</ul>
<h2 id="----c-api-nosqlインタフェース----">&mdash; C API (NoSQLインタフェース) &mdash;</h2>
<h2 id="c-apiを利用したアプリケーションの開発linux">C APIを利用したアプリケーションの開発(Linux)</h2>
<h3 id="開発実行環境の構築-1">開発実行環境の構築</h3>
<p>C APIのアプリケーションを開発するには、以下のパッケージをインストールする必要があります。</p>
<table>
<thead>
<tr>
<th>パッケージ名</th>
<th>ファイル名</th>
<th>内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>griddb-ee-c-lib</td>
<td>・griddb-ee-c-lib-X.X.X-linux.x86_64.rpm<br>・griddb-ee-c-lib_X.X.X_amd64.deb</td>
<td>Cのヘッダファイルとライブラリが含まれます<br>(/usr/include/gridstore.h と /usr/lib64/libgridstore.so, libgridstore_advanced.so)</td>
</tr>
</tbody>
</table>
<p>※: X.X.XはGridDBのバージョン</p>
<p>[メモ]</p>
<ul>
<li>RHEL, CentOSのヘッダとライブラリパスは以下です。
<ul>
<li>/usr/include/gridstore.h</li>
<li>/usr/lib64/libgridstore.so, libgridstore_advanced.so</li>
</ul>
</li>
<li>Ubuntu Serverのヘッダとライブラリパスは以下です。
<ul>
<li>/usr/include/gridstore.h</li>
<li>/usr/lib/x86_64-linux-gnu/libgridstore.so, libgridstore_advanced.so</li>
</ul>
</li>
</ul>
<p>アプリケーションの開発や実行を行う際には、LD_LIBRARY_PATHに指定してください。</p>
<p>RHEL, CentOS設定例)</p>
<pre tabindex="0"><code>$ export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/usr/lib64
</code></pre><p>Ubuntu Server設定例)</p>
<pre tabindex="0"><code>$ export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/usr/lib/x86_64-linux-gnu
</code></pre><h3 id="プログラムのビルド方法">プログラムのビルド方法</h3>
<p>サンプルプログラムのコンパイルと実行方法を説明します。</p>
<p>コンパイル時にはライブラリ&quot;gridstore&quot;を-lオプションに指定してください。生成された実行ファイルを実行してください。</p>
<ul>
<li>
<p>例) Sample1.cのコンパイルと実行の例</p>
<pre tabindex="0"><code>$ gcc sapmle1.c -lgridstore -o sample1
$ ./sample1
</code></pre></li>
</ul>
<h2 id="c-apiを利用したアプリケーションの開発windows">C APIを利用したアプリケーションの開発(Windows)</h2>
<h3 id="開発実行環境の構築-2">開発実行環境の構築</h3>
<p>C APIのWindows用ライブラリは、インストールメディアの 「\Windows\C-API」ディレクトリに含まれています。(gridstore_c.lib、gridstore.h、gridstore_c.dll、msvcp140.dll、vcruntime140.dll、gridstore_advanced.dll、libssl-1_1-x64.dll、libcrypto-1_1-x64.dll)</p>
<p>ライブラリは64ビット用dllです。専用のインストーラはありませんので、WindowsクライアントPCにコピーが必要です。
環境変数PATHに指定されているディレクトリにgridstore_c.dll、gridstore_advanced.dll、libssl-1_1-x64.dll、libcrypto-1_1-x64.dllをコピーしてください。gridstore_c.dll、gridstore_advanced.dllはVisual Studio 2019で作成しています。
Visual Studio 2019のランタイムライブラリがインストール済みでない場合は、msvcp140.dllとvcruntime140.dllをコピーしてください。
(Visual Studio 2019のランタイムライブラリ「Visual Studio 2019 の Microsoft Visual C++ 再頒布可能パッケージ」は、マイクロソフトの公式ページからもダウンロード可能です)</p>
<h3 id="プログラムのビルド方法-1">プログラムのビルド方法</h3>
<p>プログラムのコンパイル方法を説明します。</p>
<p>＜VisualStudioプロジェクトファイルの作成方法＞
以下は、VisualStudio2010の場合の手順です。</p>
<ol>
<li>x64のプロジェクトを作成</li>
</ol>
<ul>
<li>[構成マネージャ] - [アクティブソリューションプラットフォーム] - [新規作成]で &ldquo;x64&quot;を選択する。</li>
</ul>
<ol start="2">
<li>Includeディレクトリの設定</li>
</ol>
<ul>
<li>[構成プロパティ] - [C/C++] - [全般] - [追加のインクルードディレクトリ]に gridstore.h が存在するディレクトリを指定する。</li>
</ul>
<ol start="3">
<li>インポートライブラリ(gridstore_c.lib)の設定</li>
</ol>
<ul>
<li>[リンカー] - [入力] - [追加の依存ファイル] に追加する。</li>
</ul>
<p>　</p>
<p>サンプルプログラム一覧</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>プログラム名</th>
<th>内容</th>
<th>作成するコンテナ名</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#c_connect">クラスタに接続する</a></td>
<td>Connect.c</td>
<td>マルチキャスト方式でクラスタに接続して切断します。</td>
<td>-</td>
</tr>
<tr>
<td><a href="#c_create_collection_by_method">コレクションを作成する(メソッド)</a></td>
<td>CreateCollectionByMethod.c</td>
<td>メソッドでスキーマを指定する方法を用いて、コレクションを作成します。</td>
<td>SampleC_collection1</td>
</tr>
<tr>
<td><a href="#c_create_collection_by_class">コレクションを作成する(クラス定義)</a></td>
<td>CreateCollectionByClass.c</td>
<td>クラス定義でスキーマを指定する方法を用いて、コレクションを作成します。</td>
<td>SampleC_collection2</td>
</tr>
<tr>
<td><a href="#c_create_container_by_method">時系列コンテナを作成する(メソッド)</a></td>
<td>CreateTimeSeriesByMethod.c</td>
<td>メソッドでスキーマを指定する方法を用いて、時系列コンテナを作成します。</td>
<td>SampleC_timeseries1</td>
</tr>
<tr>
<td><a href="#c_put_row">ロウを登録する</a></td>
<td>PutRow.c</td>
<td>ひとつのコンテナにひとつのロウを登録します。</td>
<td>SampleC_PutRow</td>
</tr>
<tr>
<td><a href="#c_put_rows">複数のロウを登録する</a></td>
<td>PutRows.c</td>
<td>ひとつのコンテナに複数のロウを登録します。</td>
<td>SampleC_PutRows</td>
</tr>
<tr>
<td><a href="#c_get_row">ロウを取得する</a></td>
<td>GetRow.c</td>
<td>ロウキーを指定してコンテナからロウを取得します。</td>
<td>SampleC_GetRow</td>
</tr>
<tr>
<td><a href="#c_tql_select">TQLでロウを検索する</a></td>
<td>TQLSelect.c</td>
<td>TQLのSELECT文でロウを取得します。</td>
<td>SampleC_TQLSelect</td>
</tr>
<tr>
<td><a href="#c_tql_aggregation">TQLの集計関数を実行する</a></td>
<td>TQLAggregation.c</td>
<td>TQLのSELECT文で集計演算を実行します。</td>
<td>SampleC_TQLAggregation</td>
</tr>
<tr>
<td><a href="#c_multiput">複数コンテナにロウを登録する</a></td>
<td>MultiPut.c</td>
<td>複数のコンテナにロウを一括で登録します。</td>
<td>SampleC_MultiPut1, SampleC_MultiPut2</td>
</tr>
<tr>
<td><a href="#c_multiget">複数コンテナからロウを取得する</a></td>
<td>MultiGet.c</td>
<td>複数のコンテナからロウを一括で取得します。</td>
<td>SampleC_MultiGet1, SampleC_MultiGet2</td>
</tr>
<tr>
<td><a href="#c_fetchall">複数コンテナにTQLを実行する</a></td>
<td>FetchAll.c</td>
<td>複数のコンテナにTQLを一括で実行します。</td>
<td>SampleC_FetchAll1, SampleC_FetchAll2</td>
</tr>
<tr>
<td><a href="#c_binary">バイナリデータを登録・検索する</a></td>
<td>BlobData.c</td>
<td>バイナリデータをコンテナに登録して、コンテナから取得します。</td>
<td>SampleC_BlobData</td>
</tr>
<tr>
<td><a href="#c_update">ロウを更新する</a></td>
<td>UpdateRowByTQL.c</td>
<td>TQLで取得したRowSetを用いて、ロウを更新します。</td>
<td>SampleC_UpdateRowByTQL</td>
</tr>
<tr>
<td><a href="#c_remove_row">ロウを削除する(ロウキー)</a></td>
<td>RemoveRowByRowkey.c</td>
<td>ロウキーを指定してロウを削除します。</td>
<td>SampleC_RemoveRowByRowkey</td>
</tr>
<tr>
<td><a href="#c_remove_rowset">ロウを削除する(TQL)</a></td>
<td>RemoveRowByTQL.c</td>
<td>TQLで検索したロウを削除します。</td>
<td>SampleC_RemoveRowByTQL</td>
</tr>
<tr>
<td><a href="#c_create_index">索引を作成する</a></td>
<td>CreateIndex.c</td>
<td>索引を作成します。</td>
<td>SampleC_Index</td>
</tr>
<tr>
<td><a href="#c_timeseries_function">時系列の演算を行う</a></td>
<td>TQLTimeseries.c</td>
<td>時系列データに対して様々な演算を行います。</td>
<td>SampleC_TQLTimeseries</td>
</tr>
<tr>
<td><a href="#c_array_data">配列型のデータを扱う</a></td>
<td>ArrayData.c</td>
<td>配列型のデータの登録と検索を行います。</td>
<td>SampleC_ArrayData</td>
</tr>
<tr>
<td><a href="#c_geometry_data">空間型のデータを扱う</a></td>
<td>GeometryData.c</td>
<td>空間型のデータの登録と検索を行います。</td>
<td>SampleC_GeometryData</td>
</tr>
<tr>
<td><a href="#c_containernames">コンテナ名一覧を取得する</a></td>
<td>ContainerNames.c</td>
<td>コンテナ名の一覧を取得します。</td>
<td>－</td>
</tr>
<tr>
<td><a href="#c_containerinfo">コンテナのスキーマ情報を取得する</a></td>
<td>ContainerInformation.c</td>
<td>コンテナのスキーマ情報を取得します。</td>
<td>SampleC_Info</td>
</tr>
<tr>
<td><a href="#c_compositekey">複合ロウキーを使って複数コンテナからロウを取得する</a></td>
<td>CompositeKeyMultiGet.c</td>
<td>複合ロウキーを使って複数のコンテナからロウを一括で取得します。</td>
<td>SampleC_CompositeKeyMultiGet1, SampleC_CompositeKeyMultiGet2</td>
</tr>
</tbody>
</table>
<h2 id="プログラミングの基礎-1">プログラミングの基礎</h2>
<p>C APIを用いた基礎的なプログラミングを説明します。</p>
<p><a id="c_connect"></a></p>
<h3 id="クラスタに接続する-1">クラスタに接続する</h3>
<p>データの登録や検索などの操作を行うためには、クラスタに接続する必要があります。
接続処理では以下のメソッドを用います。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>GridStoreFactoryインスタンス取得</td>
<td>gsGetDefaultFactory()</td>
</tr>
<tr>
<td>GridStoreインスタンス取得</td>
<td>gsGetGridStore(GSGridStoreFactory *factory, const GSPropertyEntry *properties, size_t propertyCount, GSGridStore **store)</td>
</tr>
<tr>
<td>リソース解放</td>
<td>gsCloseGridStore(GSGridStore **store, GSBool allRelated)</td>
</tr>
</tbody>
</table>
<p>クラスタへの接続を行うプログラムの例を以下に示します。</p>
<!-- Connect.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&#34;gridstore.h&#34;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;stdlib.h&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;stdio.h&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">argc</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">char</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">argv</span><span style="color:#000;font-weight:bold">[]){</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GSGridStore</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GSContainer</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GSResult</span> <span style="color:#000">ret</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">size_t</span> <span style="color:#000">stackSize</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GSResult</span> <span style="color:#000">errorCode</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GSChar</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1024</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1024</span><span style="color:#000;font-weight:bold">];</span>	<span style="color:#8f5902;font-style:italic">// エラーメッセージを格納するバッファ
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// クラスタに接続する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// (1)接続情報を指定する (マルチキャスト方式)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">size_t</span> <span style="color:#000">propCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">props</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">props</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// (2)GridStoreインスタンスを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsGetDefaultFactory</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">propCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;gsGetGridStore error</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// (3)コンテナ作成や取得などの操作を行うと、クラスタに接続される
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;containerName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;gsGetContainerGeneral error</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">gsCloseContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Connect to Cluster</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// 終了処理
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// (4)リソースを解放する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">gsCloseGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">return</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f57900">LABEL_ERROR</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// エラー処理
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// エラーコードとエラーメッセージを出力する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">stackSize</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorStackSize</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">stackSize</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">errorCode</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorCode</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">gsFormatErrorMessage</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">gsFormatErrorLocation</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;[%d] %s (%s)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errorCode</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// リソースを解放する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">gsCloseGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">return</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>接続処理の部分を説明します。</p>
<p>(1)クラスタのアドレスやユーザ、パスワードなどの接続情報をGSPropertyEntryに指定します。
GSPropertyEntryは、プロパティのキーと値の組合せの配列です。
指定したプロパティの数は、次のインスタンス取得処理で必要になるのでsizeofを用いて計算しておきます。</p>
<p>(2)接続情報のプロパティを基に、GridStoreインスタンスを取得します。</p>
<p>(3)GridStoreオブジェクトを用いてコンテナ作成や取得などの操作を行うと、GridDBクラスタへの接続処理が行われます。</p>
<p>(4)切断しリソースを解放します。第二引数は、GSGridStoreインスタンスで取得したすべてのリソースを解放するかどうかを指定します。GS_TRUEを指定するとすべてのリソースが解放されます。GS_FALSEを指定した場合は、別途個別にリソースを解放する必要があります。</p>
<p>エラー処理については、<a href="#c_error_handling">エラー処理</a>を参照ください。</p>
<h4 id="接続方式-1">接続方式</h4>
<p>クラスタには、マルチキャスト方式、固定リスト方式、プロバイダ方式の3種類の接続方式があります。</p>
<table>
<thead>
<tr>
<th>接続方式</th>
<th>内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>マルチキャスト方式</td>
<td>マルチキャスト通信を用いた方式</td>
</tr>
<tr>
<td>固定リスト方式</td>
<td>クラスタを構成する全ノードのアドレスを直接指定する方式</td>
</tr>
<tr>
<td>プロバイダ方式</td>
<td>クラスタを構成する全ノードのアドレスをプロバイダを用いて提供する方式</td>
</tr>
</tbody>
</table>
<p>アプリケーションからクラスタに接続する際には、クラスタ定義ファイルgs_cluster.jsonで定義されている接続方式に合わせて、アプリケーション側の設定を行う必要があります。</p>
<p>まずはクラスタ定義ファイルgs_cluster.jsonを参照し、使用されている接続方式を確認してください。次に接続方式に基づいて、対応する値をPropertiesオブジェクトに設定してください。</p>
<table>
<thead>
<tr>
<th>接続方式</th>
<th>アプリケーションで指定するプロパティのキー</th>
<th>内容</th>
<th>指定する値</th>
</tr>
</thead>
<tbody>
<tr>
<td>マルチキャスト方式</td>
<td>notificationAddress<br><br>notificationPort</td>
<td>マルチキャストのアドレス<br><br>マルチキャストのポート番号</td>
<td>/transaction/notificationAddressの値<br><br>/transaction/notificationPortの値</td>
</tr>
<tr>
<td>固定リスト方式</td>
<td>notificationMember</td>
<td>クラスタを構成するノードのアドレスとポート番号のリスト</td>
<td>/cluster/notificationMemberの/transaction/addressと/transaction/portをリスト形式にした値</td>
</tr>
<tr>
<td>プロバイダ方式</td>
<td>notificationProvider</td>
<td>プロバイダのURL</td>
<td>/cluster/notificationProvider/urlの値</td>
</tr>
</tbody>
</table>
<p>[メモ]</p>
<ul>
<li>コネクションプーリングがデフォルトで有効です。最大接続数はGridStoreFactoryのmaxConnectionPoolSizeプロパティで指定できます。デフォルトは16です。詳細は、『<a href="../13.md_reference_c_api/md_reference_c_api.html">GridDB C APIリファレンス</a>』をご参照ください。</li>
</ul>
<p>3つの接続方式について、クラスタ定義ファイルgs_cluster.jsonの記述内容と対応する接続プログラムの例を示します。</p>
<p><strong>マルチキャスト方式の例</strong></p>
<ul>
<li>
<p>gs_cluster.jsonの記述が以下の場合(一部抜粋)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;transaction&#34;</span><span style="color:#000;font-weight:bold">:{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;notificationAddress&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;notificationInterval&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;1s&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;notificationPort&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">31999</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
<li>
<p>接続プログラムのプロパティキーnotificationAddressとnotificationPortには、マルチキャストアドレスとポート番号を記述します。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">};</span>
</span></span></code></pre></div></li>
</ul>
<p><strong>固定リスト方式の例</strong></p>
<ul>
<li>
<p>gs_cluster.jsonに記述されている値(一部抜粋)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;replicationNum&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;notificationMember&#34;</span><span style="color:#000;font-weight:bold">:[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.10&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10010</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;sync&#34;</span><span style="color:#000;font-weight:bold">:</span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.10&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10020</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;system&#34;</span><span style="color:#000;font-weight:bold">:</span>  <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.10&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10040</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;transaction&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.10&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10001</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.11&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10010</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;sync&#34;</span><span style="color:#000;font-weight:bold">:</span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.11&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10020</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;system&#34;</span><span style="color:#000;font-weight:bold">:</span>  <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.11&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10040</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;transaction&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.11&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10001</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.12&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10010</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;sync&#34;</span><span style="color:#000;font-weight:bold">:</span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.12&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10020</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;system&#34;</span><span style="color:#000;font-weight:bold">:</span>  <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.12&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10040</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;transaction&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.12&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10001</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
<li>
<p>接続プログラムのプロパティキーnotificationMemberには、アドレスとポート番号を:で連結してカンマで区切った値を記述します。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationMember&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;192.168.1.10:10001,192.168.1.11:10001,192.168.1.12:10001&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">};</span>
</span></span></code></pre></div></li>
</ul>
<p><strong>プロバイダ方式の例</strong></p>
<ul>
<li>
<p>例) gs_cluster.jsonの記述が以下の場合(一部抜粋)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;replicationNum&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;notificationProvider&#34;</span><span style="color:#000;font-weight:bold">:{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;url&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;http://example.com/notification/provider&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;updateInterval&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;30s&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
<li>
<p>接続プログラムのプロパティキーnotificationProviderにはurlの値を記述します。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationProvider&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;http://example.com/notification/provider&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">};</span>
</span></span></code></pre></div></li>
</ul>
<h4 id="プロパティ-1">プロパティ</h4>
<p>接続方式以外の主なプロパティは以下です。
その他のプロパティの詳細は、『<a href="../13.md_reference_c_api/md_reference_c_api.html">GridDB C APIリファレンス</a>』の「gsGetGridStore」をご参照ください。</p>
<table>
<thead>
<tr>
<th>項目</th>
<th>プロパティのキー</th>
<th>必須</th>
<th>指定する値</th>
</tr>
</thead>
<tbody>
<tr>
<td>クラスタ名</td>
<td>clusterName</td>
<td>必須</td>
<td>gs_cluster.jsonの/cluster/clusterNameに記載している値</td>
</tr>
<tr>
<td>データベース名</td>
<td>database</td>
<td>publicデータベースに接続する場合は省略可<br>それ以外は必須</td>
<td>接続するデータベース名</td>
</tr>
<tr>
<td>ユーザ名</td>
<td>user</td>
<td>必須</td>
<td>接続するユーザ名(管理ユーザ・一般ユーザどちらも可)</td>
</tr>
<tr>
<td>パスワード</td>
<td>password</td>
<td>必須</td>
<td>接続するユーザのパスワード</td>
</tr>
<tr>
<td>アプリケーション名</td>
<td>applicationName</td>
<td>省略可</td>
<td>アプリケーションを識別するための名前<br>(運用ツールgs_shでコネクション情報や実行中イベントを確認する時に表示されます)</td>
</tr>
<tr>
<td>タイムゾーン</td>
<td>timeZone</td>
<td>省略可</td>
<td>時分で指定：±hh:mm または ±hhmm <br> タイムゾーンID：「Z」のみサポート<br>上位(JavaVM)の環境引継ぎ：auto<br>※省略時は「Z」相当</td>
</tr>
<tr>
<td>認証方式</td>
<td>authentication</td>
<td>省略可</td>
<td>認証方式として、INTERNAL(内部認証) / LDAP(LDAP認証)のいずれかを指定<br>※省略時は自動的に認証方式を選択</td>
</tr>
<tr>
<td>SSL通信</td>
<td>sslMode</td>
<td>省略可</td>
<td>以下のいずれかを指定 <br> ・PREFERRED(クラスタ設定に従う)  <br> ・VERIFY(SSL有効、サーバ証明書検証実施)  <br>   ・DISABLED(無効)<br>※省略時はPREFERRED</td>
</tr>
<tr>
<td>マルチキャストパケットを受信するインターフェースアドレス</td>
<td>notificationInterfaceAddress</td>
<td>省略可</td>
<td>複数のネットワークインターフェースがあるときにクラスタのネットワーク構成をマルチキャスト方式にする場合は、マルチキャストパケットを受信するインターフェースのIPアドレスを指定</td>
</tr>
<tr>
<td>フェイルオーバタイムアウト</td>
<td>failoverTimeout</td>
<td>省略可</td>
<td>クライアントフェイルオーバのタイムアウト時間（秒）<br>※省略時はGridStoreFactoryの設定値に従う</td>
</tr>
<tr>
<td>トランザクションタイムアウト</td>
<td>transactionTimeout</td>
<td>省略可</td>
<td>トランザクションのタイムアウト時間（秒）<br>※省略時は300(秒)</td>
</tr>
</tbody>
</table>
<p>[メモ]</p>
<ul>
<li>
<p>上記以外に、GridStoreFactoryに設定可能な以下のプロパティがあります。詳細は、『<a href="../13.md_reference_c_api/md_reference_c_api.html">GridDB C APIリファレンス</a>』をご参照ください。</p>
<table>
<thead>
<tr>
<th>項目</th>
<th>プロパティのキー</th>
<th>必須</th>
<th>指定する値</th>
</tr>
</thead>
<tbody>
<tr>
<td>フェイルオーバタイムアウト</td>
<td>failoverTimeout</td>
<td>省略可</td>
<td>クライアントフェイルオーバのタイムアウト時間（秒）<br>※省略時は120(秒)</td>
</tr>
<tr>
<td>最大接続プールサイズ</td>
<td>maxConnectionPoolSize</td>
<td>省略可</td>
<td>接続プールで保持する最大接続数<br>※省略時は16</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>接続時にデータベースを指定します。その接続では、指定したデータベース上のデータにしかアクセスできません。別のデータベースに対して操作を行う場合には改めて接続処理を行ってください。</p>
<ul>
<li>例) データベースpublicの操作と、データベースuserDB1の操作を行う場合のプログラム</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// データベース以外のプロパティ指定は省略
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// データベースpublicに接続
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a40000">・・・</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsGetDefaultFactory</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">propCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store1</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;container1&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>  <span style="color:#8f5902;font-style:italic">// データベースpublic上のコンテナcontainer1を取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsCloseGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// データベースuserDB1に接続
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;userDB1&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a40000">・・・</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsGetDefaultFactory</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">propCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;container2&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>  <span style="color:#8f5902;font-style:italic">// データベースuserDB1上のコンテナcontainer1を取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsCloseGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div></li>
<li>
<p>コンテナの取得getContainerを高速化するために、コンテナ情報をキャッシュする機能があります。
アクセスするコンテナ数が多い場合にはキャッシュのサイズを増やすことを推奨します。
キャッシュのサイズは、接続時のプロパティキーで指定します。</p>
<ul>
<li>デフォルトではキャッシュ機能は無効です</li>
<li>プロパティキーcontainerCacheSizeに指定する値は、キャッシュに情報を格納するContainerオブジェクトの数です</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;containerCacheSize&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;10000&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a40000">・・・</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
<li>
<p>クラスタに実際に接続するのは、GridStoreオブジェクトを生成してから、最初にコンテナ作成や検索などのデータ操作を実施した時です。
接続先の誤りなどで接続が失敗する場合、GridStoreオブジェクトの生成ではエラーは発生せず、
次のデータ操作のメソッドで接続エラーが発生します。</p>
</li>
<li>
<p>タイムゾーンでサポートされている範囲は以下になります。</p>
<ul>
<li>オフセット範囲: -23:59～+23:59</li>
<li>夏時間: 非サポート</li>
<li>タイムゾーンID (JSTなど): 「Z」を除き非サポート</li>
</ul>
</li>
<li>
<p>日付時刻機能の中でタイムゾーンを扱う場合には付録の<a href="#date_function">日付時刻機能を利用する上でのアプリ向けの推奨事項</a>をご参照ください。</p>
</li>
<li>
<p>SSL通信設定(sslMode)をVERIFYに設定する場合、GridDBクラスタ側の設定も必要です。詳細は、『<a href="../3.md_reference_feature/md_reference_feature.md">GridDB 機能リファレンス</a>』の「通信の暗号化」を参照してください。また、環境変数<code>SSL_CERT_FILE</code>に、信頼する認証局の証明書のパスを指定してください。</p>
</li>
</ul>
<h3 id="コンテナを作成する-1">コンテナを作成する</h3>
<p>コンテナを作成します。コンテナには、コレクションと時系列コンテナの2つの種類があります。
コンテナ作成では、カラム名やデータ型などのスキーマを指定する必要があります。
スキーマを指定する方法として、次の2つの方法があります。</p>
<ul>
<li>
<p>メソッドでスキーマを指定する方法</p>
<ul>
<li>C APIのメソッドを使用して、スキーマを指定します。</li>
</ul>
</li>
<li>
<p>構造体でスキーマを指定する方法</p>
<ul>
<li>Cの構造体を使用して、スキーマを指定します。</li>
</ul>
</li>
</ul>
<p>それぞれの方法について説明します。</p>
<p><a id="c_create_collection_by_method"></a></p>
<h4 id="メソッドでスキーマを指定する方法-1">メソッドでスキーマを指定する方法</h4>
<p>コンテナのスキーマはメソッドを使用して動的に指定します。
スキーマを表すコンテナ情報クラスGSContainerInfoやカラム情報クラスGSColumnInfoを用います。
これらを用いてコンテナを作成するメソッドは以下の通りです。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>コレクション作成</td>
<td>gsPutCollectionGeneral(GSGridStore *store, const GSChar *name, const GSContainerInfo *info, GSBool modifiable, GSCollection **collection)</td>
</tr>
<tr>
<td>時系列コンテナ作成</td>
<td>gsPutTimeSeriesGeneral (GSGridStore *store, const GSChar *name, const GSContainerInfo *info, GSBool modifiable, GSTimeSeries **timeSeries)</td>
</tr>
<tr>
<td>コンテナ(コレクション、または時系列コンテナ)作成</td>
<td>gsPutContainerGeneral(GSGridStore *store, const GSChar *name, const GSContainerInfo *info, GSBool modifiable, GSContainer **container)</td>
</tr>
</tbody>
</table>
<p>コンテナ作成のメソッドgsPutContainerGeneralは、コレクションと時系列コンテナのどちらの種類も作成できます。</p>
<h5 id="コレクションの作成-gsputcollectiongeneral">コレクションの作成 gsPutCollectionGeneral</h5>
<p>コレクション作成gsPutCollectionGeneralを用いて、コレクションを作成するプログラムの全体を以下に示します。</p>
<!-- CreateCollectionByMethod.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&#34;gridstore.h&#34;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;stdlib.h&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;stdio.h&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">argc</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">char</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">argv</span><span style="color:#000;font-weight:bold">[]){</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GSGridStore</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GSContainer</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GSCollection</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GSContainerInfo</span> <span style="color:#000">info</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_INFO_INITIALIZER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GSColumnInfo</span> <span style="color:#000">columnInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_COLUMN_INFO_INITIALIZER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GSColumnInfo</span> <span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GSResult</span> <span style="color:#000">ret</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">size_t</span> <span style="color:#000">stackSize</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GSResult</span> <span style="color:#000">errorCode</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GSChar</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1024</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1024</span><span style="color:#000;font-weight:bold">];</span>	<span style="color:#8f5902;font-style:italic">// エラーメッセージを格納するバッファ
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// クラスタに接続する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// 接続情報を指定する (マルチキャスト方式)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">size_t</span> <span style="color:#000">propCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">props</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">props</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// GridStoreインスタンスを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsGetDefaultFactory</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">propCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetGridStore</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// コンテナ作成や取得などの操作を行うと、クラスタに接続される
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;containerName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">gsCloseContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Connect to Cluster</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// コレクションを作成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// (1)コンテナ種別を設定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_COLLECTION</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// (2)ロウキーありの場合は設定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowKeyAssigned</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// (3)カラム情報を定義する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;id&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;productName&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_STRING</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// (4)カラム情報をコンテナ情報オブジェクトに設定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnInfoList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// (5)コレクションを作成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutCollectionGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_collection1&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutCollectionGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Create Collection name=SampleC_collection1</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// 終了処理
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// リソースを解放する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">gsCloseGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">return</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f57900">LABEL_ERROR</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// エラー処理
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// エラーコードとエラーメッセージを出力する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">stackSize</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorStackSize</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">stackSize</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">errorCode</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorCode</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">gsFormatErrorMessage</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">gsFormatErrorLocation</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;[%d] %s (%s)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errorCode</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// リソースを解放する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">gsCloseGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">return</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>コレクションを作成する箇所を説明します。
(3)カラム名やデータ型は、カラム情報GSColumnInfoに指定します。
複数のカラムがある場合は、GSColumnInfoを複数生成します。
(4)GSColumnInfoはコンテナ情報GSContainerInfoにセットします。
(5)この情報を用いて、putCollectionでコレクションを作成します。</p>
<p>[メモ]</p>
<ul>
<li>
<p>既に存在するコンテナと同じ名前を指定した場合、指定したスキーマ定義と既存コンテナのスキーマ定義が
同じであればエラーにはなりません。コンテナの取得(GSGetContainerGeneralなど)を実行した時と同じ動作になります。</p>
<p>スキーマ定義が異なる場合、引数modifiableにtrueが指定されていると既存のスキーマ定義を変更します。
引数modifiableにfalseが指定されているとエラーになります。modifiableは、既存コンテナのスキーマ変更を許可するかどうかを指定する変数です。
コンテナの新規作成の場合はfalseを指定してください。</p>
</li>
<li>
<p>ロウキーを設定すると、一番目のカラムがロウキーになります。</p>
</li>
</ul>
<p><a id="c_create_container_by_method"></a></p>
<h5 id="時系列コンテナを作成する-gsputtimeseriesgeneral">時系列コンテナを作成する gsPutTimeSeriesGeneral</h5>
<p>時系列コンテナ作成gsPutTimeSeriesGeneralを用いて、時系列コンテナを作成します。
プログラム全体の流れはコレクションの作成と同様ですので、異なる部分のプログラムのみを示します。</p>
<!-- CreateTimeseries.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 時系列コンテナを作成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)コンテナ種別を設定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_TIME_SERIES</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)ロウキーを設定する (時系列コンテナはロウキーの設定が必須)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowKeyAssigned</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)カラム情報を定義する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;date&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_TIMESTAMP</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;value&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_DOUBLE</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)カラム情報をコンテナ情報オブジェクトに設定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnInfoList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (5)時系列コンテナを作成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutTimeSeriesGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_timeseries1&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">timeseries</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutTimeSeriesGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Create TimeSeries name=SampleC_timeseries1</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>[メモ]</p>
<ul>
<li>時系列コンテナの場合は、第一カラムはTIMESTAMP型のデータ型で、かつ、ロウキーの設定が必要です。</li>
<li>時系列コンテナ特有の設定は、GSTimeSeriesPropertiesオブジェクトを用います。</li>
</ul>
<h5 id="コンテナを作成する-gsputcontainergeneral">コンテナを作成する gsPutContainerGeneral</h5>
<p>コンテナ作成gsPutContainerGeneralメソッドは、コレクションと時系列コンテナのどちらでも作成することができます。
コレクションと時系列コンテナの種別は、GSContainerInfo.typeで指定します。</p>
<ul>
<li>
<p>コレクションの作成方法</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// カラム情報の指定は省略
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コンテナ種別を指定
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_COLLECTION</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コレクション作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;collection3&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div></li>
<li>
<p>時系列コンテナの作成方法</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// カラム情報の指定は省略
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コンテナ種別を指定
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_TIME_SERIES</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 時系列コンテナ作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;timeseries3&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">timeseries</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div></li>
</ul>
<p><a id="c_create_collection_by_class"></a></p>
<h4 id="構造体でスキーマを指定する方法">構造体でスキーマを指定する方法</h4>
<p>Cの構造体を用いて、コンテナのスキーマを定義します。メンバ変数が、GridDBのコンテナのカラムに対応付けされます。
構造体を用いた方法では以下のメソッドを使用します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>コレクション作成</td>
<td>gsPutCollection(GSGridStore *store, const GSChar *name, const GSBinding *binding, const GSCollectionProperties *properties, GSBool modifiable, GSCollection **collection)</td>
</tr>
<tr>
<td>時系列コンテナ作成</td>
<td>gsPutTimeSeries(GSGridStore *store, const GSChar *name, const GSBinding *binding, const GSTimeSeriesProperties *properties, GSBool modifiable, GSTimeSeries **timeSeries)</td>
</tr>
<tr>
<td>コンテナ(コレクション、または時系列コンテナ)作成</td>
<td>gsPutContainer(GSGridStore *store, const GSChar *name, const GSBinding *binding, const GSContainerInfo *info, GSBool modifiable, GSContainer **container)</td>
</tr>
</tbody>
</table>
<p>コンテナ作成のメソッドgsPutContainerは、コレクションと時系列コンテナのどちらの種類も作成できます。</p>
<p>コレクション作成gsPutCollectionを用いて、ロウキーありのコレクションを作成するプログラムを以下に示します。</p>
<p>時系列コンテナの作成gsPutTimeseriesとコンテナ作成gsPutContainerの場合も、プログラムの流れは同様です。</p>
<!-- CreateCollectionByClass.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)コレクションの構造体を定義する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">typedef</span> <span style="color:#204a87;font-weight:bold">struct</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">uint64_t</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span> <span style="color:#000">Product</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)構造体とスキーマの対応関係を定義する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">GS_STRUCT_BINDING</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">Product</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GS_STRUCT_BINDING_KEY</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GS_STRUCT_BINDING_ELEMENT</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_STRING</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GS_STRUCT_BINDING_ELEMENT</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">count</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">argc</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">char</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">argv</span><span style="color:#000;font-weight:bold">[]){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// 省略
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// コレクションを作成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutCollection</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_collection2&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_GET_STRUCT_BINDING</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">Product</span><span style="color:#000;font-weight:bold">),</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutCollection</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stdout</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;Create Collection name=SampleC_collection2</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>(1)コレクションをCの構造体で定義します。</p>
<p>(2)GS_STRUCT_BINDINGを用いて、構造体とコレクションのスキーマの対応関係を定義します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>マクロ</th>
</tr>
</thead>
<tbody>
<tr>
<td>構造体とスキーマの対応を取得</td>
<td>GS_GET_STRUCT_BINDING(type)</td>
</tr>
<tr>
<td>構造体とスキーマの対応を定義</td>
<td>GS_STRUCT_BINDING(type, entries)</td>
</tr>
<tr>
<td>構造体メンバとロウキーの対応を定義</td>
<td>GS_STRUCT_BINDING_KEY(member, memberType)</td>
</tr>
<tr>
<td>構造体メンバとカラム(基本型)の対応を定義</td>
<td>GS_STRUCT_BINDING_ELEMENT(member, memberType)</td>
</tr>
<tr>
<td>構造体メンバとカラム(配列型)の対応を定義</td>
<td>GS_STRUCT_BINDING_ARRAY(member, sizeMember, elementType)</td>
</tr>
<tr>
<td>構造体メンバとロウキーの対応を定義 (カラム名指定)</td>
<td>GS_STRUCT_BINDING_NAMED_KEY(name, member, memberType)</td>
</tr>
<tr>
<td>構造体メンバとカラム(基本型)の対応を定義 (カラム名指定)</td>
<td>GS_STRUCT_BINDING_NAMED_ELEMENT(name, member, memberType)</td>
</tr>
<tr>
<td>構造体メンバとカラム(配列型)の対応を定義 (カラム名指定)</td>
<td>GS_STRUCT_BINDING_NAMED_ARRAY(name, member, sizeMember, elementType)</td>
</tr>
</tbody>
</table>
<ul>
<li>カラムの順番は、GS_STRUCT_BINDINGのentriesに指定した順番になります。</li>
<li>配列型の場合、構造体は配列のサイズを格納する変数を持つ必要があります。</li>
</ul>
<p>例)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 構造体を定義する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">typedef</span> <span style="color:#204a87;font-weight:bold">struct</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#204a87;font-weight:bold">int8_t</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">lob</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">size_t</span> <span style="color:#000">lobSize</span><span style="color:#000;font-weight:bold">;</span>	<span style="color:#8f5902;font-style:italic">// lobのサイズ
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span> <span style="color:#000">Product</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 構造体とコンテナスキーマの対応関係を定義する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">GS_STRUCT_BINDING</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">Product</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GS_STRUCT_BINDING_KEY</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">GS_STRUCT_BINDING_ARRAY</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">lob</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">lobSize</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_BYTE</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>[メモ]</p>
<ul>
<li>既に存在するコンテナと同じ名前を指定した場合、指定したスキーマ定義と既存コンテナのスキーマ定義が
同じであればエラーにはなりません。コンテナの取得(GSGetContainerGeneralなど)を実行した時と同じ動作になります。</li>
</ul>
<h3 id="コンテナを取得する-1">コンテナを取得する</h3>
<p>コンテナの名前を指定して、コンテナを取得します。
データの登録やTQLなどのロウ操作を行うためには、まずコンテナを取得する必要があります。</p>
<p>コンテナ取得には以下のメソッドがあります。ロウ操作する際のロウのタイプの違い(GSRowとユーザ定義の構造体)によって2種類に分けられます。</p>
<p><strong>GSRow</strong></p>
<ul>
<li>コンテナオブジェクトを取得します。取得したコンテナオブジェクトに対しては、GSRowを使ってロウ操作できます。
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>コレクション取得</td>
<td>gsGetCollectionGeneral(GSGridStore *store, const GSChar *name, GSCollection **collection)</td>
</tr>
<tr>
<td>時系列コンテナ取得</td>
<td>gsGetTimeSeriesGeneral(GSGridStore *store, const GSChar *name, GSTimeSeries **timeSeries)</td>
</tr>
<tr>
<td>コンテナ取得</td>
<td>gsGetContainerGeneral(GSGridStore *store, const GSChar *name, GSContainer **container)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p><strong>ユーザ定義の構造体</strong></p>
<ul>
<li>コンテナオブジェクトを取得します。取得したコンテナオブジェクトに対しては、ユーザがスキーマとして定義した構造体を使ってロウ操作できます。
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>コレクション取得</td>
<td>gsGetCollection(GSGridStore *store, const GSChar *name, const GSBinding *binding, GSCollection **collection)</td>
</tr>
<tr>
<td>時系列コンテナ取得</td>
<td>gsGetTimeSeries(GSGridStore *store, const GSChar *name, const GSBinding *binding, GSTimeSeries **timeSeries)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>例) コンテナ取得(GSRowでロウ操作を行う)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#000">Row</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)コレクション取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsGetCollectionGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;collection1&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)空のロウオブジェクトの作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)ロウキーを指定してロウ(GSRow)取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsGetRowByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)ロウから値を取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetRowFieldAsString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>例) コンテナ取得(ユーザ定義のクラスでロウ操作を行う)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">typedef</span> <span style="color:#204a87;font-weight:bold">struct</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">uint64_t</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span> <span style="color:#000">Product</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GS_STRUCT_BINDING</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">Product</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GS_STRUCT_BINDING_KEY</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GS_STRUCT_BINDING_ELEMENT</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_STRING</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GS_STRUCT_BINDING_ELEMENT</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">count</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">argc</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">char</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">argv</span><span style="color:#000;font-weight:bold">[]){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">Product</span> <span style="color:#000">product</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// 省略
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// (1)コレクション取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">gsGetCollection</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;collection1&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_GET_STRUCT_BINDING</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">Product</span><span style="color:#000;font-weight:bold">),</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// (2)ロウキーを指定してロウ(Product)取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">gsGetRowByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">product</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// (3)ロウから値を取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">product</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// 省略
</span></span></span></code></pre></div><p><a id="c_put_row"></a></p>
<h3 id="データを登録する-1">データを登録する</h3>
<p>コンテナにロウを登録する場合は、以下のメソッドを使用します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>ロウオブジェクトの作成(コンテナ指定)</td>
<td>gsCreateRowByContainer(GSContainer *container, GSRow **row)</td>
</tr>
<tr>
<td>ロウオブジェクトの作成(コンテナ情報指定)</td>
<td>gsCreateRowByStore(GSGridStore *store, const GSContainerInfo *info, GSRow **row)</td>
</tr>
<tr>
<td>ロウオブジェクトに値を格納</td>
<td>gsSetRowFieldByXXXXX    (※XXXXXはデータ型)</td>
</tr>
<tr>
<td>ロウ登録</td>
<td>gsPutRow(GSContainer *container, const void *key, const void *rowObj, GSBool *exists)</td>
</tr>
</tbody>
</table>
<p>コンテナに対してロウをひとつ登録するプログラムを以下に示します。</p>
<!-- PutRow.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)コンテナを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_PutRow&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87">NULL</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR Container not found. name=SampleC_PutRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)空のロウオブジェクトの作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCreateRowByContainer</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)カラム値をセット
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsSetRowFieldByString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;display&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">150</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)ロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>ロウを登録する部分を説明します。
(1)ロウを登録するコンテナを取得します。
(2)コンテナオブジェクトから、空のロウオブジェクトを生成します。
(3)空のロウオブジェクトに、登録するデータをセットします。
(4)コンテナにロウを登録します。</p>
<p>GridDBのデータ型とCのデータ型の対応付けは<a href="#c_data_type">データ型の対応付け</a>を参照ください。</p>
<p>[メモ]</p>
<ul>
<li>
<p>コミットには、自動コミットモードと手動コミットモードの2つの動作モードがあります。</p>
<ul>
<li>自動コミットモードの場合、gsPutRowを実行すると自動的にロウがコミットされます。</li>
<li>手動コミットモードの場合には、明示的にコミットの実行が必要です。コミットはコンテナ単位です。コンテナをまたがったトランザクション処理はできません。</li>
<li>デフォルトは自動コミットモードです。</li>
</ul>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>コミットモードの設定</td>
<td>gsSetAutoCommit(GSContainer *container, GSBool enabled)</td>
</tr>
<tr>
<td>コミット</td>
<td>gsCommit(GSContainer *container)</td>
</tr>
<tr>
<td>アボート</td>
<td>gsAbort(GSContainer *container)</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>例) 手動コミットモードの場合</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (ロウオブジェクトの作成は省略)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 手動コミットモードを指定
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsSetAutoCommit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ロウ登録
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsPutRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コミット
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsCommit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>ロウオブジェクトにカラム値をセットしなかった場合、カラムの初期値が登録されます。
初期値は、カラムのデータ型によって定義されています。
詳細は『<a href="../13.md_reference_c_api/md_reference_c_api.html">GridDB C APIリファレンス</a>』の「gsCreateRowByStore」をご参照ください。</p>
</li>
</ul>
<p><a id="c_put_rows"></a>
<strong>ひとつのコンテナに複数のロウを登録</strong></p>
<p>複数のロウを一度に登録することもできます。以下のメソッドを使用します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>ロウ登録</td>
<td>gsPutMultipleRows(GSContainer *container, const void *const *rowObjs, size_t rowCount, GSBool *exists)</td>
</tr>
</tbody>
</table>
<p>gsPutMultipleRowsを用いて、ひとつのコンテナに複数のロウを登録するプログラムを示します。</p>
<!-- PutRows.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#000">GSRow</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">rowObj</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSRow</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">rowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 省略
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)コンテナを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_PutRows&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87">NULL</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR Container not found. name=SampleC_PutRows</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)複数のロウオブジェクトを作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// 空のロウオブジェクトを生成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// ロウオブジェクトに値をセット
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsSetRowFieldByString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;dvd&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">rowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">rowObj</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">void</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000;font-weight:bold">)</span><span style="color:#000">rowList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)複数のロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutMultipleRows</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">rowObj</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutMultipleRows</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>複数のロウオブジェクトを作成してgsPutMultipleRowsを実行します。</p>
<p>[メモ]</p>
<ul>
<li>
<p>ロウキーありのコンテナに対してputする場合、既に存在するロウキーと同じ値のロウを指定すると、既存のロウを更新します。</p>
</li>
<li>
<p>自動コミットモード(デフォルト)の場合、putを実行すると自動的にロウがコミットされます。</p>
</li>
</ul>
<p><a id="c_get_row"></a></p>
<h3 id="データを取得する-1">データを取得する</h3>
<p>コンテナからロウを取得します。</p>
<p>ロウキーが設定されているコンテナの場合、ロウキーの値を指定してロウを取得できます。
ロウキーが設定されていない場合は、後述のTQLを利用してロウを取得します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>ロウ取得</td>
<td>gsGetRow(GSContainer *container, const void *key, void *rowObj, GSBool *exists)</td>
</tr>
<tr>
<td>ロウ取得</td>
<td>gsGetRowByXXXXX  (※XXXXXはロウキーのデータ型)</td>
</tr>
<tr>
<td>ロウオブジェクトからカラム値の取得</td>
<td>gsGetRowFieldByXXXXX  (※XXXXXはカラムのデータ型)</td>
</tr>
</tbody>
</table>
<p>ロウキーありのコレクションから、ロウキーの値が&quot;0&quot;のロウを取得するプログラムを以下に示します。</p>
<!-- GetRow.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ロウを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)コンテナを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87">NULL</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR Container not found. name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)空のロウオブジェクトの作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)ロウキーを指定してロウ取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetRowByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetRowByInteger</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)ロウから値を取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetRowFieldAsString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Get Row (id=%d, productName=%s, count=%d)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">productName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>ロウを取得する処理の部分を説明します。
(2)空のロウオブジェクトを作成します。
(3)コンテナに対してロウキーを指定して、ロウを取得します。
(4)取得したロウは、カラムのデータ型に合わせてgetメソッドで値を取り出します。</p>
<h3 id="tqlを実行する-1">TQLを実行する</h3>
<p>TQLを実行します。</p>
<p>TQLの実行では、SELECTの選択式の種類によって、実行結果のクラスや処理方法が異なります。</p>
<table>
<thead>
<tr>
<th>SELECTの選択式の種類</th>
<th>内容</th>
<th>実行結果のクラス型</th>
</tr>
</thead>
<tbody>
<tr>
<td>ロウ(*)</td>
<td>コンテナに格納されているロウを取得します <br>例) SELECT * FROM container1</td>
<td>コンテナのロウオブジェクトの型<br>(Container&lt;K,R&gt;のRの型)</td>
</tr>
<tr>
<td>集計演算(MAX, MIN, COUNTなど)</td>
<td>集計演算の結果を取得します <br>例) SELECT COUNT(*) FROM container1</td>
<td>AggregationResult型</td>
</tr>
</tbody>
</table>
<p>[メモ]</p>
<ul>
<li>
<p>TQLでコンテナやカラムを指定する場合、名前に記号を含む名前はダブルクォーテーションで囲む必要があります。</p>
<pre tabindex="0"><code>select * from &#34;test.container&#34;;
</code></pre></li>
</ul>
<p><a id="c_tql_select"></a></p>
<h4 id="ロウを検索する-1">ロウを検索する</h4>
<p>ロウの値を検索するTQLを実行する場合は、以下のメソッドを使用します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>クエリ生成</td>
<td>gsQuery(GSContainer *container, const GSChar *queryString, GSQuery **query)</td>
</tr>
<tr>
<td>クエリ実行</td>
<td>gsFetch(GSQuery *query, GSBool forUpdate, GSRowSet **rowSet)</td>
</tr>
<tr>
<td>結果セットにロウが存在するか</td>
<td>gsHasNextRow (GSRowSet *rowSet)</td>
</tr>
<tr>
<td>結果セットからロウオブジェクト取得</td>
<td>gsGetNextRow(GSRowSet *rowSet, void *rowObj)</td>
</tr>
</tbody>
</table>
<p>コレクションに対してカラムcountが50以上のロウを検索し、結果をidの昇順でソートして返すTQLのプログラムを示します。</p>
<!-- TQLSelect.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// TQLで検索する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)コンテナを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87">NULL</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR Container not found. name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)TQLで検索実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">queryStr</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SELECT * WHERE count &gt;= 50 ORDER BY id&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TQL query : %s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">queryStr</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">queryStr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsQuery</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsFetch</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsFetch</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)空のロウを作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)結果を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsHasNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// (5)ロウを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetNextRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetRowFieldAsString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TQL result: id=%d, productName=%s, count=%d</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">productName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>検索処理の部分を説明します。(2)実行するTQLでクエリオブジェクトを生成し、gsFetchで検索を実行します。
(3)結果を取得するための空のロウオブジェクトを作成します。
(4)検索結果を取得します。コンテナのカラムのデータ型に合わせて、getメソッドでロウの値を取得します。</p>
<p><a id="c_tql_aggregation"></a></p>
<h4 id="集計演算を行う-1">集計演算を行う</h4>
<p>集計演算のTQLを実行する場合は、以下のメソッドを使用します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>クエリ生成</td>
<td>gsQuery(GSContainer *container, const GSChar *queryString, GSQuery **query)</td>
</tr>
<tr>
<td>クエリ実行</td>
<td>gsFetch(GSQuery *query, GSBool forUpdate, GSRowSet **rowSet)</td>
</tr>
<tr>
<td>結果セットにロウが存在するか</td>
<td>gsHasNextRow (GSRowSet *rowSet)</td>
</tr>
<tr>
<td>結果セットからGSAggregationResultを取得</td>
<td>gsGetNextAggregation (GSRowSet *rowSet, GSAggregationResult **aggregationResult)</td>
</tr>
<tr>
<td>GSAggregationResultから値を取得</td>
<td>gsGetAggregationValueAsXXXXX (※XXXXXはデータ型)</td>
</tr>
</tbody>
</table>
<p>コレクションに対して、カラムcountの最大値を取得するプログラムを示します。</p>
<!-- TQLAggregation.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)TQLで集計演算の実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SELECT MAX(count)&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsQuery</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsFetch</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsFetch</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)結果を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsHasNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">int64_t</span> <span style="color:#000">max</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// (3)集計演算の結果を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetNextAggregation</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">aggregationResult</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetNextRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// (4)値を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">gsGetAggregationValueAsLong</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">aggregationResult</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">max</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TQL result: max=%d</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">max</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(3)GSRowSetから値を取り出す時に、集計演算用のgsGetNextAggregationを使用します。
(4)実行した集計演算の種類によってGSAggregationResultオブジェクトの値のデータ型は異なります。データ型に合わせて値を取得します。</p>
<p>TQLの集計演算の一覧は、<a href="#c_tql_aggregation">集計演算を行う</a>を参照ください。</p>
<p>[メモ]</p>
<ul>
<li>集計演算は、ひとつのクエリでひとつしか指定できません。
<ul>
<li>例) 次のTQLはエラーになります。　SELECT MAX(value), MIN(value)</li>
</ul>
</li>
</ul>
<p><a id="c_batch_functions"></a></p>
<h3 id="複数のコンテナに対して一括で操作を行う-1">複数のコンテナに対して一括で操作を行う</h3>
<p>データの登録や検索の処理では、複数のコンテナに対して一度に操作を行うことができます。複数コンテナ用のメソッドは以下の通りです。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>複数コンテナのロウ登録</td>
<td>gsPutMultipleContainerRows(GSGridStore *store, const GSContainerRowEntry *entryList, size_t entryCount)</td>
</tr>
<tr>
<td>複数コンテナのロウ取得</td>
<td>gsGetMultipleContainerRows(GSGridStore *store, const GSRowKeyPredicateEntry *const *predicateList, size_t predicateCount, const GSContainerRowEntry **entryList, size_t *entryCount)</td>
</tr>
<tr>
<td>複数コンテナのTQL実行</td>
<td>gsFetchAll(GSGridStore *store, GSQuery *const *queryList, size_t queryCount)</td>
</tr>
</tbody>
</table>
<p>ひとつのコンテナに対する操作と複数のコンテナに対する操作では、メソッドや取得条件などが異なりますので、
用途に合わせて適切な方法をご利用ください。相違点を以下の表に示します。</p>
<p>それぞれの方法の説明は、「本書での参照先」の部分をご参照ください。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>処理対象のコンテナ</th>
<th>メソッド</th>
<th>取得条件の指定</th>
<th>本書での参照先</th>
</tr>
</thead>
<tbody>
<tr>
<td>ロウ登録</td>
<td>ひとつ</td>
<td>gsPutRow<br>gsPutMultipleRows</td>
<td>ー</td>
<td><a href="#c_put_row">データを登録する</a></td>
</tr>
<tr>
<td></td>
<td>複数</td>
<td>gsPutMultipleContainerRows</td>
<td>ー</td>
<td><a href="#c_put_rows">複数コンテナのロウ登録</a></td>
</tr>
<tr>
<td>ロウ取得<br>(ロウキー指定)</td>
<td>ひとつ</td>
<td>gsGetRow</td>
<td>ロウキー指定</td>
<td><a href="#c_get_row">データを取得する</a></td>
</tr>
<tr>
<td></td>
<td>複数</td>
<td>gsGetMultipleContainerRows</td>
<td>GSRowKeyPredicateEntryクラスによるロウキー指定、または、ロウキー範囲指定</td>
<td><a href="#c_multiget">複数コンテナのロウ取得</a></td>
</tr>
<tr>
<td>ロウ取得<br>(TQL実行)</td>
<td>ひとつ</td>
<td>gsQuery<br>gsFetch</td>
<td>TQLのクエリ</td>
<td><a href="#c_tql_select">TQLを実行する</a></td>
</tr>
<tr>
<td></td>
<td>複数</td>
<td>gsFetchAll</td>
<td>TQLのクエリ</td>
<td><a href="#c_fetchall">複数コンテナのTQL実行</a></td>
</tr>
</tbody>
</table>
<p><a id="c_multiput"></a></p>
<h4 id="複数コンテナのロウ登録-1">複数コンテナのロウ登録</h4>
<p>複数のコンテナに対して、複数のロウを登録します。
コンテナ名と登録するロウのリストの組合せを作り、multiPutでロウを登録できます。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>複数コンテナのロウ登録</td>
<td>gsPutMultipleContainerRows(GSGridStore *store, const GSContainerRowEntry *entryList, size_t entryCount)</td>
</tr>
</tbody>
</table>
<p>2つのコレクションにそれぞれロウを2個ずつ登録するプログラムを以下に示します。</p>
<!-- MultiPut.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コンテナ名
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;SampleC_MultiPut1&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_MultiPut2&#34;</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">size_t</span> <span style="color:#000">containerCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 登録するロウデータ(各コンテナに5つのロウ)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">size_t</span> <span style="color:#000">rowCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">nameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notebook PC&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;desktop PC&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;keyboard&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;mouse&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;printer&#34;</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">numberList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">][</span><span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#0000cf;font-weight:bold">108</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">72</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">25</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">45</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">62</span> <span style="color:#000;font-weight:bold">},</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#0000cf;font-weight:bold">50</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">11</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">208</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">23</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">153</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 省略
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 複数コンテナにロウを一括登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// (1)コンテナ取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">return</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87">NULL</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR Container not found. name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// (2)複数のロウを生成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// 空のロウオブジェクト生成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// ロウオブジェクトに値をセット
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">j</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsSetRowFieldByString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">nameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">numberList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">][</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">allRowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">][</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// (3)GSContainerRowEntryにコンテナ情報とロウをセット
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">inEntry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">containerName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">inEntry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">allRowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">inEntry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">inEntryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">inEntry</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)複数コンテナにロウを一括登録
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutMultipleContainerRows</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">inEntryList</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutMultipleContainerRows</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">return</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>ひとつのコンテナにロウを登録する時と同様に、コンテナオブジェクトから空のロウを作成して登録するロウを作ります。
GSContainerRowEntryにコンテナ情報とロウをセットし、まとめてgsPutMultipleContainerRowsで登録を行います。</p>
<p>[メモ]</p>
<ul>
<li>指定するコンテナは、既に存在している必要があります。</li>
<li>ひとつのコンテナへのロウ登録と同様に、コンテナ単位でコミットされます。指定した複数のコンテナがまとめてコミットされるわけではありません。</li>
</ul>
<p><a id="c_multiget"></a></p>
<h4 id="複数コンテナのロウ取得-1">複数コンテナのロウ取得</h4>
<p>複数のコンテナから、指定した条件に当てはまるロウを取得します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>複数コンテナのロウ取得</td>
<td>gsGetMultipleContainerRows(GSGridStore *store, const GSRowKeyPredicateEntry *const *predicateList, size_t predicateCount, const GSContainerRowEntry **entryList, size_t *entryCount)</td>
</tr>
</tbody>
</table>
<p>ロウキーの条件はコンテナごとに指定できます。条件には、特定の値を指定する個別条件と、値の範囲を指定する範囲条件の2種類があります。条件はGSRowKeyPredicateで指定します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>条件の生成</td>
<td>gsCreateRowKeyPredicate(GSGridStore *store, GSType keyType, GSRowKeyPredicate **predicate)</td>
</tr>
<tr>
<td>ロウキーの個別条件を設定</td>
<td>gsAddPredicateKeyXXXXX  (※ XXXXXはデータ型)</td>
</tr>
<tr>
<td>ロウキーの範囲条件を設定</td>
<td>gsSetPredicateStartKeyXXXXX<br>gsSetPredicateFinishKeyXXXXX <br>(※ XXXXXはデータ型)</td>
</tr>
</tbody>
</table>
<p>[メモ]</p>
<ul>
<li>個別条件と範囲条件の2つの条件を混在して使用することはできません。</li>
<li>条件をどちらも指定しなかった場合は、すべてのロウが取得されます。</li>
<li>GSRowKeyPredicateは、複数コンテナのロウ取得gsGetMultipleContainerRowsメソッドでのみ使用できます。他のロウ取得getメソッドでは使用できません。</li>
</ul>
<p>個別条件指定で、コレクションからロウを一括で取得するプログラムを以下に示します。</p>
<!-- MultiGet.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コンテナ名
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;SampleC_MultiGet1&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_MultiGet2&#34;</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">size_t</span> <span style="color:#000">containerCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 入力用の変数
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">GSRowKeyPredicate</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">predicate</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSRowKeyPredicateEntry</span> <span style="color:#000">predEntryValueList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSRowKeyPredicateEntry</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">predEntryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 出力用の変数
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSContainerRowEntry</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">outEntryList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">size_t</span> <span style="color:#000">outEntryCount</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSContainerRowEntry</span> <span style="color:#000">outEntry</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_ROW_ENTRY_INITIALIZER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSChar</span> <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 省略
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 複数のコンテナから一括でロウを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)ロウ取得条件を構築する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// GSRowKeyPredicateを生成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">gsCreateRowKeyPredicate</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">predicate</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// 個別条件を設定 (ロウキーの値が0または2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">gsAddPredicateKeyByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">predicate</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsAddPredicateKeyByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">predicate</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// GSRowKeyPredicateEntryに条件を格納する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">predEntryValueList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">].</span><span style="color:#000">containerName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">predEntryValueList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">].</span><span style="color:#000">predicate</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">predicate</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">predEntryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">predEntryValueList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)複数コンテナからロウを一括取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetMultipleContainerRows</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">predEntryList</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">outEntryList</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">outEntryCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetMultipleContainerRows</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)取得結果を出力する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">outEntryCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">outEntry</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">outEntryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">outEntry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">GSRow</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000;font-weight:bold">)</span><span style="color:#000">outEntry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsGetRowFieldAsString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;MultiGet: container=%s, id=%d, productName=%s, count=%d</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">outEntry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">productName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(1)GSRowKeyPredicateを使って取得するロウの条件を生成し、コンテナ名とGSRowKeyPredicateの組合せをGSRowKeyPredicateEntryに格納します。
(2)gsGetMultipleContainerRowsを用いて検索を実行します。
(3)コンテナ名とロウのリストの組合せで結果が返ります。</p>
<p><a id="c_fetchall"></a></p>
<h4 id="複数コンテナのtql実行-1">複数コンテナのTQL実行</h4>
<p>複数のコンテナに対して、TQLを実行します。TQLはコンテナごとに指定できます。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>複数コンテナのTQL実行</td>
<td>gsFetchAll(GSGridStore *store, GSQuery *const *queryList, size_t queryCount)</td>
</tr>
</tbody>
</table>
<p>2つのコレクションに対応するそれぞれのTQLをまとめて実行し、ロウを取得するプログラムを以下に示します。</p>
<!-- FetchAll.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コンテナ名
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;SampleC_FetchAll1&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_FetchAll2&#34;</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">size_t</span> <span style="color:#000">containerCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 各コンテナに対するTQL
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">tqlList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;select * where count &gt; 60&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>                  <span style="color:#4e9a06">&#34;select * where count &gt; 100&#34;</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSContainer</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">containerList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSQuery</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">queryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSRowSet</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSChar</span> <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 省略
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 複数のコンテナにTQLを実行する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)各コンテナのTQLクエリを生成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">containerList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">containerList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87">NULL</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR Container not found. name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;FetchAll query : container=%s, tql=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#000">tqlList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">containerList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#000">tqlList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">queryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsQuery</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)複数コンテナにTQLを一括実行する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsFetchAll</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">queryList</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsFetchAll</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)結果を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// 空のロウオブジェクトを生成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">containerList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// RowSetを取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetRowSet</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">queryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetRowSet</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// ロウを取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsHasNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetNextRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// 値を取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsGetRowFieldAsString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;FetchAll result: container=%s, row=(%d, </span><span style="color:#4e9a06">\&#34;</span><span style="color:#4e9a06">%s</span><span style="color:#4e9a06">\&#34;</span><span style="color:#4e9a06">, %d)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">productName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsCloseRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsCloseRowSet</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsCloseQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">queryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(1)コンテナオブジェクトからTQLのクエリを生成して、リストに格納します。
(2)TQL一括実行gsFetchAllを実行します。
(3)検索結果は、(2)で指定したクエリのリストに格納されます。</p>
<p><a id="c_binary"></a></p>
<h3 id="バイナリデータを扱う-1">バイナリデータを扱う</h3>
<p>バイナリデータを登録、取得します。バイナリのデータ型はBlob型です。他のデータ型と同様に操作することができます。</p>
<p><strong>バイナリデータの登録</strong></p>
<p>バイナリデータをファイルから読み込み、ロウを登録するプログラムを以下に示します。</p>
<!-- BlobData.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)バイナリファイルを読み込む
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">file</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">fopen</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;BlobData.c&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;rb&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (省略)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)空のロウオブジェクトの作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCreateRowByContainer</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)カラム値をセット
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">blob</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">size</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">size</span><span style="color:#000;font-weight:bold">;</span>	<span style="color:#8f5902;font-style:italic">// バイナリサイズ
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">blob</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">data</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">data</span><span style="color:#000;font-weight:bold">;</span>	<span style="color:#8f5902;font-style:italic">// バイナリデータ
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsSetRowFieldByBlob</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">blob</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsSetRowFieldByBlob</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)ロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(1)バイナリデータをファイルから読み込みます。(2)(3)ロウオブジェクトにバイナリデータをセットして、(4)ロウを登録します。</p>
<p><strong>バイナリデータの取得</strong></p>
<p>getBlobでバイナリデータを取得します。</p>
<!-- BlobData.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)空のロウオブジェクトの作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)ロウキーを指定してロウ取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetRowByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetRowByInteger</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)ロウからバイナリ型データを取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">GSBlob</span> <span style="color:#000">blob</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetRowFieldAsBlob</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">blob</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p><a id="c_update"></a></p>
<h3 id="データを更新する-1">データを更新する</h3>
<p>ロウを更新します。ロウの更新には、ロウキーを指定して更新する方法と、TQLの実行結果から更新する方法の2種類があります。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>ロウキーを指定してロウ更新</td>
<td>gsPutRow(GSContainer *container, const void *key, const void *rowObj, GSBool *exists)<br>gsPutMultipleRows(GSContainer *container, const void *const *rowObjs, size_t rowCount, GSBool *exists)</td>
</tr>
<tr>
<td>TQLの実行結果からロウ更新</td>
<td>gsUpdateCurrentRow (GSRowSet *rowSet, const void *rowObj)</td>
</tr>
</tbody>
</table>
<p>ロウキーを指定してロウ更新する方法では、putで指定したロウのロウキーと合致するデータが既に存在していたら、そのデータを更新します。
ロウキーのデータが存在しなかった場合、または、ロウキーが設定されていないコレクションの場合は、putは常にロウの新規登録になります。</p>
<p>TQLの実行結果からロウを更新するプログラムを示します。</p>
<!-- UpdateRowByTQL.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ロウを更新する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)コンテナを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87">NULL</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR Container not found. name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)手動コミットモードに設定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsSetAutoCommit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)TQLで検索実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SELECT * WHERE id = 4&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsQuery</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsFetch</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>	<span style="color:#8f5902;font-style:italic">// 更新するのでforUpdateにはtrueを指定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsFetch</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)結果を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsHasNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// 空のロウオブジェクトを生成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// ロウを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetNextRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// 値を変更する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">325</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// ロウを更新する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsUpdateCurrentRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsUpdateCurrentRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (5)コミットする
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCommit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCommit</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Update row id=4</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>[メモ]</p>
<ul>
<li>TQLの検索結果RowSetからロウの更新を行う場合は、手動コミットモードに設定して、gsFetchメソッドの引数にtrueを指定してロックする必要があります。</li>
</ul>
<h3 id="データを削除する-1">データを削除する</h3>
<p>ロウを削除します。ロウの削除には、ロウキーを指定して削除する方法と、TQLの検索結果から削除する方法の2種類があります。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>ロウキーを指定してロウ削除</td>
<td>gsDeleteRow(GSContainer *container, const void *key, GSBool *exists)<br>gsDeleteRowByXXXXX  (※XXXXXはロウキーのデータ型)</td>
</tr>
<tr>
<td>TQLの検索結果からロウ削除</td>
<td>gsDeleteCurrentRow(GSRowSet *rowSet)</td>
</tr>
</tbody>
</table>
<p><a id="c_remove_row"></a>
ロウキーを指定してロウを削除する方法を用いて、ロウキーの値&quot;3&quot;のロウを削除するプログラムを示します。</p>
<!-- RemoveRowByRowkey.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1) ロウキーを指定してロウを削除する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsDeleteRowByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p><a id="c_remove_rowset"></a>
TQLの検索結果からロウを削除する方法を用いて、カラムcountの値が50未満のロウを削除するプログラムを示します。</p>
<!-- RemoveRowByTQL.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コンテナを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87">NULL</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR Container not found. name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)手動コミットモードに設定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsSetAutoCommit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)TQLで検索実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Delete query : %s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SELECT * WHERE count &lt; 50&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SELECT * WHERE count &lt; 50&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsQuery</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsFetch</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>	<span style="color:#8f5902;font-style:italic">// 更新するのでforUpdateにはtrueを指定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsFetch</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)検索でヒットしたロウを削除する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsHasNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// 空のロウオブジェクトを生成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// カーソルを移動する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetNextRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// ロウを削除する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsDeleteCurrentRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsDeleteCurrentRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)コミットする
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCommit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCommit</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Delete Row</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>[メモ]</p>
<ul>
<li>TQLの検索結果GSRowSetからロウの削除を行う場合は、手動コミットモードに設定して、gsFetchメソッドの引数にtrueを指定してロックする必要があります。</li>
</ul>
<h3 id="コンテナを削除する-1">コンテナを削除する</h3>
<p>コンテナ名を指定してコンテナを削除します。以下のメソッドで削除できます。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>コレクション削除</td>
<td>gsDropCollection(GSGridStore *store, const GSChar *name)</td>
</tr>
<tr>
<td>時系列コンテナ削除</td>
<td>gsDropTimeSeries(GSGridStore *store, const GSChar *name)</td>
</tr>
<tr>
<td>コンテナ削除</td>
<td>gsDropContainer(GSGridStore *store, const GSChar *name)</td>
</tr>
</tbody>
</table>
<p>[メモ]</p>
<ul>
<li>コレクション削除gsDropCollectionと時系列コンテナ削除gsDropTimeSeriesの場合は、
引数で指定したコンテナの種別とメソッドの種別が異なっているとエラーになります。
<ul>
<li>例) コレクション&quot;collection1&quot;を、gsDropTimeSeriesで削除しようとするとエラーになる</li>
</ul>
</li>
<li>コンテナ削除gsDropContainerは、コレクションと時系列コンテナのどちらの種別でも削除できます。</li>
</ul>
<p>コレクション&quot;collection1&quot;を削除するプログラムを以下に示します。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コレクション&#34;collection1&#34;を削除する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsDropCollection</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;collection1&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p><a id="c_create_index"></a></p>
<h3 id="索引を作成する-1">索引を作成する</h3>
<p>コンテナのカラムに索引を作成します。</p>
<p>索引種別には、ツリー索引、空間索引の2種類があります。
コンテナ種別やカラムのデータ型によって、指定できる索引種別が異なります。
索引種別の詳細についてはJava APIの<a href="#java_create_index">索引を作成する</a>を参照ください。</p>
<p>索引作成は、索引種別やカラムを指定する方法の違いで以下の2種類のメソッドがあります。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>索引作成(カラム名、番号、索引種別、索引名を指定)</td>
<td>gsCreateIndexDetail(GSContainer *container, const GSIndexInfo *info)</td>
</tr>
<tr>
<td>索引作成(カラム名と索引種別を指定)</td>
<td>gsCreateIndex(GSContainer *container, const GSChar *columnName, GSIndexTypeFlags flags)</td>
</tr>
</tbody>
</table>
<p>[メモ]</p>
<ul>
<li>索引名の指定は任意です。指定しても指定しなくてもどちらでも作成できます。</li>
</ul>
<p>索引作成gsCreateIndexDetailを使用して、コレクションのカラムcountにツリー索引を作成するプログラムを以下に示します。</p>
<!-- CreateIndex.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (コンテナオブジェクトの取得は省略)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)索引情報を設定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">GSIndexInfo</span> <span style="color:#000">info</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;tree_index&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_INDEX_FLAG_TREE</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">column</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)索引を作成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCreateIndexDetail</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCreateIndexDetail</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)複合索引の索引情報を設定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">compositeInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;composite_index&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">compositeInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_INDEX_FLAG_TREE</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">compositeInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnNameList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">indexColumnNameList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">compositeInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnNameCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">indexColumnNameCount</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)複合索引を作成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCreateIndexDetail</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">compositeInfo</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCreateIndexDetail</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(1)索引情報GSIndexInfoには、索引種別、索引名、作成対象のカラムを指定します。<br>
(2)GSIndexInfoを引数として、gsCreateIndexDetailを実行します。<br>
(3)複合索引の場合、索引情報GSIndexInfoに指定する作成対象のカラム（カラム番号またはカラム名）は配列形式で指定します。<br>
(4)GSIndexInfoを引数として、gsCreateIndexDetailを実行します。</p>
<h3 id="その他-1">その他</h3>
<p><a id="c_data_type"></a></p>
<h4 id="データ型の対応付け-1">データ型の対応付け</h4>
<p>C APIにおいて、GridDBのデータ型とCのデータ型の対応付けは以下の通りです。ロウからの値取得や設定の際には、以下のデータ型を指定してください。</p>
<table>
<thead>
<tr>
<th>GridDBのデータ型</th>
<th>Cのデータ型</th>
<th>補足</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL型</td>
<td>GSBool</td>
<td>値はGS_TRUEまたはGS_FALSE</td>
</tr>
<tr>
<td>STRING型</td>
<td>GSChar</td>
<td>GSCharはchar型</td>
</tr>
<tr>
<td>BYTE型</td>
<td>int8_t</td>
<td>ー</td>
</tr>
<tr>
<td>SHORT型</td>
<td>int16_t</td>
<td>ー</td>
</tr>
<tr>
<td>INTEGER型</td>
<td>int32_t</td>
<td>ー</td>
</tr>
<tr>
<td>LONG型</td>
<td>int64_t</td>
<td>ー</td>
</tr>
<tr>
<td>FLOAT型</td>
<td>float</td>
<td>ー</td>
</tr>
<tr>
<td>DOUBLE型</td>
<td>double</td>
<td>ー</td>
</tr>
<tr>
<td>TIMESTAMP型</td>
<td>GSTimestamp</td>
<td>GSTimestampはint64_t型。値はミリ秒単位のUNIX時刻を表す。</td>
</tr>
<tr>
<td>GEOMETRY型</td>
<td>GSChar</td>
<td>値はWKT表記の文字列を表す</td>
</tr>
<tr>
<td>BLOB型</td>
<td>GSBlob</td>
<td>GSBlobは、データサイズsizeとデータへのポインタdataをメンバに持つ構造体</td>
</tr>
</tbody>
</table>
<p><a id="c_error_handling"></a></p>
<h4 id="エラー処理-1">エラー処理</h4>
<p>C APIの多くのメソッドは、戻り値としてメソッドの成否を表す実行結果コードGSResultを返します。
メソッドの成否は、マクロGS_SUCCEEDEDを用いて以下のようにチェックすることができます。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#000">GSResult</span> <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;containerName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// gsGetContainerGeneralでエラーが発生
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>エラーが発生した場合には以下のメソッドを用いてエラー情報を取得することができます。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>エラー情報のスタックサイズの取得</td>
<td>gsGetErrorStackSize(void *gsResource)</td>
</tr>
<tr>
<td>エラーコードの取得</td>
<td>gsGetErrorCode(void *gsResource, size_t stackIndex)</td>
</tr>
<tr>
<td>エラーメッセージの取得</td>
<td>gsFormatErrorMessage(void *gsResource, size_t stackIndex, GSChar *strBuf, size_t bufSize)</td>
</tr>
<tr>
<td>内部のエラー発生位置情報の取得</td>
<td>gsFormatErrorLocation(void *gsResource, size_t stackIndex, GSChar *strBuf, size_t bufSize)</td>
</tr>
<tr>
<td>タイムアウトのエラーコードの判定</td>
<td>gsIsTimeoutError(GSResult result)</td>
</tr>
</tbody>
</table>
<p>エラーが発生した時に、エラーコードやエラーメッセージを表示するプログラムの例を以下に示します。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#000">size_t</span> <span style="color:#000">stackSize</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">size_t</span> <span style="color:#000">s</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSResult</span> <span style="color:#000">errorCode</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSChar</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1024</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1024</span><span style="color:#000;font-weight:bold">];</span>	<span style="color:#8f5902;font-style:italic">// エラーメッセージを格納するバッファ
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// エラーコードとエラーメッセージを出力する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">stackSize</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorStackSize</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">s</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">s</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">stackSize</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">s</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">errorCode</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorCode</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">s</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">gsFormatErrorMessage</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">s</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">gsFormatErrorLocation</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">s</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[%d] %s (%s)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errorCode</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>引数gsResourceには、エラーが発生した時の操作対象のオブジェクト、または、そのオブジェクトを生成した上位のオブジェクトを指定します。</p>
<p>例えば、コンテナへのロウ登録処理でエラーが発生した場合には、コンテナオブジェクト、または、コンテナオブジェクトを取得する際に使用したGSGridStoreのどちらでも、エラー情報は取得できます。</p>
<p>プログラムのエラー処理の方法に合わせて、メソッド単位でエラー処理をする場合には処理対象のオブジェクトを指定、複数の処理をまとめて大きな単位でエラー処理をする場合にはGSGridStoreオブジェクトを指定することもできます。</p>
<p>例) メソッド単位でエラー処理をする場合</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// エラーコードとエラーメッセージを出力する（containerオブジェクトを指定)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">stackSize</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorStackSize</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">s</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">s</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">stackSize</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">s</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">errorCode</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorCode</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">s</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">gsFormatErrorMessage</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">s</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">gsFormatErrorLocation</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">s</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[%d] %s (%s)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errorCode</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">return</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="timestamp型のユーティリティ機能-1">TIMESTAMP型のユーティリティ機能</h4>
<p>TIMESTAMP型のデータは、C APIではGSTimestamp型として扱います。
GSTimestamp型に対するユーティリティ機能として以下のメソッドがあります。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>現在時刻の取得</td>
<td>gsCurrentTime()</td>
</tr>
<tr>
<td>時刻の加算</td>
<td>gsAddTime(GSTimestamp timestamp, int32_t amount, GSTimeUnit timeUnit)</td>
</tr>
<tr>
<td>GSTimestamp型を文字列表記に変換</td>
<td>gsFormatTime(GSTimestamp timestamp, GSChar *strBuf, size_t bufSize)</td>
</tr>
<tr>
<td>文字列表記をGSTimestamp型に変換</td>
<td>gsParseTime(const GSChar *str, GSTimestamp *timestamp)</td>
</tr>
</tbody>
</table>
<p>ロウから取得したGSTimestamp型の値を文字列表記に変換する例を示します。</p>
<pre tabindex="0"><code>GSTimestamp date;
GSChar buf[GS_TIME_STRING_SIZE_MAX];

// ロウからGSTimestampの値を取得する
gsGetRowFieldAsTimestamp(row, 0, &amp;date);

// GSTimestampを文字列に変換する
gsFormatTime(date, buf, GS_TIME_STRING_SIZE_MAX);
</code></pre><h2 id="プログラミングの応用-1">プログラミングの応用</h2>
<p><a id="c_timeseries_function"></a></p>
<h3 id="時系列データを扱う-1">時系列データを扱う</h3>
<p>時系列コンテナに対して、時系列データ特有の演算を実行することができます。
この節では、これらの時系列データ特有の演算について説明します。</p>
<p>演算は、TQLまたはメソッドで実行することができます。</p>
<table>
<thead>
<tr>
<th>種類</th>
<th>名称</th>
<th>TQL演算</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>集計演算</td>
<td>重み付き平均値</td>
<td>TIME_AVG</td>
<td>gsAggregateTimeSeries <br>(GS_AGGREGATION_WEIGHTED_AVERAGEを指定)</td>
</tr>
<tr>
<td>選択演算</td>
<td>直後の時刻</td>
<td>TIME_NEXT</td>
<td>gsGetRowByBaseTime <br>(GS_TIME_OPERATOR_NEXTを指定)</td>
</tr>
<tr>
<td></td>
<td>直後の時刻</td>
<td>TIME_NEXT_ONLY</td>
<td>gsGetRowByBaseTime <br>(GS_TIME_OPERATOR_NEXT_ONLYを指定)</td>
</tr>
<tr>
<td></td>
<td>直前の時刻</td>
<td>TIME_PREV</td>
<td>gsGetRowByBaseTime <br>(GS_TIME_OPERATOR_PREVIOUSを指定)</td>
</tr>
<tr>
<td></td>
<td>直前の時刻</td>
<td>TIME_PREV_ONLY</td>
<td>gsGetRowByBaseTime <br>(GS_TIME_OPERATOR_PREVIOUS_ONLYを指定)</td>
</tr>
<tr>
<td>補間演算</td>
<td>線形補間</td>
<td>TIME_INTERPOLATED</td>
<td>gsInterpolateTimeSeriesRow</td>
</tr>
<tr>
<td></td>
<td>サンプリング</td>
<td>TIME_SAMPLING</td>
<td>gsQueryByTimeSeriesSampling</td>
</tr>
</tbody>
</table>
<ul>
<li>単純な検索/集約演算をする場合であれば、メソッドを用いた方が少し性能が良くなる場合があります。大量のヒット件数の場合や、検索後の集約などの複雑な操作が必要であれば、TQL演算を用いて実行してください。</li>
</ul>
<p>以下では、TQL演算を用いたプログラミングの例で説明します。</p>
<h4 id="集計演算-1">集計演算</h4>
<h5 id="time_avg-時刻の重み付き平均値-1">TIME_AVG 時刻の重み付き平均値</h5>
<p>演算の詳細については、Java APIの<a href="#java_timeseries_time_avg">TIME_AVG 時刻の重み付き平均値</a>を参照ください。</p>
<ul>
<li>
<p>例) TQLの集計演算TIME_AVGを使用する例</p>
  <!-- TQLTimeseries.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)TQLで集計演算の実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TQL query : %s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SELECT TIME_AVG(value1)&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SELECT TIME_AVG(value1)&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsQuery</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsFetch</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsFetch</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)結果を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsHasNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">double</span> <span style="color:#000">value</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// (3)集計演算の結果を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetNextAggregation</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">aggregationResult</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetNextRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetAggregationValueAsDouble</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">aggregationResult</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">value</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TQL result: %lf</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">value</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
</ul>
<p>[メモ]</p>
<ul>
<li>コレクションに対して、TQLでTIME_AVG演算を実行するとエラーになります。</li>
<li>メソッドgsAggregateTimeSeries(GSTimeSeries *timeSeries, GSTimestamp start, GSTimestamp end, const GSChar *column, GSAggregation aggregation, GSAggregationResult **aggregationResult)を用いて、TQLのTIME_AVG演算と同等の処理を行うこともできます。</li>
</ul>
<h4 id="選択演算-1">選択演算</h4>
<p>指定された時刻と直前/直後の選択条件に基づいて、時系列コンテナのロウキーの時刻が合致するロウを返します。</p>
<p>演算の詳細については、Java APIの<a href="#java_timeseries_next_prev">選択演算</a>を参照ください。</p>
<ul>
<li>
<p>例) TQLの選択演算の使用例</p>
  <!-- TQLTimeseries.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SELECT TIME_NEXT(*, TIMESTAMP(&#39;2018-12-01T10:10:00.000Z&#39;))&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsQuery</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsFetch</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsFetch</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)結果を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsHasNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// 空のロウを作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// ロウを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetNextRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// 値を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">gsGetRowFieldAsTimestamp</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">date</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">value1</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetRowFieldAsDouble</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">value2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// GSTimestampを文字列に変換する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">gsFormatTime</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">date</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">buf</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TIME_STRING_SIZE_MAX</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TQL result: row=(%s, %d, %lf)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">buf</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">value1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">value2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
</ul>
<p>[メモ]</p>
<ul>
<li>コレクションに対して、TQLで時系列コンテナ用の選択演算を実行するとエラーになります。</li>
<li>メソッドgsGetRowByBaseTime(GSTimeSeries *timeSeries, GSTimestamp base, GSTimeOperator timeOp, void *rowObj, GSBool *exists)を用いて、TQLの選択演算と同等の処理を行うこともできます。</li>
</ul>
<h4 id="補間演算-1">補間演算</h4>
<p>時系列データを補間します。</p>
<p>演算の詳細については、Java APIの<a href="#java_timeseries_sampling">補間演算</a>を参照ください。</p>
<ul>
<li>
<p>例) TIME_INTERPOLATED演算の実行例</p>
<!-- TQLTimeseries.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SELECT TIME_INTERPOLATED(value1, TIMESTAMP(&#39;2018-12-01T10:30:00.000Z&#39;))&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsQuery</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsFetch</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsFetch</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)結果を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsHasNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// 空のロウを作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// ロウを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetNextRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// 値を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">gsGetRowFieldAsTimestamp</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">date</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">value1</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetRowFieldAsDouble</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">value2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// GSTimestampを文字列に変換する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">gsFormatTime</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">date</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">buf</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TIME_STRING_SIZE_MAX</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TQL result: row=(%s, %d, %lf)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">buf</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">value1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">value2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
</ul>
<p>[メモ]</p>
<ul>
<li>コレクションに対して、TIME_INTERPOLATED、TIME_SAMPLINGを実行するとエラーになります。</li>
<li>集計演算(MAX, MIN, COUNTなど)とTIME_INTERPOLATED、TIME_SAMPLINGを同時に指定することはできません。</li>
<li>メソッドgsInterpolateTimeSeriesRow(GSTimeSeries *timeSeries, GSTimestamp base, const GSChar *column, void *rowObj, GSBool *exists)を用いて、TQLのTIME_INTERPOLATED演算と同等の処理を行うこともできます。</li>
<li>メソッドgsQueryByTimeSeriesSampling(GSTimeSeries *timeSeries, GSTimestamp start, GSTimestamp end, const GSChar *const *columnSet, size_t columnCount, GSInterpolationMode mode, int32_t interval, GSTimeUnit intervalUnit, GSQuery **query)を用いて、TQLのTIME_SAMPLING演算と同等の処理を行うこともできます。</li>
</ul>
<p><a id="c_array_data"></a></p>
<h3 id="配列型のデータを扱う-1">配列型のデータを扱う</h3>
<p>配列型のデータのセットや取得を行うための配列型用のsetter/getterがあります。
配列型のデータ型に合わせたsetter/getterを使用してロウを操作し、データの登録や取得を行います。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>ブール型の配列</td>
<td>gsSetRowFieldByBoolArray(GSRow *row, int32_t column, const GSBool *fieldValue, size_t size)<br>gsGetRowFieldAsBoolArray(GSRow *row, int32_t column, const GSBool **fieldValue, size_t *size)</td>
</tr>
<tr>
<td>STRING型の配列</td>
<td>gsSetRowFieldByStringArray(GSRow *row, int32_t column, const GSChar *const *fieldValue, size_t size)<br>gsGetRowFieldAsStringArray(GSRow *row, int32_t column, const GSChar *const **fieldValue, size_t *size)</td>
</tr>
<tr>
<td>BYTE型の配列</td>
<td>gsSetRowFieldByByteArray(GSRow *row, int32_t column, const int8_t *fieldValue, size_t size)<br>gsGetRowFieldAsByteArray(GSRow *row, int32_t column, const int8_t **fieldValue, size_t *size)</td>
</tr>
<tr>
<td>SHORT型の配列</td>
<td>gsSetRowFieldByShortArray(GSRow *row, int32_t column, const int16_t *fieldValue, size_t size)<br>gsGetRowFieldAsShortArray(GSRow *row, int32_t column, const int16_t **fieldValue, size_t *size)</td>
</tr>
<tr>
<td>INTEGER型の配列</td>
<td>gsSetRowFieldByIntegerArray(GSRow *row, int32_t column, const int32_t *fieldValue, size_t size)<br>gsGetRowFieldAsIntegerArray(GSRow *row, int32_t column, const int32_t **fieldValue, size_t *size)</td>
</tr>
<tr>
<td>LONG型の配列</td>
<td>gsSetRowFieldByLongArray(GSRow *row, int32_t column, const int64_t *fieldValue, size_t size)<br>gsGetRowFieldAsLongArray(GSRow *row, int32_t column, const int64_t **fieldValue, size_t *size)</td>
</tr>
<tr>
<td>FLOAT型の配列</td>
<td>gsSetRowFieldByFloatArray(GSRow *row, int32_t column, const float *fieldValue, size_t size)<br>gsGetRowFieldAsFloatArray(GSRow *row, int32_t column, const float **fieldValue, size_t *size)</td>
</tr>
<tr>
<td>DOUBLE型の配列</td>
<td>gsSetRowFieldByDoubleArray(GSRow *row, int32_t column, const double *fieldValue, size_t size)<br>gsGetRowFieldAsDoubleArray(GSRow *row, int32_t column, const double **fieldValue, size_t *size)</td>
</tr>
<tr>
<td>TIMESTAMP型の配列</td>
<td>gsSetRowFieldByTimestampArray(GSRow *row, int32_t column, const GSTimestamp *fieldValue, size_t size)<br>gsGetRowFieldAsTimestampArray(GSRow *row, int32_t column, const GSTimestamp **fieldValue, size_t *size)</td>
</tr>
</tbody>
</table>
<p>配列型データを登録するプログラムを示します。</p>
<!-- ArrayData.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)配列型のデータ
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">stringArray</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;Sales&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;Development&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;Marketing&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;Research&#34;</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#204a87;font-weight:bold">int32_t</span> <span style="color:#000">integerArray</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#0000cf;font-weight:bold">39</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">92</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">18</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">51</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)空のロウオブジェクトの作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCreateRowByContainer</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)カラム値をセット
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsSetRowFieldByStringArray</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">stringArray</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsSetRowFieldByIntegerArray</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">integerArray</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)ロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsCloseRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><p>配列型データを取得するプログラムを示します。</p>
<!-- ArrayData.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int32_t</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">stringArray</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#204a87;font-weight:bold">int32_t</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">integerArray</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">size_t</span> <span style="color:#000">stringCount</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">size_t</span> <span style="color:#000">integerCount</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)空のロウオブジェクトの作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)ロウキーを指定してロウ取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetRowByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetRowByInteger</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)ロウから配列型データを取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetRowFieldAsStringArray</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">stringArray</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">stringCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetRowFieldAsIntegerArray</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">integerArray</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">integerCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Get Row (id=%d,&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">for</span><span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">stringCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">)</span> <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;, &#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;%s&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">stringArray</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">stringArray</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;],[&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">for</span><span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">integerCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">)</span> <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;, &#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;%d&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">integerArray</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">integerArray</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;])</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsCloseRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>[メモ]</p>
<ul>
<li>配列型のカラムはロウキーには設定できません。</li>
</ul>
<p><a id="c_geometry_data"></a></p>
<h3 id="空間型のデータを扱う-1">空間型のデータを扱う</h3>
<p>空間型のデータを登録、取得します。</p>
<p>空間型のデータを表すWKT(Well-Known Text)形式の値で操作します。
WKT形式は、ISOで定められている標準的な書式で、空間型のデータをテキスト形式で表現できます。</p>
<ul>
<li>例) 空間型データのWKT形式
<ul>
<li>2次元空間上の点(2, 3)   →　POINT(2 3)</li>
</ul>
</li>
</ul>
<p>空間型のデータのセットや取得を行うための空間型用のsetter/getterがあります。
これらを用いて、空間型データの登録や取得を行います。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>空間型データのセット</td>
<td>gsSetRowFieldByGeometry(GSRow *row, int32_t column, const GSChar *fieldValue)</td>
</tr>
<tr>
<td>空間型データの取り出し</td>
<td>gsGetRowFieldAsGeometry(GSRow *row, int32_t column, const GSChar **fieldValue)</td>
</tr>
</tbody>
</table>
<p>空間型データを登録するプログラムを示します。</p>
<!-- GeometryData.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)空のロウオブジェクトの作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCreateRowByContainer</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)カラム値をセット
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsSetRowFieldByGeometry</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;POINT(2 3)&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)ロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Put Row (Geometry)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsCloseRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>空間型データを取得するプログラムを示します。</p>
<!-- GeometryData.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int32_t</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">geometry</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)空のロウオブジェクトの作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)ロウキーを指定してロウ取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetRowByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetRowByInteger</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)ロウから配列型データを取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetRowFieldAsGeometry</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">geometry</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Get Row (id=%d, geometry=%s)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">geometry</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsCloseRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>[メモ]</p>
<ul>
<li>空間型のカラムはロウキーには設定できません。</li>
</ul>
<h3 id="コンテナ情報を取得する-1">コンテナ情報を取得する</h3>
<p>コンテナの情報を取得する操作を説明します。</p>
<ul>
<li>コンテナ名の一覧を取得する</li>
<li>コンテナのスキーマ情報を取得する</li>
</ul>
<p><a id="c_containernames"></a></p>
<h4 id="コンテナ名の一覧を取得する-1">コンテナ名の一覧を取得する</h4>
<p>作成されているコンテナの名前の一覧を取得します。</p>
<p>コンテナ名の一覧取得は、パーティションの情報を取得するためのコントローラGSPartitionControllerインスタンスを用いて行います。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>パーティションコントローラの取得</td>
<td>gsGetPartitionController(GSGridStore *store, GSPartitionController **partitionController)</td>
</tr>
<tr>
<td>パーティション数の取得</td>
<td>gsGetPartitionCount(GSPartitionController *controller, int32_t *partitionCount)</td>
</tr>
<tr>
<td>コンテナ名の一覧取得</td>
<td>gsGetPartitionContainerNames(GSPartitionController *controller, int32_t partitionIndex, int64_t start, const int64_t *limit, const GSChar *const **nameList, size_t *size)</td>
</tr>
</tbody>
</table>
<p>パーティションコントローラを介して、パーティションごとにコンテナ名の一覧を取得します。
コンテナ名一覧を取得するプログラムを示します。</p>
<!-- ContainerNames.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#000">GSPartitionController</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">pc</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int32_t</span> <span style="color:#000">pcCount</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">nameList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">size_t</span> <span style="color:#000">nameCount</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)パーティションコントローラと、パーティション数を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetPartitionController</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">pc</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetPartitionController</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetPartitionCount</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">pc</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">pcCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)パーティション数でループして、コンテナ名一覧を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span><span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">pcCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetPartitionContainerNames</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">pc</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">nameList</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">nameCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetPartitionContainerNames</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">for</span><span style="color:#000;font-weight:bold">(</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">nameCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">nameList</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(2)gsGetPartitionContainerNamesメソッドで、第3引数startに0, 第4引数limitにNULLを指定すると、指定したパーティション上の全コンテナ名を取得します。
取得するコンテナ名の数を制限する場合は、第4引数limitに制限する数を指定してください。</p>
<p>[メモ]</p>
<ul>
<li>
<p>クラスタ接続時に指定したデータベース上のコンテナ名一覧しか取得できません。
他のデータベースのコンテナ名の一覧を取得する場合は、そのデータベースに接続する必要があります。</p>
</li>
<li>
<p>取得するコンテナ名に正規表現のような条件は指定できません。</p>
</li>
</ul>
<p><a id="c_containerinfo"></a></p>
<h4 id="コンテナのスキーマ情報を取得する-1">コンテナのスキーマ情報を取得する</h4>
<p>コンテナに関する情報は、コンテナ情報ContainerInfoから取得します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>コンテナ情報の取得</td>
<td>gsGetContainerInfo(GSGridStore *store, const GSChar *name, GSContainerInfo *info, GSBool *exists)</td>
</tr>
</tbody>
</table>
<p>ContainerInfoには、様々な情報を取得するsetterメソッドがあります。必要な情報を取得するメソッドを使用してください。
メソッドの詳細は、『<a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java APIリファレンス</a>』をご参照ください。</p>
<p>コンテナのカラム情報を取得するプログラムを示します。</p>
<!-- ContainerInformation.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#000">GSContainerInfo</span> <span style="color:#000">info</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_INFO_INITIALIZER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSBool</span> <span style="color:#000">exist</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)コンテナ情報を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerInfo</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_Info&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">exist</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerInfo</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">exist</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)コンテナ情報を表示する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Get ContainerInfo: </span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">    name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#000">GS_CONTAINER_COLLECTION</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    type=Collection</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    type=TimeSeries</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    rowKeyAssigned=%d</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowKeyAssigned</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    columnCount=%d</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    column (%s, %d)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">].</span><span style="color:#000">name</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">].</span><span style="color:#000">type</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p><a id="c_compositekey"></a></p>
<h3 id="複合ロウキーを扱う-1">複合ロウキーを扱う</h3>
<p>データの登録や検索の処理では、複合ロウキーを指定して操作を行うことができます。</p>
<p>複合ロウキーを設定したデータを登録するプログラムを示します。複合ロウキーとして１つ目のINTEGER型と２つ目のSTRING型を指定します。</p>
<!-- CompositeKeyMultiGet.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// クラスタに接続する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// 接続情報を指定する (マルチキャスト方式)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">size_t</span> <span style="color:#000">propCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">props</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">props</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// 複合ロウキー設定
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#204a87;font-weight:bold">int32_t</span> <span style="color:#000">rowKeyColumnList</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">size_t</span> <span style="color:#000">rowKeyColumnCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rowKeyColumnList</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">rowKeyColumnList</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GSBool</span> <span style="color:#000">exists</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// GridStoreインスタンスを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsGetDefaultFactory</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">propCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetGridStore</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// コンテナ作成や取得などの操作を行うと、クラスタに接続される
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_CompositKey&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">gsCloseContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Connect to Cluster</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// データ準備 (コンテナ作成＆ロウ登録)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// コンテナ情報を設定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">info0</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_COLLECTION</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">info0</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowKeyColumnList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rowKeyColumnList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">info0</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowKeyColumnCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rowKeyColumnCount</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// カラム情報を定義する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;id&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;productName&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_STRING</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// カラム情報をコンテナ情報オブジェクトに設定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnInfoList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#8f5902;font-style:italic">// コレクションを作成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>		<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutCollectionGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Sample data generation: Create Collection name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#8f5902;font-style:italic">// 複数のロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>		<span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">j</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">gsSetRowFieldByString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">nameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">numberList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">][</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">rowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">rowObj</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">void</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000;font-weight:bold">)</span><span style="color:#000">rowList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutMultipleRows</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">rowObj</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutMultipleRows</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Sample data generation: Put Rows count=%d</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">gsCloseContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>複数のコンテナから、複合ロウキーで指定した条件に当てはまるデータを取得するプログラムを示します。指定する条件は、個別条件指定を用い、１つ目のコンテナからはINTEGER型のロウキーの値が&quot;0&rdquo;、STRING型のロウキー値が&quot;notebook PC&quot;に合致するロウを、２つ目のコンテナからも１つ目と同様にINTEGER型のロウキーの値が&quot;0&rdquo;、STRING型のロウキー値が&quot;notebook PC&quot;に合致するロウを取得します。</p>
<!-- CompositeKeyMultiGet.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// 複数のコンテナから一括でロウを取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)ロウ取得条件を構築する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCreateRowKeyByStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rowKey</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCreateRowKeyByStore</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rowKey</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsSetRowFieldByInteger</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsSetRowFieldByString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rowKey</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;notebook PC&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsSetRowFieldByInteger</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCreateRowKeyPredicateGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">predicate</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCreateRowKeyPredicateGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsAddPredicateGeneralKey</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">predicate</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">rowKey</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsAddPredicateGeneralKey</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// GSRowKeyPredicateEntryに条件を格納する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">predEntryValueList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">].</span><span style="color:#000">containerName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">predEntryValueList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">].</span><span style="color:#000">predicate</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">predicate</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">predEntryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">predEntryValueList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)複数コンテナからロウを一括取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetMultipleContainerRows</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">predEntryList</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">outEntryList</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">outEntryCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetMultipleContainerRows</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)取得結果をコピーする
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ※gsGetRowFieldAsStringなど、結果を取得する関数は、
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//   値の書き換えが行われうる仕様
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//   関数呼び出し前に結果はコピーしておく
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">outEntryCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">outEntry</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">outEntryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">outEntry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">allRowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">][</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">GSRow</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000;font-weight:bold">)</span><span style="color:#000">outEntry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)取得結果を出力する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">outEntryCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">outEntryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">].</span><span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">allRowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">][</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">gsGetRowFieldAsString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;MultiGet: container=%s, id=%d, productName=%s, count=%d</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">outEntryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">].</span><span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">productName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>[メモ]</p>
<ul>
<li>個別条件と範囲条件の2つの条件を混在して使用することはできません。</li>
<li>条件をどちらも指定しなかった場合は、すべてのロウが取得されます。</li>
<li>GSRowKeyPredicateクラスは、複数コンテナのロウ取得gsGetMultipleContainerRowsメソッドでのみ使用できます。他のロウ取得gsGetRowメソッドでは使用できません。</li>
<li>gsGetRowFieldAsStringのようなgsGetRowFieldAsXXXという結果を取得する関数やgsGetPredicateDistinctKeysAsStringのようなgsGetPredicateXXXという条件に関する値を取得する関数では、指定しているGSRowやGSRowKeyPredicateの値を格納している一時的なメモリ領域を書き換えることがあります。詳細は、『<a href="../13.md_reference_c_api/md_reference_c_api.html">GridDB C APIリファレンス</a>』の各関数の「一時的なメモリ領域」に関する説明をご参照ください。</li>
</ul>
<h2 id="----jdbc-newsqlインタフェース----">&mdash; JDBC (NewSQLインタフェース) &mdash;</h2>
<h2 id="jdbcを利用したアプリケーションの開発">JDBCを利用したアプリケーションの開発</h2>
<h3 id="開発実行環境の構築-3">開発実行環境の構築</h3>
<p>JDBCのアプリケーションを開発するには、以下のパッケージをインストールする必要があります。</p>
<table>
<thead>
<tr>
<th>パッケージ名</th>
<th>ファイル名</th>
<th>内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>griddb-ee-java-lib</td>
<td>・griddb-ee-java-lib-X.X.X-linux.x86_64.rpm<br>・griddb-ee-java-lib_X.X.X_amd64.deb</td>
<td>Java APIのライブラリ(gridstore.jar, gridstore-conf.jar, gridstore-advanced.jar, gridstore-jdbc.jar)が含まれます</td>
</tr>
</tbody>
</table>
<p>※: X.X.XはGridDBのバージョン</p>
<p>アプリケーションの開発や実行を行う際には、以下のライブラリをクラスパスに指定してください。</p>
<ul>
<li>/usr/share/java/gridstore-jdbc.jar</li>
</ul>
<p>また、SSL機能を利用してGridDBクラスタとクライアントの通信を保護する場合には、以下のライブラリも追加でクラスパスに指定してください。</p>
<ul>
<li>/usr/share/java/gridstore-advanced.jar</li>
</ul>
<h3 id="ログ機能">ログ機能</h3>
<p>GridDBのJDBCはメソッドの呼び出しごとにログ出力を行う機能があります。このログにJDBCにてどのような操作が行われたのかが出力されるため、アプリケーションに問題が発生した際に、原因解析の情報として用いることができます。
ログ機能を有効とすることを推奨します。</p>
<p>JDBCのログ機能を有効にするためには、以下のライブラリをクラスパスに指定してください。</p>
<ul>
<li>/usr/share/java/gridstore-jdbc-call-logging.jar</li>
</ul>
<p>ログ機能はSLF4Jを使うため、SLF4Jのライブラリをクラスパスに指定してください。</p>
<ul>
<li>例) clientパッケージをインストールしている場合
<ul>
<li>/usr/griddb/lib/slf4j-api-1.7.5.jar</li>
</ul>
</li>
</ul>
<p>また、ロギングライブラリをクラスパスに指定してください。
ここではロギングライブラリにLogbackを使用するものとして例を示します。</p>
<ul>
<li>例) clientパッケージをインストールしている場合
<ul>
<li>/usr/griddb/lib/logback-core-1.0.13.jar</li>
<li>/usr/griddb/lib/logback-classic-1.0.13.jar</li>
</ul>
</li>
</ul>
<p>さらに、Logbackの設定ファイル（logback.xml）をクラスパスに含まれるディレクトリに配置してください。</p>
<ul>
<li>例) Logbackの設定ファイル（logback.xml）のサンプルをコピーして配置
<ul>
<li>$ cp /usr/griddb-ae-newsql-4.X.X/lib/conf/logback-jdbc-sample.xml  my_class_path/logback.xml</li>
</ul>
</li>
</ul>
<p>Logbackの設定ファイルに定義する内容については後述します。</p>
<h4 id="ログ出力内容">ログ出力内容</h4>
<p>JDBCのログ出力内容は以下です。</p>
<ul>
<li>ログレベル: TRACE</li>
<li>メソッドの開始ログ</li>
<li>メソッドの引数を示すログ</li>
<li>メソッドの戻り値を示すログ</li>
<li>メソッドの終了ログ</li>
</ul>
<p>ログ出力を行う対象は以下です。</p>
<ul>
<li>Connectionインターフェース</li>
<li>DatabaseMetaDataインターフェース</li>
<li>ParameterMetaDataインターフェース</li>
<li>PreparedStatementインターフェース</li>
<li>ResultSetMetaDataインターフェース</li>
<li>Statementインターフェース</li>
</ul>
<h4 id="logbackの設定ファイル">Logbackの設定ファイル</h4>
<p>JDBCのログはロガー名「com.toshiba.mwcloud.gs.sql.Logger」で始まります。
Logbackの設定ファイルには、このロガーの出力方法を定義します。設定ファイルのサンプルを以下に示します。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&lt;configuration</span> <span style="color:#c4a000">scan=</span><span style="color:#4e9a06">&#34;true&#34;</span> <span style="color:#c4a000">scanPeriod=</span><span style="color:#4e9a06">&#34;10 minutes&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">&lt;property</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;logPath&#34;</span> <span style="color:#c4a000">value=</span><span style="color:#4e9a06">&#34;/var/lib/gridstore/log&#34;</span> <span style="color:#204a87;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">&lt;appender</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;FILEJDBCLOG&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#c4a000">class=</span><span style="color:#4e9a06">&#34;ch.qos.logback.core.rolling.RollingFileAppender&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">&lt;rollingPolicy</span> <span style="color:#c4a000">class=</span><span style="color:#4e9a06">&#34;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#204a87;font-weight:bold">&lt;fileNamePattern&gt;</span>${logPath}/gridstore-jdbc-%d{yyyyMMdd}-%i.log<span style="color:#204a87;font-weight:bold">&lt;/fileNamePattern&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#204a87;font-weight:bold">&lt;timeBasedFileNamingAndTriggeringPolicy</span> <span style="color:#c4a000">class=</span><span style="color:#4e9a06">&#34;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>				<span style="color:#204a87;font-weight:bold">&lt;maxFileSize&gt;</span>100MB<span style="color:#204a87;font-weight:bold">&lt;/maxFileSize&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#204a87;font-weight:bold">&lt;/timeBasedFileNamingAndTriggeringPolicy&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#204a87;font-weight:bold">&lt;maxHistory&gt;</span>30<span style="color:#204a87;font-weight:bold">&lt;/maxHistory&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">&lt;/rollingPolicy&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">&lt;encoder&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#204a87;font-weight:bold">&lt;pattern&gt;</span>%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] [%-5p] %m%n<span style="color:#204a87;font-weight:bold">&lt;/pattern&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">&lt;/encoder&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">&lt;/appender&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">&lt;logger</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;com.toshiba.mwcloud.gs.sql.Logger&#34;</span> <span style="color:#c4a000">level=</span><span style="color:#4e9a06">&#34;TRACE&#34;</span> <span style="color:#c4a000">additivity=</span><span style="color:#4e9a06">&#34;false&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">&lt;appender-ref</span> <span style="color:#c4a000">ref=</span><span style="color:#4e9a06">&#34;FILEJDBCLOG&#34;</span> <span style="color:#204a87;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">&lt;/logger&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">&lt;root</span> <span style="color:#c4a000">level=</span><span style="color:#4e9a06">&#34;info&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">&lt;/root&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&lt;/configuration&gt;</span>
</span></span></code></pre></div><p>このサンプルはJDBCのログを下記ファイル名のログファイルに出力するものです。</p>
<ul>
<li>/var/lib/gridstore/log/griddb-jdbc.yyyymmdd.n.log
<ul>
<li>yyyymmdd: 日付	n: 0, 1, 2 &hellip;</li>
</ul>
</li>
</ul>
<p>ログ出力内容の例を以下に示します。</p>
<pre tabindex="0"><code class="language-example" data-lang="example">2019-03-08 11:32:13.008 [main] [TRACE] [Trace Start] pid=16112 SQLConnection::prepareStatement()
2019-03-08 11:32:13.011 [main] [TRACE]   [argument]  pid=16112 String=select * from Collection_NoPart_0001 where id = ? and integercol = ?
2019-03-08 11:32:13.049 [main] [TRACE]   [return]    pid=16112 $Proxy3=com.toshiba.mwcloud.gs.sql.internal.SQLPreparedStatement@37b79249
2019-03-08 11:32:13.049 [main] [TRACE] [Trace End]   pid=16112 SQLConnection::prepareStatement()
2019-03-08 11:32:13.049 [main] [TRACE] [Trace Start] pid=16112 SQLPreparedStatement::setString()
2019-03-08 11:32:13.049 [main] [TRACE]   [argument]  pid=16112 Integer=1
2019-03-08 11:32:13.049 [main] [TRACE]   [argument]  pid=16112 String=ID0005
2019-03-08 11:32:13.049 [main] [TRACE] [Trace End]   pid=16112 SQLPreparedStatement::setString()
2019-03-08 11:32:13.050 [main] [TRACE] [Trace Start] pid=16112 SQLPreparedStatement::setInt()
2019-03-08 11:32:13.050 [main] [TRACE]   [argument]  pid=16112 Integer=2
2019-03-08 11:32:13.050 [main] [TRACE]   [argument]  pid=16112 Integer=10006
2019-03-08 11:32:13.050 [main] [TRACE] [Trace End]   pid=16112 SQLPreparedStatement::setInt()
2019-03-08 11:32:13.050 [main] [TRACE] [Trace Start] pid=16112 SQLPreparedStatement::executeQuery()
2019-03-08 11:32:13.060 [main] [TRACE]   [return]    pid=16112 SQLResultSet=com.toshiba.mwcloud.gs.sql.internal.SQLResultSet@52e53663
2019-03-08 11:32:13.060 [main] [TRACE] [Trace End]   pid=16112 SQLPreparedStatement::executeQuery()
2019-03-08 11:32:13.061 [main] [TRACE] [Trace Start] pid=16112 SQLConnection::close()
2019-03-08 11:32:13.062 [main] [TRACE] [Trace End]   pid=16112 SQLConnection::close()
</code></pre><h3 id="サンプルプログラムの実行-1">サンプルプログラムの実行</h3>
<p>サンプルプログラムのコンパイルと実行方法を説明します。</p>
<p>コンパイルと実行の際には、クラスパスにライブラリgridstore-jdbc.jarを設定します。</p>
<ul>
<li>
<p>例) Sample.javaのコンパイルと実行の例</p>
<pre tabindex="0"><code>$ javac -classpath &#34;/usr/share/java/gridstore-jdbc.jar:.&#34; Sample.java
$ java -classpath &#34;/usr/share/java/gridstore-jdbc.jar:.&#34; Sample
</code></pre></li>
</ul>
<p>サンプルプログラム一覧</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>プログラム名</th>
<th>内容</th>
<th>作成するコンテナ名</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#jdbc_connect">クラスタに接続する</a></td>
<td>JDBCConnect.java</td>
<td>マルチキャスト方式でクラスタに接続して切断します。</td>
<td>-</td>
</tr>
<tr>
<td><a href="#jdbc_sql_create_insert">SQLを実行する(コンテナ作成とロウ登録)</a></td>
<td>JDBCCreateTableInsert.java</td>
<td>SQLでコンテナを作成してロウを登録します。</td>
<td>SampleJDBC_Create</td>
</tr>
<tr>
<td><a href="#jdbc_sql_select">SQLを実行する(検索)</a></td>
<td>JDBCSelect.java</td>
<td>SQLでロウを検索します。</td>
<td>SampleJDBC_Select</td>
</tr>
<tr>
<td><a href="#jdbc_prepared">プリペアードステートメントを実行する</a></td>
<td>JDBCPreparedStatement.java</td>
<td>メソッドでスキーマを指定する方法を用いて、時系列コンテナを作成します。</td>
<td>SampleJDBC_Prepared</td>
</tr>
<tr>
<td><a href="#jdbc_blob">バイナリデータを扱う</a></td>
<td>JDBCBlobData.java</td>
<td>バイナリデータを扱います。</td>
<td>SampleJDBC_BlobData</td>
</tr>
<tr>
<td><a href="#jdbc_meta">メタデータを取得する</a></td>
<td>JDBCMetaData.java</td>
<td>メタデータを取得します。</td>
<td>-</td>
</tr>
</tbody>
</table>
<h2 id="プログラミングの基礎-2">プログラミングの基礎</h2>
<p>GridDBで提供しているJDBCは、JDBC標準に準拠していますが、一部未サポートのものや相違点があります。
詳細は『<a href="../16.md_reference_jdbc/md_reference_jdbc.md">GridDB JDBCドライバ説明書</a>』をご参照ください。</p>
<p><a id="jdbc_connect"></a></p>
<h3 id="クラスタに接続する-2">クラスタに接続する</h3>
<p>JDBCのDriverManagerインタフェースを用いて、クラスタに接続します。</p>
<p>接続する際には以下のいずれかのメソッドを使用します。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
<th>ユーザとパスワードの指定</th>
</tr>
</thead>
<tbody>
<tr>
<td>接続</td>
<td>DriverManager.getConnection(String url)</td>
<td>ユーザとパスワードはURLで指定します<br>URL書式: http://・・・&amp;user=(ユーザ名)&amp;password=(パスワード)</td>
</tr>
<tr>
<td>接続</td>
<td>DriverManager.getConnection(String url, String user, String password)</td>
<td>ユーザとパスワードは引数で指定します</td>
</tr>
<tr>
<td>接続</td>
<td>DriverManager.getConnection(String url, Properties info)<br>または<br>Connection Driver.connect(String url, Properties info)</td>
<td>ユーザとパスワード、アプリケーション名などはPropertiesで指定します。<br>プロパティキー<br>user:ユーザ名(必須)<br>password:パスワード(必須)<br>applicationName:アプリケーション名(省略可)<br>loginTimeout:ログインタイムアウト(省略可)</td>
</tr>
</tbody>
</table>
<p>ユーザとパスワードをPropertiesで指定するDriverManager.getConnectionを用いた接続のプログラムを以下に示します。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.net.URLEncoder</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.sql.Connection</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.sql.DriverManager</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Properties</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">JDBCConnect</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">try</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// クラスタに接続する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// JDBCの接続情報
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">String</span> <span style="color:#000">jdbcAddress</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">String</span> <span style="color:#000">jdbcPort</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;41999&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">String</span> <span style="color:#000">clusterName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">String</span> <span style="color:#000">databaseName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">String</span> <span style="color:#000">username</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">String</span> <span style="color:#000">password</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">String</span> <span style="color:#000">applicationName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SampleJDBC&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (1)クラスタ名とデータベース名はエンコードする
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">String</span> <span style="color:#000">encodeClusterName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">clusterName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">String</span> <span style="color:#000">encodeDatabaseName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">databaseName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (2)URLを組み立てる (マルチキャスト方式)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">String</span> <span style="color:#000">jdbcUrl</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;jdbc:gs://&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">jdbcAddress</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;:&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">jdbcPort</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;/&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeClusterName</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;/&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeDatabaseName</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">username</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">password</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">applicationName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (3)接続する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">Connection</span> <span style="color:#000">con</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">DriverManager</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getConnection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">jdbcUrl</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Connect to cluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// 終了処理
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// (4)接続をクローズする
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">catch</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">Exception</span> <span style="color:#000">e</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">e</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStackTrace</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="接続のurl形式">接続のURL形式</h4>
<p>接続時に指定するURL形式を説明します。URL形式は、クラスタの接続方式によって異なります。
クラスタの接続先アドレスやクラスタ名、データベース名などをURLに指定します。
クラスタ名とデータベース名はURLエンコードが必要です。</p>
<p><strong>マルチキャスト方式</strong></p>
<ul>
<li>
<p>マルチキャスト方式の場合の接続URLは以下の形式になります。</p>
<table>
<thead>
<tr>
<th>接続方式</th>
<th>URL形式</th>
</tr>
</thead>
<tbody>
<tr>
<td>マルチキャスト方式</td>
<td>jdbc:gs://(multicastAddress):(multicastPort)/(clusterName)/(databaseName)</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>URL形式の変数</th>
<th>内容</th>
<th>指定する値</th>
</tr>
</thead>
<tbody>
<tr>
<td>multicastAddress</td>
<td>マルチキャストのアドレス</td>
<td>gs_cluster.jsonの/sql/notificationAddressに記載している値</td>
</tr>
<tr>
<td>multicastPort</td>
<td>マルチキャストのポート番号</td>
<td>gs_cluster.jsonの/sql/notificationPortに記載している値</td>
</tr>
<tr>
<td>clusterName</td>
<td>クラスタ名</td>
<td>gs_cluster.jsonの/cluster/clusterNameに記載している値</td>
</tr>
<tr>
<td>databaseName</td>
<td>データベース名</td>
<td>任意(publicデータベースの場合は省略可)</td>
</tr>
<tr>
<td>authentication</td>
<td>認証方式</td>
<td>任意(認証方式として、INTERNAL / LDAPのいずれかを指定)</td>
</tr>
<tr>
<td>sslMode</td>
<td>SSL接続</td>
<td>任意(SSL接続として、PREFERRED / VERIFY / DISABLEDのいずれかを指定)</td>
</tr>
<tr>
<td>notificationInterfaceAddress</td>
<td>マルチキャストパケットを受信するインターフェースアドレス</td>
<td>任意(マルチキャストパケットを受信するインターフェースアドレス))</td>
</tr>
</tbody>
</table>
<p>[メモ]</p>
<ul>
<li>SSL通信設定(sslMode)をVERIFYに設定する場合、GridDBクラスタ側の設定も必要です。詳細は、『<a href="../3.md_reference_feature/md_reference_feature.md">GridDB 機能リファレンス</a>』の「通信の暗号化」を参照してください。また、信頼する認証局の証明書がトラストストアになければ、keytoolコマンドを使ってインポートしてください。必要な場合は、java起動時の引数で、トラストストア(-Djavax.net.ssl.trustStore)、パスワード(-Djavax.net.ssl.trustStorePassword)を指定してください。信頼する認証局の証明書の有効期限切れ確認は未サポートです。</li>
</ul>
</li>
<li>
<p>例)</p>
<ul>
<li>
<p>gs_cluster.jsonの表記が以下の場合</p>
<pre tabindex="0"><code>          :
&#34;cluster&#34;:{
    &#34;clusterName&#34;:&#34;myCluster&#34;,
          :
},
          :
&#34;sql&#34;:{
    &#34;notificationAddress&#34;:&#34;239.0.0.1&#34;,
    &#34;notificationPort&#34;:41999,
          :
}
          :
</code></pre></li>
<li>
<p>接続URLの表記</p>
<pre tabindex="0"><code>jdbc:gs://239.0.0.1:41999/myCluster/public
</code></pre></li>
<li>
<p>プログラム</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">jdbcAddress</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">jdbcPort</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;41999&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">clusterName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">databaseName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)クラスタ名とデータベース名はエンコードする
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">String</span> <span style="color:#000">encodeClusterName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">clusterName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">encodeDatabaseName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">databaseName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)URLを組み立てる (マルチキャスト方式)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">String</span> <span style="color:#000">jdbcUrl</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;jdbc:gs://&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">jdbcAddress</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;:&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">jdbcPort</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;/&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeClusterName</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;/&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeDatabaseName</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<p><strong>固定リスト方式</strong></p>
<ul>
<li>
<p>固定リスト方式の場合の接続URLは以下の形式になります。</p>
<table>
<thead>
<tr>
<th>接続方式</th>
<th>URL形式</th>
</tr>
</thead>
<tbody>
<tr>
<td>固定リスト方式</td>
<td>jdbc:gs:///(clusterName)/(databaseName)?notificationMember=(notificationMember)</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>URL形式の変数</th>
<th>内容</th>
<th>指定する値</th>
</tr>
</thead>
<tbody>
<tr>
<td>notificationMember</td>
<td>クラスタを構成するノードのアドレスとポート番号のリスト</td>
<td>gs_cluster.jsonの/cluster/notificationMemberの/sql/addressと/sql/portをリスト形式にした値 (URLエンコードが必要)</td>
</tr>
<tr>
<td>clusterName</td>
<td>クラスタ名</td>
<td>gs_cluster.jsonの/cluster/clusterNameに記載している値</td>
</tr>
<tr>
<td>databaseName</td>
<td>データベース名</td>
<td>任意(publicデータベースの場合は省略可)</td>
</tr>
<tr>
<td>authentication</td>
<td>認証方式</td>
<td>任意(認証方式として、INTERNAL / LDAPのいずれかを指定)</td>
</tr>
<tr>
<td>sslMode</td>
<td>SSL接続</td>
<td>任意(SSL接続として、PREFERRED / VERIFY / DISABLEDのいずれかを指定)</td>
</tr>
</tbody>
</table>
<p>[メモ]</p>
<p>- URLのクラスタ名の前は、&quot;/&ldquo;が3個であることにご注意ください。</p>
<ul>
<li>SSL通信設定(sslMode)をVERIFYに設定する場合、GridDBクラスタ側の設定も必要です。詳細は、『<a href="../3.md_reference_feature/md_reference_feature.md">GridDB 機能リファレンス</a>』の「通信の暗号化」を参照してください。また、信頼する認証局の証明書がトラストストアになければ、keytoolコマンドを使ってインポートしてください。必要な場合は、java起動時の引数で、トラストストア(-Djavax.net.ssl.trustStore)、パスワード(-Djavax.net.ssl.trustStorePassword)を指定してください。信頼する認証局の証明書の有効期限切れ確認は未サポートです。</li>
</ul>
</li>
<li>
<p>例)</p>
<ul>
<li>
<p>gs_cluster.jsonの表記が以下の場合</p>
<pre tabindex="0"><code>&#34;cluster&#34;:{
    &#34;clusterName&#34;:&#34;myCluster&#34;,
    &#34;replicationNum&#34;:2,
    &#34;notificationMember&#34;:[
        {
            &#34;cluster&#34;: {&#34;address&#34;:&#34;192.168.1.10&#34;, &#34;port&#34;:10010},
            &#34;sync&#34;:    {&#34;address&#34;:&#34;192.168.1.10&#34;, &#34;port&#34;:10020},
            &#34;system&#34;:  {&#34;address&#34;:&#34;192.168.1.10&#34;, &#34;port&#34;:10040},
            &#34;transaction&#34;: {&#34;address&#34;:&#34;192.168.1.10&#34;, &#34;port&#34;:10001},
            &#34;sql&#34;: {&#34;address&#34;:&#34;192.168.1.10&#34;, &#34;port&#34;:20001}
        },
        {
            &#34;cluster&#34;: {&#34;address&#34;:&#34;192.168.1.11&#34;, &#34;port&#34;:10010},
            &#34;sync&#34;:    {&#34;address&#34;:&#34;192.168.1.11&#34;, &#34;port&#34;:10020},
            &#34;system&#34;:  {&#34;address&#34;:&#34;192.168.1.11&#34;, &#34;port&#34;:10040},
            &#34;transaction&#34;: {&#34;address&#34;:&#34;192.168.1.11&#34;, &#34;port&#34;:10001},
            &#34;sql&#34;: {&#34;address&#34;:&#34;192.168.1.11&#34;, &#34;port&#34;:20001}
        },
        {
            &#34;cluster&#34;: {&#34;address&#34;:&#34;192.168.1.12&#34;, &#34;port&#34;:10010},
            &#34;sync&#34;:    {&#34;address&#34;:&#34;192.168.1.12&#34;, &#34;port&#34;:10020},
            &#34;system&#34;:  {&#34;address&#34;:&#34;192.168.1.12&#34;, &#34;port&#34;:10040},
            &#34;transaction&#34;: {&#34;address&#34;:&#34;192.168.1.12&#34;, &#34;port&#34;:10001},
            &#34;sql&#34;: {&#34;address&#34;:&#34;192.168.1.12&#34;, &#34;port&#34;:20001}
        }
    },
      .....
</code></pre></li>
<li>
<p>接続URLの表記</p>
<ul>
<li>プロパティキーnotificationMemberには、アドレスとポート番号を:で連結してカンマで区切った値を記述します。</li>
</ul>
<pre tabindex="0"><code>jdbc:gs:///myCluster/public/?notificationMember=192.168.1.10:20001,192.168.1.11:20001,192.168.1.12:20001
</code></pre></li>
<li>
<p>プログラム</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">fixedList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;192.168.1.10:20001,192.168.1.11:20001,192.168.1.12:20001&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">encodeFixedList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">fixedList</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (省略)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">String</span> <span style="color:#000">jdbcUrl</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;jdbc:gs:///&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">encodeClusterName</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;/&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">encodeDatabaseName</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;?notificationMember=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeFixedList</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<p><strong>プロバイダ方式</strong></p>
<ul>
<li>
<p>プロバイダ方式の場合の接続URLは以下の形式になります。</p>
<table>
<thead>
<tr>
<th>接続方式</th>
<th>URL形式</th>
</tr>
</thead>
<tbody>
<tr>
<td>プロバイダ方式</td>
<td>jdbc:gs:///(clusterName)/(databaseName)?notificationProvider=(notificationProvider)</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>URL形式の変数</th>
<th>内容</th>
<th>指定する値</th>
</tr>
</thead>
<tbody>
<tr>
<td>notificationProvider</td>
<td>プロバイダのURL</td>
<td>gs_cluster.jsonの/cluster/notificationProvider/urlに記載している値</td>
</tr>
<tr>
<td>clusterName</td>
<td>クラスタ名</td>
<td>gs_cluster.jsonの/cluster/clusterNameに記載している値</td>
</tr>
<tr>
<td>databaseName</td>
<td>データベース名</td>
<td>任意(publicデータベースの場合は省略可)</td>
</tr>
<tr>
<td>authentication</td>
<td>認証方式</td>
<td>任意(認証方式として、INTERNAL / LDAPのいずれかを指定)</td>
</tr>
<tr>
<td>sslMode</td>
<td>SSL接続</td>
<td>任意(SSL接続として、PREFERRED / VERIFY / DISABLEDのいずれかを指定)</td>
</tr>
</tbody>
</table>
<p>[メモ]</p>
<p>- URLのクラスタ名の前は、&rdquo;/&ldquo;が3個であることにご注意ください。</p>
<ul>
<li>SSL通信設定(sslMode)をVERIFYに設定する場合、GridDBクラスタ側の設定も必要です。詳細は、『<a href="../3.md_reference_feature/md_reference_feature.md">GridDB 機能リファレンス</a>』の「通信の暗号化」を参照してください。また、信頼する認証局の証明書がトラストストアになければ、keytoolコマンドを使ってインポートしてください。必要な場合は、java起動時の引数で、トラストストア(-Djavax.net.ssl.trustStore)、パスワード(-Djavax.net.ssl.trustStorePassword)を指定してください。信頼する認証局の証明書の有効期限切れ確認は未サポートです。</li>
</ul>
</li>
<li>
<p>例)</p>
<ul>
<li>
<p>gs_cluster.jsonの表記が以下の場合</p>
<pre tabindex="0"><code>&#34;cluster&#34;:{
    &#34;clusterName&#34;:&#34;myCluster&#34;,
    &#34;replicationNum&#34;:2,
    &#34;notificationProvider&#34;:{
        &#34;url&#34;:&#34;http://example.com/notification/provider&#34;,
        &#34;updateInterval&#34;:&#34;30s&#34;
    }
    .....
</code></pre></li>
<li>
<p>接続URLの表記</p>
<ul>
<li>プロパティキーnotificationProviderにはurlの値を記述します。</li>
</ul>
<pre tabindex="0"><code>jdbc:gs:///myCluster/public/?notificationProvider=http://example.com/notification/provider
</code></pre></li>
<li>
<p>プログラム</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">providerUrl</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;http://example.com/notification/provider&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">encodeProviderUrl</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">providerUrl</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (省略)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">String</span> <span style="color:#000">jdbcUrl</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;jdbc:gs:///&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">encodeClusterName</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;/&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">encodeDatabaseName</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;?notificationProvider=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeProviderUrl</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<h4 id="ログインタイムアウトの設定">ログインタイムアウトの設定</h4>
<p>接続時のタイムアウトを設定します。設定方法は、ドライバ全体に設定を行う方法と、コネクション取得時に設定を行う方法の2つがあります。
コネクション取得時に設定を行う方法の場合は、その時に取得したコネクションにしかログインタイムアウトの情報は反映されません。</p>
<table>
<thead>
<tr>
<th>分類</th>
<th>メソッド</th>
</tr>
</thead>
<tbody>
<tr>
<td>ドライバ全体への設定</td>
<td>void DriverManager.setLoginTimeout(int seconds)</td>
</tr>
<tr>
<td>コネクションへの設定</td>
<td>Connection DriverManager.getConnection(String url, Properties info)<br>Connection Driver.connect(String url, Properties info)</td>
</tr>
</tbody>
</table>
<ul>
<li>プロパティで指定する場合のプロパティキーは、&ldquo;loginTimeout&quot;です。</li>
<li>値の単位は秒で、値の範囲は1からInteger.MAX_VALUEです。それ以外の値を指定した場合は、値は無視されます。</li>
<li>ドライバ全体とコネクションへの設定の両方を行った場合は、コネクションへの設定の方が優先されます。</li>
</ul>
<h3 id="トランザクション制御">トランザクション制御</h3>
<p>JDBCでは、トランザクション制御をサポートしていません。
データの登録INSERTなどの操作は、SQL文を実行した時点で自動的にロウがコミットされます。</p>
<ul>
<li>INSERTやUPDATEなどのトランザクション操作は、SQL文を実行した時点で自動的にロウがコミットされます。</li>
<li>コミットcommit()やロールバックrollback()は、実行しても要求は無視されます。エラーにはなりません。</li>
<li>INSERTやUPDATEなどで複数のロウを指定した場合は、ロウ単位で自動的に変更内容がコミットされます。</li>
</ul>
<p>例)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">Statement</span> <span style="color:#000">stmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createStatement</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;CREATE TABLE sqlCollection ( id integer, value string )&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// →実行時点でコミットされる
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">ret0</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;INSERT INTO sqlCollection values (0, &#39;test0&#39;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// →実行時点でコミットされる
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">ret1</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;INSERT INTO sqlCollection values &#34;</span><span style="color:#ce5c00;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>							<span style="color:#4e9a06">&#34;(1, &#39;test1&#39;),(2, &#39;test2&#39;),(3, &#39;test3&#39;),(4, &#39;test4&#39;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// →実行時点でコミットされる(ロウ単位でコミット)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">commit</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// →コミット要求は無視される（エラーにはならない）
</span></span></span></code></pre></div><p>[メモ]</p>
<ul>
<li>SQLで検索実行時に、トランザクションの隔離レベルがREAD COMMITTEDにならない場合があります。
検索時のデータ一貫性の詳細は、『<a href="../16.md_reference_jdbc/md_reference_jdbc.md">GridDB JDBCドライバ説明書</a>』をご参照ください。</li>
</ul>
<p><a id="jdbc_sql_create_insert"></a></p>
<h3 id="sqlを実行するコンテナ作成とロウ登録">SQLを実行する（コンテナ作成とロウ登録）</h3>
<p>コンテナ作成とロウ登録を行うSQLを実行するプログラムを示します。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.net.URLEncoder</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.sql.Connection</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.sql.DriverManager</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.sql.Statement</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Properties</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">JDBCCreateTableInsert</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">try</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// クラスタに接続する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// JDBCの接続情報
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">String</span> <span style="color:#000">jdbcAddress</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">String</span> <span style="color:#000">jdbcPort</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;41999&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">String</span> <span style="color:#000">clusterName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">String</span> <span style="color:#000">databaseName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">String</span> <span style="color:#000">username</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">String</span> <span style="color:#000">password</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">String</span> <span style="color:#000">applicationName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SampleJDBC&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// クラスタ名とデータベース名はエンコードする
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">String</span> <span style="color:#000">encodeClusterName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">clusterName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">String</span> <span style="color:#000">encodeDatabaseName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">databaseName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// URLを組み立てる (マルチキャスト方式)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">String</span> <span style="color:#000">jdbcUrl</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;jdbc:gs://&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">jdbcAddress</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;:&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">jdbcPort</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;/&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeClusterName</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;/&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeDatabaseName</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">username</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">password</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">applicationName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// 接続する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">Connection</span> <span style="color:#000">con</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">DriverManager</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getConnection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">jdbcUrl</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// コンテナ作成とデータ登録
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// (1)ステートメント作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">Statement</span> <span style="color:#000">stmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createStatement</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (存在した場合は削除する)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DROP TABLE IF EXISTS SampleJDBC_Create&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (2)コンテナ作成のSQL実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;CREATE TABLE SampleJDBC_Create ( id integer PRIMARY KEY, value string )&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SQL Create Table name=SampleJDBC_Create&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (3)ロウ登録のSQL実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">ret0</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;INSERT INTO SampleJDBC_Create values (0, &#39;test0&#39;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SQL Insert count=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">ret0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">ret1</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;INSERT INTO SampleJDBC_Create values &#34;</span><span style="color:#ce5c00;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>										<span style="color:#4e9a06">&#34;(1, &#39;test1&#39;),(2, &#39;test2&#39;),(3, &#39;test3&#39;),(4, &#39;test4&#39;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SQL Insert count=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">ret1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">// 終了処理
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">catch</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">Exception</span> <span style="color:#000">e</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">e</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStackTrace</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>(1)ステートメントを作成し、(2)(3)executeUpdateでコンテナを作成するSQL、ロウを登録するSQLを実行します。
戻り値は、コンテナ作成のSQLの場合は成功したら0、ロウ登録のSQLの場合は、登録したロウ数になります。</p>
<p><a id="jdbc_sql_select"></a></p>
<h3 id="sqlを実行する検索">SQLを実行する（検索）</h3>
<p>SQLで検索を行います。Statement.executeQueryメソッドを使用します。</p>
<!-- JDBCSelect.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)ステートメント作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Statement</span> <span style="color:#000">stmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createStatement</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)SQL実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ResultSet</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeQuery</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * from SampleJDBC_Select where ID &gt; 2&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)結果の取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInt</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">String</span> <span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SQL row(id=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, value=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>executeQueryで検索を実行し、検索結果のロウをResultSet.nextで取り出します。
ロウの値は、データ型に対応するgetterを用いて取得します。</p>
<p>取得するロウ数のヒントをJDBCドライバに与える場合は、Statement.setFetchSizeまたはResultSet.setFetchSizeを使用します。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)SQL実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ResultSet</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeQuery</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * from SampleJDBC_Select where ID &gt; 2&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setFetchSize</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1000</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>[メモ]</p>
<ul>
<li>
<p>検索結果のResultSetからロウの値を取り出す時、カラムの番号は1からの連番になります。</p>
</li>
<li>
<p>SQLでコンテナやカラムを指定する場合、名前に記号を含む名前はダブルクォーテーションで囲む必要があります。</p>
<pre tabindex="0"><code>select * from &#34;test.container&#34;;
</code></pre></li>
</ul>
<p><a id="jdbc_prepared"></a></p>
<h3 id="プリペアードステートメントを実行する">プリペアードステートメントを実行する</h3>
<p>プリペアードステートメントを用いて検索を行うプログラムを示します。</p>
<!-- JDBCPreparedStatement.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)プリペアードステートメント作成
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">PreparedStatement</span> <span style="color:#000">pstmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">prepareStatement</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * from SampleJDBC_Prepared where ID &gt; ?&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)値を設定する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">pstmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInt</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">3</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)SQL実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ResultSet</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">pstmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeQuery</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)結果の取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInt</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">String</span> <span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SQL row(id=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, value=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p><a id="jdbc_blob"></a></p>
<h3 id="バイナリデータを扱う-2">バイナリデータを扱う</h3>
<h4 id="バイナリデータを登録する">バイナリデータを登録する</h4>
<p>バイナリデータの登録では、PreparedStatementインタフェースを使用します。</p>
<p>ロウを登録するINSERT文でPreparedStatementを作成し、setBlob(int parameterIndex, Blob x)でバイナリデータをセットして登録します。
PreparedStatementインタフェースにはバイナリデータをセットするメソッドが様々ありますが、GridDBのJDBCではsetBlob(int parameterIndex, Blob x)のみをサポートしています。</p>
<p>Blobオブジェクトは、SerialBlobなどのBlobを実装したクラスを使用します。Blobオブジェクトを生成するConnectionインタフェースのcreateBlob()は未サポートです。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// バイナリデータを格納するコンテナを作成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;CREATE TABLE SampleJDBC_BlobData ( id integer PRIMARY KEY, data blob )&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ファイルからバイナリデータを読み込み登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)プリペアードステートメントを作成する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">PreparedStatement</span> <span style="color:#000">pstmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">prepareStatement</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;INSERT INTO SampleJDBC_BlobData(id, data) VALUES(?, ?)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)ファイルからバイナリファイルを読み込む
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">File</span> <span style="color:#000">file</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">File</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;JDBCBlobData.class&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">FileInputStream</span> <span style="color:#000">fis</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">FileInputStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">file</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">byte</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">b</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#204a87;font-weight:bold">byte</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">ByteArrayOutputStream</span> <span style="color:#000">baos</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ByteArrayOutputStream</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">while</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">fis</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">read</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">b</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000">baos</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">write</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">b</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">baos</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fis</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">b</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">baos</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">toByteArray</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// (3)BLOBをセットする
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">SerialBlob</span> <span style="color:#000">serialBlob</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">SerialBlob</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">b</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">pstmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setBlob</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">,</span>  <span style="color:#000">serialBlob</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">pstmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInt</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)ロウを登録する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">pstmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">pstmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span></code></pre></div><p>[メモ]</p>
<ul>
<li>PreparedStatementインターフェースでは、バイナリデータをストリームでセットするsetBinaryStreamや、setBytes(int parameterIndex, byte[] x)などはサポートしていません。
setBlob(int parameterIndex, Blob x)を使用してください。</li>
</ul>
<h4 id="バイナリデータを取得する">バイナリデータを取得する</h4>
<p>バイナリデータはResultSetのgetBinaryStreamやgetBlobなどを用いて取得します。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)検索を実行する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Statement</span> <span style="color:#000">stmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createStatement</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ResultSet</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeQuery</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * FROM SampleJDBC_BlobData WHERE id = 0&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// (2)バイナリデータを取得してファイルに保存する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">InputStream</span> <span style="color:#000">input</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getBinaryStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">FileOutputStream</span> <span style="color:#000">output</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">FileOutputStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;jdbc_output&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">((</span><span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">read</span><span style="color:#ce5c00;font-weight:bold">())!=-</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">output</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">write</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">output</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p><a id="jdbc_meta"></a></p>
<h3 id="メタデータを取得する">メタデータを取得する</h3>
<p>メタデータを取得するDatabaseMetaDataインタフェースやResultSetMetaDataインタフェースを用いて、
コンテナ名一覧、コンテナのスキーマ情報や索引情報、検索結果のカラム情報などを取得できます。
メソッドの詳細は『<a href="../16.md_reference_jdbc/md_reference_jdbc.md">GridDB JDBCドライバ説明書</a>』をご参照ください。</p>
<h4 id="コンテナ名一覧を取得する">コンテナ名一覧を取得する</h4>
<p>DatabaseMetaData.getTablesで、コンテナ名一覧を取得します。
コンテナ名に対してワイルドカードを使った絞込み条件を指定することができます。</p>
<!-- JDBCMetaData.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">DatabaseMetaData</span> <span style="color:#000">meta</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getMetaData</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コンテナ一覧を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DatabaseMetadata.getTables  null&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">ResultSet</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">meta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getTables</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TABLE_NAME&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">String</span> <span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TABLE_TYPE&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  (name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, type=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コンテナ名が「SampleJDBC_」で始まるコンテナ一覧を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DatabaseMetadata.getTables SampleJDBC\\_%&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">meta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getTables</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJDBC\\_%&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TABLE_NAME&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">String</span> <span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TABLE_TYPE&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  (name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, type=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span></code></pre></div><h4 id="コンテナのスキーマ情報を取得する-2">コンテナのスキーマ情報を取得する</h4>
<p>DatabaseMetadata.getColumnsで、コンテナのスキーマ情報を取得します。
カラム名やデータ型、NOT NULL制約などの情報が取得できます。</p>
<!-- JDBCMetaData.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">DatabaseMetaData</span> <span style="color:#000">meta</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getMetaData</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// コンテナ&#34;SampleJDBC_Meta1&#34;のカラム情報を取得する
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DatabaseMetadata.getColumns  SampleJDBC_Meta1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">meta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumns</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJDBC_Meta1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TABLE_NAME&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">String</span> <span style="color:#000">columnName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;COLUMN_NAME&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">columnDataType</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInt</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DATA_TYPE&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">String</span> <span style="color:#000">columnTypeName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TYPE_NAME&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">nullable</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInt</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;NULLABLE&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">String</span> <span style="color:#000">isNullable</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;IS_NULLABLE&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  (name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, columnName=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">columnName</span>
</span></span><span style="display:flex;"><span>			<span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, dataType=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">columnDataType</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, typeName=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">columnTypeName</span>
</span></span><span style="display:flex;"><span>			<span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, nullable=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">nullable</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;, isNullable=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">isNullable</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span></code></pre></div><h4 id="検索結果のメタデータを取得する">検索結果のメタデータを取得する</h4>
<p>SQLの検索結果ResultSetのメタデータを、ResultSetMetaDataインタフェースを用いて取得します。
カラムの名前やデータ型などを取得できます。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)SQL実行
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Statement</span> <span style="color:#000">stmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createStatement</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ResultSet</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeQuery</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * from sqlCollection where ID &gt; 2&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)メタデータ取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ResultSetMetaData</span> <span style="color:#000">rsMeta</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getMetaData</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)メタデータの値を取得
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;=</span> <span style="color:#000">rsMeta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnCount</span><span style="color:#ce5c00;font-weight:bold">();</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">String</span> <span style="color:#000">columnName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rsMeta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">String</span> <span style="color:#000">columnLabelName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rsMeta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnLabel</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">String</span> <span style="color:#000">columnTypeClassName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rsMeta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnClassName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">columnType</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rsMeta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnType</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">String</span> <span style="color:#000">columnTypeName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rsMeta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnTypeName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;columnName=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">columnName</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;, columnLabelName=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">columnLabelName</span>
</span></span><span style="display:flex;"><span>			<span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, columnTypeClassName=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">columnTypeClassName</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;, columnType=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">columnType</span>
</span></span><span style="display:flex;"><span>			<span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, columnTypeName=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">columnTypeName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="jdbcではサポートしていないデータ型を持つコンテナを扱う">JDBCではサポートしていないデータ型を持つコンテナを扱う</h3>
<p>JDBCでは、GridDBのデータ型の中で空間型(Geometry型)と配列型をサポートしていません。
これらのデータ型のカラムを持つコンテナに対して、JDBCでアクセスした時のアプリケーションの動作を説明します。</p>
<p>[メモ]</p>
<ul>
<li>空間型や配列型のカラムを持つコンテナは、NoSQLインタフェースのAPIで作成できます。</li>
</ul>
<h4 id="sqlを実行するロウ登録">SQLを実行する（ロウ登録）</h4>
<p>空間型と配列型のカラムを持つコンテナに対しては、ロウを登録することはできません。
ロウ登録のINSERT文において、サポート範囲のデータ型のカラムの値だけ指定しても、ロウを登録することはできません。</p>
<p>次のカラムを持つコンテナに対して、カラムidとdoubleだけを指定したINSERT文を実行する
プログラムを示します。このプログラムはエラーになります。</p>
<ul>
<li>カラム名：id、データ型：Integer型</li>
<li>カラム名：double, データ型：Double型</li>
<li>カラム名：geometry、データ型：Geometry型</li>
<li>カラム名：string_array、データ型：String型の配列型</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">Statement</span> <span style="color:#000">stmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createStatement</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;INSERT INTO collection_type (id, double) VALUES (1, 192.3)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// →SQLExceptionが発生します。
</span></span></span></code></pre></div><h4 id="sqlを実行する検索-1">SQLを実行する（検索）</h4>
<p>空間型と配列型のカラムを持つコンテナを検索した場合、それらのカラムの値を取得した結果は常にNULLです。
ResultSetインタフェースではこれらのデータ型専用のgetterがないため、getObjectで値を取得できます。</p>
<p>次のカラムを持つコンテナに対して、検索を行うプログラムを示します。</p>
<ul>
<li>カラム名：id、データ型：Integer型</li>
<li>カラム名：double, データ型：Double型</li>
<li>カラム名：geometry、データ型：Geometry型</li>
<li>カラム名：string_array、データ型：String型の配列型</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">Statement</span> <span style="color:#000">stmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createStatement</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ResultSet</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeQuery</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * FROM collection_type&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInt</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">Object</span> <span style="color:#000">geometry</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getObject</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>	<span style="color:#8f5902;font-style:italic">// NULLが返る
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">Object</span> <span style="color:#000">string_array</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getObject</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">3</span><span style="color:#ce5c00;font-weight:bold">);</span>	<span style="color:#8f5902;font-style:italic">// NULLが返る
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>Geometry型と、String型の配列型のカラムの値は、NULLが返ります。</p>
<h4 id="メタデータを取得する-1">メタデータを取得する</h4>
<p>DatabaseMetadataインタフェースでカラム情報を取得した時、サポートしていない空間型、配列型の
カラムについては、データ型の名前はUNKNOWN、データ型の値はTypes.OTHERが返ります。</p>
<h2 id="----付録----">&mdash; 付録 &mdash;</h2>
<h2 id="apiのサポート範囲の機能詳細">APIのサポート範囲の機能詳細</h2>
<h3 id="接続機能">接続機能</h3>
<table>
<thead>
<tr>
<th>GridDBの機能</th>
<th>Java API</th>
<th>C API</th>
<th>JDBC</th>
</tr>
</thead>
<tbody>
<tr>
<td>マルチキャスト方式の接続</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>固定リスト方式の接続</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>プロバイダ方式の接続</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>接続時のオプション設定(データベース)</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>接続時のオプション設定(ログインタイムアウト)</td>
<td>×</td>
<td>×</td>
<td>○</td>
</tr>
<tr>
<td>接続時のオプション設定(トランザクションタイムアウト)</td>
<td>○</td>
<td>○</td>
<td>×</td>
</tr>
<tr>
<td>接続時のオプション設定(フェイルオーバタイムアウト)</td>
<td>○</td>
<td>○</td>
<td>×</td>
</tr>
<tr>
<td>接続時のオプション設定(クエリタイムアウト)</td>
<td>×</td>
<td>×</td>
<td>○</td>
</tr>
<tr>
<td>接続時のオプション設定(データ一貫性)</td>
<td>○</td>
<td>○</td>
<td>×</td>
</tr>
<tr>
<td>接続時のオプション設定(コンテナキャッシュ)</td>
<td>○</td>
<td>○</td>
<td>×</td>
</tr>
<tr>
<td>接続時のオプション設定(データアフィニティのパターン定義)</td>
<td>○</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>接続時のオプション設定(認証方式)</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>接続時のオプション設定(SSL通信)</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>接続時のオプション設定(マルチキャストパケットを受信するインターフェースアドレス)</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>クライアント設定ファイル読み込み</td>
<td>○</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>最大接続プールサイズの設定</td>
<td>○</td>
<td>○</td>
<td>×</td>
</tr>
</tbody>
</table>
<h3 id="コンテナの機能">コンテナの機能</h3>
<p>コンテナ(パーティショニングコンテナではないコンテナ)の機能について、サポート範囲を以下に示します。</p>
<table>
<thead>
<tr>
<th>GridDBの機能</th>
<th>Java API</th>
<th>C API</th>
<th>JDBC</th>
</tr>
</thead>
<tbody>
<tr>
<td>コンテナ作成(メソッドによるスキーマ定義)</td>
<td>○ GridStore.putContainer</td>
<td>○ gsPutContainerGeneral</td>
<td>○(SQL) CREATE TABLE</td>
</tr>
<tr>
<td>コンテナ作成(クラスによるスキーマ定義)</td>
<td>○ GridStore.putContainer</td>
<td>○ gsPutContainer</td>
<td>×</td>
</tr>
<tr>
<td>コンテナ削除</td>
<td>○ GridStore.dropContainer</td>
<td>○ gsDropContainer</td>
<td>○(SQL) DROP TABLE</td>
</tr>
<tr>
<td>カラム追加</td>
<td>○ GridStore.putContainer</td>
<td>○ gsPutContainer<br>gsPutContainerGeneral</td>
<td>○(SQL) ALTER TABLE</td>
</tr>
<tr>
<td>カラム削除</td>
<td>○ GridStore.putContainer</td>
<td>○ gsPutContainer<br>gsPutContainerGeneral</td>
<td>×</td>
</tr>
<tr>
<td>索引(名前なし)作成</td>
<td>○ Container.createIndex</td>
<td>○ gsCreateIndex</td>
<td>×</td>
</tr>
<tr>
<td>索引(名前あり)作成</td>
<td>○ Container.createIndex</td>
<td>○ gsCreateIndexDetail</td>
<td>○(SQL) CREATE INDEX</td>
</tr>
<tr>
<td>索引削除</td>
<td>○ Container.dropIndex</td>
<td>○ gsDropIndex<br>gsDropIndexDetail</td>
<td>○(SQL) DROP INDEX</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
</tr>
<tr>
<td>コンテナ作成のオプション設定(データアフィニティ)</td>
<td>○ ContainerInfo.setDataAffinity</td>
<td>○<br>GSContainerInfo.dataAffinity</td>
<td>○(SQL) CREATE TABLE</td>
</tr>
<tr>
<td>コンテナ作成のオプション設定(ノードアフィニティ)</td>
<td>○ コンテナ名で指定</td>
<td>○ コンテナ名で指定</td>
<td>○(SQL) コンテナ名で指定</td>
</tr>
<tr>
<td>コンテナ作成のオプション設定(NOT NULL制約)</td>
<td>○ ColumnInfo</td>
<td>○ GSColumnInfo.options</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
</tr>
<tr>
<td>コンテナオブジェクト取得</td>
<td>○ GridStore.getContainer</td>
<td>○ gsGetContainerGeneral</td>
<td>×</td>
</tr>
<tr>
<td>コンテナのカラム情報取得</td>
<td>○ Container.getContainerInfo</td>
<td>○ gsGetContainerInfo</td>
<td>○</td>
</tr>
<tr>
<td>コンテナの索引情報取得</td>
<td>○ Container.getIndexInfo</td>
<td>○ gsGetContainerInfo</td>
<td>○</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
</tr>
<tr>
<td>ロウ取得(ロウキー指定)</td>
<td>○ Container.get(K key)</td>
<td>○ gsGetRow</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>ロウ取得(参照ロック)</td>
<td>○ Container.get(K key, boolean forUpdate)</td>
<td>○ gsGetRowForUpdate</td>
<td>×</td>
</tr>
<tr>
<td>ロウ登録</td>
<td>○ Container.put(R row)</td>
<td>○ gsPutRow</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>ロウ登録(ロウキー指定)</td>
<td>○ Container.put(K key, R row)</td>
<td>○ gsPutRowGeneral</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>複数ロウ登録</td>
<td>○ Container.put(Collection<R> rowCollection)</td>
<td>○ gsPutMultipleRows</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>ロウ削除</td>
<td>○ Container.remove</td>
<td>○ gsDeleteRow</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
</tr>
<tr>
<td>ロウオブジェクト生成</td>
<td>○ Container.createRow</td>
<td>○ gsCreateRowByContainer<br>gsCreateRowByStore</td>
<td>×</td>
</tr>
<tr>
<td>ロウオブジェクトの初期値(NULL使用有無)設定</td>
<td>○ ColumnInfo(..,boolean defaultValueNull,..)</td>
<td>○</td>
<td>×</td>
</tr>
<tr>
<td>ロウオブジェクトのNULL参照・設定</td>
<td>○ Row.setNull<br>Row.isNull</td>
<td>○</td>
<td>×</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
</tr>
<tr>
<td>TQLクエリ生成</td>
<td>○ Container.query</td>
<td>○ gsQuery</td>
<td>×</td>
</tr>
<tr>
<td>TQLフェッチ(ロックなし)</td>
<td>○ Query.fetch</td>
<td>○ gsFetch</td>
<td>×</td>
</tr>
<tr>
<td>TQLフェッチ(ロックあり)</td>
<td>○ Query.fetch</td>
<td>○ gsFetch</td>
<td>×</td>
</tr>
<tr>
<td>TQL結果件数取得</td>
<td>○ RowSet.size</td>
<td>○ gsGetRowSetSize</td>
<td>×</td>
</tr>
<tr>
<td>TQLカーソル確認</td>
<td>○ RowSet.hasNext</td>
<td>○ gsHasNextRow</td>
<td>×</td>
</tr>
<tr>
<td>TQLカーソル移動</td>
<td>○ RowSet.next</td>
<td>○ gsGetNextRow</td>
<td>×</td>
</tr>
<tr>
<td>TQLカーソル位置のロウ更新</td>
<td>○ RowSet.update</td>
<td>○ gsUpdateCurrentRow</td>
<td>×</td>
</tr>
<tr>
<td>TQLカーソル位置のロウ削除</td>
<td>○ RowSet.remove</td>
<td>○ gsDeleteCurrentRow</td>
<td>×</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
</tr>
<tr>
<td>SQL実行</td>
<td>×</td>
<td>×</td>
<td>○</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
</tr>
<tr>
<td>コミットモード設定</td>
<td>○ Container.setAutoCommit</td>
<td>○ gsSetAutoCommit</td>
<td>×</td>
</tr>
<tr>
<td>コミット</td>
<td>○ Container.commit</td>
<td>○ gsCommit</td>
<td>×</td>
</tr>
<tr>
<td>アボート</td>
<td>○ Container.abort</td>
<td>○ gsAbort</td>
<td>×</td>
</tr>
<tr>
<td>データフラッシュ</td>
<td>○ Container.flush</td>
<td>○ gsFlush</td>
<td>×</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
</tr>
<tr>
<td>複数コンテナのロウ登録</td>
<td>○ GridStore.multiPut</td>
<td>○ gsPutMultipleContainerRows</td>
<td>×</td>
</tr>
<tr>
<td>複数コンテナのロウ取得</td>
<td>○ GridStore.multiGet</td>
<td>○ gsGetMultipleContainerRows</td>
<td>×</td>
</tr>
<tr>
<td>複数コンテナのTQL実行</td>
<td>○ GridStore.fetchAll</td>
<td>○ gsFetchAll</td>
<td>×</td>
</tr>
</tbody>
</table>
<p><strong>時系列コンテナ特有の機能</strong></p>
<table>
<thead>
<tr>
<th>GridDBの機能</th>
<th>Java API</th>
<th>C API</th>
<th>JDBC</th>
</tr>
</thead>
<tbody>
<tr>
<td>ロウ取得(時刻の隣接指定)</td>
<td>○ TimeSeries.get</td>
<td>○ gsGetRowByBaseTime</td>
<td>×</td>
</tr>
<tr>
<td>ロウ取得(集計演算)</td>
<td>○ TimeSeries.aggregate</td>
<td>○ gsAggregateTimeSeries</td>
<td>×</td>
</tr>
<tr>
<td>ロウ取得(補間演算)</td>
<td>○ TimeSeries.interpolate</td>
<td>○ gsInterpolateTimeSeriesRow</td>
<td>×</td>
</tr>
<tr>
<td>サンプリングクエリ生成</td>
<td>○ TimeSeries.query</td>
<td>○ gsQueryByTimeSeriesSampling</td>
<td>×</td>
</tr>
<tr>
<td>ロウ登録(現時刻をもつ新規ロウ追加)</td>
<td>○ TimeSeries.append</td>
<td>○ gsAppendTimeSeriesRow</td>
<td>×</td>
</tr>
</tbody>
</table>
<p><strong>コレクション特有の機能</strong></p>
<table>
<thead>
<tr>
<th>GridDBの機能</th>
<th>Java API</th>
<th>C API</th>
<th>JDBC</th>
</tr>
</thead>
<tbody>
<tr>
<td>空間型の検索条件のクエリ生成</td>
<td>○ Collection.query(java.lang.String column, Geometry geometry, GeometryOperator geometryOp)</td>
<td>○ gsQueryByGeometry</td>
<td>×</td>
</tr>
<tr>
<td>空間型の検索条件のクエリ生成(除外範囲付き)</td>
<td>○ Collection.query(java.lang.String column, Geometry geometryIntersection, Geometry geometryDisjoint)</td>
<td>○ gsQueryByGeometryWithDisjointCondition</td>
<td>×</td>
</tr>
</tbody>
</table>
<h3 id="パーティショニングコンテナの機能">パーティショニングコンテナの機能</h3>
<p>パーティショニングコンテナの機能について、サポート範囲を以下に示します。</p>
<table>
<thead>
<tr>
<th>GridDBの機能</th>
<th>Java API</th>
<th>C API</th>
<th>JDBC</th>
</tr>
</thead>
<tbody>
<tr>
<td>コンテナ作成(ハッシュパーティショニング)</td>
<td>×</td>
<td>×</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>コンテナ作成(インターバルパーティショニング)</td>
<td>×</td>
<td>×</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>コンテナ作成(インターバルハッシュパーティショニング)</td>
<td>×</td>
<td>×</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>コンテナ削除</td>
<td>×</td>
<td>×</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>カラム追加</td>
<td>×</td>
<td>×</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>カラム削除</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>索引(名前なし)作成・削除</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>索引(名前あり)作成・削除</td>
<td>×</td>
<td>×</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>コンテナ作成のオプション設定(データアフィニティ)</td>
<td>×</td>
<td>×</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>コンテナ作成のオプション設定(ノードアフィニティ)</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>コンテナ作成のオプション設定(NOT NULL制約)</td>
<td>×</td>
<td>×</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>コンテナ作成のオプション設定(パーティション期限解放)</td>
<td>×</td>
<td>×</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>コンテナオブジェクト取得</td>
<td>○ GridStore.getContainer</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>コンテナのカラム情報取得</td>
<td>○ Container.getContainerInfo</td>
<td>×</td>
<td>○</td>
</tr>
<tr>
<td>コンテナの索引情報取得</td>
<td>○ Container.getIndexInfo</td>
<td>×</td>
<td>○</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>ロウ取得(ロウキー指定)</td>
<td>○ Container.get(K key)</td>
<td>×</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>ロウ取得(参照ロック)</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>ロウ登録</td>
<td>○ Container.put(R row)</td>
<td>×</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>ロウ登録(ロウキー指定)</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>複数ロウ登録</td>
<td>○ Container.put(Collection<R> rowCollection)</td>
<td>×</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>ロウ削除</td>
<td>○ Container.remove(K key)</td>
<td>×</td>
<td>○(SQL)</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>ロウオブジェクト生成</td>
<td>○ Container.createRow</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>ロウオブジェクトの初期値(NULL使用有無)設定</td>
<td>○ ColumnInfo(..,boolean defaultValueNull,..)</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>ロウオブジェクトのNULL参照・設定</td>
<td>○ Row.setNull<br>Row.isNull</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>TQLクエリ生成</td>
<td>○ Container.query</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>TQLフェッチ(ロックなし)</td>
<td>○ Query.fetch</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>TQLフェッチ(ロックあり)</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>TQL結果件数取得</td>
<td>○ RowSet.size</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>TQLカーソル確認</td>
<td>○ RowSet.hasNext</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>TQLカーソル移動</td>
<td>○ RowSet.next</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>TQLカーソル位置のロウ更新</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>TQLカーソル位置のロウ削除</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>SQL実行</td>
<td>×</td>
<td>×</td>
<td>○</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>コミットモード設定</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>コミット</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>アボート</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>データフラッシュ</td>
<td>○ Container.flush</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>複数コンテナのロウ登録</td>
<td>○ GridStore.multiPut</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>複数コンテナのロウ取得</td>
<td>○ GridStore.multiGet</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>複数コンテナのTQL実行</td>
<td>○ GridStore.fetchAll</td>
<td>×</td>
<td>×</td>
</tr>
</tbody>
</table>
<p><strong>時系列コンテナ特有の機能</strong></p>
<table>
<thead>
<tr>
<th>GridDBの機能</th>
<th>Java API</th>
<th>C API</th>
<th>JDBC</th>
</tr>
</thead>
<tbody>
<tr>
<td>ロウ取得(時刻の隣接指定)</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>ロウ取得(集計演算)</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>ロウ取得(補間演算)</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>サンプリングクエリ生成</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>ロウ登録(現時刻をもつ新規ロウ追加)</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
</tbody>
</table>
<p><strong>コレクション特有の機能</strong></p>
<table>
<thead>
<tr>
<th>GridDBの機能</th>
<th>Java API</th>
<th>C API</th>
<th>JDBC</th>
</tr>
</thead>
<tbody>
<tr>
<td>空間型の検索条件のクエリ生成</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>空間型の検索条件のクエリ生成(除外範囲付き)</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
</tbody>
</table>
<h3 id="その他の機能">その他の機能</h3>
<table>
<thead>
<tr>
<th>GridDBの機能</th>
<th>Java API</th>
<th>C API</th>
<th>JDBC</th>
</tr>
</thead>
<tbody>
<tr>
<td>パーティションコントローラ取得</td>
<td>○ GridStore.getPartitionController</td>
<td>○ gsGetPartitionController</td>
<td>×</td>
</tr>
<tr>
<td>パーティション数取得</td>
<td>○ PartitionController. getPartitionCount</td>
<td>○ gsGetPartitionCount</td>
<td>×</td>
</tr>
<tr>
<td>パーティション単位のコンテナ数取得</td>
<td>○ PartitionController. getContainerCount</td>
<td>○ gsGetPartitionContainerCount</td>
<td>×</td>
</tr>
<tr>
<td>パーティション単位のコンテナ名取得</td>
<td>○ PartitionController. getContainerNames</td>
<td>○ gsGetPartitionContainerNames</td>
<td>×</td>
</tr>
<tr>
<td>ノードアドレス一覧取得</td>
<td>○ PartitionController. getHosts</td>
<td>○ gsGetPartitionHosts</td>
<td>×</td>
</tr>
<tr>
<td>オーナアドレス取得</td>
<td>○ PartitionController. getOwnerHost</td>
<td>○ gsGetPartitionOwnerHost</td>
<td>×</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>現在時刻取得</td>
<td>○ TimestampUtils.current</td>
<td>○ gsCurrentTime</td>
<td>×</td>
</tr>
<tr>
<td>時刻加算</td>
<td>○ TimestampUtils.add</td>
<td>○ gsAddTime</td>
<td>×</td>
</tr>
<tr>
<td>文字列からTimestamp型への変換</td>
<td>○ TimestampUtils.parse</td>
<td>○ gsParseTime</td>
<td>×</td>
</tr>
<tr>
<td>Timestamp型から文字列への変換</td>
<td>○ TimestampUtils.format</td>
<td>○ gsFormatTime</td>
<td>×</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>複数コンテナのロウ取得の個別条件設定</td>
<td>○ RowKeyPredicate.add</td>
<td>○ gsAddPredicateKeyXXXXX</td>
<td>×</td>
</tr>
<tr>
<td>複数コンテナのロウ取得の範囲条件設定</td>
<td>○ RowKeyPredicate.setStart<br>RowKeyPredicate.setFinish</td>
<td>○ gsSetPredicateStartKeyXXXXX<br>gsSetPredicateFinishKeyXXXXX</td>
<td>×</td>
</tr>
</tbody>
</table>
<h2 id="java-apiのプロパティの外部ファイル指定方法">Java APIのプロパティの外部ファイル指定方法</h2>
<p>Java APIで、クラスタ接続のプロパティを外部ファイルで指定する方法は、次の2種類があります。</p>
<ul>
<li>JavaのPropertiesのファイル読み込みを使用する</li>
<li>Java APIの「クライアント設定ファイル読み込み機能」を使用する</li>
</ul>
<p>外部ファイルで指定すると、アプリケーションのソースを修正せずに接続先などのプロパティを変更することができます。</p>
<h3 id="javaのpropertiesのファイル読み込みを使用する">JavaのPropertiesのファイル読み込みを使用する</h3>
<p>Propertiesオブジェクトで、プロパティファイルを読み込みます。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">load</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">FileInputStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;connect.properties&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GridStore</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getGridStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>プロパティファイルには、プロパティを記載します。</p>
<pre tabindex="0"><code>notificationAddress=239.0.0.1
notificationPort=31999
clusterName=myCluster
database=public
user=admin
password=admin
</code></pre><h3 id="java-apiのクライアント設定ファイル読み込み機能を使用する">Java APIの「クライアント設定ファイル読み込み機能」を使用する</h3>
<p>Java APIには、接続のプロパティを記載したファイル「クライアント設定ファイル」を自動的に読み込む機能があります。</p>
<p>この機能を用いて接続する場合には、以下のライブラリを使用します。</p>
<ul>
<li>
<p>/usr/share/java/gridstore-conf.jar</p>
</li>
<li>
<p>手順</p>
<ul>
<li>
<p>a)クライアント設定ファイルを作成し、プロパティを記述する</p>
<ul>
<li>
<p>ファイル名は<code>gs_client.properties</code>を指定する</p>
</li>
<li>
<p>プロパティキーの前に”store.&ldquo;を付ける</p>
<pre tabindex="0"><code>store.notificationAddress=239.0.0.1
store.notificationPort=31999
store.clusterName=myCluster
store.user=admin
store.password=admin
</code></pre><pre tabindex="0"><code></code></pre></li>
</ul>
</li>
<li>
<p>b) クラスパスに<code>gridstore-conf.jar</code>と<code>gs_client.properties</code>を指定する</p>
<pre tabindex="0"><code>export CLASSPATH=${CLASSPATH}:/usr/share/java/gridstore.jar:/usr/share/java/gridstore-conf.jar:gs_client.properties
</code></pre><pre tabindex="0"><code></code></pre></li>
<li>
<p>c) ソースにはプロパティを指定しない。getGridStoreメソッドに空のPropertiesオブジェクトを渡す。ファイル名<code>gs_client.properties</code>を指定する必要はありません。自動的に読み込まれます。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GridStore</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getGridStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><pre tabindex="0"><code></code></pre></li>
</ul>
</li>
<li>
<p>Propertiesオブジェクトとクライアント設定ファイルの両方でプロパティを指定した場合は、クライアント設定ファイルの情報が優先されます</p>
</li>
</ul>
<p>[メモ]</p>
<ul>
<li>JDBCにはクライアント設定ファイル読み込み機能はありません。</li>
</ul>
<h2 id="nosqlインタフェースを利用する際のヒント">NoSQLインタフェースを利用する際のヒント</h2>
<h3 id="既に存在するコンテナと同じ名前でコンテナを作成した場合はどうなるのか">既に存在するコンテナと同じ名前でコンテナを作成した場合はどうなるのか？</h3>
<p>同じ名前でコンテナ作成(putContainer)すると、カラムやロウキーなどのスキーマ情報が、既に存在するコンテナと作成するコンテナで同じ内容だった場合にはコンテナ取得(getContainer)と同じ動作になります。
スキーマ情報が異なる場合には、コンテナ作成エラーになります。</p>
<p>　</p>
<h3 id="既に存在するロウのロウキーと同じ値でロウ登録した場合はどうなるのか">既に存在するロウのロウキーと同じ値でロウ登録した場合はどうなるのか？</h3>
<p>ロウキーありのコンテナに対して、既に存在するロウキーと同じ値のロウキーを持つロウを登録(put)すると、既存のロウを更新します。</p>
<p>ロウキーなしのコンテナに対するロウ登録(put)は、常にロウの新規登録になります。</p>
<p>　</p>
<h3 id="登録先のコンテナの定義と異なるロウを登録した場合はどうなるのか">登録先のコンテナの定義と異なるロウを登録した場合はどうなるのか？</h3>
<p>ロウ登録(put)がエラーになります。</p>
<p>　</p>
<h3 id="複数ロウの登録中に異常が発生した場合はどうなるのか">複数ロウの登録中に異常が発生した場合はどうなるのか？</h3>
<p>自動コミットモードの場合、複数ロウの登録(put(Collection rowCollection), multiPut)の途中で異常が発生すると、一部のロウのみが登録された状態になる場合があります。</p>
<p>　</p>
<h3 id="時系列コンテナ作成時の注意点">時系列コンテナ作成時の注意点</h3>
<p>時系列コンテナには、TIMESTAMP型のロウキーを設定する必要があります。</p>
<p>そのため、第一カラムのデータ型をTIMESTAMP型にして、かつ、ロウキーの設定を有効にしてください。</p>
<p>これらに反する場合は、コンテナ作成時にエラーが発生します。</p>
<p>　</p>
<h3 id="時系列データの最新または最古のロウ1件を取得する方法">時系列データの最新または最古のロウ1件を取得する方法</h3>
<p>時系列コンテナで最新または最古のロウ1件を取得する場合は、選択演算を用いてください。</p>
<ul>
<li>
<p>時系列コンテナ内の最古のロウを1件取得する</p>
<ul>
<li>
<p>TIMESTAMP型の仕様上の最小の時刻を指定して、選択演算のTIME_NEXTを実行する</p>
<pre tabindex="0"><code>SELECT TIME_NEXT(*, TIMESTAMP(&#39;1970-01-01T00:00:00.000Z&#39;))
</code></pre></li>
</ul>
</li>
<li>
<p>時系列コンテナ内の最新のロウを1件取得する</p>
<ul>
<li>
<p>TIMESTAMP型の仕様上の最大の時刻を指定して、選択演算のTIME_PREVを実行する</p>
<pre tabindex="0"><code>SELECT TIME_PREV(*, TIMESTAMP(&#39;9999-12-31T23:59:59.999Z&#39;))
</code></pre></li>
</ul>
</li>
</ul>
<p>この方法を用いると、時系列コンテナのロウキー索引を使用してロウの絞込を行うため、アクセスするロウが最小限になり高速に取得できます。</p>
<p>TQLのORDER BYを用いた方法「SELECT * ORDER BY 時系列カラム DESC LIMIT 1」では、
絞込がないため全ロウデータの読出しが発生して、性能が低下します。</p>
<p><a id="date_function"></a></p>
<h2 id="日付時刻機能を利用する上でのアプリ向けの推奨事項">日付時刻機能を利用する上でのアプリ向けの推奨事項</h2>
<ul>
<li>
<p>極力、GridDBに対する日時データ入出力には、タイプセーフかつタイムゾーン非依存の型(TIMESTAMP)を用いることを推奨します。</p>
<ul>
<li>例) JDBCアプリでのPreparedStatement・INSERT文を用いたデータ登録には、SQL文内で日時のString値を解釈させるのでなく、アプリ側でjava.util.Date値に変換しておきます。</li>
</ul>
</li>
<li>
<p>極力、タイムゾーン・日時ロケール依存の処理はGridDBの外で行うことを推奨します。</p>
<ul>
<li>例) JDBCアプリでの日時表示加工は、SQL文内に記述せずアプリ側で既存のJavaライブラリを用います。<br>
※その方が機能も豊富でGridDBからの取得コストも低くなります。</li>
</ul>
</li>
<li>
<p>やむを得ない状況に限り、GridDBの日付時刻機能・タイムゾーン依存機能を使用することを推奨します。</p>
<ul>
<li>例) 年月日単位でのグルーピング演算</li>
<li>例) BIツールに向けた日時表示加工</li>
</ul>
</li>
</ul>

	
		<style>
  .feedback--answer {
    display: inline-block;
  }
  .feedback--answer-no {
    margin-left: 1em;
  }
  .feedback--response {
    display: none;
    margin-top: 1em;
  }
  .feedback--response__visible {
    display: block;
  }
</style>
<div class="d-print-none">
<h2 class="feedback--title">Feedback</h2>
<p class="feedback--question">Was this page helpful?</p>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button>
<p class="feedback--response feedback--response-yes">
  Glad to hear it! Please <a href="https://github.com/USERNAME/REPOSITORY/issues/new">tell us how we can improve</a>.
</p>
<p class="feedback--response feedback--response-no">
  Sorry to hear that. Please <a href="https://github.com/USERNAME/REPOSITORY/issues/new">tell us how we can improve</a>.
</p>
</div>
<script>
  const yesButton = document.querySelector('.feedback--answer-yes');
  const noButton = document.querySelector('.feedback--answer-no');
  const yesResponse = document.querySelector('.feedback--response-yes');
  const noResponse = document.querySelector('.feedback--response-no');
  const disableButtons = () => {
    yesButton.disabled = true;
    noButton.disabled = true;
  };
  const sendFeedback = (value) => {
    if (typeof ga !== 'function') return;
    const args = {
      command: 'send',
      hitType: 'event',
      category: 'Helpful',
      action: 'click',
      label: window.location.pathname,
      value: value
    };
    ga(args.command, args.hitType, args.category, args.action, args.label, args.value);
  };
  yesButton.addEventListener('click', () => {
    yesResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(1);
  });
  noButton.addEventListener('click', () => {
    noResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(0);
  });
</script>

		<br />
	
	
	<div class="text-muted mt-5 pt-3 border-top">
  最終更新 2022.06.28: <a href="https://github.com/gahoh/docsy-example/commit/80cd121ae26295e716196cd6db59b8cea9a66c35">Update (80cd121)</a>
</div>

</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" rel="noopener" href="https://twitter.com/griddb" aria-label="Twitter">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Stack Overflow" aria-label="Stack Overflow">
    <a class="text-white" target="_blank" rel="noopener" href="https://stackoverflow.com/questions/tagged/griddb" aria-label="Stack Overflow">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/griddb" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2022 Toshiba Digital Solutions Corporation  </small>
        
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
    crossorigin="anonymous"></script>





<script src='/js/tabpane-persist.js'></script>


















<script src="/docsy-example/js/main.min.48a8f51b86cf2776dee26041c03244f603fe031dcf8cc8080e2dd43c857e2731.js" integrity="sha256-SKj1G4bPJ3be4mBBwDJE9gP&#43;Ax3PjMgIDi3UPIV&#43;JzE=" crossorigin="anonymous"></script>




  </body>
</html>