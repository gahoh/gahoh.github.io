<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.101.0" />
<link rel="canonical" type="text/html" href="https://gahoh.github.io/docs/">
<link rel="alternate" type="application/rss&#43;xml" href="https://gahoh.github.io/docs/index.xml">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Documentation | GridDB</title>
<meta name="description" content="">
<meta property="og:title" content="Documentation" />
<meta property="og:description" content="A Docsy example site" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://gahoh.github.io/docs/" /><meta property="og:site_name" content="GridDB" />

<meta itemprop="name" content="Documentation">
<meta itemprop="description" content="A Docsy example site"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Documentation"/>
<meta name="twitter:description" content="A Docsy example site"/>




<link rel="preload" href="/scss/main.min.672aa3552c7ddf19ab9652258d5b72f8c78c155b74757e95f100f5b996b144d9.css" as="style">
<link href="/scss/main.min.672aa3552c7ddf19ab9652258d5b72f8c78c155b74757e95f100f5b996b144d9.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
  crossorigin="anonymous"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-00000000-0', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" inkscape:version="1.0 (4035a4f, 2020-05-01)" sodipodi:docname="logo.svg" style="enable-background:new 0 0 500 500" viewBox="0 0 500 500" id="Layer_1"><defs id="defs296"/><sodipodi:namedview inkscape:current-layer="Layer_1" inkscape:window-maximized="0" inkscape:window-y="119" inkscape:window-x="172" inkscape:cy="125.17863" inkscape:cx="250" inkscape:zoom="1.47" showgrid="false" id="namedview294" inkscape:window-height="1683" inkscape:window-width="2927" inkscape:pageshadow="2" inkscape:pageopacity="0" guidetolerance="10" gridtolerance="10" objecttolerance="10" borderopacity="1" bordercolor="#666666" pagecolor="#ffffff" inkscape:document-rotation="0"/><g transform="matrix(0.45963542,0,0,0.45963542,-103,-103)" id="g302"><image x="0" y="0" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAACAAAAAgACAYAAACyp9MwAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAIABJREFUeJzs3X+M5Hd93/H3e2bXd7szc3uHuSM2mB/GAmyTULBaEttVCjaxAnYVmlpJikwCLTRKW5cqKaS0IQVB2iS0QjQNiltKGzdQShVKbSEQB0kaO4lLDYEEE4QxxRjb+Gpub2dm9+zb/b77x62pBQZ89t19dnceD2l1e7uj0/P+nPm85jMRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACcHNk6AAAAAIioqvkjR44M5+fnF44dO7Z7bm5ulJlzm7/b962P77pukJlnPPxnmTlfVcNvfWxm7t38d5Yf4XeTqjr2LS0P9nq96SM89vDm79fX19fH8/PzR48dO7a2tLQ0zsz1E/0/AwAAACeXAQAAAACcoKraPZ1O93Zdt7eq9s7Nze2rqr1VtXfzsH0pIhaqandEjCJiLjP3VdV8Zg6raiEidmfmqKrmMvPbDvi3o6o6nJnrVTWOiKOZuVZV482fHY6I9YgYZ+bRiFiLiCObo4TDmbm8sbGxnJnLvV5veTAYLG8+DgAAAHiUDAAAAACYWYcOHRrt2rXrrIg4EBH7+/3+E6tqb0Ts2/xzb2buffj3EbEvInY3zJ4laxGxvDkSWM7Mh74//NDfN4cDhyLiUEQcOnr06N0HDhyYtIwGAACAVgwAAAAA2FGqauHIkSNn9Xq9s/v9/r6u686KiLM334F/VkScHccP8Z+cmUttazlFjkbE4c0bCe6OiHvi+Gjg7oi4Z/OjDO6OiHsWFxe/npkbDVsBAADgpDEAAAAAYFuoql0rKyvn9Hq9p2TmUzPzqV3XPSUznxLHD/WfFBH7I2K+bSnbzLGIuG/z6+6q+mqv17urqu6sqq9ubGx8dWlp6a7MfKBxJwAAAHxPBgAAAABsCcvLy/vm5+fPjYizu647KzPPrapz4/jh/lmZ+fSI6LVsZHZV1eE4fnvA3VV1R2beEcdvFrh7fX39jqWlpTszc71xJgAAADPOAAAAAIDTYjwe7+/3++d1XXdeVZ2XmedV1dMy85w4fsg/17oRHodjEXFPVd2ZmV+pqi9l5hc3NjZu7/V6XxqNRodaBwIAALDzGQAAAABw0jz0Lv6u687NzHMj4sKIuGDzwH+pdR80dLSq7oiIz2XmHQ/dIrB5e8D/ycyudSAAAADbnwEAAAAAJ2R1dfUpGxsbz4qIh97F/8zMPC8izouIxcZ5sB1NI+L2zVsDbs/M27uu+1K/3//C4uLi11rHAQAAsH0YAAAAAPCIlpeX9/V6vQsz84LMvDAiLoiI50XE/sZpMDOq6khm3h4Rt8Xx2wNuO3bs2OeWlpa+nJnVug8AAICtxQAAAABgxjnoh+2nqlYy84thGAAAAMDDGAAAAADMiOl0enZV/UBEPDcinhMRz62q8zNzT+M04CSpqiMR8fnM/FxEfD4i/jwzPzsYDO5pnAYAAMBpYAAAAACwA02n07Mj4qKu6y7KzIsi4qKIOKtxFtBIVR2OiNsy89aIuLWqbh0Oh5/PzK51GwAAACePAQAAAMA2VlVzk8nk2XH82v4LNw/7fzAinti2DNjqqmolIv4sM2+tqs9V1W2j0eiTmflA6zYAAAAeGwMAAACAbaKq5ieTybMeekd/VV2Umc+PiMXWbcCOcayqvvjQTQFd1906Go0+lZmrrcMAAAD43gwAAAAAtqCq6k+n0wsy84VV9YMR8cKIOD8i+o3TgNmzHhF/ERG3dF33x5l5y3A4vM3HBwAAAGw9BgAAAABbwDe+8Y2lM8444y9X1aWZeVFVXZyZT2jdBfBIqmoSEZ/Z/PiAmyLiD0aj0X2tuwAAAGadAQAAAMBpVlVzk8nk2RFxSWZeunmV//nhORqwvd0TEbdGxE1d1908Go3+d2YebR0FAAAwS7y4BAAAcIqtra09bX19/Yc2r/N/YWa+ICJ2te4COMWOVtWnMvOWqrplbm7ujxcWFu5sHQUAALCTGQAAAACcZMvLy+fOzc1dWlWXZOaPRMTTWzcBbBH3VNVNmXlzZt60uLj4qcys1lEAAAA7hQEAAADA47S8vHxuv9+/PDMvjYi/FhHnNE4C2C6+HhGfjIibMvPg4uLipzOzax0FAACwXRkAAAAAnICq6k8mk+dExCURcXlmvigintg4C2BHqKqVzPxfEXGw67qbR6PRLZl5rHUXAADAdmEAAAAA8F1UVX91dfUvVdWlVfXQof++1l0As6CqJpn5J1V1c2beNBgM/mdmPti6CwAAYKsyAAAAAHiYqsrpdPr9EfGSza9LI2LQtgqAiG8OAv4wIj5WVR8bjUZ/3roJAABgKzEAAAAAZt54PD4QET8cx9/d/6MRcU7jJAAenfuq6g8i4mC/3//w4uLiXa2DAAAAWjIAAAAAZk5VLUyn00si4vLNrxeE50cA215V3RERByPi4NGjRz+yf//+cesmAACA08kLXAAAwExYXl4+d25u7qqIuDKOX+u/u3ESAKfWelXdkpk3ZObBxcXFT2dm1zoKAADgVDIAAAAAdqTV1dUnV9UVVfWSiLgsIva3bgKgqfuq6uOZ+bHM/OhgMLi7dRAAAMDJZgAAAADsGOPx+MLMvLKqrsrMi8NzHgC+g6q6LTNv6LruxtFo9EduBwAAAHYCL4YBAADbVlUtTKfTSyLiqoj48Yh4cuMkALanQxHxkaq64cEHH/zomWeeudI6CAAA4LEwAAAAALaVtbW1p62vr1+RmVdFxOURsbt1EwA7ytGIuCkibuz3+x9cWFi4s3UQAADAo2UAAAAAbGlV1VtdXX1+13VXZeaVEfGC8FwGgNOkqu7IzBsj4obBYPD7mbneugkAAOA78aIZAACw5Rw6dGi0e/fuKzYP/F8aEftbNwFARNwXER+uqhvX1tY+euDAgUnrIAAAgIczAAAAALaE5eXlfXNzc1dV1ZWZ+dKIGLRuAoDv4mhEHKyqGyLig6PR6FDrIAAAAAMAAACgmZWVlTN7vd7LIuLqiPiRiDijcRIAPBYbVfUnmfmBiHj/cDi8t3UQAAAwmwwAAACA02plZeWJvV7vpXH80P+KiJhvnAQAJ9M3xwCZ+YHBYHB36yAAAGB2GAAAAACn3Nra2lM3NjZeXlVXZ+YPRUSvdRMAnAZdRHy6qm7suu4/Ly0t3d46CAAA2NkMAAAAgFNibW3tGRsbG39989D/4vD8A4AZV1W3RcQHqup9e/bs+ULrHgAAYOfxAhwAAHDSrK2tPaPrur9VVT8REd/fugcAtrA/jYj39/v99y0sLHyldQwAALAzGAAAAACPy5EjR57Q7/evjIhrIuKy8DwDAE7UrRFxfUT8l+Fw+PXWMQAAwPblhTkAAOCEVdXCZDK5MjNfGRFXRMR86yYA2AE2IuL3IuL6tbW1D+7fv3/cOggAANheDAAAAIBHpar60+n0RRHxyqp6eWYOWzcBwA52NCIOVtVvD4fDD2Xmg62DAACArc8AAAAA+I6qqjcejy/u9XpXR8RPRsSB1k0AMGuq6nBm3hgRvz0YDD6emdW6CQAA2JoMAAAAgG8zHo8vjIirI+KazDy3dQ8A8E13RcTvdl33gT179tzUOgYAANhaDAAAAICIiJhMJk+KiFdExKsi4rmNcwCA7+2zEfGeqvqd0Wh0qHUMAADQngEAAADMsKrqT6fTF1XVazPzxyJivnUTAHDCNiLi96rquuFw+N8z81jrIAAAoA0DAAAAmEErKyvP6fV6PxMRPx0R39c4BwA4ee6NiP8aEe8eDoefbR0DAACcXgYAAAAwI+6///49u3bt+rGIuCYiLgvPBwBgp7s1Iq7f2Ni4fmlp6RutYwAAgFPPC34AALCDVVVvPB5fnJnXZOYrImLQugkAOO2OVtUNmXndYDD4eGZW6yAAAODUMAAAAIAdaHV19Sld172iql6Tmc9s3QMAbBlfjYj39vv931pYWPhy6xgAAODkMgAAAIAdoqrmJ5PJyzPztRHxoojotW4CALasLiIOVtV1w+Hwf2TmsdZBAADA42cAAAAA29x0Oj27qq6JiL8XEee07gEAtp17I+I/9fv9dy0sLHyldQwAAPDYGQAAAMA2VFW96XT64qp6bWa+PCLmWjcBANteFxGf2LwV4Hczc6N1EAAAcGIMAAAAYBs5fPjw3vn5+Z+uqmsz89zWPQDAzlRVX8rMf1dV/2E0Gh1q3QMAADw6BgAAALANTKfTi7que21mXhMRC617AICZ8WBVfSgzrxsMBh/PzGodBAAAfGcGAAAAsEUdOnRotHv37p/KzJ+LiOe17gEAZltV/UVm/sf19fXr9u7de7h1DwAA8O0MAAAAYIsZj8fnZ+bPVtWrM3PYugcA4OGqahwR78vMdw2Hwz9t3QMAAPx/BgAAALAFVFVvdXX1ZVV1bURc3roHAOBRujUi3jkYDN6bmeutYwAAYNYZAAAAQEP333//nl27dr0qIl4XEU9vnAMA8Fh9OSJ+y8cDAABAWwYAAADQwPLy8jPn5uZeU1V/NzP3tu4BADgZqmoSEe+NiHeMRqPPt+4BAIBZYwAAAACn0crKyqWZeW1m/o2I6LfuAQA4RbqI+ERmvnNxcfHGzKzWQQAAMAsMAAAA4BSrql3T6fQnIuLnI+IHWvcAAJxmn6mq3xwOh9dn5lrrGAAA2MkMAAAA4BSZTCZPioifiYhrI+LstjUAAM3dFxHv6fV6v7G4uHhX6xgAANiJDAAAAOAkm06nz++67mcz85URsbt1DwDAFvNgVX2o3+//q8XFxVtaxwAAwE5iAAAAACfJysrKpb1e7w0RcWXrFgCA7aCqbu71er+6uLh4Y2ZW6x4AANjuDAAAAOBxqKre6urqy6rqn0XEX2ndAwCwTX0mIv71YDB4b2aut44BAIDtygAAAAAeg6o6Yzqd/mRVvTEzn926BwBgJ6iqOzLznYPB4LrMXGvdAwAA240BAAAAnIBDhw6NFhYWXh0R/zginty6BwBgh7qvqt61vr7+jn379i23jgEAgO3CAAAAAB6F8Xh8ICJ+LiKuzcx9rXsAAGZBVY0z8z29Xu/XFhcXv9a6BwAAtjoDAAAA+C7W1taesbGx8bqIeE1ELLTuAQCYUQ9GxPu7rnvbnj17vtA6BgAAtioDAAAAeASTyeR5EfHzEfFTETHXOAcAgOO6iPhwZr5lMBh8snUMAABsNQYAAADwMCsrK3+11+v9UkS8pHULAADf1Ue6rnvrnj17bm4dAgAAW4UBAAAARMTKysolvV7vFyPiytYtAAA8elV1c0S8aTQafaJ1CwAAtGYAAADATFtZWbm01+u9IRz8AwBsa1V1c2b+8nA4/HjrFgAAaMUAAACAmbR58P/PI+Ky1i0AAJw8hgAAAMwyAwAAAGaKg38AgNlQVTf3er1fHQwGN7RuAQCA08UAAACAmbB58P/miHhx6xYAAE4fQwAAAGaJAQAAADva5sH/WyLiRa1bAABoxxAAAIBZYAAAAMCO5OAfAIBHUlV/1Ov1/qUhAAAAO5EBAAAAO8p4PP7hiPiVzLy4dQsAAFtXVf1hVb1xz549N7VuAQCAk8UAAACAHWE8Hj83It6UmVe3bgEAYFs5mJlvGAwGn2odAgAAj5cBAAAA29ra2trT19fX/0lm/p2I6LXuAQBgW6qq+m9d1/3TpaWlL7aOAQCAx8oAAACAbWl1dfXJGxsbb8rMV0fEXOseAAB2hGNV9Z5er/fmwWBwd+sYAAA4UQYAAABsK0eOHHlCv99/fURcGxELrXsAANiRViPi31fV20aj0X2tYwAA4NEyAAAAYFu49957B8Ph8O9X1S9m5t7WPQAA7HxVNcnMf/vAAw/8yplnnrnSugcAAL4XAwAAALa0qpqfTCavysw3R8T3te4BAGAm/d+IePtgMHhHZj7QOgYAAL4TAwAAALakqupNJpMfj4h/kZnPbN0DAAARcWdVvW04HL47MzdaxwAAwLcyAAAAYMuZTqcv67ru1zLzgtYtAADwCP4sIl4/HA4/0joEAAAezgAAAIAtYzwen5+Zb4+Il7ZuAQCAR+FgRPzCcDj8TOsQAACIMAAAAGALmE6nZ3dd98uZ+bcjot+6BwAATkAXEb8Tx28EuLd1DAAAs80AAACAZqpqcTqd/oOqemNm7mndAwAAj8M0In5jdXX1rQcOHJi0jgEAYDYZAAAAcNpVVU4mk7+Zmb8eEU9r3QMAACfR16rqLcPh8N2ZudE6BgCA2WIAAADAaTUej1+cmW+PiOe3bgEAgFPo1qr6hdFo9PutQwAAmB0GAAAAnBYrKyvPysy3ZubVrVsAAOA0OlhVrxuNRp9rHQIAwM5nAAAAwCl15MiRJ/T7/ddHxD+KiDNa9wAAQAPHquo9EfFLo9HovtYxAADsXAYAAACcElW1azqd/sOqemNmLrXuAQCA1qrqcGa+dTAY/JvMPNa6BwCAnccAAACAk24ymVxWVe/MzAtatwAA/4+9e42zqywP/n/dexJCMnuGBAoIng8oiEeUYkStliKiqHhGKeqDiEgV6EctHugj7R9U9LEVpRzUiijiCTzGAvUBBYG0gIpCRKEEFS3JxJxmrTUDZGbf/xe1fTxwSMjM3Pvw/b4Lmaz1e8HnM3vv69r3ArpNzvnmVqt13PDw8L+UbgEAoL9YAAAAYMZs2LDhkUNDQ+9PKb2idAsAAPSAZUNDQ8csXLjw1tIhAAD0BwsAAABstZzzwrquj08pHR8R25buAQCAHjIZER+dmJg4aaeddqpLxwAA0NssAAAAsFWapnlhzvmjEfGw0i0AANDDfhUR72m3258pHQIAQO+yAAAAwP0yPj7+6FardWpEPK90CwAA9JFLc87HjIyMrCgdAgBA77EAAADAFlm1atXw8PDwO1JK74qIbUr3AABAH9oUEWfceeedf7vDDjuMl44BAKB3WAAAAGCz5JxTXdcvTyl9OCIeXLoHAAAGwO0R8c7h4eHPppRy6RgAALqfBQAAAO5T0zRP7nQ6H0sp7Vu6BQAABtDVrVbrrYsWLbq6dAgAAN3NAgAAAPdow4YNS4aGht6XUjoyIlqlewAAYIBN55zP3LRp03u23377jaVjAADoThYAAAC4W03TvDDnfEZEPLB0CwAA8D9WRcTx7Xb7M6VDAADoPhYAAAD4PRs2bHjEvHnzTo+IA0q3AAAA9+g7nU7nqNHR0ZtKhwAA0D0sAAAAEBEROef5TdMcHREnR8Rw6R4AAOA+TeacP9hut9+XUrqrdAwAAOVZAAAAIMbHx/dttVpnRcSepVsAAIAtdn2r1XrTokWLlpcOAQCgLAsAAAADbP369Yvnz5//dxHxlohole4BAADutxwR53Y6nb8eHR1dWzoGAIAyLAAAAAyoqqpekVL6WETsXLoFAACYMasi4vh2u/2Z0iEAAMw9CwAAAANmw4YNj5g3b97pEXFA6RYAAGDWfKfT6Rw1Ojp6U+kQAADmjgUAAIABkXOe3zTN0RFxckQMl+4BAABm3WTO+YPtdvt9KaW7SscAADD7LAAAAAyA8fHxfVut1lkRsWfpFgAAYM79eHp6+k3bbbfdv5UOAQBgdrVKBwAAMHtyzgvruv5Aq9W6LAz/AQBgUD1haGjoyqqqzhobG2uXjgEAYPY4AQAAoE+Nj48/I6X0zymlR5duAQAAukPOeWVEHDEyMvKd0i0AAMw8JwAAAPSZnPOi//7Wv+E/AADwu1JKj0gpXVJV1Vlr1qwZKd0DAMDMcgIAAEAfqev6uRHx8Yh4aOkWAACg6/08It7Ybrf/b+l32F68AAAgAElEQVQQAABmhgUAAIA+sG7duu3mz5//wZTSG8NrPAAAYPPliDh3amrq2MWLF68vHQMAwNbx4TAAQI9rmubAnPNZEfHg0i0AAEDPur3T6bx5dHT066VDAAC4/ywAAAD0qPXr1y+eN2/eKSmlI0u3AAAA/SHn/OWc85tHR0fXlm4BAGDLWQAAAOhBTdO84Lff+n9g6RYAAKDvrMo5/9XIyMhXSocAALBlLAAAAPSQDRs2LBkaGvqAb/0DAACz7benARw9Ojr6m9ItAABsHgsAAAA9Ynx8/CWtVuusiNixdAsAADAwVnc6nSNHR0e/UToEAID7ZgEAAKDLrV27dnSbbbb5kG/9AwAABX12cnLyr3bccceqdAgAAPfMAgAAQBebmJhYOj09/ZmU0qNKtwAAAAPv5znn14+MjFxWOgQAgLvXKh0AAMAfyznPr6rqxE6n8z3DfwAAoEs8LKV0aV3Xp+acF5SOAQDgjzkBAACgy1RVtWdK6bMR8eTSLQAAAPfghog4rN1uX1c6BACA/8cJAAAAXSLnnOq6Pjal9P0w/AcAALrb4yJieV3Xx+ecfc4MANAlnAAAANAFJicnHzo1NfXplNKzS7cAAABsiZzzVdPT069dvHjxLaVbAAAGnc1MAIDCqqp6xdTU1A8N/wEAgF6UUnr60NDQD6qqOrJ0CwDAoHMCAABAIVVV7RgRZ6WUXlK6BQAAYCbknC/IOR81Ojr6m9ItAACDyAIAAEABdV0/LyL+OSJ2Ld0CAAAww1anlN44PDz8zdIhAACDxiMAAADmUM55YVVVZ0TEhWH4DwAA9Kedc85fr6rqYznnbUvHAAAMEicAAADMkaqq9kgpfSEinlC6BQAAYC7knH+SUjqk3W5fX7oFAGAQOAEAAGAO1HX92pTSNWH4DwAADJCU0mMj4t/ruj62dAsAwCBwAgAAwCxau3bt6IIFC86KiENKtwAAAJSUc75genr6jYsXL15fugUAoF9ZAAAAmCUTExN/Oj09/fmU0iNKtwAAAHSJX3Q6nUNHR0evLB0CANCPPAIAAGCG5ZxTXdfHdjqdKwz/AQAAfs9DW63Wd6uqOjHn7PNpAIAZ5gQAAIAZVNf1zhFxTkQcULoFAACgy12aUjpseHj4P0uHAAD0CxuWAAAzpK7r/SPiujD8BwAA2Bx/nnO+rmmaF5QOAQDoFxYAAAC2Us55flVVJ0bERRHxgMI5AAAAvWTHnPM367o+Nee8TekYAIBe5xEAAABbYXx8/NGtVusLEfHk0i0AAAA97vvT09Ov3m677W4uHQIA0KucAAAAcD/VdX1oSun7YfgPAAAwE57SarW+X1XVq0qHAAD0KgsAAABbKOe8oK7rUyPi3JRSu3QPAABAv0gpjaSUvlBV1VkeCQAAsOU8AgAAYAtMTEw8eHp6+ksppaeVbgEAAOhz3x8aGnrFwoULby0dAgDQK5wAAACwmZqmef709PR1hv8AAABz4ilTU1PX1HX9vNIhAAC9wgIAAMB9yDkPVVV1Ys75myml7Uv3AAAADIqU0g4R8S91XX8g5zxUugcAoNt5BAAAwL2oqmrHlNK5EfHc0i0AAAAD7jsR8Zp2u72qdAgAQLeyAAAAcA/Gx8ef0Wq1vhgRu5ZuAQAAICIift3pdF45Ojp6VekQAIBu5BEAAAB/IOec6ro+ttVqXRqG/wAAAN3kga1W67K6ro/POfuCGwDAH/ACCQDgd6xdu3Z0m222+WRK6RWlWwAAALhnOeevT01NvX7JkiUbSrcAAHQLCwAAAL9V1/WTcs5fTik9qnQLAAAA9y3nfHNK6eXtdvvHpVsAALqBRwAAAERE0zSHR8RVhv8AAAC9I6W0W0Qsr+v6sNItAADdwAIAADDQcs7z6rr+QM75nyNiYekeAAAAttiiiPhMVVVn5Zznl44BACjJIwAAgIE1Pj7+J61W60sR8ZzSLQAAAGy9nPP3UkqvaLfbq0u3AACUYAEAABhITdM8Oef81Yh4aOkWAAAAZtSvUkovHR4evqZ0CADAXPMIAABg4NR1/eqc8xVh+A8AANCPHpRzvryu69eVDgEAmGsWAACAgZFzHqrr+gMRcV781zMiAQAA6E/bRsSnq6o6K+c8r3QMAMBc8QgAAGAgbNy4cfuhoaEvRsRflG4BAABgTv3r1NTUIYsXL15fOgQAYLZZAAAA+l5d10/IOX81pfSI0i0AAADMvZzzLRFx8MjIyA2lWwAAZpNHAAAAfa2qqldExFWG/wAAAIMrpfTIiFheVdXLS7cAAMwmCwAAQF/KOae6ro9PKX0xIoZL9wAAAFBWSqmdUvpSXdcfyDn7bBwA6EseAQAA9J01a9aMbLvttp9NKb24dAsAAABd6cJNmza9ZsmSJRtKhwAAzCQLAABAXxkfH989pfT1lNKjS7cAAADQvXLOP805v3h0dPSm0i0AADPFMUcAQN+o63q/lNJVhv8AAADcl5TS7imlf6uq6s9LtwAAzBQLAABAX2ia5oiIuDCltKR0CwAAAL0hpbQkpXRxVVVvLt0CADATLAAAAD0t55yqqjox5/yJiJhfugcAAICeMy+ldHpd16fmnH1mDgD0tFQ6AADg/hobG2svXLjw3JTSi0u3AAAA0BcuvPPOOw/ZYYcdxkuHAADcHxYAAICeNDEx8cBOp/ONiNirdAsAAAB95cdDQ0MvXLhw4S9LhwAAbCkLAABAz6nr+kkR8c2IeFDpFgAAAPrS7SmlFw0PD19bOgQAYEt4nhEA0FOqqnpZRFwZhv8AAADMnl1yzt+rquqQ0iEAAFvCAgAA0DPquj42pfSliFhUugUAAIC+t21K6byqqk4sHQIAsLk8AgAA6Ho55wVN03w8Il5bugUAAICBdPbw8PBRKaW7SocAANwbCwAAQFcbHx/fIaV0QUrpz0q3AAAAMLhyzldGxEtGRkbWlG4BALgnFgAAgK5VVdUeEbEspfSI0i0AAACQc74553zQ6OjoTaVbAADuTqt0AADA3dm4cePTUkqXG/4DAADQLVJKu6WUlo+Pjz+jdAsAwN2xAAAAdJ3x8fGDh4aGLo2IPyndAgAAAL8rpbR9q9X6v1VVvaJ0CwDAH7IAAAB0laqq3tpqtS6IiIWlWwAAAOAeLEgpfb6qqqNLhwAA/C4LAABAV8g5p6qqTkwpfTS8RgEAAKD7DaWU/qmu61Nzzql0DABARIQXJQBAcTnnbZqmOTsiXlO6BQAAAO6Hzw4PD78hpbSpdAgAMNgsAAAARY2NjbUXLVp0fkQcULoFAAAAtsIld95550t32GGH8dIhAMDgsgAAABTTNM0uOedvRcSTS7cAAADADLi+1Wo9f9GiRb8qHQIADCYLAABAEVVVPTaldGFEPKR0CwAAAMygn3c6nQNHR0d/WjoEABg8rdIBAMDgmZiYWJpSuiwM/wEAAOg/D0spXTU+Pv7M0iEAwOCxAAAAzKnx8fGXdDqdSyLiT0q3AAAAwGxIKS1ptVrfrqrqlaVbAIDBYgEAAJgzVVUd02q1zo+IhaVbAAAAYJYtSCmdV1XVX5UOAQAGhwUAAGDW5ZxTXdfvTymdGl5/AAAAMDiGUkqnVVV1UukQAGAwpNIBAEB/yzkP1XV9ekrpyNItAAAAUErO+cx2u/1XKaVO6RYAoH9ZAAAAZk3OeZu6rj+TUnpV6RYAAAAoLef8+Xa7/bqU0qbSLQBAf7IAAADMipzzoqZpzo+IA0u3AAAAQBf51vDw8CtSSpOlQwCA/mMBAACYcevXr188b968b6aUnlG6BQAAALpNzvl7mzZteuH222+/sXQLANBfLAAAADOqruudI+KiiHhS6RYAAADoYj/IOR84MjIyVjoEAOgfrdIBAED/mJycfGjO+fIw/AcAAID7sldEXD45OfmQ0iEAQP9wAgAAMCPGx8d3b7Va/xoRDy7dAgAAAD3k9pzzc0dGRm4oHQIA9D4nAAAAW61pmqe0Wq3Lw/AfAAAAttQuEXHZxMTEPqVDAIDeZwEAANgqVVX9WafTuTQidizdAgAAAL0opbT99PT0/63r+i9KtwAAvc0CAABwvzVNc1BK6cKU0mjpFgAAAOhlKaV2RCwbHx9/SekWAKB3WQAAAO6Xuq4Pyzl/NSIWlm4BAACAPrGg1Wp9sa7r15QOAQB6kwUAAGCLNU3zxoj4dETMK5wCAAAA/WZ+RJxbVdXRpUMAgN5jAQAA2CJVVb0p53xmeB0BAAAAsyWllE6rquqtpUMAgN7ig3sAYLNVVfXmlNIZ4TUEAAAAzLaUUjq1ruvjSocAAL3Dh/cAwGap6/rtKaXTIyKVbgEAAIABkSLiH5umeU/pEACgN1gAAADuU13Xx0fEh0p3AAAAwCDKOZ9UVdX/Lt0BAHQ/3+ADAO7Vb4f/HyjdAQAAAMQp7Xb7naUjAIDu5QQAAOAeVVX192H4DwAAAN3i+LquTykdAQB0LycAAAB3q6qqk1NK7y7dAQAAAPyRD7fb7beXjgAAuo8FAADg9+ScU9M0/xgRx5ZuAQAAAO5ezvnMdrt9dEopl24BALqHBQAA4H/knFNd1x9NKb2ldAsAAABw73LOn2i320ellDqlWwCA7mABAACIiIicc6tpmk9ExOGlWwAAAIDN9s/Dw8NHWgIAACIsAAAAEZFzHmqa5uyIOKx0CwAAALDFPjM8PHx4Smm6dAgAUJYFAAAYcL/95v+nw/AfAAAAetlnhoeH/5eTAABgsLVKBwAA5eScU13Xp4fhPwAAAPS61zZN88mcs8/9AWCAeSEAAAPqt8P/01JKbyrdAgAAAMyI/9U0zcdzzk7/BYABZQEAAAZU0zQfTCkdXboDAAAAmFFvaJrmI6UjAIAyLAAAwACq6/oDEfH20h0AAADArDimrut/LB0BAMw9CwAAMGCqqjo5Io4v3QEAAADMquPquv4/pSMAgLllAQAABkhVVX+fUnp36Q4AAABgTrytqqr3lo4AAOZOKh0AAMyNuq7fHhEfKt0BAAAAzK2U0gnDw8Mnl+4AAGafBQAAGAB1Xf91RPxD6Q4AAACgmHe12+0PlI4AAGaXBQAA6HN1XR8bER8p3QEAAAAU9zftdtvpgADQxywAAEAfa5rmjTnns8LvfAAAACAi55zfMjIycnrpEABgdhgGAECfaprm8JzzJyKiVboFAAAA6Bo55/zmkZGRs0qHAAAzzwIAAPShuq4Pi4hPh+E/AAAA8Mc6EXFYu90+r3QIADCzLAAAQJ8ZHx9/UavVuiAi5pVuAQAAALrWppTSS4eHh5eVDgEAZo4FAADoI1VVPSel9C8RsW3pFgAAAKDrTeacDxwZGbmsdAgAMDMcCwwAfaJpmr0j4uth+A8AAABsnoUR8Y2maZ5SOgQAmBlOAACAPjA+Pv7oVqt1eUTsXLoFAAAA6Dm/yTk/a2Rk5MbSIQDA1nECAAD0uImJiQe3Wq1vh+E/AAAAcP/8SUrpXycnJx9WOgQA2DpOAACAHlZV1Y4R8b2U0mNKtwAAAAC9Lef8HymlZ7Tb7dWlWwCA+8cJAADQo9atW7ddSukiw38AAABgJqSUHhUR/7phw4YlpVsAgPvHAgAA9KCc88L58+d/MyL2Kt0CAAAA9JUnDA0NfWvVqlXDpUMAgC1nAQAAekzOeX7TNOenlJ5ZugUAAADoPymlpe12+6s5521KtwAAW8YCAAD0kJxzq2maz0TE80u3AAAAAH1t/6Zpzs45myMAQA/xixsAekTOOdV1fUZEHFK6BQAAABgIr6nr+rTSEQDA5rMAAAA9omma96eUjizdAQAAAAyOlNKbq6o6qXQHALB5UukAAOC+VVX15pTS6aU7AAAAgMGUcz52ZGTko6U7AIB7ZwEAALrc+Pj4i1qt1lciYqh0CwAAADCwOjnnV46MjFxQOgQAuGcWAACgi1VV9ayU0sURsW3pFgAAAGDg3dHpdPYfHR29onQIAHD3LAAAQJeqquqxEXFFSmlJ6RYAAACAiIic87qc876jo6M/Ld0CAPwxCwAA0IWaptk153xVRDy0dAsAAADAH/hVq9VaumjRol+VDgEAfl+rdAAA8PvWrl07mnP+Vhj+AwAAAN3pQZ1O51/Wr1+/uHQIAPD7LAAAQBfJOc9fsGDB+RHxpNItAAAAAPfi8fPnz/9KznlB6RAA4P+xAAAAXSLnnJqm+WRE7F+6BQAAAGAzPKeu67Nzzh43DABdwgIAAHSJpmlOiYjXlu4AAAAA2FwppVfXdX1S6Q4A4L/YygOALlBV1VEppTNKdwAAAADcHznnY0ZGRj5WugMABp0FAAAobHx8/EWtVusrETFUugUAAADgfurknF8xMjLyldIhADDILAAAQEETExP7dDqdSyNiUekWAAAAgK002el09h8dHb2ydAgADCoLAABQSFVVe0TEFSml7Uu3AAAAAMyEnPPanPPTR0dHbyrdAgCDyAIAABQwPj6+Q0rp31JKjyrdAgAAADDDbs057zMyMrKmdAgADJpW6QAAGDQ5521SSucb/gMAAAB96uERcUHOeUHpEAAYNBYAAGAO5ZxT0zSfTCk9u3QLAAAAwGxJKT2zaZqzSncAwKCxAAAAc2hiYuI9EXFY6Q4AAACAOfC6uq6PLx0BAIMklQ4AgEFRVdXLUkpfCgt4AAAAwODIOedXj4yMfLF0CAAMAgsAADAHmqZ5Ss758ohYVLoFAAAAYI5NtlqtZy9atOjq0iEA0O8sAADALGuaZtec89UR8cDSLQAAAACF3N5qtfZZtGjRbaVDAKCfOYIYAGbR2NhYO+f8L2H4DwAAAAy2XTqdztfHxsbapUMAoJ9ZAACAWZJzbi1cuPDciHhi6RYAAACALvDkRYsWfTHnPFQ6BAD6lQUAAJglTdP8n5TSi0t3AAAAAHSR5zdN8/7SEQDQr1LpAADoR03THJ5z/ufSHQAAAADdKOd81MjIyFmlOwCg31gAAIAZVlXVn6WU/jUitindAgAAANClNkXEge12+5LSIQDQTywAAMAMGh8f3z2ldFVKaUnpFgAAAIBulnNel3NeOjo6elPpFgDoF63SAQDQL9auXTuaUvqK4T8AAADAfUspbZ9S+ub69esXl24BgH5hAQAAZkDOubVgwYLzUkp7lG4BAAAA6BUppUfPnz//CznnodItANAPLAAAwAxomubkiHhB6Q4AAACAHnRAXdfvLR0BAP0glQ4AgF5XVdVLU0rnh9+rAAAAAPdXzjkfMjIy8qXSIQDQywwqAGAr1HX9hIi4KiKGS7cAAAAA9LKcc51Senq73b6+dAsA9CoLAABwP23cuHH7Vqt1dUrpkaVbAAAAAPrEzzudzt6jo6O/KR0CAL2oVToAAHpRznloaGjoc4b/AMBc27RpUzRNE5s2bSqdssXuuuuumJiYiKmpqdIpAED3elir1fp8znmodAgA9CInAADA/VDX9T9GxHGlOwCA/tLpdOLOO++MpmlifHw81q5dG+vWrYtVq1bFLbfcEsuXL4/ly5dHRMQVV1wRT3rSkwoXb5mvfe1r8Zd/+ZcREfGsZz0r9t1333jIQx4Su+66a2y//faxZMmSGB0djUWLFsWCBQsiJR9bAMAA+2C73T6+dAQA9BrvpAFgC9V1/ZcR8dnSHQBA77rrrruirutYv359rFq1Kn75y1/GihUr4rzzzouxsbHNusbRRx8dp5xySs8Mye+8887Ye++9Y+XKlZv183vuuWe86EUvit133z0e9KAHxQMe8IBYvHhxDA8Px7x582a5FgDoEq9pt9ufLx0BAL2kNz4lAIAu0TTNk3POV0TEotItAED363Q60TRNrF27Nv7zP/8zbrnllrjkkkvi/PPPn5Hr//KXv4ztt99+Rq4123784x/H05/+9Bm51lFHHRX77LNPPPzhD49ddtkllixZEgsXLuyZZQgAYLPdkVJ65vDw8LWlQwCgV3hnDACbqa7rnSPimoh4cOkWAKD75JyjaZpYt25d/OpXv4rrr78+PvWpT8WKFStm7Z7f+MY34s///M9n7fozpdPpxHHHHRef+tSnZu0ez3ve8+Lggw+O3Xff/X8eKbDtttvO2v0AgDnzy5zzU0dGRtaUDgGAXmABAAA2Q855fl3X304p/VnpFgCgO3Q6naiqKlavXh033nhjfPWrX52xb/Zvrmc961nxzW9+M4aGhub0vltq1apV8ahHPWrO73v44YfHfvvtF3vssUfsvPPOMTIyEq1Wa847AICtk3O+ot1u75dSuqt0CwB0OwsAALAZqqo6I6V0VOkOAKCcTqcTGzdujF/84hdx3XXXxRlnnDGr3+7fXDfeeGM8+MHdfUDReeedF0ceeWTpjDjooIPi5S9/eTzhCU+IXXfdNYaHhz02AAB6x0fb7faxpSMAoNt5lwsA96FpmsNzzv9cugMAmHt33HFHrF69On7605/G2WefHcuWLSud9Ec+/vGPx2te85rSGfdocnIy9txzzxgbGyud8kcOPfTQeOlLXxq77757POABD4gFCxaUTgIA7t1r2+32Z0tHAEA3swAAAPeirusnRMTyiFhUugUAmH2dTifWrVsXP/vZz+L888+PT3ziE6WT7tNOO+0UN954Y9cOr6+55pp4znOeUzpjs/zd3/1d/MVf/EU8/OEPj5GREacDAED3uSMilrbb7etKhwBAt/JOFgDuwZo1a0a23Xbba1JKjyndAgDMnqmpqVi9enXccMMNXfst//ty9dVXx2Mf+9jSGX+k0+nE4YcfHueff37plC126KGHxiGHHBJ77LFH7LjjjjE0NFQ6CQCIiJzzzZs2bdp7++2331i6BQC6kQUAALgbOedU1/X5KaWXlm4BAGbefw/9r7322njf+94XK1asKJ20Vd71rnfFu9/97q77xvptt90We+yxR+mMrbZ06dJ4y1veEk996lNjl112iVarVToJAAZazvnr7Xb7JSmlXLoFALpNd30yAABdoq7rd0TEB0t3AAAzp9+G/n/o17/+dWy33XalM37PWWedFW9729tKZ8yo/fbbL44++ujYa6+9YocddrAMAADlHNdut08tHQEA3cYCAAD8gYmJiaWdTueyiJhfugUA2Do55/jNb34TV199dZxyyinxgx/8oHTSrLn44otj3333LZ3xP+q6jgc84AGlM2bVIYccEkcccUTsueeeMTIyUjoHAAbNpk6n8+ejo6NXlA4BgG5iAQAAfkdVVTullH4QEQ8s3QIA3H8TExNx0003xac+9an41Kc+VTpnTrzkJS+Jc845p2u+kf69730vDjzwwNIZc+bEE0+MF73oRfHwhz885s+3RwoAc+RXOee9RkZG1pQOAYBuYQEAAH4r59xqmuaiiNi/dAsAsOWmp6fjtttuiwsvvDDe8Y53lM4p4uabb45ddtmldEZMTU3Fy172srjkkktKp8y5PffcM0444YRYunRp7LDDDpGSj14AYJZdOjw8/NyU0nTpEADoBt6FAsBvVVV1ckrp3aU7AIAtMzk5GT/72c/iIx/5SJx//vmlc4o699xz4+CDDy6dEStXrownPOEJpTOKO/roo+N1r3tdPPrRj3YqAADMopzz342MjJxYugMAuoEFAACIiKZpXpBz/kZEdMeZuQDAvco5x+rVq+PSSy+NI488snRO19hzzz3jiiuuKD5s/vCHPxzvfe97izZ0k6VLl8YJJ5wQe+21V4yMjJTOAYB+1ImIF7Tb7YtKhwBAaRYAABh4k5OTD5mamvpBSmmH0i0AwL2bnp6On//853H22WfHRz7ykdI5XemHP/xh7LbbbsXuv2HDhnjQgx5U7P7d7sMf/nAcdNBBseuuu3o8AADMoJzzunnz5j1l4cKFPy/dAgAl+ZYjAAMt57xgenr6AsN/AOhumzZtihUrVsQb3vCGeOITn2j4fy+++c1vFr3/NddcU/T+3e5tb3tbPOYxj4mTTjopbrnlluh0OqWTAKAvpJS2n56e/mLOeZvSLQBQklVzAAZaVVVnpJSOKt0BANy9iYmJ+Pd///d45zvfGStWrCid0zNWrVoV7XZ7zu+7adOm2G+//eIHP/jBnN+7V73uda+Lt7zlLbHbbrvFvHnzSucAQM/LOX9sZGTkmNIdAFCKBQAABlZVVYeklD5fugMA+GP/Pfg/9thjY+XKlaVzes53v/vdeOpTnzrn9/3pT39a5L794KCDDop3vvOd8bjHPc4iAABsvcPa7fa5pSMAoASPAABgIG3cuPFREfHx0h0AwO9rmia+853vxOMe97h44QtfaPh/P5199tmRc57Te+ac4wtf+MKc3rOfLFu2LJ7xjGfEIYccEtddd11MTU2VTgKAnpVzPmN8fPzRpTsAoAQnAAAwcHLOC5qmuSoi9irdAgD8l6Zp4tJLL41jjz02xsbGSuf0hVtvvTV23HHHObvfb37zm3jYwx42Z/frdwcddFC85z3vicc+9rExNDRUOgcAetH3h4eHn55Suqt0CADMJScAADBwmqY5JQz/AaAr3HnnnXHllVfG0qVL49WvfrXh/wz6/ve/P6f3W758+Zzer98tW7Ysli5dGm9605vipptuik6nUzoJAHrNU5qmObl0BADMNScAADBQmqY5MOf8rfA7EACKmpqaihtuuCHe8Y53GBzPkr322isuvfTSOXme/F133RVPfepTPbJhFr31rW+No446Kh7ykIdESl7KAsBmyimlFw0PDy8rHQIAc8U7RgAGRl3XO0fEjyJi59ItADCoOp1O/OxnP4u//du/jYsuuqh0Tt+74YYb5uRY/uuvvz6WLl066/ch4uSTT47DDjsstt9++9IpANAr1qSUnjg8PHx76RAAmAseAQDAQMg5tyLic2H4DwDFrFmzJv7+7/8+9t57b8P/OXLppZfO+j1yznHOOefM+n34L+95z3viIQ95SHz961+PO+64o3QOAPSCHTudznk556HSIQAwF5wAAMBAaJrmhJzz/1e6AwAGUUaXcYYAACAASURBVF3X8bWvfS2OOuqo0ikDac2aNbFw4cJZu/6qVaviUY961Kxdn3u25557xmmnnRZ77bVXDA2ZaQDAfXhnu90+pXQEAMw2JwAA0PcmJib+NOf8v0t3AMCgmZqaiiuvvDKe/vSnG/4XdPPNN8/q9b/73e/O6vW5ZytWrIjnPOc58a53vStuv92pxgBwH06amJjwzCIA+p4FAAD62vr16xd3Op0vRsT80i0AMEhWrVoVxx57bBxwwAGxcuXK0jkD7dxzz42c86xce3JyMt797nfPyrXZfKeffnrstttucd5558Xk5GTpHADoVvOmp6fPXbdu3XalQwBgNnkEAAB9ra7rz0fEIaU7AGBQ3HHHHbFs2bJ4/etfXzqF33HbbbfFkiVLZvy61157bTz72c+e8ety/z3rWc+KD33oQ7HHHntEq+V7HwDwh3LOXx4ZGXll6Q4AmC3eCQLQt6qqelMY/gPAnOh0OrFixYp44QtfaPjfhX70ox/N+DU7nU6cdtppM35dts7ll18e++yzT3z0ox+N8fHx0jkA0HVSSq9omubw0h0AMFucAABAX6qqas+U0tURsah0CwD0u6Zp4pxzzom/+Zu/KZ3CPdhvv/3iK1/5SgwNDc3YNW+77bbYY489Zux6zLyddtopPvvZz8bSpUudBgAAv6/JOe89MjJyY+kQAJhp3v0B0HdyztumlD4Xhv8AMKtyznHTTTfFgQceaPjf5S655JJYtWrVjF7z4osvntHrMfPGxsbigAMOiJNPPjk2btxYOgcAuslwSulLOeeFpUMAYKZZAACg79R1/Y8R8cTSHQDQz5qmiTPPPDP22muv+MEPflA6h81wxRVXzNi1mqaJ4447bsaux+w65ZRT4rnPfW5cd9110el0SucAQLd4XF3XHywdAQAzzSMAAOgr4+PjL2q1Wl8v3QEA/SrnHD/96U/j9a9/faxYsaJ0Dltgp512ihtvvDEWLFiw1de68sor44ADDpiBKuba+973vjjiiCNi0SKHZQFAROSU0guHh4e/VToEAGaKEwAA6Bvj4+N/0mq1zirdAQD96q677orPfe5zsffeexv+96CxsbG49dZbt/o609PT8bGPfWwGiijh3e9+d7z4xS+OW265pXQKAHSDlHP+VFVVO5UOAYCZYgEAgL4xNDR0RkQ8oHQHAPSj1atXx9FHHx1HHXVU6RS2wgUXXBA55626xi9/+ctYtmzZDBVRwvLly+OJT3xifOtb34qpqanSOQBQ2k4R4QslAPQNCwAA9IWmaQ7POb+8dAcA9Jvp6em4/PLL45GPfGR84QtfKJ3DVnr/+98fVVVt1TW+/nVPW+oXr3rVq+Jv//ZvY+PGjaVTAKColNLBdV2/tnQHAMyEVDoAALbW5OTkw6empq5LKY2WbgGAfjI5ORlnnXVWnHDCCaVTmEHf/va3Y+nSpffr327cuDEe+MAHznARpT3iEY+I888/P3bbbbdIyUdFAAymnPPGefPmPXHhwoW/KN0CAFvDCQAA9LScc2tqaupsw38AmFljY2Nx5JFHGv73obPOOis6nc79+rfXXnvtDNfQDVauXBl77bVXLFu2zCMBABhYKaXtpqamzs05D5VuAYCtYa0bgJ5W1/XxEfGB0h0A0C9yzvGjH/0onvGMZ5ROYRbdcsstsfPOO2/Rv5mamooDDzwwli9fPktVdIMTTjghjjnmmFi0aFHpFAAo5e3tdvvDpSMA4P5yAgAAPauqqj0j4sTSHQDQL+666644++yzDf8HwNVXX73F/2blypWG/wPgpJNOite+9rWxevXq0ikAUMrJdV0/oXQEANxfFgAA6Ek55wUppfMiYtvSLQDQD+q6jve+971xzDHHlE5hDpx00kmxadOmzf75nHN8+ctfnsUiuslFF10US5cujeuuuy5yzqVzAGCuLYiI83LOPnMCoCd5BAAAPamu6w9FxNtLdwBAP7j99tvjDW94Q1x++eWlU5hDP/rRj+KRj3zkZv3s2rVr46EPfegsF9GNLrjggth///2j1fIdEgAGzgfa7fa7SkcAwJby7g2AnjM+Pv6MiPjr0h0A0OtyzrFixYrYbbfdDP8H0MUXX7zZP+vo/8H1spe9LM4888y46667SqcAwFz7m6qq/qx0BABsKScAANBT1q5dO7pgwYIfRcTDSrcAQC+bnp6OZcuWxaGHHlo6hYJWr14dw8PD9/ozd911Vzzzmc+MFStWzFEV3ejoo4+O9773vff5/wsA9Jlb77zzziftsMMO46VDAGBzOQEAgJ6yYMGCj4bhPwBslU2bNsUnP/lJw3/iZz/72Wb9jOE/p59+erzuda+LdevWlU4BgLn08AULFvxD6QgA2BIWAADoGePj4y+OiNeV7gCAXnbHHXfEBz/4wXjb295WOoUu8OlPfzpyzvf49znn+OxnPzuHRXSziy66KA4++OC4/fbbS6cAwFx6Q1VVLy8dAQCbyyMAAOgJVVXtmFJaERE7lm4BgF5VVVW8853vjHPOOad0Cl3kF7/4Reywww53+3erV6+ORz7ykXNcRLfbaaed4uKLL47ddtutdAoAzJWxTqez5+jo6G9KhwDAfXECAAC94mNh+A8A99uaNWviVa96leE/f+T73//+Pf7dZZddNocl9IqxsbF48pOfHD/+8Y9LpwDAXNmp1WqdWjoCADaHEwAA6HpN07ww5/yN0h0A0Ktuv/32OPjggz3Hnbu1dOnSuPDCC2PevHm/99/vuOOOeOxjHxtjY2OFyugF3/72t+NpT3tapOQjJgD6X6fTeeno6OhXS3cAwL1xAgAAXW39+vWLc85nlO4AgF71i1/8Ivbdd1/Df+7R8uXL49e//vUf/fcVK1YY/nOf9t9//7jqqqsi51w6BQBmXavV+qcNGzYsKd0BAPfGAgAAXW3+/Pkfi4gHlu4AgF506623xnOe8xxDXO7T5Zdf/nt/7nQ68fGPf7xQDb3mgAMOiEsuucQSAACDYJd58+b9Q+kIALg3zmcDoGs1TfOCnPOy0h0A0ItuuOGGeNrTnlY6gx6x0047xU9+8pPYdtttIyLi17/+dTzmMY8pXEWv+cpXvhL777+/xwEA0PdSSs8fHh6+sHQHANwdJwAA0JXWrVu3Xc75zNIdANCLrr/+esN/tsjY2Fj8x3/8x//8+eKLLy5YQ6966UtfGhdffLGTAADoeznnT65fv35x6Q4AuDsWAADoSttss80/RMSDSncAQK9ZsWJFLF26tHQGPegLX/hC5JyjaZo45phjSufQo17+8pfH5ZdfbgkAgH6367x5804pHQEAd8eZbAB0nbqu94uIb4ffUwCwRW6++eZ48pOfXDqDHvarX/0qfvKTn8Rzn/vc0in0uEsuuST+9E//1OMAAOhnOSKe1263/7V0CAD8LicAANBVVq1aNZxz/ngY/gPAFrnpppsM/9lq//Zv/xYf/ehHS2fQB/bbb7/44Q9/WDoDAGZTioiPr1mzZqR0CAD8LsMVALpKVVVnpJSOKt0BAL3k1ltvjcc//vGlMwD+yLXXXhu777576QwAmDU559NGRkbeWroDAP6bEwAA6BpVVT07pfSm0h0A0EvGxsbixS9+cekMgLv1/Oc/P2677bbSGQAwa1JKR1dV9WelOwDgv1kAAKAr5JwXRcQnwuk0ALDZ1q9fH4ceemisXLmydArA3RobG4sXvOAFsWbNmtIpADBbWimls1etWjVcOgQAIiwAANAl6rr+QErpUaU7AKBXVFUVb3zjG2P58uWlUwDu1cqVK+OII46I8fHx0ikAMFse3m63/750BABEWAAAoAuMj4/vm1L6q9IdANArJicn4+1vf3tcdNFFpVMANssll1wS73rXu+KOO+4onQIAs+XYjRs3Pq10BABYAACgqJzzNq1W66zwOwkANsvU1FSceuqp8bnPfa50CsAWOeecc+K0006L6enp0ikAMBuGhoaGPp5znl86BIDBZtgCQFETExPviIg9S3cAQC/IOceXv/zlOOmkk0qnANwvJ554Ynzta1+LnHPpFACYDY9vmuavS0cAMNhS6QAABtfk5OTDpqenb4iI4dItANDtcs5x2WWXxUEHHVQ6BWCrXX755bHXXnuVzgCA2TAxNTX1+MWLF68sHQLAYLIAAEAxdV1/KyKeX7oDAHrBjTfeGHvvvXfpDIAZs2LFinjoQx9aOgMAZsNF7Xb7wNIRAAwmjwAAoIi6rg8Nw38A2CyrV6+OF7zgBaUzAGbUEUccEVVVlc4AgNnwvKqqXlk6AoDBZAEAgDm3bt267SLiQ6U7AKAXTE5OxrHHHhtjY2OlUwBm1PLly+OUU06Jqamp0ikAMONSSqeuX79+cekOAAaPBQAA5tz8+fM/FBG7lO4AgG43PT0d//RP/xTLli0rnQIwKz7ykY/EsmXLIudcOgUAZtoD5s2bd3LpCAAGTyodAMBgmZiY2KfT6VwVltAA4F7lnOPCCy+MV77SyaFA/7vmmmtijz32KJ0BADOt0+l0njk6OnpV6RAABocFAADmTM55XtM010bEE0u3AEC3W7FiReyzzz6lMwDmxCMe8Yi47LLLYsmSJaVTAGCmXT88PPyUlNKm0iEADAbfvgRgzkxMTBwfhv8AcJ82bNgQr371q0tnAMyZlStXxsknnxxTU1OlUwBgpj2+aZq/Lh0BwOCwAADAnJicnHxYzvldpTsAoNtt2rQpTjrppFi5cmXpFIA5deaZZ8bFF19cOgMAZsN7N2zY8IjSEQAMBo8AAGBO1HX9rYh4fukOAOhmOedYtmyZb/8DA+3GG2+MBz/4waUzAGCmXdRutw8sHQFA/3MCAACzrq7rQ8PwHwDu080332z4Dwy8t7zlLTE5OVk6AwBm2vOqqnpl6QgA+p8FAABm1bp167aLiA+V7gCAbldVVRx22GGlMwCKu+SSS+Jzn/tc5JxLpwDAjEopnbp+/frFpTsA6G8WAACYVfPnz/9AROxSugMAulmn04lPfOITsWLFitIpAF3huOOOi5tvvrl0BgD/P3t3/iZ3VSb8//50EmLS1WGTiKAIAXUwshhHEYGIghAH0BF4HEaQVa6LJQojMoZVeUAGRBAVgUshEDWOD4qBMco2gISJcYBvJA4tAqEFZEtHktBV1Z30Uuf7g86MC0uW7j61vF5/wfun7qpz7roPw23LsWPHnp87AoDmVuQOAKB5VavVd6SU7o+IMblbAKCePfDAA7H33nvnzgCoK7vvvnvcfPPNMXHixNwpADCchiLinaVSaUnuEACakw0AAIyIlFJRq9W+Gi7/AeAVvfjii3HsscfmzgCoO4sWLYobbrjBUwAANJsxKaVvpJT8QBOAEWEAAIARUa1WjyyKYq/cHQBQz2q1WlxxxRXR1dWVOwWgLs2cOTOeeOKJ3BkAMKyKotijWq3+Y+4OAJqTCTMAht3y5cs7JkyY8EhEvD53CwDUs0WLFsUHP/jB3BkAdW3GjBnxve99LzbaaKPcKQAwnJ5fs2bNWzfffPOe3CEANBcbAAAYdhMmTDgvXP4DwCsql8tx+OGH584AqHu33npr3H333bkzAGC4bTl+/PizckcA0HwMAAAwrMrl8tsiYmbuDgCoZymlmDNnTnR3d+dOAWgIhxxySLzwwgu5MwBguJ3a09PzN7kjAGguBgAAGFZFUVwWEeNydwBAPXvkkUdi1qxZuTMAGsrVV18dtVotdwYADKeN2travp47AoDmUuQOAKB5lMvl/1MUxQ25OwCgnq1ZsyY+9rGPxZ133pk7BaDhLF68ON7ylrfkzgCAYVWr1T46adKkm3J3ANAcbAAAYFiklCYURfGl3B0AUO/mz5/v8h9gPZ177rkxMDCQOwMAhlVbW9tXU0oTc3cA0BwMAAAwLCqVylkRsW3uDgCoZ8uXL4+jjjoqdwZAw5o/f37cd999uTMAYLhtU6lUTs8dAUBzMAAAwAZbtWrV9kVRnJa7AwDqWa1Wi2uvvTZ3BkDDO/HEE6O3tzd3BgAMq6IoPtfX17dd7g4AGp8BAAA22NixYy+PiNfk7gCAerZ06dK44IILcmcANLyurq64++67c2cAwHCbMDg4+OXcEQA0viJ3AACNrVKp7BcRt+XuAIB6NjAwEMcee2zMmzcvdwpA03jmmWdi4403zp0BAMPtQ6VS6dbcEQA0LhsAAFhvKaWNUkpfz90BAPXuF7/4hct/gGF200035U4AgGGXUvpaSml87g4AGpcNAACst0ql8rmIuCh3BwDUs76+vth7772js7MzdwpA03nqqadis802y50BAMPttFKpdFnuCAAakw0AAKyXcrm8RUrpjNwdAFDv7rnnHpf/ACPk3/7t33InAMCwSymd09PTs3nuDgAakw0AAKyXcrl8ZVEUJ+buAIB6VqlUYuedd47u7u7cKQBN63e/+11suummuTMAYLh9tVQqnZo7AoDGYwMAAOusp6fnb4qi+GTuDgCod7fccovLf4ARdsstt+ROAICRcFJPT89bckcA0HhsAABgnVUqlZ9ExN/l7gCAerZy5cp44xvfmDsDoCU8/fTTsckmm+TOAIBhlVK6qaOj46O5OwBoLDYAALBOyuXy+8PlPwC8Kr9IBRg9P/vZz3InAMCwK4ri7yuVyj65OwBoLDYAALDWUkpt1Wr1/oiYlrsFAOpZT09PbLXVVrkzAFrG5MmT46GHHoqJEyfmTgGA4fbL9vb2vy2KopY7BIDGYAMAAGutt7f36HD5DwCv6q677sqdANBSuru7Y8mSJbkzAGAkvKNarR6eOwKAxmEDAABrJaU0oVqtPhIRHjMGgFdQrVZjp512iu7u7twpAC1ln332iRtvvDHGjh2bOwUAhtsz7e3tbymKojd3CAD1zwYAANZKpVL5XLj8B4BXde+997r8B8jgzjvvjKVLl+bOAICRsHVvb+8/5Y4AoDEYAADgVVWr1a2Kovhs7g4AqHerV6+Ok046KXcGQMuaPXt2pJRyZwDAsKvVarOq1errc3cAUP8MAADwqlJKX4yI9twdAFDv/uu//suv/wEyuvLKK+OFF17InQEAw64oilKtVjsvdwcA9c8AAACvqFKp7BIRR+buAIB6NzQ0FF/72tdyZwC0vF/84he5EwBgRBRFcWylUtkpdwcA9a3IHQBAfatUKrdHxAdzdwBAvevq6oqdd945dwZAy5s6dWrce++9sdFGG+VOAYCRcFepVNondwQA9csGAABeVrVaPShc/gPAq0opxQ9/+MPcGQBERGdnZ3R1deXOAICR8oFKpTIjdwQA9csAAAAvKaU0plarXZS7AwAawerVq2PhwoW5MwD4o0ceeSR3AgCMpC+llNzvAPCS/IMA4CX19vYeVRTF23J3AEAjmDBhQvzgBz+IH//4xzF58uTcOQAt67DDDoslS5bEhz/84dwpADCSdqpWqx/PHQFAfSpyBwBQf1JKG1Wr1d9ExHa5WwCg0ZTL5bjxxhtj5syZuVMAWsbUqVPjsssui3e/+90xbty43DkAMBqeaG9v/5uiKNbkDgGgvtgAAMBfqVarJ4XLfwBYLx0dHXHUUUfFI488Escff3zuHICmd80118Rdd90Ve+yxh8t/AFrJtpVK5ZO5IwCoPzYAAPBnuru7SxMnTlwaEa/L3QIAja5Wq8XDDz8cp556aixatCh3DkBTOeOMM+K4446LLbfcMncKAOTS3dfXt8MWW2xRzh0CQP0wAADAnymXy58viuILuTsAoJmsXr067rnnnjjkkENypwA0vH322ScuvPDC2HHHHaOtzXJLAFremaVS6V9yRwBQPwwAAPA/enp6XlsUxeNFUUzK3QIAzWjlypXx7W9/O84666zcKQANZ/LkyXHttdfGnnvuadU/APxRSmlVrVbbfuONN16RuwWA+mBMGoD/0dbWdobLfwAYOZtuuml8+tOfjs7Ozjj88MNz5wA0jK985Svx4IMPxvvf/36X/wDwJ4qi2GTMmDGn5+4AoH7YAABARET09vZuXavVHouICblbAKAVDA4Oxi9/+cuYOXNmdHZ25s4BqEsnnHBC/NM//VNstdVWURSOsQDgZfS1tbW9ZeLEiU/nDgEgP9+cAIiIiEqlck1EHJe7AwBaTV9fX9xyyy1x5JFH5k4BqBvTp0+PCy+8MHbaaacYM2ZM7hwAqHsppas6OjpOyt0BQH4GAACInp6et7S1tXVGxNjcLQDQqpYvXx5XXnllXHLJJblTALKaO3duzJgxI8aPH587BQAaycDg4OCOm2yyyeO5QwDIqy13AAD5FUVxQbj8B4CstthiizjnnHNiyZIlceCBB+bOARh1F198cTz99NPxkY98xOU/AKy7cWPHjj0vdwQA+dkAANDiqtXqO1NK94f/CQBQN/r7++P++++PT3ziE9Hd3Z07B2BEHXbYYXHGGWfElClToih8LQGADVCLiHeWSqUHc4cAkI9vVQAtrlKp3BYR++XuAAD+WqVSiR/+8Icxc+bM3CkAw27q1Klx2WWXxW677RZjx1pIBgDD5MelUunDuSMAyMcAAEALK5fL04uiuCd3BwDw8lJKsWzZsrjiiivi8ssvz50DMCxmz54dBx54YEycODF3CgA0nZTS3h0dHc78AFqUAQCAFlYul39eFMXuuTsAgFdXq9Xi4YcfjlNPPTUWLVqUOwdgvZxxxhlx3HHHxZZbbpk7BQCaVkrpno6Ojr1zdwCQhwEAgBZVqVRmRMQtuTsAgHXT398fCxcujIMOOih3CsBamzFjRpx33nmx4447RltbW+4cAGh6KaUPdHR03J27A4DRZwAAoEWVy+V7i6LYM3cHALB+Vq5cGd/5znfizDPPzJ0C8LImT54c1157bey5554xbty43DkA0DJSSgs7Ojqc/QG0IAMAAC2oUqnsHxG35u4AADZMSimeffbZuPDCC2POnDm5cwD+zFe/+tX42Mc+Fh0dHblTAKAlpZTe39HR8bPcHQCMLgMAAC3Ir/8BoLkMDg7GQw89FJ/+9Kdj8eLFuXOAFnfSSSfFKaecEltttVUUhaMnAMglpfSzjo6O9+fuAGB0+RYG0GIqlcoHI+L23B0AwPDr6+uL2267LY444ojcKUAL2meffeK8886LnXbaKcaMGZM7BwCIiJTS3h0dHffk7gBg9BgAAGgx5XJ5QVEUe+XuAABGzvLly+Pqq6+Oiy++OHcK0CLmzp0bM2bMiPHjx+dOAQD+3N2lUukDuSMAGD0GAABaSKVS2Tci7sjdAQCMvJRSdHV1xVlnnRXz58/PnQM0qUsuuSQ+/vGPx8Ybb5w7BQB4GbYAALQWAwAALaRcLt9TFMX03B0AwOgZGBiI++67L0488cTo6urKnQM0icMPPzz++Z//OaZMmRJF4XgJAOrcXaVSaZ/cEQCMDt/QAFpEpVLZJyL+PXcHAJBHpVKJefPmxYknnpg7BWhgU6dOjSuuuCKmTZsWY8aMyZ0DAKyllNL7Ojo6FuTuAGDkGQAAaBF+/Q8ApJRi2bJlccUVV8Tll1+eOwdoMLNnz44DDzwwJk6cmDsFAFh3/14qlT6YOwKAkWcAAKAFlMvl9xdFcVfuDgCgPtRqtXj44Yfj9NNPjwUL/AgIeGVnn312fPKTn4zXvva1uVMAgA1Qq9WmT5o06d7cHQCMLAMAAC2gXC7/rCiK9+XuAADqS39/fyxcuDCOO+646O7uzp0D1JlDDz00zjzzzNhhhx2ira0tdw4AsOHuKJVK++WOAGBkGQAAaHLlcnnvoijuzt0BANSvVatWxXe/+92YNWtW7hSgDkyePDmuvfba2HPPPWPcuHG5cwCAYWQLAEDzMwAA0OTK5fLdRVHsnbsDAKhvKaV49tln48ILL4w5c+bkzgEy+eY3vxkf+chHor29PXcKADAybi+VSvvnjgBg5BgAAGhiPT09e7S1tf1H7g4AoHEMDg7GQw89FJ/+9Kdj8eLFuXOAUfKpT30qZs6cGVtvvXXuFABghNVqtb0mTZrkzBCgSRkAAGhilUrljojYN3cHANB4+vr64rbbbosjjjgidwowgvbZZ5+48MILY8cdd4y2trbcOQDA6LilVCr9Xe4IAEaGAQCAJlWtVv82pXR/7g4AoLGtWLEirr/++jj33HNzpwDDaPLkyXHVVVfF3nvvHePHj8+dAwCMsqIoprW3t/8ydwcAw89oN0Dz+lzuAACg8W222WbxT//0T7FkyZL46Ec/mjsHGAaXXnpp/PKXv4z999/f5T8AtKiU0mdzNwAwMgwAADShVatWbZ9SckIPAAyLoihi++23j+uuuy7uvvvumDJlSu4kYAM8/vjj8dvf/jZWr16dOwUAyOcfXnzxxR1yRwAw/DwBANCEyuXyt4qi+GTuDgCgOVUqlZg3b16ceOKJuVOADXTppZfGvvvuG29605ti7NixuXMAgFGUUrqyo6Pj5NwdAAwvAwAATaZSqWwZEb+NiNfkbgEAmtvy5cvj61//elx22WW5U4ANtPvuu8dnP/vZmDZtWrz2ta+NonBkBAAtYHVEbFcqlZ7PHQLA8PFtDqDJVCqVL0XE6bk7AIDWUKvVYunSpXHmmWfGrbfemjsHGAYnnHBC/MM//EO87W1vi/b29tw5AMAISil9saOj4+zcHQAMHwMAAE1kxYoVG48bN+7Joig2zt0CALSW/v7+WLhwYRx33HHR3d2dOwcYJuedd14cdNBBsd1228W4ceNy5wAAwyyl9OLAwMCbNttssxdztwAwPAwAADSRnp6eM9va2r6YuwMAaF3lcjl+8IMfxKc//encKcAw2n333WPmzJmx2267xete9zpPBABAczm9VCp9OXcEAMPDtzWAJpFSek21Wu2KiNfnbgEAWltKKZ599tm4+OKLY/bs2blzgGF22GGHxTHHHBO77LJLlEql3DkAwIZ7vr29fbuiKFbnDgFgwxkAAGgS5XL5pKIovpG7AwAg4g9DAL//j/ciegAAIABJREFU/e/jU5/6VMyfPz93DjBCLr744pgxY0Zss802nggAgAZWFMXx7e3t1+TuAGDDGQAAaAIppTGVSuU3RVHskLsFAGhta9asiSeffDJ+8IMfxL/8y7/kzgFGyZQpU+Lss8+OPfbYI17/+tdHW1tb7iQAYB2klB4vlUpvLYpiKHcLABvGAABAE6hUKv8YEd/L3QEAtKbBwcFYtmxZLFy4MGbNmhXd3d25k4CMDj300Dj++OPj7W9/e2y88ca5cwCAtZRSOrSjo+PG3B0AbBgDAABNoFKp/H8RMS13BwDQOlJKsXLlyliyZElccsklsWDBgtxJQB0699xz44ADDogddtghxo8fnzsHAHhl95dKpXfnjgBgwxgAAGhw1Wr1Qymln+buAABaQ09PTzz88MMxe/bsmDt3bu4coEFMmTIlvvCFL8Qee+wRW2yxhScCAKB+7Vsqle7MHQHA+jMAANDgyuXyz4qieF/uDgCgefX398cTTzwRP/rRj+KCCy7InQM0uP9+ImDXXXeN9vb23DkAwJ+7o1Qq7Zc7AoD1ZwAAoIFVq9V3ppQeyN0BADSfoaGheP7552PhwoUxa9as6O7uzp0ENKFLL700ZsyYEW94wxtizJgxuXMAgD94R6lUejB3BADrxwAAQAOrVCrfjYjDc3cAAM0hpRQrV66MJUuWxOWXXx533mnzJzA6dt999/jsZz8b73rXu2LTTTeNonBkBQAZXVcqlY7NHQHA+vFtCqBBVavVrVJKv42IjXK3AACNrbe3Nx599NGYM2dOfOtb38qdA7S4c845Jz760Y/GdtttF+PGjcudAwCtaE1EbFsqlZ7PHQLAujMAANCgyuXyBUVRnJW7AwBoTP39/fG73/0ubr/99jj99NNz5wD8lSlTpsTZZ58d06dPj9e97nW2AgDAKEopfaGjo+O83B0ArDvfnAAaUEppfLVafSoiJuduAQAaR61Wi+eeey5+/vOfx/nnnx9dXV25kwDWykknnRRHHXVUvPnNb46NNrIEDQBGQXd7e/ubiqJYnTsEgHVjAACgAVWr1eNTSt/M3QEANIZKpRJLliyJr3/96zF//vzcOQDrbfLkyXHRRRfZCgAAo+OYUql0fe4IANaNb0kADahSqSyJiJ1zdwAA9eu/V/zPnz8/zjrLq0FA8znhhBPiiCOOiB133DHGjx+fOwcAmtF/tbe371IURcodAsDaMwAA0GAqlcoHI+L23B0AQP2p1WrxwgsvxOLFi+Pcc8+Nzs7O3EkAI85WAAAYOSml93d0dPwsdwcAa883IoAGU6lU5kfEAbk7AID60dvbG48++mh861vfijlz5uTOAcjGVgAAGF4ppZs7Ojr+PncHAGvPAABAA3nxxRffPGbMmN9ERFvuFgAgr8HBwXjmmWfi1ltvjdNOOy13DkBdsRUAAIZNbXBw8C2bbLLJ47lDAFg7vv0ANJByuXxFURQn5+4AAPJIKcULL7wQDzzwQFx66aWxaNGi3EkAde/UU0+NI444IrbffvsYN25c7hwAaERfLZVKp+aOAGDtGAAAaBArV67cZOzYsb8riqKUuwUAGF39/f3xxBNPxHe/+9247LLLcucANKRp06bFWWedFe9617ti0003tRUAANZSSqk8MDDwxs022+zF3C0AvDrfdAAaRKVSOT0ivpS7AwAYHSmlWLlyZdx///1x7rnnRmdnZ+4kgKZx7rnnxiGHHBLbbrttjBkzJncOADSCz5RKpa/kjgDg1RkAAGgAKaUx1Wr1sYjYLncLADCyVq9eHb/5zW9i9uzZMXv27Nw5AE3twAMPjE996lOx6667Rnt7e+4cAKhnT7a3t29fFMVQ7hAAXpkBAIAGUC6X/09RFDfk7gAARkatVovu7u5YsGBBzJo1K7q7u3MnAbScSy+9NA488MDYaqutPA8AAC8hpXRIR0fHj3J3APDKfJsBaADlcvk/iqLYI3cHADC8ent749FHH42rrroq5s6dmzsHgIg4/vjj46ijjoodd9wxxo8fnzsHAOpGSmlBR0fH+3J3APDKDAAA1LlKpbJLRDyYuwMAGB5DQ0Px9NNPxx133BGnnnpq7hwAXsbUqVPj//7f/xvvec97YuONN86dAwB1oSiKae3t7b/M3QHAyzMAAFDnyuXyN4uiOD53BwCwYf771/6XX355/PCHP8ydA8A6uPjii+PAAw+MN77xjdHW1pY7BwCySSld1dHRcVLuDgBengEAgDq2fPnyjte85jXPFEXRkbsFAFh3tVoturu7Y8GCBXHsscfmzgFgAx111FFx/PHHx9ve9rbYaKONcucAwKhLKVX6+/u33nzzzXtytwDw0gwAANSxcrk8syiKr+fuAADWTV9fXzzyyCNx1VVXxdy5c3PnADDMpkyZEueff37stddesdlmm+XOAYBRlVI6saOj4+rcHQC8NAMAAHWsUqn8V0S8PXcHAPDq/vTX/rNmzYru7u7cSQCMgksvvTRmzJjheQAAWsmvSqXSLrkjAHhpBgAA6lS5XJ5eFMU9uTsAgFfW398fjz32WFx55ZUxZ86c3DkAZHLsscfGscce63kAAFpCrVbbY9KkST/P3QHAXzMAAFCnKpXKv0bEYbk7AIC/llKK5cuXx7333hunn366X/sD8D923333OPvss+Od73xnlEql3DkAMFK+UyqVjswdAcBfMwAAUId6enpe29bW9nREjM/dAgD8r4GBgVi6dGlcd911ceWVV+bOAaDOXXPNNbHvvvvG5ptvHkXhGA6AprImpfTGjo6O5blDAPhzvnkA1KFKpTIrIv4ldwcA8AeVSiWWLFkSX/ziF2PBggW5cwBoMGeccUYcdthhsd1220VbW1vuHAAYLqeXSqUv544A4M8ZAACoMymltmq1ujQitsvdAgCtrFarRXd3d9x6660xc+bM3DkANIGjjjoqTjrppHjrW98aY8eOzZ0DABskpfR4qVR6S1EUtdwtAPwvAwAAdaZarf5dSuknuTsAoFX19/fHY489Fl/72tdi7ty5uXMAaEK77757nHnmmbHbbrvFxIkTc+cAwIbYv1Qq3Z47AoD/ZQAAoM5UKpUfR8SBuTsAoNW8+OKL8Ytf/CLOPffc6OzszJ0DQAuYPHlyfOUrX4m99torNttss9w5ALDOUkrzOjo6Ds7dAcD/MgAAUEf6+vq2GRoa6oqIMblbAKAVDA0NxdNPPx3z5s2Ls88+O3cOAC3skksuiQ9/+MOx1VZbRVE4sgOgYQy2tbVtN3HixKdzhwDwB75NANSRcrn8xaIozszdAQDNrq+vL5YsWRKXX355zJ8/P3cOAPyPz33uc3HkkUfGG9/4xmhra8udAwCvKqV0XkdHxxdydwDwBwYAAOpESmlctVp9IiK2yt0CAM3qv9f8n3766dHV1ZU7BwBe1lFHHRUnnXRSvPWtb42xY8fmzgGAV/Jce3v7m4qiGMgdAoABAIC6US6X/6Eoiu/n7gCAZlOr1eK5556LH/7wh3HWWWflzgGAdXLggQfGaaedFrvuumuMGzcudw4AvKRarXbwpEmT5uXuAMAAAEDdqFQqd0bEB3J3AECzGBgYiN/+9rfxzW9+M66++urcOQCwQfbZZ584++yzY5dddomNNtoodw4A/KXbSqXSjNwRABgAAKgLfX192w4NDT0eER54BIANVKlUYsmSJfHFL34xFixYkDsHAIbV1KlT46KLLorddtstJk6cmDsHAP5bra2tbduJEyf+LncIQKtz0QRQBwYHB48Of5MBYL2llGLFihVx8803x8477xz777+/y38AmlJnZ2ccdNBB8fa3vz1uvvnmKJfLuZMAICKiLaV0ZO4IAGwAAMgupVRUKpWlRVFMyd0CAI1maGgonnjiifje974XF198ce4cAMhizpw5se+++8bGG2+cOwWA1vbb9vb27YuiSLlDAFqZAQCAzCqVyr4RcUfuDgBoJP39/dHZ2RmXXXZZzJs3L3cOANSF6667Lvbbbz+DAABkk1J6X0dHh3VsABlZNw2Q3zG5AwCgUaxevTruv//+OOCAA2KvvfZy+Q8Af+KYY46JrbfeOubMmRMrV67MnQNACyqKwlknQGY2AABktGLFio032mijZyNiYu4WAKhnlUol7r///jjllFOiq6srdw4ANIRvfOMb8eEPfzg23XTT3CkAtI5qX1/f67fYYoty7hCAVmUAACCjcrl8QlEUV+XuAIB6lFKK3//+9/HTn/40Tj755Nw5ANCwDAIAMJqKojiuvb19du4OgFZlAAAgo0ql8p8R8e7cHQBQT2q1Wjz33HPx/e9/Pz7/+c/nzgGApmEQAIDRkFL6j46Ojr1ydwC0KgMAAJmUy+WpRVE8lLsDAOrF0NBQPP744/HNb34zrr766tw5ANC0rrvuuthvv/1i4403zp0CQJOq1Wo7Tpo06Te5OwBaUVvuAIBWVRTFMbkbAKAeDAwMRGdnZxx33HExbdo0l/8AMMKOOeaY2HrrreOGG26ISqWSOweAJtTW1nZk7gaAVmUDAEAGKaWx1Wr1dxGxZe4WAMhlzZo18atf/SrOPPPMWLRoUe4cAGhJkydPjquuuire9773xWte85rcOQA0j2fb29u3KYpiKHcIQKsxAACQQU9Pz9+3tbXNy90BADmsWbMmHnjggfjMZz4TnZ2duXMAgIiYOnVqXHbZZfHud787xo0blzsHgCZQFMUB7e3tP83dAdBqPAEAkIH1/wC0ot7e3rj77rtj+vTpsf/++7v8B4A60tnZGfvvv38ceuih8eCDD8bQkB9sArDBnIECZGADAMAoq1Qqr4uI30WEn1QA0BKq1Wrcd999ccopp0RXV1fuHABgLRx++OFx2mmnxQ477BBtbX5DBMB66U8pvaGjo2N57hCAVuLTO8Do+0S4/AegBVQqlbjttttip512ioMOOsjlPwA0kLlz58a0adNi1qxZ8eSTT0ZKKXcSAI1no4j4x9wRAK3GBgCAUVapVB6KiKm5OwBgpKxatSruuOOOOOYY2x4BoFmcd955cfTRR8fmm2+eOwWAxvJgqVR6R+4IgFZiAABgFFWr1XeklBbn7gCAkbBixYr46U9/GieccELuFABghHz729+OGTNmxMSJE3OnANAgUko7dXR0PJS7A6BVeAIAYBSllKy8AqDp9PT0xL/+67/GNtts4/IfAJrckUceGe9///tj4cKFMTAwkDsHgMZwWO4AgFZiAwDAKEkptVWr1Sci4o25WwBgOFSr1fiP//iPOOSQQ3KnAAAZHHrooXHmmWfGDjvsEG1tfmcEwMt6sr29fbuiKFLuEIBWYAAAYJSUy+W9i6K4O3cHAGyo3t7euPfee+PEE0+M7u7u3DkAQGbnnHNOHHfccfHa1742dwoAdapWq+0xadKkn+fuAGgFRnMBRs/HcwcAwIZYs2ZNLFy4MN7znvfEIYcc4vIfAIiIiPPPPz+23XbbuOGGG6K3tzd3DgB1qCgKT6MCjBIbAABGQUppo0ql8mxRFJvnbgGAdbVmzZq477774rOf/Wx0dnbmzgEA6tjUqVPjG9/4Ruy6664xduzY3DkA1I/l7e3tWxdFMZA7BKDZ2QAAMArK5fKHXP4D0GgGBgbiwQcfjAMPPDA+9KEPufwHAF5VZ2dn7L333vGZz3wmnnnmmdw5ANSPLXp7e/fNHQHQCgwAAIyCoiis/wegYQwODsaDDz4Yhx56aOy5556xaNGi3EkAQIOZPXt2vPWtb40bb7wxVq9enTsHgDqQUvIMAMAo8AQAwAhbvnx5x4QJE56PiIm5WwDglaSU4qmnnoovfelLMWfOnNw5AECTmD59elxyySWx4447Rlub3yMBtLBqpVJ53ZZbblnNHQLQzHziBhhhEyZM+Gi4/Aegzi1fvjwuuOCCmDp1qst/AGBYLViwIHbbbbf40pe+FCtXrsydA0A+7e3t7QfmjgBodjYAAIywSqVya0Tsn7sDAF5KuVyOm266KU488cTcKQBAC5g8eXJce+21sddee8XYsWNz5wAwylJK/9bR0fGR3B0AzcwAAMAIKpfLWxRF8WxEONUAoK709/fHwoUL47jjjovu7u7cOQBAiznssMPinHPOiW222SaKwhElQAsZqNVqr580adILuUMAmpUnAABG1mHh8h+AOjI4OBiLFy+OAw44IA466CCX/wBAFt///vdj6tSpceONN0Z/f3/uHABGz7iiKA7JHQHQzAwAAIysj+cOAICIiJRSPPnkk3HKKafE9OnTY9GiRbmTAADi6KOPjuOOOy6efPLJ3CkAjB5npgAjyH4tgBGyatWqKWPHjl0a/tYCkFl3d3fMnj07LrjggtwpAAAv60c/+lF84AMfiLFjLdIDaHJpzJgx202YMMH0F8AIsAEAYISMGzfu4+HyH4CMVq9eHTfddFNMmTLF5T8AUPcOPvjg+MxnPhPLly/PnQLAyCqGhoY+ljsCoFm5mAIYIZVK5b8i4u25OwBoPSmleOyxx+Lkk0+26h8AaEg//vGPY/r06TFmzJjcKQCMjMWlUumduSMAmpENAAAjoKen5y3h8h+ADFauXBmXXHJJTJs2zeU/ANCwDjrooDj//PNj1apVuVMAGBnTVq1atX3uCIBmZAMAwAioVqtnpZTsWgZg1PT398ddd90Vhx56aO4UAIBhM2XKlPjud78bO+20UxSFo0yAJnN6qVT6cu4IgGZjAwDACEgpHZK7AYDWkFKKxx9/PI488kiX/wBA0+nq6or3vve9cc0118SaNWty5wAwjJyhAowMY7MAw6yvr2/boaGhrvA3FoAR9uKLL8b1118fZ511Vu4UAIARd/jhh8eFF14Ym2++ee4UAIZHGjNmzLYTJkx4KncIQDOxAQBgmA0NDR0aLv8BGEGDg4OxYMGCeMc73uHyHwBoGXPnzo13vetd8atf/SpSSrlzANhwxeDg4N/njgBoNgYAAIaZ1VUAjKTnn38+TjnllPi7v/u76O7uzp0DADCquru7473vfW/ceOONMTg4mDsHgA3nLBVgmPmFKsAw6u3t3bpWq/0u/H0FYJgNDAzEnXfeGYceemjuFACAuvC5z30uTjvttJg4cWLuFADWX60oije0t7c/lzsEoFnYAAAwjIaGhg4Jl/8ADLPnn38+Zs6c6fIfAOBPXHzxxXHkkUfGsmXLcqcAsP7aarXaR3JHADQTl1QAw6hcLt9TFMX03B0ANIeBgYH4yU9+EkcccUTuFACAujV58uS47bbb4s1vfnPuFADWz7+XSqUP5o4AaBYGAACGSaVSeV1EPBMRY3K3AND4uru745xzzom5c+fmTgEAaAi33npr7LHHHlEUjjwBGsxgrVZ7/aRJk36fOwSgGXgCAGCYpJT+Plz+A7CBhoaGYuHChTFlyhSX/wAA62DGjBnxk5/8JGq1Wu4UANbN2DFjxnw4dwRAszAAADBMiqI4JHcDAI3txRdfjPPPPz/233//3CkAAA3psMMOi29/+9sxODiYOwWAdZBScrYKMEzswwIYBqtWrdp07NixyyJiXO4WABpPSim6urri4x//eHR2dubOAQBoeF/60pfi+OOPj3HjfE0HaBADg4ODr9tkk01W5g4BaHQ2AAAMg7Fjx/59uPwHYD0MDAzETTfdFLvssovLfwCAYfLP//zP8dWvfjX6+/tzpwCwdsaNHTv2gNwRAM3AAADA8LCiCoB1tmrVqjjjjDPiE5/4RO4UAICm84UvfCEuu+yyGBgYyJ0CwFrwDADA8PAEAMAGeuGFFyaNHz++OyLG524BoDGklOKRRx6Jj33sY9HV1ZU7BwCgqX3xi1+Mk08+OcaOHZs7BYBX1tfb2zt58uTJldwhAI3MBgCADbTRRht9KFz+A7CWarVa3H777fG3f/u3Lv8BAEbBWWedFddff30MDQ3lTgHglU2YMGHCfrkjABqdAQCADVQUhbepAFgra9asiSuuuCIOOcRWQwCA0XTqqafGjTfeGCml3CkAvAJnrQAbzhMAABsgpTSmWq0+HxGvzd0CQH1buXJlzJo1K+bOnZs7BQCgZd1+++3x3ve+N3cGAC+vu729/fVFUdRyhwA0KgMAABugp6dnz7a2tntzdwBQ355++uk45JBDorOzM3cKAEDL+9WvfhVTpkzJnQHAy2hra9tt4sSJ9+XuAGhUngAA2ABtbW0H5m4AoL79+te/junTp7v8BwCoE//4j/8YK1asyJ0BwMsYGhpy5gqwAQwAAGwYH0YBeEkppfj5z38e7373u6O7uzt3DgAAf9TZ2RnnnHNODAwM5E4B4CUUReHMFWADGAAAWE99fX1vioipuTsAqD+1Wi1uvvnm2G+//XKnAADwEubMmRM333xzpJRypwDw13bt7e19Q+4IgEZlAABgPQ0ODn44dwMA9adWq8WNN94YRxxxRO4UAABewdFHHx2PPfZY7gwA/loxNDR0QO4IgEZlAABgPVlFBcBfqtVqccMNN8QxxxyTOwUAgLXwiU98Inp6enJnAPAXnL0CrD8DAADrobu7uxQR78vdAUD9GBoaiu985zvxyU9+MncKAABrqbOzM7785S/H4OBg7hQA/tw+KaWJuSMAGpEBAID1MGHChP0iYnzuDgDqQ61Wi3nz5sXJJ5+cOwUAgHV02WWXxV133ZU7A4A/N6G3t/cDuSMAGpEBAID1YAUVAP8tpRT//u//HkcffXTuFAAA1tPBBx8cy5Yty50BwJ+o1WrOYAHWgwEAgHWUUmqLiA/l7gCgPtx3331x8MEH584AAGADXXTRRZ4CAKgjRVEclFIqcncANBp/OAHW0YsvvvieMWPGLMrdAUB+XV1dsfPOO+fOAABgmNxyyy2x11575c4A4I+KopjW3t7+y9wdAI3EBgCAddTW1nZA7gYA8uvp6bH2HwCgyRx11FGxYsWK3BkA/JFnAADWnQEAgHVUFMVBuRsAyGtgYCAuuOCCWLx4ce4UAACGUXd3d1x++eUxNDSUOwWAiCiKwgAAwDryBADAOujt7X1DrVZ7Kvz9BGhZKaWYO3dunHDCCblTAAAYIffcc0+8853vzJ0BQEQtIrYulUrP5w4BaBQ2AACsg5TSjHD5D9DSHnvsMZf/AABN7qSTTore3t7cGQD84R7rg7kjABqJAQCAdVCr1XzYBGhhvb29cfLJJ+fOAABghHV2dsbtt9+eOwOAP3AmC7AODAAArKWUUltRFO/P3QFAHrVaLWbPnh2LFi3KnQIAwCg44ogj4oUXXsidAUDEB1NKtrICrCUDAABrqbe3d1pEbJG7A4A8fvWrX8WsWbNyZwAAMIquu+66SCnlzgBodVtWq9W3544AaBQGAADWUkrJqimAFtXT0xNHHnlk7gwAAEbZF77whXjiiSdyZwAQsV/uAIBGYQAAYO0ZAABoQSmluP7666Orqyt3CgAAGVx00UUxODiYOwOg1TmbBVhL3kwBWAsppYnVanVFRIzP3QLA6Fq6dGnsuuuuuTMAAMjoP//zP2Pq1Km5MwBaWV97e/vmRVH05Q4BqHc2AACshd7e3veFy3+AljMwMBDnnXde7gwAADKzBQAguwnVavW9uSMAGoEBAIC1kFKyYgqgBd19990xb9683BkAAGQ2b968eOSRR3JnALQ6Z7QAa8EAAMDa2S93AACja8WKFXHwwQfnzgAAoE7YAgCQnTNagLVgAADgVVQqlS0j4m25OwAYPSml+N73vpc7AwCAOmILAEB2u5bL5cm5IwDqnQEAgFe3f0QUuSMAGD3PPPNMzJo1K3cGAAB1xhYAgKyKoij2yR0BUO8MAAC8Om9LAbSQWq0WV199de4MAADq0Lx582Lp0qW5MwBambNagFdhAADgFaSUioj4QO4OAEZPV1dXXH755bkzAACoU9dcc02klHJnALSq/XIHANQ7AwAAr6Bare4cEa/P3QHA6BgaGoqvfOUruTMAAKhjV199dSxbtix3BkCr2rpcLr8tdwRAPTMAAPDKrJQCaCG/+c1vYs6cObkzAACoc7feemvuBICWVRSFM1uAV2AAAOCV+TAJ0CJqtVp87Wtfy50BAEADmDlzZpTL5dwZAK3KMwAAr8AAAMDLSCmNi4g9cncAMDq6urpi7ty5uTMAAGgQDzzwQO4EgJaUUpqeUhqbuwOgXhkAAHgZfX19fxsR7bk7ABh5KaW49tprc2cAANBAPv/5z8fAwEDuDICWUxRFqbe3d9fcHQD1ygAAwMuo1Wrvy90AwOh45pln4utf/3ruDAAAGsjixYvjqaeeyp0B0JJSSs5uAV6GAQCAlzc9dwAAIy+lFP/v//2/3BkAADSgW2+9NXcCQEtKKTm7BXgZRe4AgHqUUhpTqVReKIpi49wtAIysFStWxDbbbJM7AwCABrVs2bJob/eCIMBoSimtLJVKry2Kopa7BaDe2AAA8BJ6e3vf4fIfoDX84he/yJ0AAEADe/jhh3MnALScoig2rVarO+XuAKhHBgAAXoI3pABaw8DAQJx33nm5MwAAaGDXXXddpJRyZwC0HM8AALw0AwAAL8GHR4DW8Nhjj0VnZ2fuDAAAGticOXPi97//fe4MgJbT1tbmDBfgJRgAAPgLKaW2iNgjdwcAIyulFN/73vdyZwAA0AQMlQKMvpTS+1JKRe4OgHpjAADgL1Sr1Z2Kotg8dwcAI+uFF16Iyy+/PHcGAABN4Lvf/a5nAABG3xaVSuVvckcA1BsDAAB/wfp/gNbwy1/+MncCAABN4vvf/36sWrUqdwZAK3pf7gCAemMAAOCv+dAI0ORqtVpcccUVuTMAAGgijz76aO4EgFbkx1wAf8EAAMCfSCkVRVHslbsDgJH1/PPPx5133pk7AwCAJnLjjTd6BgBglBVFsXfuBoB6YwAA4E/88c2oybk7ABhZ999/f+4EAACazJVXXhmVSiV3BkCref2qVau2zx0BUE8MAAD8Oev/AZrc4OBgXHoiazfSAAAgAElEQVTppbkzAABoQk899VTuBICWM27cOGe6AH/CAADAn/NmFECTe/7552Px4sW5MwAAaEIPPPBA7gSAlpNScqYL8CcMAAD8iaIofFgEaHIPPfRQ7gQAAJrUlVdeGUNDQ7kzAFqNDQAAf8IAAMAf9fX1bRcRW+fuAGDk1Gq1uP7663NnAADQpDo7O2PFihW5MwBazba9vb1vyB0BUC8MAAD80dDQ0O65GwAYWatWrYr58+fnzgAAoIk98cQTuRMAWs7Q0NB7cjcA1AsDAAD/a7fcAQCMrKVLl+ZOAACgyS1YsCB3AkDLKYrC2S7AHxkAAPhfpkQBmtxtt92WOwEAgCb3+c9/PgYGBnJnALSUlJKzXYA/KnIHANSDlNL4arX6YkSMz90CwMjo7++PzTbbLHcGAAAtoKurKyZPnpw7A6CVrG5vb9+4KIr+3CEAudkAABARfX1908LlP0BTW758ee4EAABaxHPPPZc7AaDVvKa3t3fn3BEA9cAAAEBE1Go1K6IAmlxXV1fuBAAAWsSvf/3r3AkALccZL8AfGAAAiIiU0m65GwAYWXfddVfuBAAAWsT3v//9SCnlzgBoKUVROOMFiIgidwBAPahUKk9ExJtydwAwMvr7+2OzzTbLnQEAQAtZtmxZtLe3584AaBkppaUdHR1vzt0BkJsNAEDLK5fLk8PlP0BTW7FiRe4EAABazAsvvJA7AaClFEWxfblc3iJ3B0BuBgCAlpdSem/uBgBG1jPPPJM7AQCAFrNs2bLcCQCtpmhra/MMANDyDAAALc+HQoDm9+tf/zp3AgAALWbp0qW5EwBaTq1Wc9YLtDwDAEDLSym9J3cDACMnpRQ/+clPcmcAANBifvazn+VOAGg5RVE46wVaXpE7ACCnlNKYSqWyqiiKUu4WAEZGb29vTJ48OXcGAAAtaOXKlTFu3LjcGQAtI6VULpVKmxZFMZS7BSAXGwCAllatVt/u8h+gua1cuTJ3AgAALapcLudOAGgpRVF0VCqVHXN3AORkAABoadb/AzS/5cuX504AAKBFGUYFGH0ppd1yNwDkZAAAaGlFUfgwCNDknnzyydwJAAC0qN///ve5EwBajjNfoNUZAABa3btzBwAwsh588MHcCQAAtKjnnnsudwJAyymKwtZXoKUZAABaVkppYkT8Te4OAEZOrVaLOXPm5M4AAKBFPfroo7kTAFrR2/549gvQkgwAAC2rr69vl4gYk7sDgJHT29sb3d3duTMAAGhRd9xxR6SUcmcAtJoxfX19b88dAZCLAQCgZQ0NDb0jdwMAI6tSqeROAACghS1atCgGBgZyZwC0HGe/QCszAAC0Mh8CAZpcT09P7gQAAFpcX19f7gSAVuTsF2hZBgCAllUUhQ+BAE1uxYoVuRMAAGhxvb29uRMAWo6zX6CVGQAAWlJKaVxETM3dAcDIev7553MnAADQ4gwAAGSxc0ppbO4IgBwMAAAtqVqtvi0iXpO7A4CR1dXVlTsBAIAWV6lUcicAtKLXVCqVt+aOAMjBAADQqqyAAmgB9913X+4EAABa3KpVq3InALQkzwAArcoAANCqfPgDaHK1Wi3mz5+fOwMAgBa3YsWK3AkArcoZMNCSDAAALSmlNC13AwAja2BgIHcCAADEc889lzsBoCU5AwZalQEAoOWklIqI2Dl3BwAjq7+/P3cCAADEs88+mzsBoFXt+sezYICWYgAAaDk9PT07FEUxKXcHACNr9erVuRMAACCefvrp3AkALakoik1Wr169be4OgNFmAABoOW1tbVY/AbQAAwAAANSDxYsXR0opdwZASxocHHxH7gb+f/buPL6q+s7/+OfcrGSBhOWyb2ETI2ix/gSsKEMVxdQ+VGqtsWXMFFrcK62oWLUW15Yap4pWWhSXijYDWqODS6rS1thiUdGoUAk7xEsCJLnZc+/398dYHmpZstx7P+d8z+v5X/sYzaszUzz53vf9HgCJxgAAgO84jsNDHwD4QEtLi3YCAAAAIJWVlQwAAEAPZ8EAfIcBAAA/4qEPAHyAAQAAAADcIhKJaCcAgC/xZTAAfsQAAIAfHa8dAACIPwYAAAAAcIv29nbtBADwKwYAAHyHAQAAX2lsbBwsIv21OwAA8dfU1KSdAAAAAIgINwAAgKJB4XB4gHYEACQSAwAAvmKMmajdAABIjMbGRu0EAAAAQEREjDHaCQDgZxO0AwAgkRgAAPAVY8xx2g0AgMRobm7WTgAAAABEhAEAACjL1w4AgERiAADAb47VDgAAJAbvWQUAAIBbRKNR7QQA8C1jDGfCAHyFAQAAv+FhDwB8oq2tTTsBAAAAEBEGAACgjDNhAL7CAACAbxhjHGPMeO0OAEBicAMAAAAA3IIBAACo4hUAAHyFAQAA32hubh7mOE62dgcAIDFaW1u1EwAAAAAREXEcRzsBAHzLcZychoaGQdodAJAoDAAA+EY0GuWqJwDwEQ5ZAQAA4BY8mwKALmMMZ8MAfIMBAADfMMZw1RMA+EhKSop2AgAAACAiDAAAwAU4GwbgGwwAAPgJK08A8JG0tDTtBAAAAEBEGAAAgDZuAADgJwwAAPgJK08A8JHU1FTtBAAAAEBEGAAAgAtwNgzANxgAAPAFY4xjjBmv3QEASBxeAQAAAAC3YAAAAOoYAADwDQYAAHyhubl5qOM42dodAIDESU5O1k4AAAAAREQkKSlJOwEAfM1xnJyGhoaB2h0AkAgMAAD4QjQaZeEJAD7DDQAAAABwCwYAAKDPGMMZMQBfYAAAwBeMMcdqNwAAEosbAAAAAOAWDAAAQB9nxAD8ggEAAL/g4Q4AfIYBAAAAANwiEOAYFgBcgDNiAL7AkycAv+B6JwDwGQYAAAAAcAsGAADgCpwRA/AFnjwBWM8Y4xhjjtHuAAAkVo8ePbQTAAAAACkoKBDHcbQzAAAMAAD4BAMAANZramoa4jhOL+0OAEBiMQAAAACAG0yYMEE7AQAgIo7j5DY0NAzU7gCAeGMAAMB60Wh0nHYDACDxGAAAAADADQYPHqydAAD4TDQaHavdAADxxgAAgPWMMaO1GwAAiZeWlqadAAAAAEjfvn21EwAAn+GsGIAfMAAAYD3HcUZpNwAAEi81NVU7AQAAAJDc3FztBADAZwKBAGfFAKzHAACA9Vh1AoA/paSkaCcAAAAAkp2drZ0AAPgMZ8UA/IABAADrOY7DQx0A+FBycrJ2AgAAACCZmZnaCQCAz3BWDMAPGAAAsJoxxhGRPO0OAEDiBQIBKSgo0M4AAACAz/Xo0UM7AQDwGWPMGO0GAIg3BgAArNbU1DRYRDK0OwAAOo455hjtBAAAAPhcenq6dgIA4DOO42SFw+H+2h0AEE8MAABYLRKJcKUTAPjYyJEjtRMAAADgc2lpadoJAIDPiUajnBkDsBoDAABWCwQCPMwBgI8NGzZMOwEAAAA+l5qaqp0AAPgczowB2I4BAACrGWNGaTcAAPT07dtXOwEAAAA+VlBQICkpKdoZAIDP4cwYgO0YAACwmuM4rDkBwMdycnK0EwAAAOBj06ZN004AAPw7zowBWI0BAACrGWN4mAMAH8vKytJOAAAAgI/l5eVpJwAAvoQvjQGwHQMAAFbjOicA8LcePXpoJwAAAMDHBgwYoJ0AAPgSY8wY7QYAiCcGAACsFQ6H+zuOk63dAQDQk5aWxreuAAAAoCY3N1c7AQDwJY7j5NTW1vbW7gCAeGEAAMBa0WiUq5wAwOccx5Fzzz1XOwMAAAA+1bNnT+0EAMAhpKSkcHYMwFoMAABYKxAI8BAHAJD8/HztBAAAAPhURkaGdgIA4BD48hgAmzEAAGAtY8wo7QYAgD5eAQAAAAAN+fn5kpqaqp0BADgEYwwDAADWYgAAwGY8xAEAZMCAAdoJAAAA8KFzzz1XHMfRzgAAHILjOJwdA7AWAwAANhuhHQAA0JeTk6OdAAAAAB/6yle+op0AADgMY8xw7QYAiBcGAACs5TjOUO0GAIC+zMxM7QQAAAD40IgRI7QTAACHwdkxAJsxAABgJWNMsohw5zMAQJKTk+WHP/yhdgYAAAB8pl+/ftoJAIDDG2KM4TMyAFbiDzcAVmpubh4kIsnaHQAAd5g8ebJ2AgAAAHymZ8+e2gkAgMNLaWxs7K8dAQDxwAAAgJXa2tq4wgkAcNDIkSO1EwAAAOAjBQUFkpqaqp0BADgCx3GGaTcAQDwwAABgpUAgwMMbAOCggQMHaicAAADAR8455xxxHEc7AwBwBJFIhC+RAbASAwAAtuLhDQBwUO/evbUTAAAA4CNjx47VTgAAHAU3AACwFQMAAFYyxjAAAAAclJaWJoWFhdoZAAAA8IkBAwZoJwAAjo4zZABWYgAAwFY8vAEADnIcR2bOnKmdAQAAAJ/o06ePdgIA4Cj4EhkAWzEAAGAlx3F4eAMAfAHXsAIAACARZsyYIZmZmdoZAICj4AwZgK0YAACwFe9vAgB8AdewAgAAIBG+/e1vi+M42hkAgKPjDBmAlRgAALCOMSZdRLhrDwDwBTk5ORIMBrUzAAAAYLnjjjtOOwEA0DH9jTFp2hEAEGsMAABYp66ubqiIMLUHAHxBcnKyXHHFFdoZAAAAsNygQYO0EwAAHePU1tYO1o4AgFhjAADAOklJSVzdBAA4pKlTp2onAAAAwGLBYFB69eqlnQEA6KCkpKSh2g0AEGsMAADYiIc2AMAhjRgxQjsBAAAAFps3b56kpKRoZwAAOshxHL5MBsA6DAAAWMcYwwAAAHBIffr0kWAwqJ0BAAAAS3HjFAB4SzQa5SwZgHUYAACwEQ9tAIBDSklJkcsvv1w7AwAAAJYaPXq0dgIAoBMcx+EsGYB1GAAAsI7jOEO0GwAA7nXaaadpJwAAAMBCwWBQ+vXrp50BAOgEBgAAbMQAAICNBmkHAADca+TIkdoJAAAAsNBVV10lKSkp2hkAgM4ZqB0AALHGAACAjfprBwAA3Cs3N1dmzJihnQEAAADLfO1rX9NOAAB0HmfJAKzDAACAVYwxARHpq90BAHCvQCAgRUVF2hkAAACwzIgRI7QTAACdFzTGONoRABBLDAAAWCUcDvcRkWTtDgCAu02aNEk7AQAAABaZMmWK5ObmamcAADovpba2Nkc7AgBiiQEAANsEtQMAAO43YMAAyc/Pl+LiYu0UAAAAWGDevHmSlJSknQEA6IJAIMBrAABYhQEAANvwsAYAOKqUlBQpKyuTvLw87RQAAABY4MQTT9ROAAB0keM4nCkDsAoDAABW4WENANBR6enp8stf/lI7AwAAABYYNGiQdgIAoOs4UwZgFQYAAGzDwxoAoEO2b98ua9eu1c4AAACAx912222Snp6unQEA6DrOlAFYhQEAANvwsAYA6JAXX3xROwEAAAAWmDlzpnYCAKB7gtoBABBLDAAA2IaHNQDAUdXV1cn111+vnQEAAAALjBw5UjsBANA9fKkMgFWStQMAIMZ4WAMAHNV7772nnQAAAACPW7hwoWRmZkpGRoZ2CgCgezhTBmAVBgAAbMPDGgDgiCKRiNx3333aGQAAAPC4k046Sf7jP/5DOwMA0H3cKgvAKrwCAIBtGAAAAI5o586dsmbNGu0MAAAAeNySJUskEOB4FQC8znEczpQBWIUnVAC26acdAABwNz78BwAAQCyUl5fL7t27tTMAAN3HAACAVRgAALDG/v37c0QkXbsDAOBeDQ0NsmDBAu0MAAAAWOIvf/mLdgIAoPsyQqFQlnYEAMQKAwAA1khKSmKpCQA4ok8++UQ7AQAAABa56aabpKWlRTsDANBNqampnC0DsAYDAAA2CWoHAADcrbS0VDsBAAAAFgmFQrJ161btDABANwUCAQYAAKzBAACANRzHYQAAADis+vp6ufPOO7UzAAAAYBlGpgBgBc6WAViDAQAAm/TVDgAAuNemTZu0EwAAAGChW265RcLhsHYGAKB7+mgHAECsMAAAYA3HcXK0GwAA7mSMkdWrV2tnAAAAwFIbN27UTgAAdEMgEMjVbgCAWGEAAMAmDAAAAIdUV1cnxcXF2hkAAACw1NNPPy3GGO0MAEAXGWN6aTcAQKwwAABgDWMMAwAAwCHxjSwAAADE09KlS6WhoUE7AwDQddwAAMAaDAAA2ISHNADAvzHGyDPPPKOdAQAAAMtt2bJFOwEA0EW8XhaATRgAALAGD2kAgEOpra2Vhx56SDsDAAAAlvvTn/6knQAA6DrOlgFYgwEAAJvwkAYA+DcfffSRdgIAAAB8YNGiRdLc3KydAQDoAl4vC8AmDAAAWIOHNADAobzwwgvaCQAAAPCJnTt3aicAALqG18sCsAYDAADWcByHhzQAwBc0NDRIcXGxdgYAAAB84q233tJOAAB0Aa+XBWATBgAAbNJLOwAA4C47duzQTgAAAICP3HPPPdLW1qadAQDoPAYAAKzBAACAFYwxGSKSpt0BAHCXdevWaScAAADARyorK6Wqqko7AwDQeRnGGM6XAViBAQAAKzQ2NrLQBAB8QXt7u9x///3aGQAAAPCZDRs2aCcAALqgoaGBM2YAVmAAAMAK0WiUhzMAwBdUV1dLRUWFdgYAAAB85vHHHxdjjHYGAKCTOGMGYAsGAACsYIzJ1W4AALjLxo0btRMAAADgQ6WlpVJfX6+dAQDopOTkZAYAAKzAAACAFZKSkng4AwAcZIyRZ599VjsDAAAAPrVr1y7tBABAJ0WjUb5kBsAKDAAAWMEYwwAAAHBQQ0ODLFu2TDsDAAAAPvXuu+9qJwAAOokzZgC2YAAAwAo8nAEAPm/Hjh3aCQAAAPCxBx98UKLRqHYGAKBzOGMGYAUGAACsEAgEuJ4JAHDQ22+/rZ0AAAAAH1u/fr0cOHBAOwMA0AmO43DGDMAKDAAAWMEYk6XdAABwh2g0Ko899ph2BgAAAHxu+/bt2gkAgM7J1g4AgFhgAADACsaYDO0GAIA71NfXS3l5uXYGAAAAfO5vf/ubdgIAoHN6aAcAQCwwAABgBcdxGAAAAEREpKqqSjsBAAAAkLvvvlva29u1MwAAHcSXzADYggEAACvwcAYA+JePP/5YOwEAAACQUCgk+/bt084AAHQQXzIDYAsGAABswfVMAAAxxsjzzz+vnQEAAACIiMju3bu1EwAAHWSM4YwZgBUYAACwAutMAICISGNjo6xcuVI7AwAAABARkQ8//FA7AQDQQZwxA7AFAwAAVuAVAAAAEZG9e/dqJwAAAAAHPf3002KM0c4AAHQAZ8wAbMEAAIAVWGcCAERENm/erJ0AAAAAHFRWViaNjY3aGQCADuCMGYAtGAAAsALvZwIAiIi89tpr2gkAAADAF1RXV2snAAA6hjNmAFZgAADACqwzAQCtra1SXFysnQEAAAB8wfbt27UTAAAdwCsAANgiWTsAAGKEhzMA8Ln9+/drJwBWmDNnjkyZMkVyc3MlKytL0tLSpKWlRQ4cOCD//Oc/ZenSpRIKhbQzAcTY3LlzZfLkydKnTx/JysqSSCQiDQ0NEg6HpbKyUv7whz9IRUWFdibgSf/4xz/k1FNP1c4AABwFXzIDYAtHOwAAYqG+vr7ecZws7Q4AgJ4PPvhAJk+erJ0BeEpeXp5ceeWVcvLJJ8uQIUMkOztbUlJSjvjXRCKRg2OAVatWydKlSxNUCyCWrr32Wjn77LNl1KhRkpube9T/7kejUWlqapK9e/fKhx9+KM8884yUlJQkqBbwtmAwKP/85z8lKSlJOwUAcATGmNrs7Owc7Q4A6C4GAACsEA6H20WE36QBwMdKS0vloosu0s4AXC8YDMrNN98s06ZNk6FDhx71Q78jMcbIgQMHZP369XLXXXdJeXl5DEsBxNpll10mF110kYwdO1aysrq3nzbGyP79++X999+X3/72t7J69eoYVQJ22rFjh+Tm5mpnAACOrC0rKytVOwIAuosBAADPM8akNzQ0NGl3AAB03XrrrfLLX/5SOwNwrYKCArnyyivlhBNOkMzMzJj//SORiGzbtk2WL18uxcXFMf/7A+i6Bx98UM444wzp37+/OE7sj4Ki0aiEQiF56aWX5PLLL4/53x+wwTvvvCNjxozRzgAAHEVmZmaq4zht2h0A0B0MAAB43oEDB3KTk5P3aXcAAPREIhEZM2YM7yUHDuEXv/iFzJo1S4YOHSqBQCDuP88YIzU1NfKnP/1JioqK4v7zABzalClTZNGiRXLSSSfFZfRzOOFwWN577z255557pKysLGE/F3C7F154QU477TTtDADAUbS0tPTq06dPnXYHAHQHAwAAntfY2Dg4Go3u1O4AAOipra2VwYMHa2cArlFQUCBXXXWVTJw4sdvXfHdHOByW999/X5YuXcr14ECCXHTRRXLttdfK2LFjJTk5Wa2jvb1dtm/fLqWlpXLjjTeqdQBuUVxcLN///ve1MwAARzcwKyurSjsCALqDAQAAz6utrR2TlJS0SbsDAKBny5YtMmHCBO0MQN39998vM2bMkMGDByfk2/4dFY1GZffu3fLqq6/KFVdcoZ0DWGnOnDly9dVXy6hRoyQpKUk75wvq6+tlw4YNcu+998qaNWu0cwAVZ511lvzhD3+Iy2s4AACx097ePionJ6dSuwMAuoMnTgCeFw6HjxeRd7U7AAB6/vKXv8hZZ52lnQGoyc/Pl8cff1zGjh2rnXJUGzZskKlTp2pnAFZ56KGH5Nvf/rakpKRopxxRQ0ODXH755VJSUqKdAqioqamRtLQ07QwAwBEYYyZkZ2d/oN0BAN3hnq+EAEAXBQKBdO0GAICuiooK7QRATWFhoaxZs8YTH/6LiEycOFHefPNN7QzAGi+99JIUFha6/sN/EZHMzEy59957ZcqUKdopgIr6+nrtBADAUQQCgR7aDQDQXQwAAHhee3u73ostAQDqjDHy4osvamcAKhYuXCj//d//Lbm5udopnTJx4kRZu3atdgbgaZMmTZJNmzbJKaec4qkrxXNzc+Xxxx+XYDConQIk3L59+7QTAABH0d7e7q53KQFAFzAAAOB5juPwUAYAPtbc3CxlZWXaGUDCLVy4UBYuXOjZq4QnTZokr7/+unYG4EkzZsyQ1atXy6BBg7RTumTAgAHy6quvamcACbdnzx7tBADAUTiOw5fNAHgeAwAANuChDAB8rKGhQTsBSLhrrrlGrrvuOklNTdVO6ZYTTzxRXnnlFe0MwFNmz54tjz32mPTp00c7pVvy8vL47z985+OPP9ZOAAAcBV82A2ADBgAAPI+HMgDwt7q6Ou0EIKEKCwvlpptu8uw3/z/PcRyZPHmyPP/889opgCecddZZ8utf/1p69eqlnRITkydPlocfflg7A0iYF198UYwx2hkAgCPjrBmA5zEAAGADHsoAwMd4lyr8JD8/X+666y5JT0/XTokZx3Hk9NNPl1WrVmmnAK6Wn58vv/nNbyQ7O1s7JWYcx5ELL7xQbrjhBu0UICHKysqkra1NOwMAcAS8AgCADRgAAPA8bgAAAH+rqqrSTgAS5umnn5bc3FztjJhzHEe+/vWvy+9+9zvtFMCVgsGgPPvss56/9v9QkpOT5Uc/+pEUFBRopwAJ0dzcrJ0AADgCzpoB2IABAADPi0QiPJQBgI9VVlZqJwAJsXr1ahkxYoR2RtwEAgGZPXu2LF68WDsFcJ3nn39eBg4cqJ0RNxkZGfLAAw9IXl6edgoQdw0NDdoJAIAj46wZgOcxAADgeVzLBAD+9uabb2onAHE3d+5cmT59unZG3CUlJcn8+fNlzpw52imAa/z2t7+VY489Vjsj7vr06SMlJSXaGUDc1dXVaScAAI4gEolw1gzA8xgAALABq0wA8Km2tjYpLS3VzgDibtGiRZKc7I9zqLS0NLnjjjtkypQp2imAurlz58oFF1wgjuNopyTE2LFj5X//93+1M4C42rdvn3YCAOAIeAUAABswAABgAx7KAMCneIcq/ODZZ5+Vvn37amckVK9evWT58uXaGYC6n/70p5KSkqKdkVCnnHKKPPjgg9oZQNx8+umn2gkAgCPjrBmA5zEAAOB5rDIBwL/C4bB2AhBX06ZNk1NPPVU7Q8XQoUPlueee084A1Dz77LPSu3dv7YyECwQCcvHFF8s999yjnQLExdatW7UTAABHwFkzABswAABgAx7KAMCnamtrtROAuFqyZImkpaVpZ6g57bTTZM6cOdoZQMKdd955Mm3aNO0MNUlJSTJ37ly54YYbtFOAmHvrrbe0EwAAR+aPd68BsBoDAACe5zgOD2UA4FM1NTXaCUDcXHbZZTJu3DjtDFXJycly3XXXaWcACfezn/1MUlNTtTNUpaSkyIIFC6SwsFA7BYip0tJSaW9v184AABweXzYD4HkMAADYgIcyAPCpAwcOaCcAcTN//nwJBPiVbdiwYXwLGL4yd+5cGTFihHaGK6Snp8tPfvIT7Qwg5pqbm7UTAACHEY1GOWsG4HmcJgHwPB7KAMC/9u3bp50AxMWVV14pw4cP185wBcdx5Lvf/a52BpAwV1xxBeOfz8nLy+NVILAOAwAAcC9umwVgA36jBGADBgAA4FO7d+/WTgDi4gc/+AEfAH7OkCFD5JprrtHOAOJu7ty5MnLkSO0MVwkEAnL11VdrZwAx1dLSop0AADg8zpoBeB4nSgBswEMZAPhUZWWldgIQc4WFhTJs2DDtDFcJBALyX//1X9oZQNxdeumljH8OYdSoUVJYWKidAcQMNwAAgKtx1gzA8/itEoDncS0TAPiTMUZeeeUV7Qwg5i6//HI+ADyE4cOHy9y5c7UzgLgaM2aMdoIrJSUlcQsArNLU1KSdAAA4DM6aAdiAUyUANjDaAQCAxGtvb5dQKKSdAcRUfn6+HHPMMdoZrhQIBGTevHnaGUDc3HfffdKjRw/tDNcaM2aMTJkyRTsDiImGhgbtBADA4XHWDMDzGAAA8DxjTES7AQCQeG1tbdoJQMz9/Oc/l9TUVO0M1x7nvigAACAASURBVBo9ejQfAMJa06dP105wtZSUFLn55pu1M4CYqK+v104AABwGZ80AbMAAAIANeCgDAB9iAAAbnXzyydoJrpaSkiI//elPtTOAuBg4cKB2guudeOKJEgwGtTOAbqutrdVOAAAcHmfNADyPAQAAG/BQBgA+1NLSop0AxNQ999wjvXr10s5wva9+9at8AAjrzJ07V9LT07UzXC8jI0MWL16snQF0W3V1tXYCAODwOGsG4HkMAAB4XiAQ4KEMAHyoqalJOwGIqW984xvaCZ6QkZEhP/vZz7QzgJiaNWuWOI6jneEJM2bM0E4Auq2qqko7AQBwGMaYdu0GAOguBgAAbMAAAAB8iBsAYJOioiIZPHiwdoZnnH766doJQEwde+yx2gme0a9fPyksLNTOALply5Yt2gkAgMPgy2YAbMAAAIDnscoEAH9qa2vTTgBi5rLLLpNAgF/POmrQoEF8CxjWuOyyy2TgwIHaGZ4RCASkqKhIOwPolrVr14oxRjsDAHBoDAAAeB4nTABswEMZAPhQJMIf/7BDQUGBjB49WjvDU5KSkuTqq6/WzgBi4gc/+AEDoE7Kz8/XTgC6JRQKMQAAAPfiy2YAPI/fMAF4njGGT4AAwIe4AQC2uP766yU5OVk7w3NOOOEE7QSg2y666CIZOXKkdobnZGVlyW233aadAXQLAwAAcCfOmgHYgAEAABvwUAYAPtTezigf3hcMBuWYY47RzvCk3NxcmTt3rnYG0C18+7/rzjnnHO0EoFsYAACAa3HWDMDz+C0TgA14KAMAH2IAABvcfvvtkp6erp3hSY7jyOzZs7UzgG4ZP368doJnDR06VDsB6BYGAADgTsYYDhsAeB4DAACex0MZAPgTrwCADaZNm6ad4Gnjxo3TTgC6bMmSJZKVlaWd4VkZGRly0003aWcAXRaNRrUTAACHkJSUxJfNAHgeL5oE4HlJSUkRlvMAOqOtrU1qa2tl//79UltbK+3t7Qe/gZueni65ubnSs2dPSU9PF8dxlGtxOAwA4HXTpk2TgQMHamd4Wu/eveWss86SNWvWaKcAnTZjxgztBM8788wzZfHixdoZQJcwAAAA12IAAMDzGAAA8DxjDA9lAI4qEonI9u3bpaysTO644w4JhUJH/WsmTZokRUVFcvLJJ8vQoUMlMzOTQYCLMACA182fP593f3dTIBCQoqIiBgDwpCFDhmgneN6oUaO0E4Au44sMAOBOnDUDsAEDAAA24KEMwGEZY2T79u1yzz33yIoVKzr1165fv17Wr19/8F8XFRXJd7/7XcnPz5eMjIxYp6KTWltbtROAbjn++OO1E6wwYcIE7QSg02677baDtw+h63r27CkXXXSRrFy5UjsF6DRuAAAAd+J1swBswNdNAHgeq0wAh9Pe3i7PPfec5Ofnd/rD/0NZvny5TJ8+XYLBoDz66KOyY8cODu4UMQCAlwWDQa7/j5F+/fppJwCd9vWvf107wQqO48g3v/lN7QygS/g9AgBci7NmAJ7HAACADVhlAvg3DQ0Ncvvtt8sll1wSl7//FVdcIePHj5frr79etmzZwgGeAgYA8LKrr75aUlJStDOskJ6eLj/84Q+1M4BOGTp0qHaCNcaNG6edAHQJvz8AgDvxZTMANmAAAMDzeCgD8GVVVVVy8cUXyy9+8Yu4/6ylS5fKhAkTDg4BeJdn4vDudHjZ//t//087wSpnnHGGdgLQYfn5+dKzZ0/tDGsMGDBAOwHoEsdxtBMAAIfAKwAA2IBTUwCel5yczEMZgIN27twpU6dOlbKysoT+3H8NAe644w6pqalJ6M/2q6SkJO0EoMuGDx+unWCVMWPGaCcAHVZUVMQ/w2IoKytLZsyYoZ0BdBpjVgBwp+TkZL5sBsDzeNIE4HnRaLRJuwGAO+zZs0dmzZoloVBIreHOO++U4cOHy3PPPSctLS1qHX6QnJysnQB0WZ8+fbQTrBIMBrUTgA6bNGmSdoJVAoGAfOtb39LOADqNGwAAwJ2i0WijdgMAdBcDAACeF4lEGAAAkP3798vMmTOlsrJSO0VERAoLC6WwsFC2bt3KawHihG9Pwqtmz54tqamp2hlWycjIkPz8fO0MoEMGDhyonWCdsWPHaicAncYNAADgTpw1A7ABT5oAPC8lJYVVJuBzra2tctNNN7nmw/9/WbNmjRx33HHy3HPPSVtbm3aOdbgBAF41Y8YMvvUXY4FAQC644ALtDKBDcnJytBOs079/f+0EoNN4FgAAd0pOTuasGYDnMQAA4Hmtra08lAE+ZoyRkpISWbFihXbKYV1yySVyzTXXyN69e7VTrJKWlqadAHTJ6NGjtROsNHHiRO0E4Kjy8vIkIyNDO8M6jCrgRQwAAMCdWlpaOGsG4HkMAAB4Xq9evXgoA3xsz549Mm/ePO2Mo1qxYoWMHDlS/vrXv/JKgBhJT0/XTgC6ZMCAAdoJVhoyZIh2AnBU3/72t7n2Ow4yMzO1E4BO488CAHCn3r17c9YMwPN40gTgeY7jtIhIRLsDQOJFo1EpLi7WzuiUmTNnyqpVq6S9vV07xfMYAMCrevbsqZ1gpb59+2onAEd17LHHaidYKTk5WebOnaudAXQKNwAAgCu1OY7DgQ0Az2MAAMAKxpgm7QYAibdr1y5ZunSpdkanzZkzR+68805pbGRU3h28AgBe1aNHD+0EK2VlZWknAEcVDAa1E6x14oknaicAnZKUlKSdAAD4EmMMBzUArMAAAIAVHMfh4QzwoRdffFE7ocvuvvtuKSoqkv3792uneFZqaqp2AtAljFfig/+9wgt69+6tnWCt/v37aycAHTZlyhReAQAALsQZMwBb8KQJwBbcAAD4TFNTkyxYsEA7o1tKS0vlwgsvlE8//VQ7xZN4BQC8qLCwkG/8xUlycrLk5+drZwBHxCtA4ic3N1c7Aeiw8ePHaycAAA6BW2YB2IIBAAArcD0T4D+hUEg7ISbKy8vljDPOkG3btmmneA7XqMOLxo0bp51gLcdx5NRTT9XOAI6If3bFD+MKeMmgQYO0EwAAh8ANAABswQAAgBV4OAP8Z+vWrdoJMVNZWSnTp0+XTz75RDvFU7gBAF7Ur18/7QSrjRkzRjsBOCJeXxM/mZmZ2glAh3FjBQC4FmfMAKzAAACAFbgBAPCf3bt3ayfEVCgUkhNOOIERQCfwIQq8KCcnRzvBagMGDNBOAI4oJSVFO8FaGRkZ2glAh/E8AADuxBkzAFswAABgBcdxeD8T4DN79+7VToiLM888U3bt2qWd4Ql8iAIvys7O1k6wWq9evbQTgCNKSkrSTrAWzwXwkqysLO0EAMAhcMYMwBYMAABYgXUm4D/t7e3aCXERCoXk/PPPl08//VQ7xfWSkpJk0qRJ2hlAp3BFdXzxASDcLBgMMgCIo0CAIy54B68AAAB34owZgC347QiAFRzH4eEM8Bmbr3muqKiQb33rW3LgwAHtFFdzHEcmT56snQF0Ch9QxxevBoGbDRkyRBzH0c6wFgMAeAk31gCAO3HGDMAW/HYEwAqsMwH/6d+/v3ZCXK1fv14WLlwozc3N2imuNmLECO0EoFP4gCq+GFjAzfjGb3zx5yu8hBuBAMCdOGMGYAt+OwJgC97PBPhMXl6edkLcPfnkk3L//fdLJBLRTnEtm2+CgJ24/ju+kpOTtROAw2IAEF8MAOAlGRkZ2gkAgENwHIczZgBW4LcjAFbgeibAf2y/AeBfbr31VnnxxRfFGKOd4kp8mAKvYQAQXwwA4GZ84ze+GADAS9LT07UTAACHxgAAgBX47QiAFaLRaJ12A4DEysjIkF/84hfaGQnxne98Rz788EPtDFdiAADg8/gAEG6WmpqqnWA1x3G0E4AO488DAHCtWu0AAIgFTkcAWMFxnAPaDQAS7xvf+IZ2QsJ84xvfkAMH+KPuyxgAwGva29u1E6zGK1PgZo2NXFoWT9yWBC9hAAAA7mSM4eAFgBUYAACwAgMAwJ8GDRokN910k3ZGQoRCISkuLubDrS/Jzs7WTgA6pa2tTTvBagws4GYMAOIrGo1qJwAdMnv2bG6sAQD34owZgBV42gRgBcdx9ms3AEi8QCAgP/zhDyUYDGqnJMQvf/lL+fOf/6yd4SoZGRnaCUCntLa2aidYjZEU3KyujreWxRM3AMArTjrpJO0EAMBhcMYMwBYMAABYgRsAAP/KycmRlStXamckTEFBgXz66afaGa6RlpYm+fn52hlAhzEAiK+WlhbtBOCwqqqqtBOsxgAIXjF8+HDtBADAYQQCAc6YAViBAQAAK0QiER7OAB876aST5KmnntLOSJglS5ZwyP0Zx3Fk1qxZ2hlAh/EBdXzV19drJwCHtXfvXr6lHke8YgVe0b9/f+0EAMBhtLe3c8YMwAoMAABYgXUm4G//+hD4vvvu005JiKVLl8r777+vneEa48eP104AOqympkY7wWr793NjJ9wrFArxnvo4YmAFr8jNzdVOAAAcBq8AAGALBgAArJCRkcHDGeBzSUlJcumll8qqVau0UxLiqquukqamJu0MVxg8eLB2AtBhW7du1U6wWnV1tXYCcETt7e3aCdZiAACv6Nmzp3YCAOAwsrKyarUbACAWGAAAsILjOM0i0qzdAUBXIBCQM844Q/785z9LMBjUzomr9evXS2lpKd8kFJF+/fppJwAdtm7dOu0Eq23ZskU7ATgirqmPn8bGRu0EoEMyMjK0EwAAh9bgOE6rdgQAxAIDAAA24TUAAMRxHPnKV74i77zzjtxwww3aOXF16aWXSkFBgaxatUo2b97s2xsBevXqpZ0AdNiaNWskEoloZ1gpGo1KSUmJdgZwRAwA4mffvn3aCUCHvPHGG7Js2TL5/ve/L83NfI8BAFyEs2UA1nC0AwAgVurr6z9yHOcY7Q4A7hGNRuWjjz6Sn//851JaWqqdkxDXXHONnH322TJmzBjp06ePJCUlaSfFXTgclgEDBmhnAB0WCoX49l8cNDc3S9++fbUzgCPavHmz9O/fXzvDSs8++6xccskl2hlAp7z88ssydepU7QwAwP/5ICsra4J2BADEAjcAALAJK00AXxAIBCQ/P1+eeOIJ+ctf/iIFBQXaSXFXXFwsM2fOlLy8PJk6daqsWLFCNmzYINXV1dZ+6zgjI0Py8/O1M4AOa2ho0E6wEtd/wwv4/9P42bx5s3YC0Gm33HILN4MAgEsYYzhbBmANBgAArOE4zn7tBgDulJycLCeccIL8/ve/l08++USWL18uwWBQOyvuKioq5PLLL5epU6fKiBEj5Ctf+YosWbJE/vrXv8quXbuktdWOV9sFAgG54IILtDOADquurtZOsFJtba12AnBU+/fzK0s8GGOkrKxMOwPotPLycvn444+1MwAAIuI4DgMAANZI1g4AgFgxxhxwHN5sAuD/DoFbW1ulsbFRwuGwHDhwQKqrq6WxsVEaGhqkrq5Opk2b5rt3RVdWVsott9xy8F8Hg0G57LLL5KSTTpJhw4ZJ3759JTMzUwIB721Ejz/+eO0EoMO2b98u48eP186wzp49e7QTgKMKhULaCVZqbm6WtWvXamcAXXLffffJb37zG1+8ugsAXI6lJgBrMAAAYBNWmoAPRaNRCYfDUlNTI7t375YPPvhASkpKpLy8XDvN9UKhkNx6661f+Pfy8/OlqKhIJk6cKEOGDJHevXtLRkaGuH1gNXToUO0EoMPee+89mTlzpnaGdTZt2qSdABzVli1btBOsxA0g8LKVK1fKjTfeKHl5edopAOBrvAIAgE0YAACwCStNwAcikYjU1tbKnj17pKKiQu6//35Zv369dpY1KioqZMGCBV/49/Lz8+XCCy+U4447ToYMGSLBYFCys7MlPT1dqfLf9enTRzsB6LAnnnhCfvzjH3vytg23MsbI66+/rp0BHNXf/vY3mT9/vnaGdfbu3audAHTLY489JrfccovrR7cAYDkGAACswVMlAGuEw+HrRORu7Q4AsWWMkdraWtmyZYuUl5fLQw89JJWVldpZEJHCwkKZPn26jBo1Svr16ye9evWSzMxMSUlJSfjhZXNzs/Tt2zehPxPojt27d0vPnj21M6zBnwHwkv3790tKSop2hlWee+45KSws1M4AumXLli3Sr18/7QwA8LMFWVlZv9KOAIBY4AYAANYwxhxgLQ/Yob29XUKhkFRUVMiTTz4pJSUl2kk4hCeffFKefPLJf/v3Z8yYIWeccYaMGTNGBg4cKL1795aePXtKenp63MYBaWlpMmPGDCkrK4v53xuIhz179jAAiKHq6mrtBKDD6urquLkmhowx8vzzz2tnAN32yiuvyMUXX6ydAQC+5TgONwAAsAYDAAA24eQX8LBIJCJ79uyRN998UxYvXsy3/D2srKzssB/ET5kyRWbMmCGjRo2SQYMGSe/evQ/eHPCvgUBXrkV3HEdmzZrFAACeUVFRIePGjdPOsMa2bdu0E4AOC4VCDABiqKmpSVauXKmdAXTbvHnz5Nxzz5WsrCztFADwpUgkUqPdAACxwgAAgDWMMSFuAAC8JRqNSnV1taxfv16WLFki5eXl2kmIs/Ly8qP+33nOnDkyduxYGTZsmPTp00dyc3MlKytLMjMzJS0tTVJTUyUlJUWSk7/4KDt+/Ph4pgMx9fvf/17OO+883vUbI2+99ZZ2AtBhmzdv5p9ZMbR3717tBCBm/vGPf8hpp52mnQEAvmSM+VS7AQBihQEAAGvwkAZ4R2Njo7z//vvy4IMPcr0//s2KFSs69D+Xl5cnp59+uowYMUIGDBggu3fvjnMZEDtr1qyRcDgs2dnZ2ime19bWJg888IB2BtBha9eulYKCAu0Ma2zevFk7AYiZxYsXy9SpUyUlJUU7BQB8JzU1lbNlANbg6yYArFFTU9MzLS2tVrsDwKEZY6S6ulpee+01uf766yUUCmknAYCqdevW8S3gGNi1axevU4Dn1NTUSFpamnaG5xlj5IorrujweBDwgrfffluOOeYY7QwA8J1wOJw1YMCABu0OAIiFzr9gFQBcqk+fPnUi0qTdAeCL2tra5IMPPpBrr71WRo4cKUVFRXz4DwDyf98CRvdt3LhROwHotKqqKu0EK4TDYT78h3WeeOIJMcZoZwCArxhjwnz4D8AmDAAA2IZPFQGXaGtrk3fffVdmz54tkydPlmXLlmknAYCrLFiwQFpaWrQzPM0YI//zP/+jnQF02vvvv6+dYIWdO3dqJwAxV1xcLHv37tXOAAC/4fp/AFZhAADANjysAcpaWlpk3bp1MmvWLPna174mZWVl2kkA4Fq7du3STvC0+vp6vv0LT3r00UclGo1qZ3jeX//6V+0EIC5ef/117QQA8Bu+VAbAKgwAANiGAQCgpLW1VdauXSvTpk2T6dOnS3l5uXYSALje3/72N+0ET+P6f3jVmjVrpLa2VjvD01paWuSOO+7QzgDi4vrrr5emJt5wCAAJxJkyAKswAABgG9aaQIJFo1HZtGmTXHzxxTJr1iypqKjQTgIAzyguLpa2tjbtDE8yxsgf/vAH7Qygyz7++GPtBE/btm2bhEL8+gc7hUIh+eCDD7QzAMBPGAAAsAoDAABWMcbwsAYkiDFGqqqq5Oabb5ZJkybJmjVrtJMAwHMqKipky5Yt2hmeVFdXJ0uXLtXOALps6dKlvAagG1577TXtBCCulixZIpFIRDsDAPyCM2UAVmEAAMA2PKwBCVBfXy+/+93vZPTo0VJcXKydAwCe9sc//lE7wZM++ugj7QSgW1avXi179uzRzvCkpqYmufvuu7UzgLgqLS2VXbt2aWcAgF9wrRAAqzAAAGAbBgBAHBljpKKiQk455RS55pprtHMAwAq33nqr1NfXa2d4SjQalYceekg7A+i2tWvXaid40saNG7n+H77wyiuvaCcAgF9wpgzAKgwAANiGUyAgThobG+XBBx+Uk08+WSorK7VzAMAqvOe3c6qqqqSkpEQ7A+i2RYsWSXNzs3aGpxhj5IknntDOABLi6quvlnA4rJ0BANbjtbIAbMMAAIBteFgDYswYI5s3b5ZvfvObct1112nnAICV7rvvPt7z2wlvvPGGdgIQE6FQSDZs2KCd4SnV1dXcAAJf4ZU3AJAQnCkDsAoDAABWYa0JxFZra6s88cQTcvzxx0t5ebl2DgBYq7S0VLZu3aqd4QkNDQ2yaNEi7QwgZhYtWiStra3aGZ7x6quvaicACfXAAw9INBrVzgAAq0UiEW6VBWAVBgAArJKdnb1PRNq0OwAb1NbWysKFC2X+/PnaKQDgCytWrBBjjHaG67322mu8+xtWKS8vl/fee087wxNqampk7ty52hlAQpWUlEhVVZV2BgDYrCUnJ6dWOwIAYokBAACrOI5jRGSvdgfgdTt37pQzzzxTli1bpp0CAL7xq1/9Svbu5THmSMLhsFx11VXaGUDM3XjjjdwCcBTGGHnmmWe0MwAVr7/+unYCANgs9NmZMgBYgwEAABvxGgCgGzZv3izTpk2TiooK7RQA8B2utj6yl19+mW//w0rl5eWyYcMG7QxX27Nnj/zkJz/RzgBUzJs3T5qamrQzAMBWnCUDsA4DAAA22qMdAHiRMUbWrVsnxx9/PB+uAICSefPmSW0tt08eSl1dnXzve9/TzgDi5tprr5XGxkbtDFeKRCJSXFysnQGo2rhxo3YCANiK96wAsA4DAADWMcbs0G4AvMYYI2+//bZMnz5dOwUAfO+1117TTnClF154QTsBiKv169fLqlWrxBhuoP2y999/X5YuXaqdAahavnw5fz4AQBwYY7ZrNwBArDnaAQAQaw0NDYuMMYu1OwAveffdd+VrX/uadgYA4DNVVVWSlZWlneEa+/btk2HDhmlnAAmxceNGGTx4sHaGazQ1NcnMmTNl/fr12imAuq1bt0rfvn21MwDANjdkZWXdpR0BALHEDQAArMMNAEDnbNu2jQ//AcBlXn/9de0E1zDGyNNPP62dASTMbbfdJu3t7doZrmCMkZKSEj78Bz7DfxcAIC44SwZgHW4AAGCd+vr66Y7j/Em7A/CCffv2ydlnny0VFRXaKQCAzwkGg7JhwwZuARCR7du3y7HHHqudASTUK6+8IlOmTNHOULdlyxaZMGGCdgbgGtOmTZPnn39ekpKStFMAwBrRaHRaz549/6zdAQCxxA0AAKwTiUR4bxPQAa2trfLTn/6UD/8BwIVCoZA89NBDEo1GtVNURSIRuffee7UzgIS76667JBKJaGeoamlpkZ/85CfaGYCrrF27Vnbv3q2dAQBWSUlJ4QYAANZhAADAOr169dopIka7A3Czf12nvGLFCu0UAMBh3HrrrVJeXq6doWrdunWybNky7Qwg4crKymTnzp3aGWqMMfLMM8/ImjVrtFMA13njjTe0EwDAJtH09HSWVQCswysAAFgpHA5/KiJB7Q7ArSorK2XixInaGQCADvjnP/8pAwcO1M5IuPr6ejnllFOksrJSOwVQccMNN8iNN94ojuO/o5uPPvpITjrpJO0MwJWCwaB89NFHkpaWpp0CADbYnZWVNVg7AgBijRsAANiK1wAAh9HW1ia33HKLdgYAoINuuOEGaWlp0c5IqGg0Ko888ggf/sPX7rzzTl/eAlBfXy//+Z//qZ0BuFYoFOKfjwAQI8YYzpABWIkBAAArGWN4dxNwGG+++aasXr1aOwMA0EElJSWyfPlyiUaj2ikJ884778iNN96onQGo+9WvfiXt7e3aGQnT1tYmd9xxh1RUVGinAK62atUqMYY3HwJADHCGDMBK/rtHDoAvhMPh+0TkKu0OwG2am5vltNNO41AVADzomWeekbPPPtv668D37dsnX/3qVyUUCmmnAK7wwgsvyGmnnaadEXfGGHnqqadk3rx52imAJ+zZs0eys7O1MwDA636VlZW1QDsCAGKNGwAA2Ir1JnAIf//73/nwHwA86sILL5QNGzZoZ8RVa2ur/PznP+fDf+BzzjnnHNmxw/5fb/7+97/z4T/QCR9++KF2AgDYwP6HLAC+xAAAgJV4fxPw7yKRiCxZskQ7AwDQDaeccoq1HwRGo1F55JFHZNmyZdopgOsUFRVJfX29dkbc7Ny5U2bMmKGdAXjKY489xmsAAKCbOEMGYCsGAACslJSUZOfJONANO3fulLKyMu0MAEA3nXPOOVJVVaWdEVPGGCkrK5MFC7h9EziU8vJyufLKKyUcDmunxFw4HJbLL79cOwPwnBUrVsiBAwe0MwDA0wKBAGfIAKzEAACArXh4A75k/fr12gkAgBiorKyU7373u7Jv3z7tlJj5xz/+Ieedd552BuBqJSUlsnDhQmloaNBOiZnW1la5/fbbGakCXfTxxx9rJwCAp3EDAABbMQAAYKUePXrsEZE27Q7ALaLRqDz66KPaGQCAGCkvL5dLL73U89/8M8bI22+/Laeffrp2CuAJK1askDlz5kh1dbV2SrdFIhF5+OGH5de//rV2CuBZTz31FK8BAICua8nMzAxpRwBAPDjaAQAQL+FweJuIDNPuANygtrZWBg8erJ0BAIix8847T5YuXSrZ2dnaKZ32rw//p0+frp0CeE5+fr489dRTkpeXp53SJdFoVJ588kmZP3++dgrgeTt37pScnBztDADwHGPM5uzs7NHaHQAQD9wAAMBaxhheAwB8xuvfEAUAHNrq1avlsssuk/r6eu2UTolGo/LGG2/w4T/QRRUVFTJx4kR5+eWXJRKJaOd0SjQalT/+8Y98+A/EyMaNG7UTAMCrODsGYC0GAACs5TjONu0GwC1qamq0EwAAceK1EUBra6v87ne/k4KCAu0UwPPOP/98ueWWW2T//v3aKR1ijJEXX3xRLrnkEu0UwBorV67kNQAA0AWO42zXbgCAeGEAAMBaxphPtBsAt/DKoTAAoGtWr14tV155pesHXzU1NfLjH/9YfvSjH2mnANYoLi6WE088Ud555x1XP/vhmwAAIABJREFUfwjY1tYmpaWlctFFF2mnAFZZtmyZ1NbWamcAgOdwdgzAZgwAAFjLcZzN2g2AWzQ3N2snAADirKSkRIYPHy4vv/yytLW1aed8QVtbm7z88ssyfPhwWb58uXYOYJ1QKCSnnnqqrF692nWvBDDGyI4dO2T+/Pnyne98RzsHsNKmTZu0EwDAcxzHYQAAwFoMAABYKxqN8hAHfKa1tVU7AQCQIOeff77Mnj1b3n33XfUPAqPRqGzatEmKiork/PPPV20B/OB73/ueLFy4UHbt2qWdIiIi+/btk4cffljGjx8vK1eu1M4BrPXMM8+4+gYQAHAjBgAAbOZoBwBAvNTX1wcdx/lUuwNwg5deekkuuOAC7QwAQILNmTNHrrjiChk9erSkpKQk7Oe2t7dLZWWl3H///XzjH1DyyCOPyBlnnCE5OTkJ/bnGGKmpqZGXX35Z5s2bl9CfDfjZrl27pFevXtoZAOAZ7e3tvXNycnhnJgArMQAAYLX6+voDjuPwGzB876233pKvf/3r2hkAACVTpkyRm266SSZMmCC5ubniOPH5VTAcDktFRYXce++9UlpaGpefAaBz7r33XjnzzDNl8ODBkpycHLef09LSItu2bZNVq1bJ4sWL4/ZzABza66+/Ll/96le1MwDAE4wxNdnZ2X21OwAgXuL3mx8AuIDjOJtFZJJ2B6AtOztbOwEAoKi8vFzOOeccEREpKiqSb33rWzJq1Cjp27evpKamdvnva4yRuro62bZtm7z66qty8803xyoZQIz86Ec/EhGRSZMmyTXXXCMTJ06UgQMHSkZGRrfGQNFoVOrq6mTXrl2ybt06ue222yQUCsUqG0AnvfTSSwwAAKCDuP4fgO24AQCA1err6592HOdC7Q5A244dO2T8+PHaGQAAF5o7d65MnTpVRo4cKTk5OZKRkSHp6ekHhwHJycnS3t4u0WhUWlpapL6+XmpqauTjjz+WkpISKSsrU/5PAKArCgoK5KyzzpJx48ZJ3759JSsrS3r06CHJycmSlJQk0WhUjDESiUSktbVVGhoapKGhQfbs2SMffPCBPPXUU1JRUaH9HwPA51RXV0t6erp2BgB4wZNZWVmXaEcAQLwwAABgtfr6+tsdx7lRuwPQtm/fPhk2bJh2BgAAAAAgTt577z0ZNWqUdgYAuJ4x5mfZ2dm3ancAQLwEtAMAIJ4CgcBm7QbADXr06KGdAAAAAACIo3fffVc7AQA84bPXxgKAtRgAALBaNBrlfU6AiKSlpUkwGNTOAAAAAADEyUMPPSSRSEQ7AwD+P3v3Hl11deZ//LNPbuTknIRrRARRULzEAkMBJ5ViLVhRo5Y2dZziiFIpl+qqOmK1P4vVtqAyCFYBFctIxxS0KKOooBQYEYsIoojxxkWKgBKuJuckkMvZvz9qHccrkJzznMv7tRbL2gXJ2yWGb/Z+vnsnvUAgwJoxgLTGAACAtMbDHPB3gUBA5557rnUGAAAAACBOVq5cqb1791pnAEDSa2pqYs0YQFpjAABAWgsGgx9Iilp3AMmgX79+1gkAAAAAgDjauJE9LQD4Kt776nA4vMu6AwDiiQEAAGnNOeclbbbuAJLBN77xDesEAAAAAEAcPfnkk9YJAJDUnHNMSgFIewwAAEh73nse6gBJnTt3tk4AAAAAAMTRPffco9raWusMAEharBUDyAQMAABIe0x1An/Xpk0b6wQAAAAAQJxt27bNOgEAkhlrxQDSHgMAANKe936TdQOQDHJzc3XNNddYZwAAAAAA4mjNmjXWCQCQtAKBAGvFANIeAwAA0h4nAAD/6+yzz7ZOAAAAAADE0d13362mpibrDABISrFYjLViAGmPAQAAaS8QCLxj3QAki9NOO806AQAAAAAQR5WVldq3b591BgAkJefcu9YNABBvDAAASHvBYHCb936/dQeQDNq2basRI0ZYZ+Ar3H777Zo3b55KSkqsUwAAAACkqK1bt1onAEDS8d7vCYVCH1p3AEC8MQAAIFO8ZR0AJAPnnC699FLrDHyBadOm6b333tPPfvYzDRkyRCtWrNCqVas0bNgw6zQAAAAAKWb16tXWCQCQjCqtAwAgEZx1AAAkQiQSeVDST6w7gGRQU1Ojo48+2joDkkpKSvS73/1O//zP/6xQKPSFPycWi2nbtm2aP3++/t//+38JLgQAAACQirp166a1a9cqOzvbOgUAkob3/r5wODzGugMA4o0TAABkijetA4BkEQ6Hde+991pnZLSysjItW7ZMy5cv1+DBg79081+SAoGAjj32WP385z/X+++/rzlz5qi4uDiBtQAAAABSzebNm7Vv3z7rDABINqwRA8gIDAAAyBQc7wR8yvnnn2+dkJGuu+46vfrqq6qoqFC/fv2Ul5d3WL++TZs2uuCCC/Tmm29q2bJlKisri1MpAAAAgFS3detW6wQASDasEQPICAwAAMgIgUCA6U7gU9q3b69p06ZZZ2SMadOmadOmTbr11lt14oknKisrq1kfr1WrVurXr58qKiq0fv16jR8/voVKAQAAAKSLdevWWScAQFJxzrFGDCAjOOsAAEgE772LRCL7nHNF1i1AsqipqdEZZ5yhzZs3W6ekpT59+uiWW25R//79FQ6H4/q5vPfat2+f/vrXv+qXv/wl/04BAAAAqE+fPvqf//kfBQK8AwYA3vt94XC4rXUHACQCAwAAMkZNTc1K59w/W3cAyeT111/Xt771LeuMtDJy5EgNHz5cp556qnJzcxP++evr67VhwwZNnz5ds2fPTvjnBwAAAJA8tm/frqIi3oUAAO/9C+FweKB1BwAkAuOfADIGRzwBn/eNb3xDd999t3VGWpg8ebLeeecd3XXXXerdu7fJ5r8k5ebmqqSkRPfcc482btyoe++916QDAAAAgL2dO3daJwBAsmBtGEDGYAAAQCaptA4Ako1zTj/+8Y81aNAg65SUVFZWpsWLF6uqqkqjRo3SMcccI+eS44ClQCCgjh076vLLL9cHH3ygBQsWqLS01DoLAAAAQAJt2LDBOgEAkgVrwwAyBgMAADIJU57AF8jPz9esWbPUp08f65SUMWHCBK1fv14VFRUqLS1VMBi0TvpK4XBYZ511lp555hmtXr1aY8eOtU4CAAAAkAB/+ctfrBMAIClwOiyATJIcr6gBQALU1tZ2icViW607gGRVVVWlCy64QJWVDER/kbKyMo0aNUq9evVS27ZtrXOaxXuv3bt3a9myZbrxxhtVVVVlnQQAAAAgTvbu3Wt2RRkAJJGjQ6HQh9YRAJAIDAAAyBjeexeJRPY554qsW4BktWPHDg0dOpQhgE+ZNm2aBg0apE6dOikQSL/Dk2pra7Vu3TpNnjxZixYtss4BAAAA0MK2bNmi9u3bW2cAgBnv/b5wOJzab3MAwGFIv1VsAPgSzjnvnHvbugNIZp06ddJzzz2nkSNHWqeYKi8v17PPPqudO3dq+PDh6ty5c1pu/ktSMBhUaWmpHnnkEVVWVuq2226zTgIAAADQgjjxCwDEmy4AMkp6rmQDwJfjYQ/4GkVFRbrjjjt07733WqckVGlpqebNm6fNmzdr1qxZOuOMM1RQUGCdlTBZWVnq2rWrrr32Wm3dulVz5sxRcXGxdRYAAACAZnrvvfesEwDAGmvCADIKAwAAMs2b1gFAKsjNzdXw4cO1du1alZWVWefETbdu3TR79my9/fbbWrRokYYMGaLi4uK0fdv/UDjn1LZtW11wwQV666239MILL2jYsGHWWQAAAACO0MqVK60TAMAaa8IAMoqzDgCARIpEIkMkLbTuAFJJfX29XnjhBY0cOTItjo4sLi7W+PHjdeaZZ6pz587KycmxTkp6sVhM27dv11NPPaVx48ZZ5wAAAAA4TPv371d2drZ1BgBYOTsUCv3FOgIAEoUBAAAZJRqNHu2932HdAaSiaDSqV155Rb/5zW9S8g2S22+/XYMHD9bxxx+vvLw865yUVV1drVdeeUUTJkxIyd8HAAAAQCbavn27ioqKrDMAwIT3vjgcDu+y7gCARGEAAEDGiUQiH0jqaN0BpKqGhgZt2LBBCxcu1C233GKd86VKSkp03XXXqW/fvurcuTOb/i2ssbFR7733nh599FFNnDjROgcAAADAV6isrFTXrl2tMwDAwrZQKNTFOgIAEokBAAAZJxKJPCPpXOsOIB3U1tZqy5Yteumll3T//fersrLStOfqq6/WeeedpxNPPFHt27fniMsE8N5r3759eumll3Trrbea/x4AAAAA8HnPP/+8vvnNb1pnAICFBaFQ6ELrCABIJAYAAGScmpqa3znnfmndAaSbWCymjz76SDt27NCWLVv02muv6ZFHHtHmzZvj9jnHjh2rQYMG6cQTT9TRRx+t/Pz8uH0ufL36+npt2LBBs2fP1vTp061zAAAAAHzs4Ycf1ve//33rDABIOO/9reFw+NfWHQCQSAwAAMg4NTU15c65P1t3AJkgFouprq5OtbW1ikQiikQi2rt3r/bv36/q6mrt2bNHO3bsUFVVlSSpqqpKy5cv/9zH6dOnjy688EKdeuqpOuaYY9SxY0e1adNGubm5if5HwiHw3mvXrl164YUXNG7cuE/+/QIAAACwMW7cuKS+wg0A4iUWi32/sLDwCesOAEgkBgAAZJz9+/d3z87O3mjdAeCree/V1NQkScrKypJzPLakogMHDujtt9/WjBkzVFFRYZ0DAAAAZKTi4mJt3LhRgUDAOgUAEiorK6trfn7+VusOAEgkVtIBZBzvvYtEInudc62tWwAgU8RisU9OeLjxxhs5FQAAAABIsF27dnFtGoCM4r3fFwqF2jnnvHULACQSI58AMs7HD3zrrDsAIJMEAgF17NhRF198sSorK7VixQpdcskl1lkAAABAxqirq7NOAICEcs6tZfMfQCZiAABARnLOvWrdAACZKj8/X71799b999+vN998U1OmTLFOAgAAANJeNBq1TgCARGMNGEBGYgAAQKbi4Q8AjGVlZenYY4/VyJEjVVVVxakAAAAAQBxVV1dbJwBAorEGDCAjMQAAIFPx8AcASSQYDKp379564IEHtHHjRs2aNcs6CQAAAEgre/futU4AgITy3rMGDCAjMQAAICMVFBS8JYnL7wAgyQQCAXXs2FEXX3yxdu7cqaVLl6q8vNw6CwAAAEh5O3futE4AgESqDYVC71pHAIAFBgAAZCTnXKOkN6w7AABfrqCgQP3799esWbM+ORWguLjYOgsAAABISXv27LFOAICE8d6/7pxrsu4AAAsMAADIWBwBBQCp4dOnAlRWVmrFihUaPny4dRYAAACQUj744APrBABIJNZ+AWQsBgAAZDIeAgEgxeTn56t379665557OBUAAAAAOAybNm2yTgCAhAkEAqz9AshYzjoAAKzU1taeHovFXrLuAAA0z4EDB/T2229r5syZmj17tnUOAAAAkJSKi4u1adMmOceSMID055zrV1BQsMa6AwAs8LQHIGN57/Oj0Wi1pGzrFgBA88ViMVVVVen555/XTTfdpKqqKuskAAAAIKns379f2dksgwBIe40FBQVh59wB6xAAsMAAAICMFolE1ks6zboDANCyDh48qA0bNqiiokL33HOPdQ4AAACQFHbv3q1WrVpZZwBAvL0eCoV6WUcAgJWAdQAAWPLecwUAAKShvLw8nXbaaZowYYK2bt2qBQsWaNCgQdZZAAAAAAAgzrz3K60bAMASAwAAMlogEFhl3QAAiB/nnNq2bauzzjpLjz32mCorKzVp0iTrLAAAAMBELBazTgCAuHPOseYLIKMxAAAgo3nveRgEgAyRnZ2trl27asyYMaqqqtKKFSs0bNgw6ywAAAAAANCCOPUVQKZz1gEAYMl7H4hEIvucc4XWLQCAxIvFYqqqqtKqVav0q1/9Sps3b7ZOAgAAAOLmww8/VCgUss4AgLjx3u8PhULtnHMceQIgY3ECAICM5pyLOedWW3cAAGwEAgF17NhRF110kVavXq1Vq1bpmmuusc4CAAAAAABHwDm3is1/AJmOAQAAGY8joQAAkpSXl6eSkhL95je/0fbt2/Xss89q0KBB1lkAAABAiwkEWA4GkN5Y6wUABgAAQIFAYJV1AwAgeTjnVFRUpDPOOEOPP/64KisrNXnyZOssAAAAoNmysrKsEwAgrljrBQDJWQcAgLWampoOzrkq6w4AQHKLRCKqrKzUrFmzVFFRYZ0DAAAAHLb9+/crOzvbOgMA4sXHYrEOhYWFe6xDAMASAwAAIKmmpmaTc66bdQcAIPl577Vv3z6tW7dOkyZN0vLly62TAAAAgENSU1Mj51gSBpCevPfvhMPhk607AMAaVwAAgCTnHHdDAQAOiXNObdu21VlnnaUnn3xSlZWVmjZtmoqLi63TAAAAgC9VWlrK5j+AtMYaLwD8HQMAACDJe8/dUACAw5adna2uXbtq+PDhqqys1KpVqzRu3DjrLAAAAOBzTj/9dOsEAIgr1ngB4O8YAAAASVlZWUyHAgCaJT8/XyUlJRo/fry2b9+uZ599VmVlZdZZAAAAgCTp1FNPtU4AgLgKBAKs8QKAGAAAAElSfn7+q5LqrDsAAKnPOaeioiKdccYZ+tOf/qSNGzeqoqJCJSUl1mkAAADIYF26dLFOAIB4qg0Gg+utIwAgGTAAAACSnHMN3vvXrDsAAOklEAioY8eOuuiii/TCCy9o3bp1uvPOO62zAAAAkIHat29vnQAAceO9X+2ca7TuAIBkwAAAAHzMOccRUQCAuMnNzVX37t01duxYVVVVacWKFRoxYoR1FgAAADJEUVGRdQIAxA1ruwDwvxgAAICPee9XWTcAADJDMBhU7969dffdd2vr1q1asGCBBg0aZJ0FAACANMYAAIB0FovFWNsFgI856wAASBZ1dXVdm5qatlh3AAAyU2NjozZu3Ki+fftapwAAACDNlJWVac6cOXKO5WAA6ck5d0xBQcEO6w4ASAacAAAAH8vPz/+bpK3WHQCAzJSdna2TTz5ZL774onUKAAAA0kx5eTmb/wDSlvd+M5v/APC/GAAAgP/rBesAAEBm69mzp+bOnWudAQAAgDRyyimnWCcAQNw45563bgCAZMIAAAB8ivd+uXUDACCzOed07rnn6vbbb7dOAQAAQJo4+uijrRMAIJ5Y0wWAT2EAAAA+xXvPtCgAwFxWVpZGjhypESNGWKcAAAAgxZWXl6t169bWGQAQN1lZWazpAsCncPETAHxGJBLZLqmTdQcAANXV1frhD3+olStXWqcAAAAgRS1atEgDBgywzgCAeNkWCoW6WEcAQDLhBAAA+Azv/QrrBgAAJKmwsFAPPfSQdQYAAABSWElJiXUCAMQTb/8DwGcwAAAAn8edUQCApHHMMcdoxQpm0wAAAHD4hg8fzvH/ANKa9561XAD4DAYAAOAznHM8NAIAkkqvXr00d+5c6wwAAACkmFGjRsk5boEFkL6895wAAACfwQAAAHxGQUHBG5J2W3cAAPAPzjmdd955mjFjhnUKAAAAUkRpaalOOeUU6wwAiKeqcDj8rnUEACQbBgAA4DOcc957z1nLAICkEggE9OMf/1gTJkywTgEAAEAKmDhxonJycqwzACBuvPf/45zz1h0AkGwYAACAL8A1AACAZJSVlaVRo0Zp7Nix1ikAAABIYmVlZerVq5d1BgDEG2u4APAFuAAKAL5ANBrt471/xboDAIAvUltbq7Fjx2revHnWKQAAAEhC69ev1/HHH2+dAQDx1jMUCq23jgCAZMMJAADwBYLB4Drv/X7rDgAAvkgwGNTUqVNVWlpqnQIAAIAkM2PGDB133HHWGQAQV977vQUFBZXWHQCQjBgAAIAv4Jxrcs69aN0BAMCXad26tf70pz+pW7du1ikAAABIEpdccokuvvhiOcfBrwDS3nLnXMw6AgCSEQMAAPDluEMKAJDUOnTooCeeeMI6AwAAAEmgT58+mjRpkvLy8qxTACDunHOs3QLAl2AAAAC+RFNTEw+RAICkd/zxx2vlypXWGQAAADBUXFysRx99VG3atLFOAYCEcM49b90AAMmKAQAA+BKFhYVrvPc11h0AAHydb3zjG1qxYoV1BgAAAAyUlJRo+fLl6tixo3UKACSE9746GAyus+4AgGTFAAAAfAnnXKNzjt0UAEBK6NWrl/7yl79YZwAAACCBysvL9cwzz6hz587WKQCQMM65551zTdYdAJCsGAAAgK/GTgoAICU453T66adr4cKF1ikAAABIgKlTp+r+++9Xu3btrFMAIKG894utGwAgmTEAAABfjYdJAEDKcM5pwIABWrBggXUKAAAA4mTIkCF67bXX9JOf/ER5eXnWOQCQcN7756wbACCZOesAAEhm3nsXjUa3SzraugUAgEPlvdfixYv1gx/8wDoFAAAALaS0tFQTJ05Ur169lJOTY50DAFa2hUKhLtYRAJDMOAEAAL6Cc86LUwAAACnGOaezzz5bc+fOtU4BAABAM40bN05r167VwoUL1bdvXzb/AWS6Z60DACDZMQAAAF+PAQAAQMpxzum8885TRUWFdQoAAAAOU3FxsWbNmqWNGzdq/Pjx6tGjh7Kzs62zAMCc9561WgD4GlwBAABfIxKJHCXpA/E1EwCQgmKxmObPn6/hw4dbpwAAAOBrjB07VpdffrlOOOEE5ebmWucAQLKJee87hsPhXdYhAJDM2MwCgEMQiUTWSepp3QEAwJGIxWJ65plndMkll1inAAAA4DNKS0t17bXXql+/fmrfvr2cY8kWAL7EmlAo1M86AgCSHedGAcChWSwGAAAAKSoQCOj888/XU089pbKyMuscAAAASJo8ebIGDx6sY489Vjk5OdY5AJAKOP4fAA4B46QAcAgikcg5khZZdwAA0Bzee61YsULnnnuudQoAAEBGuu222zRkyBB169ZNrVq1ss4BgJTivf9uOBxeZt0BAMmOAQAAOATe+/xoNLpHUr51CwAAzeG91yuvvKLvfOc71ikAAAAZ4dZbb9WQIUN0/PHHKxgMWucAQKqqLSgoaOucO2gdAgDJjgEAADhEkUjkL5IGWXcAANASXnvtNQ0YMMA6AwAAIO2UlpZq5MiR6tu3rzp37qzc3FzrJABIB8+EQqHzrSMAIBVkWwcAQApZLAYAAABponfv3lq7dq369OljnQIAAJDyrr/+ep199tnq3r27OnTooKysLOskAEg3i60DACBVcAIAAByiaDT6T977tdYdAAC0pA0bNuicc85RVVWVdQoAAEDKGD16tIYMGaITTjhBRx11lPLzuTEQAOLJe39aOByutO4AgFTAAAAAHCLvvYtGox9KKrZuAQCgJb3//vsqLy9XZSVrKQAAAJ9VXFys0aNH6/TTT1e3bt3UoUMHtWrVyjoLADLJjoKCgs7OOW8dAgCpgAEAADgMNTU1f3LO/at1BwAALW3Pnj0aNWqUFi1aZJ0CAABg6pprrlFpaam6d++uo446SoWFhRzpDwC2HgqFQldYRwBAqmAAAAAOQyQSuULSLOsOAADiIRKJ6Je//KVmzeKPOgAAkP5Gjx6tPn36qHv37urYsaNat26tUCjEZj8AJJ9hoVDoT9YRAJAqGAAAgMMQjUY7ee+3ia+fAIA0deDAAU2ePFkTJ060TgEAADhiAwcOVP/+/XX88cfrqKOOUtu2bVVUVKSioiKFQiEFg0EFAgHrTADA14t57zuGw+Fd1iEAkCrYwAKAwxSJRNZI+qZ1BwAA8dLQ0KDZs2frmmuusU4BAABpasmSJSoqKtKBAwdUW1ururo6NTY2qqmpSZFI5At/TWFhofLy8pSbm6tgMKjs7OxP/j4nJ0fBYPCTv8/Ozk7wPxEAIB68938Nh8NnWHcAQCrhSRgADpP3/innHAMAAIC0lZOToxEjRqh9+/a69NJLrXMAAEAaeuyxxzRhwgQ26gEAX8l7/7R1AwCkGk4AAIDDFI1G+3rvV1t3AAAQb957vfjiixoyZIh1CgAASEPLli1Tv379rDMAAMmtZygUWm8dAQCphIuuAOAwBYPBVyRtt+4AACDenHMaMGCA1qxZo+LiYuscAACQZh588EHrBABActvK5j8AHD4GAADgMDnnvPd+oXUHAACJcvLJJ+ull17iJAAAANCiKioq1NjYaJ0BAEhS3vsF1g0AkIoYAACAI+C9f8q6AQCARCouLtbs2bN1zTXXWKcAAIA0UVpaqqysLOsMAECSCgQCT1s3AEAqctYBAJCKvPfBaDS6W1K+dQsAAInU0NCgiooKXXXVVdYpAAAgxc2ZM0cXXHCBdQYAIDlFCwoK2jvnDliHAECq4QQAADgCzrlaSf9j3QEAQKLl5OTosssu09NP8yIGAAA4cmVlZRo8eLB1BgAgSXnvF7P5DwBHhgEAADhCXAMAAMhUgUBAZ555ptatW6du3bpZ5wAAgBRTXl6uBx54QPn5HKoHAPhiHP8PAEeOAQAAOEJZWVkLJHnrDgAArHTv3l3Lli3T0KFDrVMAAECKGDFihKZNm6bCwkLrFABA8vLOuYXWEQCQqhgAAIAjFAwG35f0unUHAACW2rVrp/vvv1+/+tWvrFMAAECSu+6663TnnXeqoKDAOgUAkNxeCQaD260jACBVMQAAAM3ANQAAAEjBYFDXX3+9Hn/8cesUAACQpMaPH6+bb75ZrVq1sk4BACQ51lwBoHkYAACAZojFYjyMAgAgKSsrS9/73vdUWVmpkpIS6xwAAJBEJk2apGuvvVa5ubnWKQCAFBAIBFhzBYBmYAAAAJqhsLDwZUk7rTsAAEgWXbt21XPPPafRo0dbpwAAgCTwwAMP6Kc//alycnKsUwAAqeGDYDC41joCAFIZAwAA0AzOuZikhdYdAAAkk6KiIk2cOFGzZs2yTgEAAIYeeeQRXXLJJcrKyrJOAQCkCO/9U845b90BAKmMAQAAaCbupAIA4PNXGys+AAAgAElEQVRycnL0ox/9SKtWrVJxcbF1DgAASLClS5fqvPPOUyDA8iMA4NCx1goAzccTOAA0U11d3bOSDlh3AACQbJxzKikp0apVq1ReXm6dAwAAEqC4uFirVq1S//795ZyzzgEApJbacDj8F+sIAEh1DAAAQDMVFxdHvPfPWncAAJCsOnTooPvuu0933323dQoAAIijPn36aMWKFSopKbFOAQCkIOfcM865WusOAEh1DAAAQAtwzj1m3QAAQDJr1aqVRowYoVWrVqlbt27WOQAAoIUNGTJE8+fPV6dOnaxTAAApKhaLscYKAC2AAQAAaAENDQ0LJNVbdwAAkMz+cSXA8uXLNXbsWOscAADQQkaPHq2HHnpI7dq1s04BAKSug/X19c9YRwBAOuAiLgBoIZFIZKGkIdYdAACkgqamJi1btkzf//73rVMAAEAz/O53v9Po0aOVl5dnnQIASGHe+yfD4fBF1h0AkA44AQAAWgjXAAAAcOiysrI0ePBgvfPOOxoyhPk5AABS0R//+EddddVVbP4DAJqNtVUAaDmcAAAALaS6urpdIBD4UFK2dQsAAKmkrq5ODz30kMaNG2edAgAADtGzzz6rb33rW3KO5UUAQLM1NDU1dSwqKtprHQIA6YATAACghRQWFu6RtNy6AwCAVJOfn69Ro0bp0UcftU4BAABfo6SkRG+88YbOOOMMNv8BAC1lCZv/ANByGAAAgBbkveeoKgAADtPBgwe1cuVK3XjjjdYpAADgK5SVlenpp5/WcccdZ50CAEgjHP8PAC2LAQAAaEHOucclNVl3AACQChoaGvTaa6+prKxM55xzjjZv3mydBAAAvsT111+vWbNmqX379tYpAID00hSLxZ60jgCAdMI5XQDQwmpqal5wzg2w7gAAIFk1NjbqjTfe0C233KIlS5ZY5wAAgK/x+9//Xv/2b/+mnJwc6xQAQPpZGgqFBllHAEA6ybYOAIB08/GRVQwAAADwGbFYTJs2bdJtt92m+fPnW+cAAICv0a1bN82aNUt9+vRRIMBBogCAlseVqgDQ8jgBAABaWG1tbedYLLZVfI0FAOATe/fu1UMPPaTx48dbpwAAgENwxx136LLLLlM4HLZOAQCkr5hzrktBQcEO6xAASCdsTgFAHEQikVWS+lt3AABgra6uTs8995yGDRtmnQIAAA7BoEGDNGnSJJ144olyjqVDAED8eO9XhMPhb1t3AEC64QoAAIiPx8QAAAAggzU1NenVV1/Vz372M1VWVlrnAACAQzB37lx973vfU25urnUKACADfHyVKgCghXF5FwDEQVZW1p+tGwAAsLJ7927dfPPN+s53vsPmPwAAKWD8+PHasmWLysrK2PwHACSKz8rKetw6AgDSEed4AUCcRCKRVyX1tu4AACBRGhoatGLFCl1wwQXWKQAA4BAMGzZMN9xwg7p168Zx/wCARFsdCoU4QRUA4oATAAAgfh61DgAAIFE+/PBDXXXVVWz+AwCQAkpKSrRs2TJNnz5d3bt3Z/MfAGBhrnUAAKQrBgAAIE6ysrIqJHnrDgAA4qm+vl6PP/64TjjhBFVUVFjnAACAQzBmzBj16tVLWVlZ1ikAgMwUCwQCj1hHAEC6YgAAAOIkPz9/q/f+ResOAADiZe/evfrFL36hyy67zDoFAAAchquuuko//elPtWPHDusUAEBmWhYMBrdbRwBAumIAAADia451AAAALc17r7Vr16pv376aOXOmdQ4AADgC8+bNU48ePbRs2TI1NTVZ5wAAMkgsFmPNFADiiAEAAIijWCw2V1K9dQcAAC3l4MGDmj17tgYOHKiqqirrHAAA0EwXXHCBJk2apGg0ap0CAMgM9d77+dYRAJDOnHUAAKS7SCTylKTzrTsAAGiu3bt369prr9X8+azVAACQbgYNGqRp06apc+fO1ikAgDTmvZ8fDod/YN0BAOmMEwAAIP440goAkPI2b96s7373u2z+AwCQppYsWaKTTz5ZL730krz31jkAgPT1J+sAAEh3DAAAQJxFIpH/9t5HrDsAADgS3nutXr1aPXv21ObNm61zAABAnA0ePFgPP/ywGhsbrVMAAGnGe18dCoWetu4AgHTHAAAAxFnHjh2jzrknrTsAADhcTU1NeuKJJ3TWWWdZpwAAgAQaM2aM/uM//kMHDhywTgEApBHn3OPOuTrrDgBIdwwAAEACOOe4BgAAkFIaGhp033336dJLL7VOAQAABn7729/qpptuUjQatU4BAKQPjv8HgARw1gEAkAm899nRaHS7pGLrFgAAvk5DQ4OmTZumm2++2ToFAAAYKy8v1913362ioiLrFABAaqsqKCg4xjnHHTMAEGecAAAACeCca/TeP2bdAQDA12loaNCUKVPY/AcAAJKkefPm6bLLLtNHH31knQIASG1z2PwHgMRgAAAAEsR7zzUAAICk1tTUpFmzZum2226zTgEAAElkyZIlGjVqlGpqaqxTAAApKhAIcPw/ACQIVwAAQIJ47100Gt0s6TjrFgAAPst7rz//+c8aMWKEdQoAAEhSw4YN05QpUxQMBq1TAAApxHu/KRQKneic89YtAJAJOAEAABLk4wfcudYdAAB8kZdffpnNfwAA8JUqKio0YcIENTQ0WKcAAFJLBZv/AJA4nAAAAAkUiUR6Slpn3QEAwKe9//77OuWUU6wzAABAipgxY4aGDRumQIB3iwAAX897XxIOh9+07gCATMFTOgAkUCgUel3S69YdAAD8Q11dna666irrDAAAkELGjBmjVatWWWcAAFLDK2z+A0BiMQAAAIn3kHUAAACS5L3Xww8/rCVLllinAACAFDNs2DDt3r3bOgMAkOS89/9p3QAAmYYrAAAgwaqrq9sFAoHtkvKsWwAAmW3z5s3q2bOndQYAAEhRw4cP19SpU5WTk2OdAgBITvWxWKxTYWHhHusQAMgknAAAAAlWWFi4x3v/tHUHACCzNTQ06JZbbrHOAAAAKWz27NlasWKFdQYAIHk9zuY/ACQeAwAAYCAQCHD0FQDA1Pr16zV//nzrDAAAkOJ+8pOfqKamxjoDAJCcWAMFAAMMAACAgWAwuEjSDusOAEBmamho0K233mqdAQAA0kBVVZUef/xx6wwAQPLZVlBQsMQ6AgAyEQMAAGDAOdco6WHrDgBAZnrrrbe0ZAnrMAAAoGX87Gc/UyQSsc4AACQR7/1Dzrkm6w4AyEQMAACAkVgs9gdJ3roDAJBZmpqadNddd1lnAACANFNZWWmdAABIHj4Wi822jgCATMUAAAAYKSwsfNd7/5J1BwAgs2zatEnz5s2zzgAAAGlm5syZisVi1hkAgCTgvV9eVFS00boDADIVAwAAYCgQCPyndQMAIHN47/Xggw9aZwAAgDQ0d+5c7dmzxzoDAJAEnHOseQKAIQYAAMBQNBqd473nokQAQEJUV1dr+vTp1hkAACBNbdmyxToBAGDMex+pra19zLoDADIZAwAAYKi4uDjinHvcugMAkBk2bdpknQAAANLYqlWrrBMAAPbmFhcX88ITABhiAAAAjHnvORILAJAQTz/9tHUCAABIY3fddZcaGxutMwAAhljrBAB7zjoAADKd995FIpENzrnu1i0AgPTV0NCgNm3aWGcAAIA0t23bNrVu3do6AwBgwHv/bigUOtk5561bACCTcQIAABj7+IF4tnUHACC9RSKcwAgAAOIvGo1aJwAAjDjnZrH5DwD2GAAAgCSQlZX1n5KarDsAAOlr79691gkAACADfPTRR9YJAAAbjc65/7KOAAAwAAAASSEYDG6TtMS6AwCQvnbv3m2dAADIMH369NEf//hH3XzzzdYpSCAGAAAgYz1bUFCwwzoCAMAAAAAkDe/9TOsGAED6qq+vt05AHPXp00d/+MMf9Nprr2nXrl16//33tXDhQpWXl1unAcgwxcXFmjFjhiorK7V06VL94Ac/0I033qjdu3dr3bp1euihh1RaWmqdiThqauJwOwDIRLFY7AHrBgDA3znrAADA33nvs6PR6BZJx1i3AADSz9KlS3XhhRdaZ6AFDR8+XBdeeKFOO+00dezYUVlZWZ/7ObFYTHv27NEbb7yhqVOnaskSDhwCEB+//vWvde6556p79+5q1arVV/7cWCym/fv3a9OmTXriiSc0derUBFUiERYtWqQBAwZYZwAAEuv9goKC451zTIEBQBLItg4AAPydc66xpqZmlnPuV9YtAID009DQYJ2AZiouLtYvf/lLfetb39Kxxx6rgoICOffVM92BQEAdOnTQWWedpW9/+9v64IMP9MILL+jmm29WVVVVgsoBpKurr75a5eXlOumkkxQKhQ751wUCAbVt21Zt27ZVv379dNNNN+n999/X6tWrNWnSJG3evDmO1Yg37711AgAgwZxzD7D5DwDJgxMAACCJ1NbWdo7FYu+JAS0AQAt78cUXdc4551hn4Ag88sgj6tWrl4466ijl5OS0yMesr6/Xtm3b9Ne//lXjx49nGADAIRs7dqwuvvhi9ejRQ+Fw+GsHkQ5XY2Ojdu3apbfeektXXnklX59S0IoVK9S7d2/rDABA4jQ657oWFBTssA4BAPwdG0wAkESCweC2mpqap51zF1m3AADSS5s2bawTcIS6dOmizp07t+jHzM3NVbdu3dStWzddcskl2rlzp9asWaMJEyaosrKyRT8XgNQ3duxY/ehHP1KPHj1UWFjY4pv+n5adna2jjz5atbW1bP6nqNatW1snAAASyDn332z+A0By4QQAAEgykUjkHEmLrDsAAOnl/fff1ymnnGKdgSNQXFysNWvWqG3btnH/XA0NDdq2bZteeuklTZw4kWO4gQx2/fXXq6ysTCeeeGLcN/0/KxKJaOjQoVq5cmXCPidazpYtW9S+fXvrDABAgnjvB4XD4aXWHQCA/8UAAAAkGe+9i0Qi7zjnTrRuAQCkj+rqanXq1Mk6A0doxIgRmjx5cotdAXAoGhsbtXPnTq1fv14PPvigFi1iPhFIZ8XFxfrFL36hgQMH6thjj1VBQYFJR1NTk26//XZNnDjR5POj+fbs2aO8vDzrDABAAnjvN4ZCoR7OOW/dAgD4XwwAAEASikQi4yTdad0BAEgfsVhMQ4cO1ZIlS6xTcIRmzpypSy65JKFv4f6D917V1dV699139ec//1nTp09PeAOAltetWzf9+7//uwYMGKAuXbooNzfXOklLly7VhRdeaJ2BIzR27FjdeSffygJABrkuFApNsY4AAPxfDAAAQBKqrq5uFwgEtklqZd0CAEgfc+fO1ZVXXmmdgWZYs2aNTj75ZNMG772i0ajee++9T64K4J5uIHWMHDlSQ4cOVY8ePdShQwdlZWVZJ33ib3/7m0pKSqwz0Azz58/X2WefbZ0BAEiMuqamps5FRUV7rUMAAP8XAwAAkKQikcjDkoZZdwAA0sfbb7+tvn37WmegGUpKSvTcc8+pqKjIOuUTDQ0Nqqqq0ttvv61HH31UFRUV1kkAPqVbt24aN26c+vXrp86dO6ugoMDkJJGvU1tbq/Lyci1fvtw6Bc1QWVmprl27WmcAABLjoVAodIV1BADg85LvOz4AgCSpurr6jEAgsMK6AwCQPg4ePKhTTjmFt7VT3DXXXKNf//rXys7Otk75HO+9IpGItm7dqlWrVmnq1KnavHmzdRaQccaOHavzzz9fJ510ktq3b5+UXy8+LRaLacqUKbrlllusU9AMffr00dKlS5P+9xsAoGUEAoF/DgaDq6w7AACfxwAAACSxSCSyVtI/WXcAANIH1wCkh4cfflgXXXRRUr7F+2lNTU366KOPPhkIuOOOOxhAAeJgyJAhuvjii9W7d2916tQpad/y/zLLly/XeeedZ52BZpozZ44uuOAC6wwAQGKsC4VCva0jAABfLHW+GwSADFRTUzPGOTfdugMAkD527NihHj16WGegBbz++uvq1q2bdcZhaWho0K5du7Rp0yYtXrxYd911l3USkJIGDhyoK664Qr169UrJDf9P48+l9LFp0yYdddRR1hkAgATw3o8Kh8MPWHcAAL5Yan53CAAZoqqqKpSfn7/dOVdo3QIASA/ee02YMEETJ060TkEzlZaWav78+QqFQtYpR+zAgQPavXu33nvvPb344ov67W9/a50EJKWhQ4fqhz/8oU4++WQdffTRCofDCgQC1lnNVldXpyuuuEJPPfWUdQqa6Re/+IVuvvnmlB1EAQAcOu99zYEDB47p0KFDjXULAOCL8VQOAEmupqZmhnNutHUHACB9bN++XSeddJJ1BlrATTfdpBtvvFFZWVnWKS2ioaFB+/fv1/bt27Vu3Tr94Q9/0Nq1a62zgIQbMWKEBg0apFNOOUVHHXWUCgsL025jNRaL6b777tMNN9xgnYIW8MYbb+i4446zzgAAJID3flo4HL7KugMA8OXS67tHAEhDkUikp6R11h0AgPThvdekSZN02223WaegBTz55JP67ne/a50RF01NTfroo4+0c+dOvfvuu3ruuec0e/Zs6yygRZWUlOjKK69Uz5491blzZ7Vr106tWrWyzoq7VatWadCgQdYZaAGjR4/WnXfemRanUgAADknPUCi03joCAPDlGAAAgBRQU1PzvHNuoHUHACB97N+/X3369FFVVZV1ClrAW2+9pS5dulhnJER9fb0++ugjVVVVqbKyUhUVFVqyZIl1FnDIRo4cqe985zufvN2fLsf5H46dO3eqe/fu1hloIe+8846OOeYY6wwAQGIsC4VC6Tl9DABphAEAAEgBNTU1P3DOPWbdAQBIL88//7zOP/986wy0gEGDBmnOnDkKBoPWKQnnvVc0GtWePXu0Y8cOvfXWW3riiScYCkBSGDdunE4//XQdd9xx6tChgwoLC5WTk2OdZergwYMaNWqU5s2bZ52CFjBjxgxdeumlaXdFBQDgi8VisYsKCwuftO4AAHw1ns4BIAV477Mikcg7zjlekwEAtJjGxkZdd911mjVrlnUKWsDvfvc7XX311Rn3JvEX8d6rrq5O+/fv14cffqgNGzZo8eLFmjt3rnUa0lRJSYn+5V/+Rf/0T/+kLl26qH379gqFQsrOzrZOSyree82aNUs///nPrVPQAkpKSrR06VIVFBRYpwAAEuO9goKCE51zTdYhAICvxgAAAKSISCRyraS7rDsAAOll3759OvPMM7V582brFLSAxYsXq7S01DojaTU2NioajWr//v2qqqrSe++9p+eff16zZ8+2TkMKGTlypEpLS3X88cerU6dOKioqUjAYZPjmEKxdu1YDB3KzWbpYs2aNTj75ZOsMAECCeO9/Hg6Hf2/dAQD4egwAAECK2LVrV7hVq1bvO+eKrFsAAOll/fr1bBqnkY0bN6pjx47WGSnl4MGDikQi2rt3r3bu3KmtW7dq9erVmjlzpnUajAwcOFDnnXeeTjjhBHXq1Ent2rVjo7+Zdu/erf79+6uqqso6BS3gvvvu07Bhwzj6HwAyhPe+ur6+vku7du2qrVsAAF+Pp3QASCGRSGSqJM7LBAC0KO+95s2bpyuuuMI6BS1g6NChevDBB5WXl2edkvKamppUV1enSCSiffv2aefOndqyZYtWr17NqQFpoLS0VIMHD9ZJJ52kLl26fLLJX1BQoJycHDY2W1B9fb2uvvpqVVRUWKegBQwbNky///3v+XMGADLL5FAodL11BADg0PDdLACkkLq6uuObmpo2SMqybgEApJempibNmDFDN954o3UKWsCUKVP0k5/8hDeV4ygWi6m+vl61tbWqqalRJBLR/v37tX37dr311luaPXs2bzobKy0t1YABA3TKKafomGOOUevWrRUKhRQOhxUMBpWXl8cmfwJ47/XII4/oyiuvtE5BCygpKdGiRYvUpk0b6xQAQOI0NTY29mjdujX3xgFAiuA7XQBIMTU1Nf/tnLvIugMAkH7q6+t18803a/r06dYpaAHLly9Xnz59rDMyViwWU0NDgw4cOKC6ujpFo1HV1NR8cpLAtm3btGbNGj311FPWqSmnpKREZ555pnr06KGOHTuqQ4cOKiwsVDgcVn5+vvLz85Wbm6vs7GzrVIhrZtLNm2++qWOPPdY6AwCQQN77x8LhcLl1BwDg0DEAAAAppqam5izn3FLrDgBAeqqtrdW4ceM43jwNFBcX6+WXX1b79u2tU/AVYrGYGhsbVV9fr/r6eh08eFB1dXWfXD1QXV2tvXv3av/+/dq9e7d27Nihd999VytXrrRObxHl5eXq3LmzOnTooNatW3/yIxwOKxQKKT8/X61atVJeXp5ycnKUk5PDxn4K2bdvn775zW9yGkaa+Otf/6qePXtaZwAAEiwWi327sLBwhXUHAODQMQAAACkoEom8Kqm3dQcAID1Fo1HdcMMNDAGkgeHDh2vKlCnKzc21TkELi8VinwwPfPZHU1PT//nf9fX1nwwZNDQ0SPr7f+fe+//zMRsbGxWNRj/3uXJzc5Wfn/+5/z8YDH5yzURBQYEkKT8/X865T+4G/8df//FG/j9+ZGVlKSuLW63SWUNDg2644QbNnDnTOgUtYOnSperfv791BgAg8daGQqFvWkcAAA4PAwAAkIIikcgVkmZZdwAA0hdDAOnjgQce0L/+679y1zmAhPHe67HHHtPll19unYIWsHDhQg0YMIA/RwAgM/1bKBR62DoCAHB4eHIHgBTkvc+LRqNbJHW0bgEApK8DBw5o8uTJmjhxonUKmunll1/Wqaeeap0BIEO8/fbb6tu3r3UGWsCSJUvUv39/Nv8BIDPtKCgoON45V28dAgA4PAHrAADA4XPOHfTe32/dAQBIb61atdINN9ygyZMnW6egmcrKyrRv3z7rDAAZoKamRsOHD7fOQAtYsWKFTj/9dDb/ASBDOeems/kPAKmJAQAASF3TJR2wjgAApLecnBxdeeWVmjNnjnUKmqGqqkoTJ05UY2OjdQqANNbY2Kg77rhDlZWV1ilohpKSElVWVqp3797WKQAAOwdjsdhM6wgAwJFhAAAAUlQ4HK6SNNe6AwCQ/rKyslRWVqa1a9equLjYOgdHaPr06VqwYIG899YpANKQ917PPvuspk6dap2CZhg2bJgWLVqkrl27WqcAAAx57//48dojACAFcYYXAKSwSCTSW9Kr1h0AgMyxa9cujRs3TvPmzbNOwRF69dVXdeKJJ1pnAEgzmzZtUq9evawz0AwTJkzQqFGjlJeXZ50CALDlvfc9w+HwG9YhAIAjwwAAAKS4SCSyWNJg6w4AQOY4ePCgHn30UY0ZM8Y6BUegpKREixcvVmFhoXUKgDQRiUQ0dOhQrVy50joFR2jBggU688wzFQhwWCgAQM+EQqHzrSMAAEeOp3oASH13WAcAADJLXl6eLr30Uq1du1YlJSXWOThMlZWVmjJlipqamqxTAKSBpqYm3XvvvWz+p6ihQ4dq48aNOuuss9j8BwBIkrz3rDUCQIrjBAAASAORSOQlSadbdwAAMk91dbVmzpypW265xToFh2nevHkaMmSIdQaAFLdkyRJddNFF1hk4Av/1X/+l888/X7m5udYpAIDk8XIoFGKNEQBSHAMAAJAGampqfuSce9S6AwCQmbz32rBhg6688kqtXbvWOgeHobKyUl27drXOAJCi/va3v3ESTAoqLy/Xrbfeytd/AMDnxGKx7xcWFj5h3QEAaB7O9gKANBAKhR7z3r9r3QEAyDyNjY368MMPtX37dnXq1Mk6B4dpzJgxikaj1hkAUlA0GtWYMWOsM3AEjj76aFVVVWnv3r2KxWLWOQCAJOG9fzscDi+w7gAANB8nAABAmohGoyO99w9YdwAA0t+BAwe0fft2vfLKK5o8ebIqKyutk9AMt956q6699lrufgZwyGKxmO666y79+te/tk5BMw0cOFCXX365vvnNb6pz587Ky8uzTgIA2Lk8FArNto4AADQfAwAAkCa893nRaHSzJF6/BAC0qFgspv3792vTpk164oknNHXqVOsktLCFCxfq29/+tnUGgBTx/PPP6/zzz7fOQByMGzdO5513nrp37642bdrIOZYOASBDbCsoKOjunKu3DgEANB9P8QCQRiKRyA2S7rDuAACkvoMHD2rHjh165ZVXdP/992vlypXWSYizd999l2scAHyt7du366STTrLOQAKUl5dr2LBhOu2009ShQwdlZ2dbJwEA4ufaUCjEpDcApAkGAAAgjezatSvcqlWr/8/evYZJXlaH3l5P9xyY/v+rekBoEcEoqIRMUMMGdDwgO+wkKKhvEqJsNY6ieIRXxEiiMSrgIcbXiIkaDNFsjGwx0RiVUzZBDAKjBEFJEMQAg4DCyLG7qnumu6ue/cEwryiHmaG7nzrc93VxjXyBH1+smVqr1/PDlNLq0i0A9J/p6em45ZZbYv369XHiiSfGxo0bSyexhA499ND4u7/7u1i1alXpFKBHbdq0KV75ylfGWWedVTqFJbbnnnvGW9/61li7dm3ssccePisABkjO+a6ZmZlfmpiYaJVuAWBhWAAAGDBTU1PvSym9o3QHAL3vZ0/7/8M//EN84hOfKJ1EYe9///vjmGOOiZGRkdIpQI/pdrtx6qmnxgknnFA6hR5w31MBT37yk6PZbHoqAKCP5ZxPbDQa7yndAcDC8btzgAEzNTU1kVLaEBF+JAOAXzA/Px+33XZbXHXVVfHpT386zjvvvNJJ9JgLL7wwDjjggNIZQI9Zv359/MZv/EbpDHrQ0UcfHUcccUTsvffesdNOO1kiA+gv091u95eazeYdpUMAWDgWAAAG0NTU1CdSSm8o3QFAb5ibm4uNGzfG5ZdfHu9///vj6quvLp1ED5uYmIhvfvObMTExUToF6BG333577LXXXqUz6AOHHHJIHHXUUbH//vvHrrvuGqOjo6WTAHhoH63r+rjSEQAsLAsAAANoZmbmCZ1O57qIWFa6BYAyNm/eHLfccktcfMKwlZ4AACAASURBVPHFceKJJ8bGjRtLJ9FHjjjiiPjkJz8ZK1euLJ0CFLZ58+Z405veFGeeeWbpFPrM2rVr45hjjomnPe1psdtuu8Xy5ctLJwFwf3Ojo6NPWrVq1U2lQwBYWBYAAAZUq9X6XEQcWboDgKUzPT0dt9xyS6xfv97Qn0fsox/9aBx11FHedYYhlnOO008/PY455pjSKfS5PffcM9761rfGs5/97Hjc4x5nGQCgN3ymrut1pSMAWHi+yQEYUK1W66kRcWX4/3qAgZVzjlarFddff32cffbZ8YEPfKB0EgPm0ksvjac85SmlM4BCvv3tb8dzn/vc0hkMmD333DP+6I/+KJ7xjGfE7rvvHitWrCidBDCMcs75KY1G4z9KhwCw8AyFAAZYq9U6NyIOLd0BwMKanp6OG2+8Mf7pn/7J0J9FNTExEZdffnnstNNOpVOAJXbnnXfGAQcc4JoMi2piYiLe/e53uwwAsPS+Wtf1C0tHALA4LAAADLDp6em13W730tIdADxy9w39zz777DjppJNK5zBE1q1bF6eccoqhDAyR2dnZOPbYY+OMM84oncIQue+ZgIMPPjh23333GB0dLZ0EMLBGRkaePjY2dlnpDgAWhwUAgAHXarXOj4j/UboDgG23efPmuOWWW+Liiy+ON73pTaVzGGKnnXZaHHnkkZGSP0LCoMs5x+c///l4zWteUzqFIbZ27do45phjYv/994/HPOYxMTIyUjoJYJCcU9f1YaUjAFg8vr0BGHCTk5PPHBkZuaR0BwBbZ3Z2Nm6++ea4+OKL48QTT3R6mZ5xxRVXxJOf/OTSGcAiu+qqq+KZz3xm6QzY4qCDDoo3v/nNsd9++8XOO+9sGQ3gERoZGXnG2NjYt0p3ALB4/I4ZYAi0Wq1/iYhDSncA8MDm5+e3DP3f/e53G/rTk9asWRPnn39+NJvN0inAIrnrrrti//339zlEz3rZy14Wr3zlK2PNmjU+jwC2z7l1XT+/dAQAi8sCAMAQcAUAoPfknOPuu++O7373u3HKKafEBRdcUDoJHtaxxx4bJ598cixbtqx0CrDA5ubm4oQTTojTTjutdApslT/5kz+Jww8/PJ74xCfGypUrS+cA9IVut/vsZrPpO0KAAWcBAGBItFqtr0XEfy/dATDsWq1WfO9734tPfepTccYZZ5TOgW32uc99Lg4//HAnmGGA5JzjzDPPjKOPPrp0CmyzPffcM0466aR4xjOeERMTEzEyMlI6CaBXnVfX9fNKRwCw+HxjAzAkJicnnzUyMnJx6Q6AYdTpdOLmm2+Oc889N972treVzoFH7JJLLomnPvWppTOABXLppZfGb/7mb5bOgEfsqKOOite85jWx9957uwoA8HO63e5zms2m7wYBhoAFAIAhMjU1dWFK6eDSHQDDotVqxXe/+934yEc+Euedd17pHFgwExMTcdlll8XOO+9cOgV4hG677bZ44hOfWDoDFtTExET86Z/+aRx00EHx6Ec/2tUagIh/ruv60NIRACwNv/sFGCKTk5PPHhkZ+UbpDoBB1u1240c/+lF85StfiRNOOKF0DiyadevWxSmnnBLLly8vnQJsp02bNsUrX/nKOOuss0qnwKI5/vjjY926dfH4xz8+RkdHS+cAFOGn/wGGiwUAgCEzNTX19ZTSc0t3AAyaubm5uPbaa+PUU0+N008/vXQOLIlPf/rT8Xu/93t+shL6UM45Tj31VE/TMDSOOOKIOO644+JXfuVXYsWKFaVzAJbS/6nr+rdKRwCwdHxLAzBkpqam/ntK6WulOwAGxczMTHzrW9+Kd73rXXHFFVeUzoEld+2118buu+9eOgPYRtdee23sv//+pTNgye23337xvve9Lw488MBYuXJl6RyARdftdg9qNpsuggIMkZHSAQAsrUajcWHO+V9LdwD0u5mZmbjwwgvj6U9/ehx++OGG/wytk08+Oebn50tnANtg06ZNceyxx5bOgCKuuOKKeN7znheHH354XH755TE3N1c6CWAx/YvhP8DwsQAAMJxOKh0A0K/m5ubi61//ejz96U+PF7zgBXHDDTeUToKizjjjjPjOd75TOgPYBv/6r/8a69evL50BRa1fvz4OPvjg+P3f//34/ve/Hznn0kkACy7nfHLpBgCWnicAAIbU1NTUv6aUDirdAdAvcs6xYcOGeNe73hVf+tKXSudAT1m7dm2cddZZTilDH5icnIynPe1psXHjxtIp0FNOOeWUeOlLXxpjY2OlUwAWygV1Xf+P0hEALD0XAACGVErJBjDAVtq0aVP89V//dey7776G//AA1q9fH1deeWXpDGArXHjhhYb/8ACOO+64eNGLXhS33HJL6RSABZFzdgEUYEi5AAAwxKampi5KKT2ndAdAL2u323H88cfHGWecUToFetohhxwSX/ziF2PZsmWlU4AHMTMzE2vWrLEAAA9hYmIiLr300th1111LpwA8En76H2CIuQAAMMRyzm8v3QDQy3LOccoppxj+w1a44IILYsOGDaUzgIfw7//+74b/8DA2btwY73znO2N+fr50CsB263Q67yzdAEA5FgAAhliz2bwkIs4q3QHQqzZs2BAf+MAHSmdA37joootKJwAPIuccf//3f186A/rCmWeeGd/+9rdLZwBsl5zzP46Pj3+zdAcA5XgCAGDItVqtfSPiO2EpDOB+ut1uvPWtb43TTjutdAr0jYmJibj22mtjxYoVpVOAnzM5ORm77bZb6QzoG2vWrImvf/3rsWrVqtIpANuik3N+SqPR+F7pEADKMewBGHJ1Xf97RJxZugOg1/z4xz82/IdttHHjxvjJT35SOgN4ALfeemvpBOgrV199dVx++eWlMwC21WcM/wGwAABAjI6OvjMiZkt3APSSc845p3QC9CULANCbbrrpptIJ0Hf++I//OGZn/VEZ6Buzo6OjJ5eOAKA8CwAAxKpVq27MOX+qdAdAr9i0aVO85S1vKZ0BfWnDhg2lE4AH8N3vfrd0AvSdK664wuca0E/+atWqVTeWjgCgPAsAAERExMjIyMkRMV26A6AX3HLLLaUToG/de++9pROAB3DbbbeVToC+dN5555VOAHhYOedWRHygdAcAvcECAAAREVFV1Y8j4i9LdwD0gu9///ulE6BvjYz4YyYAg+Md73iHZwCAfvCRuq5vLx0BQG/wzQwAW8zNzf1pzvmu0h0ApV1++eWlE6BvjY6Olk4AHsDy5ctLJ0Dfuusuf0wGelfO+e5Op/OR0h0A9A4LAABsseOOO96TUvr/SncAlHbOOeeUToC+tccee5ROAB7AU57ylNIJ0LcsAAC9LKX0/tWrV99dugOA3mEBAID7qarqlIi4tXQHQCmdTieuvvrq0hnQt57whCeUTgAegAUA2H733HNP6QSAB/Ojqqo+UToCgN5iAQCA+0kpzeScP1C6A6CUlFJMTEyUzoC+tHbt2th1111LZwAPYM899yydAH2r0+mUTgB4QCml96SUpkt3ANBbLAAA8Avquv7rnPP1pTsAShgZGYmDDjqodAb0pfe85z2xbNmy0hnAA6jrOk477bTSGdCXVq5cWToB4BfknH8wNjb2v0p3ANB7LAAA8AtSSnMppfeU7gAo5dBDDy2dAH3niCOOiAMPPLB0BvAQXvjCF8aaNWtKZ0Df2WWXXUonADyQP0kpzZWOAKD3pNIBAPSmnPNIu93+TkTsW7oFYKldc801ccABB5TOgL4xMTER3/rWtwxIoA9cf/318dSnPrV0BvSVH//4x9FoNEpnAPysK6uq2j+l1C0dAkDvcQEAgAeUUurmnI8r3QFQwl577eWtZNhKExMT8bWvfc3wH/rEXnvtFd/4xjdKZ0DfOP7446Ou69IZAD/vDw3/AXgwFgAAeFCNRuNrEfHPpTsAltqKFSviox/9aOkM6HmHHnpoXHLJJfH4xz++dAqwDX7t134trrzySs8BwFZ4+ctfHik5ogr0lK/WdX1+6QgAepcFAAAeUs75LRExX7oDYKk961nPisMPP7x0BvSsj33sY/GZz3wmHvOYx5ROAbbDk570pDj//PPjpJNOKp0CPeu4446LJz7xiaUzAH7WfM757aUjAOht1lcBeFhTU1OfTCm9tnQHwFK77bbbfOkLP+ftb397rFu3Lh772Mf6iUgYADnnuOGGG+Kv/uqv4tRTTy2dAz1jzz33jIsuuihWr15dOgVgi5zzxxuNxjGlOwDobb6tAeBhTU1NTUTED1JKzdItAEvtmmuuiQMOOKB0BhQ1MTERH/jAB+K5z31uPPrRjzb4hwHU7Xbj1ltvjQsuuCCOOcZcAa666qrYc889S2cAbJFznkopPamu69tLtwDQ23xrA8BWabfbf5xzfm/pDoASrrnmmjjssMNi48aNpVNgyaxZsyaOO+64OOCAA2KPPfaIlStXlk4ClsjMzEzcfPPNsX79+vjwhz8cN9xwQ+kkWDITExNx7rnnxt577106BeDnnVDX9YdKRwDQ+ywAALBVcs6r2u32NRHxS6VbAEq47bbb4nWve11ccMEFpVNgwe23335x+OGHxz777BN77rln7LbbbjE+Ph4jIyOl04DCOp1O3HPPPfGjH/0obrjhhrj22mvj7LPPjiuuuKJ0Giy4tWvXxumnnx677bZb6RSAn7ehqqp9UkqbSocA0PssAACw1Vqt1ssj4u9KdwCUsnnz5vjiF78Yr33ta0unwDZbs2ZNPP/5z4999tknHvvYx8Yuu+wSzWYzms1mrFq1yll/YJvMzs5Gq9WKqampuPvuu+P222+PDRs2xJe//OW46KKLSufBNnvve98bRx99dFRVVToF4BfknI9sNBqfL90BQH/wDQ8AWy3nnNrt9rciwmPYwNDKOcftt98eH/vYx+KUU04pnQO/4Oijj461a9feb8hf13WMjY35iX5g0eWcY/PmzTE9Pf0LywFf+MIXYv369aUT4X4OPfTQOPHEE2OfffbxOQn0qm9VVbU2pZRLhwDQHywAALBNJicnnzkyMnJx+AwBhlyn04kNGzbEZz/72fjQhzzDyNLZb7/94rd+67fiyU9+cuy+++6xyy67xPj4eNR1HStXrjS8AHpWzjk2bdoU7XY77r333rjjjjvi1ltvjf/8z/+M888/33IAS+plL3tZHHPMMfHLv/zLsXz58tI5AA+q2+0+p9lsXly6A4D+YXgDwDabmpr6x5TSb5fuAOgFOee444474sILL4yjjjqqdA4D4ogjjoi1a9fG4x//+Hj0ox8dO+64YzQajRgbG4uVK1c61w8MpPn5+di0aVO0Wq2YnJyMe++9N+66667YsGFDnHPOOXHBBReUTmQAvO1tb4uXv/zl8YQnPMHSHNDzcs6fbzQaR5buAKC/+NYIgG12zz337Lls2bLvRcTK0i0AvaTVasUNN9wQ5557bpx88smlc+hRBx10UBx88MFbhvs777zz/c70r1ixwoAf4OfknGNubi5mZma2LAjcdddd8ZOf/CQ2bNgQ3/72t+NLX/pS6Ux61Lp16+KlL31p7LPPPrHjjjv6nAX6xez8/PyvrF69+vrSIQD0F7/bBWC7tFqtUyLizaU7AHrV9PR03HTTTfG1r30tPvzhD8fGjRtLJ7EE9ttvv/j1X//12GuvvWL33XePnXba6X7D/ZUrV8ayZctKZwIMpE6nE5s3b46ZmZmYnp6OycnJuPPOO+P222+Pm266Kb7xjW+4IjBE3vjGN8bv/M7vxN577x2rV6829Af60Yfquj6hdAQA/cfvfAHYLvfcc8+Oo6OjP0gpPap0C0Cvm5+fj7vvvjt++MMfxpVXXhmnnXZaXH311aWz2AZr1qyJ5zznOfGkJz0pdt1113jUox4Vq1evjqqqoq7r2GGHHWKHHXaIZcuWGTAA9LD5+fktSwI/e03gzjvvjJ/85Cdx4403xmWXXRYXXXRR6VS20fHHH79lCW+XXXaJHXbYoXQSwHbLOd/V7XafND4+flfpFgD6j2+mANhurVbrLRHx56U7APpNp9OJycnJuOOOO+JHP/pRXHvttfGFL3wh1q9fXzpt6Bx66KGx7777bjnHv9NOO0Wj0YhGoxE77LBDrFq1KlasWGGwDzBk7rsmMDs7G9PT01suCtx7771x++23x6233hrXXXddnH/++a78LLGJiYl4xSteEfvvv3887nGPi4mJidhpp51ixYoVpdMAFkzO+dhGo/Gx0h0A9CffYAGw3XLOy1ut1lUppV8u3QLQ73LOsWnTpi1vGt+3HHDdddfFWWed5WLAVjjooIPiqU99auy+++4xMTERO+64YzSbzaiqKsbGxrb8lP6KFSti+fLlsWzZshgZGSmdDUAfyznH/Px8zM3NxdzcXMzOzsamTZtieno62u12TE1NxT333BN333133HbbbVuW/nh469ati6c97WnxS7/0S1s+13fccceoqipGR0dL5wEsmpzz9+q6flpKaa50CwD9yQIAAI9Iq9X6HxFxfukOgEGWc47Z2dktbxrPzMxEu93eMlC444474sYbb4wrrriib08Wr1mzJvbdd9/YY489Yuedd45msxmNRiPGxsbuN8BfsWLFlgH+z/7v5cuXG+YD0Bd+dmlgdnb2F36dmZmJTZs2bfm8b7fbcffdd8fdd98dt99+e9x8881x3nnnlf7P2C4TExPxvOc9L/baa6/YddddY2JiIsbHx6Ou66iqKlatWhVVVcXKlSsN+YGhlXP+9UajcWHpDgD6lwUAAB6xqampL6aUfqd0BwA/HSp0Op2Yn5+P+fn56HQ6MTc3t+XN4263G3NzP/1Bkk2bNm35+9nZ2S3/jE2bNsX8/PxD/nvue+/+PvcN5CMiRkZGYocddoiUUqxYsSJGRkZi+fLlkVK636/Lli2L0dHRGB0dNbwHgG1w3+f9fX/d97nf7Xa3/Do3N7fl1/ueNLhPu92+3z9veno6ut3uQ/47x8bGtnxep5RibGwsImLLsP6+z/3R0dEty3n3/f3P/gXAg8s5f77RaBxZugOA/mYBAIBHbHp6eo9ut3tNRFSlWwAAAACgD02Pjo7+yqpVq24qHQJAf/NjNgA8YmNjYzfnnD9UugMAAAAA+tR7Df8BWAguAACwIHLOO7Tb7e9FxBNKtwAAAABAv8g5X1/X9a+mlDaVbgGg/7kAAMCCSClt6na7x5fuAAAAAIB+MjIy8mbDfwAWigsAACyoVqt1dkQ8v3QHAAAAAPSBr9Z1/cLSEQAMDhcAAFhQnU7nzRGxuXQHAAAAAPS42W63+welIwAYLBYAAFhQ4+Pj/xkRp5TuAAAAAIBelnP+s2azeV3pDgAGiycAAFhwGzdurMfGxq6NiMeWbgEAAACAHnRLq9X65V133bVdOgSAweICAAALbmJiohURJ5TuAAAAAIBelHM+3vAfgMXgAgAAi2ZqaurClNLBpTsAAAAAoId8ra7rQ0pHADCYXAAAYDEdExHzpSMAAAAAoEfMR8RxpSMAGFwWAABYNI1G4+qc81+V7gAAAACAHvGXdV3/e+kIAAaXJwAAWFR33nlnc+XKld+LiMeWbgEAAACAgn48Ozu7z0477XRv6RAABpcLAAAsqkc96lGTOee3lO4AAAAAgJK63e4bDf8BWGwuAACwJFqt1lci4gWlOwAAAACggHPquj6sdAQAg88CAABLYmZm5nHz8/NXp5Tq0i0AAAAAsITao6Ojv7pq1aoNpUMAGHyeAABgSaxateqHKaWTSncAAAAAwBJ7p+E/AEvFBQAAlkzOeVm73b4sIn6tdAsAAAAALIHvVlW1f0ppvnQIAMPBBQAAlkxKaT6l9LqI6JRuAQAAAIBF1h0ZGXmd4T8AS8kCAABLqqqqf8s5n1q6AwAAAAAW2V+MjY19q3QEAMPFEwAALLk777yzuXLlyu9FxGNLtwAAAADAIvjx7OzsPjvttNO9pUMAGC4uAACw5B71qEdN5pzfUroDAAAAABZDt9t9o+E/ACW4AABAMa1W6ysR8YLSHQAAAACwgM6p6/qw0hEADCcLAAAUMzMz87j5+fmrU0p16RYAAAAAWADTo6Oja1atWrWhdAgAw8kTAAAUs2rVqh+mlE4u3QEAAAAAC+Sdhv8AlOQCAABF5ZyXtdvtyyLi10q3AAAAAMAjcFVVVf8tpTRfOgSA4eUCAABFpZTmR0ZGXh8RndItAAAAALCd5lNKRxn+A1CaBQAAihsbG7ssIj5SugMAAAAAttOHqqr6dukIAPAEAAA9Iee8stVqXZlS2qd0CwAAAABsrZzz9+u6flpKaVPpFgBwAQCAnpBS2jw6Ovrq8BQAAAAAAP2jm3N+jeE/AL3CAgAAPWNsbGx9RHy8dAcAAAAAbKWPNJvNi0tHAMB9PAEAQE/JOY+1Wq3vppSeWLoFAAAAAB7Cja1Wa99dd921XToEAO7jAgAAPSWlNB0RR0dELt0CAAAAAA+im3N+peE/AL3GAgAAPafRaHw95/zJ0h0AAAAA8EByzp9oNBoXle4AgJ9nAQCAntRut/8g53xD6Q4AAAAA+Dk3bdq06R2lIwDggaTSAQDwYFqt1iERcX74vAIAAACgN+SIOLSu6/9TOgQAHogLAAD0rLquL4iIvy3dAQAAAAARETnnvzH8B6CX+YlKAHraXXfdNb5ixYr/iIjdS7cAAAAAMNR+NDc3t2bHHXe8p3QIADwYFwAA6Gk77bTTvSml15fuAAAAAGC4dbvdNxr+A9DrLAAA0POqqjo7Ij5bugMAAACAoXV6s9n8cukIAHg4ngAAoC9MTk4+amRk5D8iYtfSLQAAAAAMlR93Op1fHR8fv6t0CAA8HBcAAOgLzWbzzoh4VUTk0i0AAAAADI+U0msN/wHoFxYAAOgbdV2fl3P+m9IdAAAAAAyHnPOpVVWdVboDALaWBQAA+kq73X5LzvkHpTsAAAAAGGw55xs2bdp0QukOANgWqXQAAGyrycnJZ46MjFwUEaOlWwAAAAAYSPOdTuc54+Pj3ywdAgDbwgUAAPpOs9m8NOf8wdIdAAAAAAymnPMHDP8B6EcuAADQl3LOy9rt9qURcUDpFgAAAAAGyhVVVa1NKc2WDgGAbeUCAAB9KaU0n3NeFxEzpVsAAAAAGBibcs7rDP8B6FcWAADoW41G45qI+OPSHQAAAAAMhpzzCY1G4z9KdwDA9vIEAAB9Lec80m63z4+IXy/dAgAAAEBf+5eqqn4zpZRLhwDA9nIBAIC+llLqjoyMvCLnfHfpFgAAAAD6U875ntHR0Vcb/gPQ7ywAAND3xsbGbk0p/b+lOwAAAADoW29YtWrVD0tHAMAj5QkAAAbG1NTUmSmll5TuAAAAAKCv/O+6rl9WOgIAFoILAAAMjPn5+ddHxM2lOwAAAADoG7d2Op1jS0cAwEKxAADAwNhxxx3viYhXR4S32gAAAAB4ODmldPT4+PhdpUMAYKFYAABgoNR1fX7O+WOlOwAAAADoeR+pqurc0hEAsJBS6QAAWGg555Xtdnt9RPxa6RYAAAAAetK3q6p6ZkpptnQIACwkFwAAGDgppc2dTufFOeep0i0AAAAA9Jacc6vb7b7M8B+AQWQBAICBND4+/p8ppTeX7gAAAACgt6SU3thsNr9fugMAFoMnAAAYaK1W67MR8bLSHQAAAAD0hM/Udb2udAQALBYXAAAYaNPT06/POV9XugMAAACAsnLO12/evPnY0h0AsJhcAABg4LXb7f1zzpdExIrSLQAAAAAUMTcyMvKcsbGxb5UOAYDF5AIAAAOvqqrLI+JPSncAAAAAUMwfGv4DMAxcAABgKOScU7vd/mpEHFa6BQAAAIAldV5VVc9PKeXSIQCw2FwAAGAopJRyzvmoiLitdAsAAAAAS+b2iHiV4T8Aw8ICAABDo9FobIyIV0ZEt3AKAAAAAIuvGxG/X9e1HwgBYGhYAABgqNR1/c8R8eelOwAAAABYdB+s6/r80hEAsJRS6QAAWGo55+WtVuuilNIzSrcAAAAAsCj+raqqZ6WU5kqHAMBScgEAgKGTUprrdDovyzlPlm4BAAAAYGHlnO8dHR19ieE/AMPIAgAAQ2n16tU35JxfERG5dAsAAAAACyZHxKtXrVp1Y+kQACjBAgAAQ6vZbH45Iv6idAcAAAAAC+bDjUbji6UjAKCUVDoAAErKOS9vtVoXppSeVboFAAAAgO2Xc15f1/XBKaXZ0i0AUIoLAAAMtZTS3Ojo6JER8ZPSLQAAAABst42jo6O/Z/gPwLCzAADA0BsbG7sl53xkRHRKtwAAAACwzboR8fKxsbFbS4cAQGkWAAAgIhqNxtdyzieX7gAAAABg23S73T+p6/r80h0A0AtS6QAA6BU555F2u312RBxaugUAAACArXJOVVUvSCl1S4cAQC9wAQAA/ktKqdvpdF4WERtKtwAAAADwsH7Y7XbXGf4DwP/PBQAA+DnT09MHdrvdb0TEitItAAAAADygzSmlZ1dVdXnpEADoJS4AAMDPGRsbuyzn/LbSHQAAAAA8sJzzcYb/APCLXAAAgAfRarX+LiJeXroDAAAAgPs5s67r/1k6AgB6kQsAAPAgpqen35Bz/l7pDgAAAAB+Kuf8/ZmZmdeW7gCAXuUCAAA8hMnJyb1TSv+WUmqUbgEAAAAYZjnnVkQ8vdFo+IENAHgQLgAAwENoNpvfTym9sXQHAAAAAPEaw38AeGgWAADgYdR1/dmIOKV0BwAAAMAQ+7NGo/H50hEA0Os8AQAAWyHnPNput8+OiN8q3QIAAAAwZP6lqqpDU0qd0iEA0OtcAACArZBS6nQ6nZfmnK8v3QIAAAAwRDZ0u93/afgPAFvHBQAA2AatVuspEXFpRFSlWwAAAAAGWc65lVJ6Zl3X/166BQD6hQsAALAN6rq+Kuf8iojIpVsAAAAABliOiFcb/gPAtrEAAADbqNFo/GNE/FnpDgAAAIBBlXN+X6PR+PvSHQDQ5ZeD9gAAIABJREFUbzwBAADbIec80m63vxIRh5VuAQAAABgw/1xV1WEppU7pEADoNy4AAMB2SCl15+fnfz/n/IPSLQAAAACDIud83dzc3JGG/wCwfVwAAIBHYHJy8pdTSt9MKY2XbgEAAADoZznnqYhY22g0ri7dAgD9ygUAAHgEms3mtTnndRHRLd0CAAAA0MdyRLzK8B8AHhkLAADwCDWbzS/nnN9bugMAAACgX+Wc391oNL5YugMA+p0nAABgAeSc0/T09N/nnI8o3QIAAADQT3LOX67r+rdTSrl0CwD0OxcAAGABpJTy9PT0URHhTB0AAADAVso5Xzs7O/sKw38AWBguAADAArr33nufNDIysj6l9KjSLQAAAAA97o75+flnrF69+vrSIQAwKFwAAIAFND4+/oOc829HxObSLQAAAAA9bC7n/GLDfwBYWBYAAGCBNZvNb0TE60t3AAAAAPSqlNKbGo3GhaU7AGDQWAAAgEVQ1/X/iogPlu4AAAAA6DU55/dVVXVa6Q4AGESpdAAADKqcc2q1Wp9LKb2kdAsAAABAL8g5f7Gu6xenlLqlWwBgELkAAACLJKWU67p+VURcVroFAAAAoAd8u91urzP8B4DF4wIAACyydrv9mJzztyJij9ItAAAAAIX8aGRk5MCxsbFbS4cAwCBzAQAAFllVVT9OKb0oItqlWwAAAACWWs65FRHPN/wHgMVnAQAAlkBVVVemlF4SEZ3SLQAAAABLqJtzfnld198tHQIAw8ACAAAskaqqzo6Id5TuAAAAAFhCf9BsNr9cOgIAhkUqHQAAw2ZqaurUlNLrSncAAAAALLJP1XX9mtIRADBMLAAAwBLLOS9vt9vnRsQhpVsAAAAAFkPO+V/ruv7NlNJs6RYAGCaeAACAJZZSmut0Oi/OOV9XugUAAABgoeWcr+10Or9t+A8AS88CAAAUMD4+fle32z08In5SugUAAABgAW3sdDqHrV69+u7SIQAwjCwAAEAh4+PjP0gpHRYR7dItAAAAAAtgutPpvGj16tU3lA4BgGFlAQAACqqq6t9SSi+JiPnSLQAAAACPQKfb7b50fHz8m6VDAGCYWQAAgMKqqjo7pfSG0h0AAAAA2ymnlF7bbDa/XDoEAIadBQAA6AFVVf1Nzvm9pTsAAAAAtlXO+T1VVX26dAcAEJFKBwAAP5VzTu12+1MR8arSLQAAAABb6VN1Xb+mdAQA8FMWAACgh+Scl7fb7a9ExKGlWwAAAAAexjlVVb0opTRfOgQA+ClPAABAD0kpzVVV9bs552+WbgEAAAB4CJdPT0+/xPAfAHqLCwAA0IOmpqZ2iYhLUkpPKt0CAAAA8LNyzjeklJ5Z1/XtpVsAgPtzAQAAelCj0fhJp9N5XkRsLN0CAAAA8DPuyDk/z/AfAHqTCwAA0MOmp6cP7Ha7X4uIqnQLAAAAMPRmRkZGDhkbG1tfOgQAeGAuAABADxsbG7sspXRkRHhPDwAAACip0+12X2r4DwC9zQIAAPS4qqrOyjm/qXQHAAAAMLxyzm9uNpv/VLoDAHhoFgAAoA80Go2/zjmfXLoDAAAAGD4553c3Go2Pl+4AAB5eKh0AAGy9Vqv15xHxltIdAAAAwHDIOX+s0WgcW7oDANg6FgAAoI/knFO73f5URLyqdAsAAAAw8D5bVdW6lFK3dAgAsHUsAABAn8k5j7Zarc+nlH63dAsAAAAwmHLOX6nr+ndTSvOlWwCArWcBAAD6UM55VavVOieldHDpFgAAAGDgXFhV1fNTSptKhwAA22akdAAAsO1SSjOzs7MviojLS7cAAAAAA+XfZmZmXmT4DwD9yQUAAOhjk5OTO6eULkop7VO6BQAAAOhvOefrIuI5jUZjY+kWAGD7WAAAgD43PT392G63e3FEPL50CwAAANC3bh4dHX32qlWrflg6BADYfp4AAIA+NzY2dmun0/mNiLitdAsAAADQlzZ2u93fMPwHgP7nAgAADIhWq/WUnPPXU0o7lm4BAAAA+kPO+d6RkZH/XlXVlaVbAIBHzgUAABgQdV1fNTo6elhEtEu3AAAAAH1hOuf8AsN/ABgcFgAAYICMjY2tj4jfjojNpVsAAACAnjaXUjqi2Wx+o3QIALBwLAAAwICp6/r8iHhVRHRLtwAAAAA9qZNzfllVVeeWDgEAFpYFAAAYQHVdfy4ijgpLAAAAAMD95ZTS6xuNxj+UDgEAFp4FAAAYUHVdn55SOjosAQAAAAA/lXPOb6iq6m9KhwAAi8MCAAAMsKqqPp1Sen1E5NItAAAAQFE553xMo9H4ZOkQAGDxWAAAgAFXVdVpEfGW0h0AAABAUX/YaDQ+UToCAFhcFgAAYAjUdf3RiHhr6Q4AAACgiLfXdf2h0hEAwOKzAAAAQ6Ku6z/POb+7dAcAAACwdFJK76zr+k9LdwAAS8MCAAAMkUajcVLO+b2lOwAAAIDFl3M+saqq95XuAACWTiodAAAsvVar9f6IeHvpDgAAAGDR/Hld154DBIAhYwEAAIZUq9X6YEScULoDAAAAWHCn1HX9ltIRAMDSswAAAEMq55xardZfppTeVLoFAAAAWBg559Pqun5dSimXbgEAlp4FAAAYYv+1BPDxlNIbSrcAAAAAj9inq6o6OqXULR0CAJRhAQAAhtx/LQGcmlJ6bekWAAAAYLudXlXVUYb/ADDcLAAAAJFzHm23238TEa8s3QIAAABss7+tquo1hv8AwEjpAACgvJRSp6qqo3LOHy/dAgAAAGy9nPNphv8AwH0sAAAAERGRUsp1XR8bEX9RugUAAAB4eDnnU+u6fr3hPwBwHwsAAMAWKaVcVdVxEfGR0i0AAADAQ/rzuq7faPgPAPwsCwAAwP381yWA43PO7y3dAgAAADygP6vr+q0ppVw6BADoLal0AADQu1qt1h9GxJ+W7gAAAAC2+GBd139UOgIA6E0uAAAAD6qu6w9GhC8VAAAAoAfknN9t+A8APBQXAACAh9Vqtf4gIj5UugMAAACGVUrpnVVVva90BwDQ2ywAAABbZWpq6g0ppY+H3z8AAADAUsoRcXxd16eUDgEAep8v8AGArTY1NfW6lNInwjNCAAAAsBRyzvnNjUbjL0uHAAD9wQIAALBN2u32a3LOnwxLAAAAALCYcs75mEaj8YnSIQBA/7AAAABss1ar9dKIOD0ilpVuAQAAgAHUiYhX13V9eukQAKC/WAAAALbL1NTUkSmlz0TE8tItAAAAMEBmc84vbzQa/1A6BADoPxYAAIDt1m63n59z/oeIGCvdAgAAAANgOiJ+t67r80qHAAD9yQIAAPCITE9PP73T6ZyTUtqpdAsAAAD0q5zzPTnnw5vN5iWlWwCA/mUBAAB4xKampn41pfTPEbFb6RYAAADoQ7dHxKF1XX+ndAgA0N9GSgcAAP2v0Wj8x/z8/HNyzteXbgEAAIA+c1On03mO4T8AsBBcAAAAFky73X5MzvmfI2Lf0i0AAADQ63LO14yOjv7m2NjYLaVbAIDB4AIAALBgqqr6cafTOTjn/M3SLQAAANDjLs85H2T4DwAsJAsAAMCCGh8fv2tmZuY3IuJfSrcAAABAL8o5f33z5s2HNJvNO0q3AACDxRMAAMCiyDmvbLVa/zul9DulWwAAAKCHfLWqqpeklGZKhwAAg8cFAABgUaSUNtd1/eKI+NvSLQAAANAjPltV1e8Y/gMAi8UCAACwaFJKnaqqXh0RHyndAgAAACXlnD9eVdW6lNJ86RYAYHBZAAAAFlVKKdd1fXzO+aTSLQAAAFBCzvndjUbjmJRSt3QLADDYUukAAGB4tNvto3LOn4yIZaVbAAAAYAl0cs7HNBqNU0uHAADDwQIAALCkJicnXzgyMvK5iBgr3QIAAACLaDql9JKqqs4qHQIADA8LAADAkpuenj6w2+2eFRG7lG4BAACAhZZzvjPn/KJms3lJ6RYAYLiMlA4AAIbP2NjYZfPz82tzzj8o3QIAAAAL7Mac8zMN/wGAElwAAACKabVau0bEWRHx30q3AAAAwAL4t5zz4Y1GY2PpEABgOLkAAAAUU9f1ba1W67kRcU7pFgAAAHiEzp+ZmTnE8B8AKMkFAACguJzzslar9YmU0tGlWwAAAGA7/K+qql6bUporHQIADDcXAACA4lJK83Vdvy7nfGLpFgAAANhGH6zr+lWG/wBAL3ABAADoKa1W61UR8dcRsax0CwAAADyETs75TY1G45OlQwAA7mMBAADoOe12+wU55zMjYqx0CwAAADyAdkrpJVVVnV06BADgZ1kAAAB60vT09IHdbverETFRugUAAADuk3O+c3R09AVjY2PrS7cAAPy8kdIBAAAPZGxs7LJOp/PsnPMPSrcAAABARETO+ZpOp3Og4T8A0KssAAAAPWt8fPwHnU7n6RFxYekWAAAAht6/zM/PP3P16tU3lA4BAHgwngAAAHpeznlZq9X6i5TSG0q3AAAAMHxyzn9T1/UbU0pzpVsAAB6KCwAAQM9LKc03Go03RsRxEdEt3QMAAMDQ6ETEHzUajaMN/wGAfuACAADQV9rt9vO63e7nU0qN0i0AAAAMrpxzK+f88maz+eXSLQAAW8sCAADQd1qt1lMi4qsR8bjSLQAAAAykW1NKL6yq6orSIQAA28ICAADQl9rt9m455y9HxP6lWwAAABgo3xkZGXnB2NjYLaVDAAC2lQUAAKBv5Zx3aLfbfxsRR5ZuAQAAoP/lnL9Y1/UrUkrTpVsAALbHSOkAAIDtlVLaVFXVS3POJ5ZuAQAAoO/9RV3XLzb8BwD6mQsAAMBAaLVar4qIUyNiRekWAAAA+spsRLy2ruvTS4cAADxSFgAAgIExOTn5rJGRkS9FxC6lWwAAAOh9Oee7IuJ3G43G10u3AAAsBE8AAAADo9lsXtLpdJ6Vc76mdAsAAAA97+pOp3Og4T8AMEgsAAAAA2V8fPwHMzMzB+ac/7F0CwAAAD3rrNnZ2WetXr36+tIhAAALyRMAAMBAyjmndrt9QkS8Pyw9AgAA8FM5Iv6sqqp3pJS6pWMAABaaBQAAYKC12+3Dut3uGSml8dItAAAAlJNznso5r2s2m18q3QIAsFgsAAAAA29ycvLJKaV/SintU7oFAACApZdz/kFE/D+NRuN7pVsAABaTc7gAwMBrNpvXzc7OPiPn/OXSLQAAACy5c+fn5w80/AcAhoELAADA0Mg5p1ar9e6U0rvC74MAAAAGXY6IP6uq6h0ppW7pGACApeCLbwBg6ExNTb04pfTpiKhKtwAAALDwcs6tiHhVo9H4QukWAIClZAEAABhKrVbrKRHxTxHxhNItAAAALJyc8/UR/5e9e4+S9K7rPP79Vncu0/XU9EwwIQnEaIwYEq5GlnDZswsC4kJWPRoVFdFF8CCX9Q4ot0VkQVQEFoUo4iEKLtHjukREGLwsZAXcoMICuhAUgSQknqSnu6o6mel6vvtHJgiYkEwyM7+urtfrnJxMeiYn7/zXXb/P83viW0ej0f9t3QIAcKwNWgcAALTQdd2H+r5/UETsa90CAADAEfMns9nsQQ7/AYBF5QYAAGChVdXSZDL5+Yh4dusWAAAA7ryqurjruqdn5lbrFgCAVgwAAAAiYjwef29EvD4ihq1bAAAAuOOqaiMinjIajf576xYAgNYMAAAADllfXz9nMBj8XkSc17oFAACA21dVfxcRF7nyHwDgZoPWAQAA28Xu3bv/bjqdXhARv9u6BQAAgNv1O5PJ5Bsc/gMA/As3AAAA3IqNjY2nZuZrIuL41i0AAAB8kZsi4tld172qdQgAwHZjAAAAcBsmk8n5VXVpRHx16xYAAAAiIuLTs9nsO1dXV9/XOgQAYDvyCgAAgNswHA6v6Pv+QRHxjtYtAAAAxB/NZrMHOPwHALhtbgAAALgdVZWTyeSnI+LnI2KpdQ8AAMCCmVXVS7que3Fm9q1jAAC2MwMAAIA7aGNj4xGZ+eaIOLV1CwAAwIK4LiK+r+u6d7YOAQCYBwYAAACHYTqd3mM2m701Mx/augUAAGAnq6r3DgaD7xoOh1e1bgEAmBeD1gEAAPNkZWXls13X/buIeHlEVOseAACAHagi4tVd1z3S4T8AwOFxAwAAwJ20sbFxUUT8Rmbubt0CAACwE1TV/qr6wd27d/9B6xYAgHlkAAAAcBdsbm6eubW19WavBAAAALjL/mpra+sJe/bsubJ1CADAvDIAAAC4i6pqeTwePy8znx9esQQAAHC4KiJeMxwOfzIzD7aOAQCYZwYAAABHyHg8/saIuCQiTmvdAgAAMCeujYgndV33jtYhAAA7gSfUAACOkK7r3l1V94+It7duAQAAmAP7IuL+Dv8BAI4cNwAAABxhVZWTyeRZEfELEXF86x4AAIBt5mBVvbTruhdnZt86BgBgJzEAAAA4SiaTyTf0ff+WzDy7dQsAAMA28Y+z2ewJq6ur72sdAgCwE3kFAADAUTIcDv/PjTfe+PUR8dutWwAAALaBS6bT6X0d/gMAHD1uAAAAOAbG4/H3V9VrM7Nr3QIAAHAsVdVGZj6967pLWrcAAOx0BgAAAMfI+vr61w0Gg7dExANbtwAAABwjVxy68v/jrUMAABaBAQAAwDFUVSdMJpNfiIhnhu/FAACAnasi4pXD4fC5mXmgdQwAwKLwoTMAQAPj8fjREfHGiLhH6xYAAIAj7JrMfPJwOHx76xAAgEUzaB0AALCIuq5718GDB+8TEb/dugUAAOBIqapL+76/j8N/AIA23AAAANDYxsbGRRHxusw8qXULAADAnVFV+zPzmV3XXdK6BQBgkRkAAABsA5ubm185m83eGBGPbN0CAABwmPYNBoMfXFlZ+UzrEACARWcAAACwTVRVjsfjp2TmKyNipXUPAADA7bgxIl40HA5fkZl96xgAAAwAAAC2nY2NjXMz85KI+PrWLQAAALfhQxHxxK7rPtQ6BACAf2EAAACwDVXV8ng8fl5mPi8illr3AAAAHLIVEb80HA5fkJkHWscAAPDFDAAAALax/fv3XzAYDN6UmV/bugUAAFh4/9D3/ZN27979ntYhAADcukHrAAAAbtvq6ur7uq57QES8OiKqdQ8AALCwLplOp/dz+A8AsL25AQAAYE5MJpMLq+rXI+LurVsAAICFcXVm/tBwOHx76xAAAG6fGwAAAObEcDh828GDB8+pqotbtwAAADtfVV3a9/19Hf4DAMwPNwAAAMyhyWTyzVX1+og4o3ULAACw41zd9/3Tdu/e/YetQwAAODxuAAAAmEPD4fCPDxw4cN9DtwFU6x4AAGBHqIi4ZDab3cfhPwDAfHIDAADAnBuPx4+JiIsj4szWLQAAwNz6x4h4Std1+1qHAABw57kBAABgznVd987hcHhuRLw8IvrWPQAAwFypqrp4c3Pzfg7/AQDmnxsAAAB2kPX19Ydn5hsy816tWwAAgO2tqj4ZEU8ZjUZ/2roFAIAjww0AAAA7yO7du9/bdd0D4ubbAGatewAAgG2pP/TU//0d/gMA7CxuAAAA2KGm0+lDZrPZb2bmOa1bAACA7aGqPhERPzQajf6idQsAAEeeAQAAwA5WVSdOJpMXRcRPRsRS4xwAAKCdrYj4peFw+KLMvLF1DAAAR4cBAADAAphOp/+m7/uLI+L+rVsAAIBj7oOZ+dThcHhF6xAAAI4uAwAAgAVRVcuTyeTpVfVzmTlq3QMAABx104h48XA4/MXMnLWOAQDg6DMAAABYMNPp9B6z2exVmfntrVsAAICj5rKlpaVn7Nq161OtQwAAOHYMAAAAFtRkMrmwql4bEWe0bgEAAI6YqyPiOV3Xval1CAAAx96gdQAAAG0Mh8O3jcfje0fEyyPCdaAAADDf+qq6+KabbjrH4T8AwOJyAwAAADGZTB5YVa+PiAe1bgEAAA7b3wwGgx9eWVn5QOsQAADaMgAAACAiIqpqeTKZPL2qfi4zR617AACA2zWNiBcPh8NfzEy3egEAYAAAAMAXm06n95jNZq/KzG9v3QIAANymy5aWlp6xa9euT7UOAQBg+zAAAADgVk0mkwur6rURcUbrFgAA4POuiojndl33ptYhAABsP4PWAQAAbE/D4fBtBw4cuG9EvDoitlr3AADAgjsYEa/c3Nw8x+E/AAC3xQ0AAADcrvX19XMGg8GrIuIxrVsAAGDRVNWfZ+azuq77cOsWAAC2NwMAAADusEOvBXhNRJzZugUAABbAZyPiZzzxDwDAHWUAAADAYamqlfF4/NOZ+ZyIOKF1DwAA7EAHI+LXNjc3n3fyySdvtI4BAGB+GAAAAHCn7N+//+ylpaVfiYjHtW4BAIAdZF/f98/cvXv337UOAQBg/hgAAABwl0wmkwv7vv+VzDyrdQsAAMyrqvrEYDD4seFweFnrFgAA5pcBAAAAd1lVHT+ZTJ5WVS/JzK51DwAAzJFpVb2i67qXZeaNrWMAAJhvBgAAABwx0+n0Hn3f/9eIeGLrFgAAmAOXLS0tPWPXrl2fah0CAMDOYAAAAMARt7Gx8YjMfHVE3Kd1CwAAbDdV9feZ+Z+7rvuT1i0AAOwsBgAAABwVVXXcZDJ5elU9PzNPat0DAADbwD9X1X/puu51mbnVOgYAgJ3HAAAAgKNqbW1t7/Ly8rMj4kcj4oTWPQAA0MDBiPi1gwcPvnDv3r1rrWMAANi5DAAAADgmNjc3v3I2m70kIr4vfB8KAMDiuGxra+tH9+zZc2XrEAAAdj4fvAIAcExNp9MHz2azX87Mh7ZuAQCAo+iv+r7/id27d7+ndQgAAIvDAAAAgGOuqnI8Hn9HZr48Ir66dQ8AABxBn46I5w2Hw0sys1rHAACwWAwAAABopqqOn0wmT6uq/5KZq617AADgzqqqcUT8Utd1L8vMG1v3AACwmAwAAABobn19/W6DweAFEfEjEbHcugcAAA7DVlX9Zma+oOu6z7WOAQBgsRkAAACwbayvr5+TmS/OzItatwAAwB2wLyJ+vOu6D7cOAQCACAMAAAC2ofF4/JiIeEVE3K91CwAA3Iq/iYif6rpuX+sQAAD4QgYAAABsS1U1GI/H3x4RL83Ms1v3AABARHyqql7add0bMnPWOgYAAL6UAQAAANtaVR03Ho9/MDNfGBGnt+4BAGAhXRsRvzwcDn8lM29qHQMAALfFAAAAgLlQVSuTyeSZVfXszNzbugcAgJ2vqq7PzF8YDoevzszN1j0AAHB7DAAAAJgr11133WjXrl0/UlU/m5mj1j0AAOxIk4j4bwcPHnzZ3r1711rHAADAHWUAAADAXNrY2Dg5M38iIn40Ik5o3QMAwI5wsKreOBgMXjQcDq9uHQMAAIfLAAAAgLm2ubn5lVtbWz+bmU+OiKXWPQAAzKW+qn5/Nps9d8+ePVe2jgEAgDvLAAAAgB1hY2Pj3Ih4UWZ+R/g+FwCAO25fRPxk13V/2zoEAADuKh+MAgCwo0yn04fMZrOXZua/b90CAMC29u7BYPCzKysr728dAgAAR4oBAAAAO9L6+vrDB4PBCyPiUa1bAADYPqrq8sx8Ydd1727dAgAAR5oBAAAAO9qhIcCzI+LxrVsAAGinqi6PiBeMRqM/bd0CAABHiwEAAAALYX19/WGDweA5YQgAALBQHPwDALBIDAAAAFgohgAAAIvh0MH/80ej0Z+1bgEAgGPFAAAAgIW0vr7+0MFg8NwwBAAA2FEc/AMAsMgMAAAAWGjT6fQhfd//TBgCAADMtUMH/88bjUZ/3roFAABaMQAAAIAwBAAAmGP7BoPB81ZWVt7fOgQAAFozAAAAgC+wf//+C5aWlp4fEd8cvl8GANiuKiIuGwwGL1lZWflA6xgAANgufKAJAAC3Yjwe3zcifioinhARy41zAAC4WR8Rb8/MFw2HwytaxwAAwHZjAAAAAF/G5ubmV81msx+LiB+KiJXWPQAAC+qmiHjrbDb7udXV1Y+3jgEAgO3KAAAAAO6AjY2NkyPi6RHxzMw8qXUPAMAiqKr1zPytzHzZcDi8unUPAABsdwYAAABwGK699tpuZWXlyRHxExFxRuseAIAd6pqqev3BgwdfedJJJ+1vHQMAAPPCAAAAAO6Eqjp+Mpl8d1U9JzPv3boHAGAnqKorM/M1w+Hw9Zl5Y+seAACYNwYAAABwF1TVYDqdPq7v+5/JzAta9wAAzKkPRsSrhsPh72TmrHUMAADMKwMAAAA4QjY2Nh6Zmc+OiMe0bgEAmAMVEX9SVS8bjUZ/0ToGAAB2AgMAAAA4wtbX179uMBj8SEQ8JSJ2te4BANhmboqIt0bEK7qu+3DrGAAA2EkMAAAA4CjZ2Ng4OTP/U0Q8IyLu2boHAKCxz1XV6yLitaPR6LrWMQAAsBMZAAAAwFFWVcePx+NviYgfz8wLWvcAABxjf11Vr+u67k2ZeWPrGAAA2MkMAAAA4BhaX19/eGY+KzO/LSKWW/cAABwlfUS8PSJe1XXdvtYxAACwKAwAAACggc3Nza+ezWY/XFVPzcy9rXsAAI6EqtqIiLdU1S/v3r3771v3AADAojEAAACAhq677rrRiSee+ISI+LHMPKd1DwDAnVFVn8zMi7e2ti7es2fPDa17AABgURkAAADANlBVg+l0+riqelZEPKp1DwDAHVFVl8fN1/z/QWZute4BAIBFZwAAAADbzPr6+jmDweAHvB4AANiObrnmPzN/teu6v23dAwAA/AsDAAAA2KZueT1AZj4tIh7QugcAWGxV9bHMfP10On3DKaecMm7dAwAA/GsGAAAAMAcmk8n5fd8/NTO/LyJWWvcAAAvjpqr6n5l5cdd1+1rHAAAAX54BAAAAzJHrr79+9bjjjvuuzHxWRJzXugcA2Jmq6uOZ+Ya+79+we/fuf27dAwAA3DEGAAAAMKfW19cfnpnPysxvjYjjWvcAAHNvFhF/lpmvXllZuSwzq3UQAABweAwAAABgzo3H41Mj4kkR8bSIOLNxDgAwf66OiDfGFFIlAAAUf0lEQVQtLS396q5du/6pdQwAAHDnGQAAAMAOUVXLGxsbFw4Gg6dGxKMjYql1EwCwbc0i4h193//6aDS6LDNnrYMAAIC7zgAAAAB2oMlkcnpVPbGqnpyZX9u6BwDYHqrq/0XEW5aXl9+4a9euT7XuAQAAjiwDAAAA2OEmk8n5fd8/NSKekJmj1j0AwDG3WVWXZebFw+Hw3ZlZrYMAAICjwwAAAAAWRFXtGo/Hj8/Mp0bEN4afBwBgp7uiqi7e3Nx88ymnnDJuHQMAABx9PvADAIAFtL6+fq/M/J7MfFJEfFXrHgDgiLkqIi6ZzWa/sbq6+onWMQAAwLFlAAAAAAusqgaTyeSREfH9EfEdEbGrcRIAcPhuioh3VdWbuq77g8zcah0EAAC0YQAAAABERMT6+vrdMvN7M/MHIuKBrXsAgNt1RVX9Vt/3b15dXb2+dQwAANCeAQAAAPCvbGxs3Dsivisiviczv7Z1DwDwef8UEf8jIt7Ydd3ftI4BAAC2FwMAAADgy5pMJudX1fdHxHdGxKmtewBg0VTV9RHxe1V1yWg0ujwzq3UTAACwPRkAAAAAd0hVLW1sbDwkM58YEU/IzFHrJgDYwTar6rLBYHDJysrKOzLzYOsgAABg+zMAAAAADltVnTidTh/d9/0TM/NbIuL41k0AsAPcFBHviohLx+Px75966qmT1kEAAMB8MQAAAADukhtuuGHPcccd9x8j4qKI+OaIWGqcBADzpK+qv8zMS6vqzaPR6LrWQQAAwPwyAAAAAI6Y6XR6Rt/33x0R3x0RX9+6BwC2qYqIKyLidweDwe+urKx8tnUQAACwMxgAAAAAR8Xm5uaZs9nsW6vqosx8aPj5A4AFV1UfjYhL+77/ndXV1Y+37gEAAHYeH8ABAABH3XQ6vedsNvsPmXlhRDw2IpZbNwHAMfD56/0Hg8HvedIfAAA42gwAAACAY2p9ff1ug8HgcRFxUUR8U0Qc1zgJAI6kWVW9LzMvzcy3DofDq1sHAQAAi8MAAAAAaGZtbW3v8vLyhXHzGODREXFC4yQAuDNuioj3RMRlVfWW0Wh0besgAABgMRkAAAAA20JVrUyn02+sqouq6tsys2vdBABfxo0RsS8iLj1w4MAfnnTSSftbBwEAABgAAAAA284111wzHA6H35SZj4uIx0XE3Vs3AUBEXBMRf9T3/WWj0eidmTltHQQAAPCFDAAAAIBtb2Nj47zMfHxVXZiZDw0/ywBwjFTVRzPzbYcO/f93ZvatmwAAAG6LD80AAIC5srGxcUpmPraqHh8Rj83MUesmAHaUzYi4PCIuGwwGv7+ysvKZ1kEAAAB3lAEAAAAwt6pq12QyeVhEXBgR3xYRZzROAmA+fS4i3llVb9vc3PzjU045Zdw6CAAA4M4wAAAAAHaML3lVwEMiYtC6CYBtqY+Iv46IfYeu9r88M6t1FAAAwF1lAAAAAOxI4/H47hHxmEN/PSoiTm1bBEBjV0fEuyLiXVX1ztFodG3rIAAAgCPNAAAAAFgIa2trZy0tLT0qbh4DPDYzR62bADiqNiPi8ojYl5n7VlZWPugpfwAAYKczAAAAABZOVS1vbGxcMBgMHh83DwIeGF4XADD3quqTmXlZRLxtOBy+NzNvbN0EAABwLBkAAAAAC299ff0rMvMREfGozHxsRHxl6yYA7pDPVdX/ioh9g8HgsuFweFXrIAAAgJYMAAAAAL7ExsbGuZn56Ih4TFX9W68LANgeqmojM/+iqt4VEe8ajUYfa90EAACwnRgAAAAAfBlVtTQej8+JiIfFza8LeGRm3q1xFsBCOHTg//6I2Nf3/eWj0egDmXmgdRcAAMB2ZQAAAABwmNbW1s5aWlp6VGY+PCIeERH3bN0EsENcGxEfiIj3Zua+lZWVv87MvnUUAADAvDAAAAAAuIvW1tbOWl5efnhVPSwzvykizmzdBDAnrqmq92Tm5Zn53pWVlQ9mZrWOAgAAmFcGAAAAAEfYZDI5ve/7W14Z8PDMPLd1E8A2cXVVvTci9kXE5aPR6COtgwAAAHYSAwAAAICjbDqd3nM2m12QmRdU1YMz8/yI2NW6C+Aom1bVFZn5/qr6y6WlpfevrKx8tnUUAADATmYAAAAAcIxV1fJ4PP66zDy/qh4WN98ScO/wMxow366uqvdm5uV9318xGo3+KjNvah0FAACwSHy4BAAAsA1cf/31q8cff/yDqurhh4YBD83Mk1p3AdyaqtqIiA9l5hWHrvT/89FodF3rLgAAgEVnAAAAALANVdVgPB7fu6ouyMwLMvPBEXHviFhu3QYsnK2I+FhVvW8wGLyv7/v3d133sczsW4cBAADwxQwAAAAA5kRVHTcej++VmedHxPlVdX5mPjAiVlq3ATvGwar6eGZeERFXHLrK/4OZOW0dBgAAwO0zAAAAAJhjVbU0Ho/PiYhzI+K8Q+OAB0fEyW3LgO2uqtYj4sO3HPZn5kdWVlY+nJkHWrcBAABw5xgAAAAA7ECTyeT0iDi/7/vzM/P8qjo3M89q3QU0c3VEfCQiPhoRV1TVFV3XfTQzq3EXAAAAR5ABAAAAwIIYj8d3j4j7RcR5VXVuRJwXEedm5p62ZcCRUlU3xM2H/B/JzI9GxEeq6kOj0ejaxmkAAAAcAwYAAAAAC25tbW3vYDA4LzPPzczz4ubXCdw3Iu7eOA24DVW1lplXxhcc9h88ePAjq6ur/+CpfgAAgMVlAAAAAMCtMgyA9hz0AwAAcDgMAAAAADgsk8nktL7v71VVZw8Gg7Mz8+yq+pqqOjszR637YN5U1XpmXllVn8jMT2TmJ/q+vzIz/77rumta9wEAADA/DAAAAAA4YtbW1vYed9xxZ/V9f1ZmnlVVZ2XmWRFxXkSc1roPWqmqGzLzk1X1yS/8+9bW1ic9zQ8AAMCRYgAAAADAMbG+vn635eXlr+n7/uxDtwWcXVVflZn3jIh7RMTxrRvhLjhQVZ+JiM9k5j/e8jT/YDC48uDBg59YXV29vnUgAAAAO58BAAAAANvCLbcHRMTpfd+fdujmgNMj4rRDNwmcGRFLbStZVLc8wR8RV1fVVbf8OiKuOvQU/6cyc9Y4EwAAgAVnAAAAAMBcqKrj9+/ff8+lpaV7ZuaZfd+fkZlnHLpB4PSIuHtEnBxuEuDwHIiI6yLimrj5cP/TVfWZwWDw6ar61PLy8qdPPPHEz2bmgcadAAAAcLsMAAAAANhRqmrX/v37TxsMBqcvLS3t7fv+tIg4PTP3VtVpcfNYYO+hr+1pW8tRcmNE3HDoqf2r4uYn9W+IiKsi4urM/PyvV1ZWrsnMvmErAAAAHDEGAAAAACysa665ZnjiiSeeOhgMbrk94CsGg8GeqtobEXsODQT2VNWeiNh7yz9HxErD7EUyjYi1uPkwfy0z1yJirarWIuKGzFzr+34tIv45Iq7r+/5zN9544zWnnnrqpGU0AAAAtGIAAAAAAIepqo6fTCZ7+77fs7y8vKfv+1sbCZxQVSuZOayq4w99fTkidt/G7837z+h9Ve3PzANVNcnMaUTcFBHrEXHwNn7viw7zB4PB2tbW1lpm3tB13Zpr9wEAAODwzPuHCwAAALAjVNXS/v37dy8vL5+wtbW1sry8PMzM4yMi+r4fZebyF/75vu9XMvOEL/xaZp5QVV96O8FyZo4O/Tc2ImLrS/6daVXd9CUtNw0Gg+mXfG1rMBhsHPr1ga2trcny8vJ0a2vrptXV1fXMnN2V/38AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP5/e3BIAAAAACDo/2tvGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgIx79XJ7gjgunAAAAAElFTkSuQmCC" width="1536" height="1536" id="image300"/></g></svg></span><span class="font-weight-bold">GridDB</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			
			
			<li class="nav-item dropdown mr-4 d-none d-lg-block">
				

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	English
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/ja/docs/"></a>
	
</div>
			</li>
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block"><input type="search" class="form-control td-search-input" placeholder="&#xf002; Search this site" aria-label="Search this site" autocomplete="off">
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/docs/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Documentation</h1>





    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-73360b3ee76c1e08484151afe74a32b0">Quick Start Guide</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>1.1: <a href="#pg-f32a7c5ca1218b8647bc42257bbd1e51">Community Edition</a></li>


    
  
    
    
	
<li>1.2: <a href="#pg-dc3efd27129c18f84fb338ed964b26a0">Enterprise Edition</a></li>


    
  

    </ul>
    
  
    
    
	
<li>2: <a href="#pg-4bda6dbc5c4e36049db2f4b380b0e50d">Features Reference</a></li>


    
  
    
    
	
<li>3: <a href="#pg-4cc6b3251beb038a2b89fcbbc6a5ceff">Programming Guide</a></li>


    
  
    
    
	
<li>4: <a href="#pg-23a09595827e7960eb3de7d4f01d14c7">TQL Reference</a></li>


    
  
    
    
	
<li>5: <a href="#pg-80efa059a971693431b3c8ac16868b64">SQL Reference</a></li>


    
  
    
    
	
<li>6: <a href="#pg-f1903c91bf2d8200a65a712a0c959f61">Tuning Guide</a></li>


    
  
    
    
	
<li>7: <a href="#pg-963446980395a97321928a7b23aa6cba">JDBC Driver User Guide</a></li>


    
  
    
    
	
<li>8: <a href="#pg-8357ab0f42d98c874ffd1d006eae933a">ODBC Driver Guide</a></li>


    
  
    
    
	
<li>9: <a href="#pg-0af3751c34a2567442f2fd009d63dcbd">API Reference</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>9.1: <a href="#pg-8ae19027774f01ff05bede0e4d357a34">Java API Reference</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>9.2: <a href="#pg-1edbf5f3e956b064ef3d31827667d9ae">C API Reference</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>9.3: <a href="#pg-015ea1c53bdd7a397f562e91680c6313">Web API Reference</a></li>


    
  
    
    
	
<li>9.4: <a href="#pg-6b7b4165e1d7c1d5d7e0da027a14b589">Python API Reference</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>9.5: <a href="#pg-0cbebf4c35a553073287249aa0336553">Node.js API Reference</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>9.6: <a href="#pg-c29d67171436d7e63cd3acfaec47fdce">Go API Reference</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  

    </ul>
    
  
    
    
	
<li>10: <a href="#pg-6915f3b0b632da1115f07b325f9ab195">Administrator Guide</a></li>


    
  
    
    
	
<li>11: <a href="#pg-211b02b2197d3ef4084be614dc8abd5c">Error Codes</a></li>


    
  
    
    
	
<li>12: <a href="#pg-f624f1746d838e10efa3bf63783d05bc">Operation Tools Reference</a></li>


    
  
    
    
	
<li>13: <a href="#pg-ce58bc8029e0ec9fea42e20e483adbba">Zabbix Template guide</a></li>


    
  
    
    
	
<li>14: <a href="#pg-fb271a09f30866a9dcd47cb7cc67dff4">User Guide for GridDB Dockerfile sample</a></li>


    
  
    
    
	
<li>15: <a href="#pg-c8b48f98612f532417a0684771edd68c">User Guide for GridDB Template for Ansible</a></li>


    
  
    
    
	
<li>16: <a href="#pg-f030c88320d8dff86cd0e25112d1c238">Release Note</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>16.1: <a href="#pg-0168167162e236bf1bfb4907e2883eef">Community Edition</a></li>


    
  
    
    
	
<li>16.2: <a href="#pg-f02d40936c2a3314f2f8a64f58776ed8">Enterprise Edition</a></li>


    
  

    </ul>
    
  

    </ul>


<div class="content">
      
</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-73360b3ee76c1e08484151afe74a32b0">1 - Quick Start Guide</h1>
    <div class="lead">Quick Start Guide</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-f32a7c5ca1218b8647bc42257bbd1e51">1.1 - Community Edition</h1>
    <div class="lead">Overview of GridDB and information for first time users</div>
	<h1 id="griddb-quickstart-guide">GridDB Quickstart Guide</h1>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#Introduction">Introduction</a></li>
<li><a href="#Using-source-code">Using source code</a></li>
<li><a href="#Using-RPM">Using RPM</a></li>
</ul>
<hr>
<h1 id="introduction">Introduction</h1>
<p>This manual explains how to get started with GridDB. You will learn how to install GridDB, start and stop GridDB node, and data manipulation.</p>
<p>In a nutshell, you can install GridDB on one machine and start / stop GridDB node and execute a series of procedures to execute the sample program.</p>
<ol>
<li><a href="#using-source-code">Using source code</a></li>
<li><a href="#using-rpm">Using RPM</a></li>
</ol>
<hr>
<h1 id="using-source-code">Using source code</h1>
<p>We have confirmed the operation on CentOS 7.9 (gcc 4.8.5).</p>
<p>Note:</p>
<ul>
<li>Please install Python3 in advance.</li>
<li>Please install tcl like &ldquo;yum install tcl.x86_64&rdquo; in advance.</li>
</ul>
<h2 id="build-a-server-and-clientjava">Build a server and client(Java)</h2>
<p>Download the GridDB source code package build to build the nodes and clusters. And set three environment variable.</p>
<pre tabindex="0"><code>    $ git clone https://github.com/griddb/griddb.git
    $ cd griddb
    $ ./bootstrap.sh
    $ ./configure
    $ make

    $ export GS_HOME=$PWD
    $ export GS_LOG=$PWD/log
    $ export PATH=${PATH}:$GS_HOME/bin
</code></pre><p>The following environment variables are defined.</p>
<table>
<thead>
<tr>
<th>Environment variables</th>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>GS_HOME</td>
<td>Directory where source code file is decompressed</td>
<td>GridDB home directory</td>
</tr>
<tr>
<td>GS_LOG</td>
<td>$GS_HOME/log</td>
<td>Event log file output directory</td>
</tr>
</tbody>
</table>
<h4 id="warning-note">:warning: Note</h4>
<ul>
<li>These environment variables are referenced by the operational commands shown in the following subsections.</li>
</ul>
<h2 id="environmental-settings">Environmental settings</h2>
<h3 id="network-settings">Network settings</h3>
<p>GridDB uses multicast communication to constitute a cluster.
Set the network to enable multicast communication.</p>
<p>First, check the host name and an IP address.
Execute &ldquo;hostname -i&rdquo; command to check the settings of an IP address of the host.
If the IP address of the machine is the same as below, no need to perform additional network setting and you can jump to the next sectiion.</p>
<p>[Example]</p>
<pre tabindex="0"><code>$ hostname -i
192.168.11.10
</code></pre><p>If the following message or the loopback addresses points to 127.0.0.1, additional network configuration is needed. .</p>
<p>[Example]</p>
<pre tabindex="0"><code>$ hostname -i 
hostname: no IP address was found for this hostname.
</code></pre><p>or</p>
<pre tabindex="0"><code>$ hostname -i
127.0.0.1
</code></pre><p>Follow the following procedures from 1 to 3.
</p>
<h4 id="network-settings-1">Network settings</h4>
<ol>
<li>
<p>Check the host name and OS IP address.</p>
<p>[Example]</p>
<pre tabindex="0"><code>$ hostname
MY_HOST
</code></pre></li>
<li>
<p>Check the IP address.</p>
<p>[Example]</p>
<pre tabindex="0"><code>$ ip -f inet -o addr show eth0 | cut -d&#39; &#39; -f 7 | cut -d/ -f 1
192.168.11.10
</code></pre></li>
<li>
<p>Add the host name and IP address,<br>
which were checked in the procedure 1, to the /etc/hosts file as a root user.</p>
<p>[Example]</p>
<pre tabindex="0"><code># cd /
# pwd
/root
# echo &#34;192.168.11.10 MY_HOST&#34; &gt;&gt; /etc/hosts
</code></pre></li>
<li>
<p>Execute &ldquo;hostname -i&rdquo; command to check the settings of an IP address  of the host.  Check that the IP address specified in the procedure 2 is displayed.</p>
<p>[Example]</p>
<pre tabindex="0"><code>$ hostname -i
192.168.11.10
</code></pre></li>
</ol>
<h3 id="griddb-admin-user-setting">GridDB Admin user setting</h3>
<p>An admin user is used for authentication purposes in nodes and clusters.
Administrator user information is stored in the <em>User definition file</em>. The default file is as shown below.</p>
<p>$GS_HOME/conf/password</p>
<p>The following default users exist just after installation.</p>
<table>
<thead>
<tr>
<th>User</th>
<th>Password</th>
</tr>
</thead>
<tbody>
<tr>
<td>admin</td>
<td>No settings</td>
</tr>
</tbody>
</table>
<p>Administrator user information including the above-mentioned default users can be changed using the user administration command in the operating commands.</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_adduser</td>
<td>Add an administrator user</td>
</tr>
<tr>
<td>gs_deluser</td>
<td>Delete an administrator user</td>
</tr>
<tr>
<td>gs_passwd</td>
<td>Change the password of an administrator user</td>
</tr>
</tbody>
</table>
<p>Change the password as shown below when using a default user.
The password is encrypted during registration.</p>
<h4 id="warning-note-1">:warning: Note</h4>
<ul>
<li>
<p>Default user password has not been set. Be sure to change the password as the server will not start if the administrator user password is not set.</p>
<pre tabindex="0"><code>$ gs_passwd admin
Password:Input password
Retype password:Input password again
</code></pre></li>
<li>
<p>When adding a new administrator user except a default user, the user name has to start with gs#.</p>
</li>
<li>
<p>One or more ASCII alphanumeric characters and the underscore sign _ can be used after gs#.</p>
</li>
<li>
<p>An example on adding a new administrator user is shown below.</p>
<pre tabindex="0"><code>$ gs_adduser gs#newuser
Password:Input password
Retype password:Input password again
</code></pre></li>
</ul>
<h3 id="setting-parameters-of-a-node">Setting parameters of a node</h3>
<p>To operate GridDB after installation, initial setting of parameters, such as addresses and the cluster name, is required.
In this manual, only &ldquo;Cluster name&rdquo;, an essential item, is set and for other items default values are used.</p>
<p>Describe &ldquo;Cluster name&rdquo; of a cluster in the cluster definition file.
The cluster definition file is &ldquo;$ GS_HOME / conf / gs_cluster.json&rdquo;.</p>
<p>Enter the cluster name in the &quot;&quot; clusterName &ldquo;:&rdquo; &quot;&quot; part.
Use the name &ldquo;myCluster&rdquo; here.</p>
<p>[Example of description in the file]</p>
<pre tabindex="0"><code>$ vi $GS_HOME/conf/gs_cluster.json

{
        &#34;dataStore&#34;:{
                &#34;partitionNum&#34;:128,
                &#34;storeBlockSize&#34;:&#34;64KB&#34;
        },
        &#34;cluster&#34;:{
                &#34;clusterName&#34;:&#34;myCluster&#34;,
                &#34;replicationNum&#34;:2,
                &#34;notificationAddress&#34;:&#34;239.0.0.1&#34;,
                &#34;notificationPort&#34;:20000,
                &#34;notificationInterval&#34;:&#34;5s&#34;,
                &#34;heartbeatInterval&#34;:&#34;5s&#34;,
                &#34;loadbalanceCheckInterval&#34;:&#34;180s&#34;
        },
        &#34;sync&#34;:{
                &#34;timeoutInterval&#34;:&#34;30s&#34;
        },
        &#34;transaction&#34;:{
                &#34;notificationAddress&#34;:&#34;239.0.0.1&#34;,
                &#34;notificationPort&#34;:31999,
                &#34;notificationInterval&#34;:&#34;5s&#34;,
                &#34;replicationMode&#34;:0,
                &#34;replicationTimeoutInterval&#34;:&#34;10s&#34;
        }
}
</code></pre><h5 id="memo-note">:memo: Note</h5>
<ul>
<li>Using a cluster name, which is unique on the sub network is recommended.</li>
<li>A cluster name must be composed of one or more ASCII alphanumeric characters or the underscore &ldquo;_&rdquo;. A number is not accepted as the first character of the name. The name is also not case-sensitive. The maximum length of the name must be 64 characters.</li>
</ul>
<h3 id="explanation-of-terms">Explanation of terms</h3>
<p>Except for network settings and the cluster name, GridDB can operate with the default setting values. The main setting items are shown below. Use the values below when executing the tools in the following sections.</p>
<table>
<thead>
<tr>
<th>Setting items</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>IP address</td>
<td>The IP address displayed when executing &ldquo;hostname -i&rdquo; command</td>
</tr>
<tr>
<td>Cluster name</td>
<td>myCluster</td>
</tr>
<tr>
<td>Multicast address</td>
<td>239.0.0.1 (Default value)</td>
</tr>
<tr>
<td>Multicast port number</td>
<td>31999 (Default value)</td>
</tr>
<tr>
<td>User name</td>
<td>admin (Default value)</td>
</tr>
<tr>
<td>User password</td>
<td>admin</td>
</tr>
<tr>
<td>SQL multicast address</td>
<td>239.0.0.1 (Default value)</td>
</tr>
<tr>
<td>SQL multicast port number</td>
<td>41999 (Default value)</td>
</tr>
</tbody>
</table>
<p></p>
<h2 id="startingstopping">Starting/stopping</h2>
<p>Start/stop a GridDB node and a cluster. Starting/stopping operations using operating commands are introduced from among some operational methods of GridDB. The operation command is executed as a gsadm user.</p>
<p>A list of operating commands</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_startnode</td>
<td>Starting a node</td>
</tr>
<tr>
<td>gs_joincluster</td>
<td>Add a node to a cluster.</td>
</tr>
<tr>
<td>gs_leavecluster</td>
<td>Detach a node from a cluster</td>
</tr>
<tr>
<td>gs_stopcluster</td>
<td>Stopping a cluster</td>
</tr>
<tr>
<td>gs_stopnode</td>
<td>Stop a node (shutdown)</td>
</tr>
<tr>
<td>gs_stat</td>
<td>Get node internal data</td>
</tr>
</tbody>
</table>
<h4 id="warning-note-2">:warning: Note</h4>
<ul>
<li>If a proxy variable (http_proxy) has been set up, set the node address in no_proxy and exclude it from the proxy target.
Otherwise, since the operating command uses REST/http communications, it will connect to the proxy server and will fail to operate.
Example of setting
<pre tabindex="0"><code>$ export no_proxy=localhost,127.0.0.1,192.168.11.10
</code></pre></li>
</ul>
<h3 id="starting-operations">Starting operations</h3>
<p>After installing and setting up the GridDB node, the flow for starting the GridDB cluster is as follows:</p>
<ol>
<li>Starting a node</li>
<li>Starting a cluster</li>
</ol>
<p>As explained in the &ldquo;node and cluster&rdquo; section, GridDB cluster is formed and  the cluster service is started when the number of nodes specified by the user joins the cluster.
Cluster service will not be started and access to the cluster from the application will not be possible until all the nodes constituting a cluster have joined the cluster.</p>
<p>The example in this manual is &ldquo;single configuration&rdquo; using one node. Start up a node, add the node to a cluster and then start the cluster.</p>
<h4 id="starting-a-node">Starting a node</h4>
<p>Use gs_startnode command to start a node.
Specify the user name and the password of admin, the management user, along with the user authentication option -u, and specify -w option to wait for the node to start.</p>
<p>[Example]</p>
<pre tabindex="0"><code>$ gs_startnode -u admin/admin -w
</code></pre><h4 id="starting-a-cluster">Starting a cluster</h4>
<p>Execute the gs_joincluster command to join the cluster at each node and start the cluster.  Specify the user name and password of admin, the management user, along with the user authentication option -u, and specify -w option to wait until the starting up of the cluster. Specify a cluster name with -c option. .</p>
<p>[Example]</p>
<pre tabindex="0"><code>$ gs_joincluster -u admin/admin w -c myCluster
</code></pre><p>After starting the cluster, check the cluster status using the gs_stat command.<br>
Specify the user name and the password of admin, the management user, with the user authentication option -u. To check the status of a cluster, extract the lines including &ldquo;Status&rdquo; using grep command.</p>
<p>[Example]</p>
<pre tabindex="0"><code>$ gs_stat -u admin/admin | grep Status
        &#34;clusterStatus&#34;: &#34;MASTER&#34;,
        &#34;nodeStatus&#34;: &#34;ACTIVE&#34;,
        &#34;partitionStatus&#34;: &#34;NORMAL&#34;
</code></pre><p>If the three status displayed by &ldquo;gs_stat&rdquo; command are the same as above, the cluster has started normally. The cluster is accessible from an application.</p>
<h3 id="stopping-operations">Stopping operations</h3>
<h4 id="basic-flow">Basic flow</h4>
<p>The stopping procedures of GridDB is as follows.</p>
<ol>
<li>Stopping a cluster</li>
<li>Stopping a node</li>
</ol>
<p>Contrary to the startup procedures, stop the cluster first and then stop the each node. When the cluster is stopped, it becomes inaccessible from the applications.</p>
<h4 id="stopping-a-cluster">Stopping a cluster</h4>
<p>Execute the following cluster stop command. When the cluster stop command is executed, the cluster becomes inaccessible from the applications.</p>
<ul>
<li>
<p>gs_stopcluster -u admin/admin -w</p>
<ul>
<li>Specify the user name and the password of admin, the management user, along with the user authentication option -u, and specify -w option to wait until the cluster has stopped.</li>
</ul>
</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code>$ gs_stopcluster -u admin/admin -w
.
.
The GridDB cluster has been stopped.
</code></pre><h4 id="stopping-a-node">Stopping a node</h4>
<p>To stop the node, execute the gs_stopcluster command. When the cluster stop command is executed, the cluster becomes inaccessible from the applications.
Specify the user name and the password of admin, the management user, along with the user authentication option -u, and specify -w option to wait until the cluster has stopped.</p>
<ul>
<li>
<p>gs_stopnode -u admin/admin -w</p>
<ul>
<li>Specify the user name and the password of admin, the management user, along with the user authentication option -u, and specify -w option to wait until the node is stopped.</li>
</ul>
</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code>$ gs_stopnode -u admin/admin -w
The GridDB node is stopped.
.
The GridDB node has been stopped.
</code></pre><h2 id="buildexecution-method">Build/execution method</h2>
<p>An example on how to build and execute a program is as shown.</p>
<p>[For Java]</p>
<ol>
<li>Setting the environment variable CLASSPATH</li>
<li>Copy the sample program to the gsSample directory</li>
<li>Build</li>
<li>Run</li>
</ol>
<pre tabindex="0"><code>$ export CLASSPATH=${CLASSPATH}:$GS_HOME/bin/gridstore.jar:.
$ mkdir gsSample
$ cp $GS_HOME/docs/sample/program/Sample1.java gsSample/.
$ javac gsSample/Sample1.java
$ java gsSample/Sample1 239.0.0.1 31999 setup_cluster_name admin your_password
</code></pre><hr>
<h1 id="using-rpm">Using RPM</h1>
<p>We have confirmed the operation on CentOS 7.9.</p>
<h4 id="warning-note-3">:warning: Note</h4>
<ul>
<li>Please install Python3 in advance.</li>
<li>When you install this package, a gsadm OS user are created in the OS. Execute the operating command as the gsadm user.<br>
Example
<pre tabindex="0"><code># su - gsadm
$ pwd
/var/lib/gridstore
</code></pre></li>
<li>You do not need to set environment variable GS_HOME and GS_LOG. And the place of operating command is set to environment variable PATH.</li>
<li>There is Java client library (gridstore.jar) on /usr/share/java and a sample on /usr/gridb-XXX/docs/sample/programs.</li>
<li>If old version has been installed, please uninstall and remove conf/ and data/ on /var/lib/gridstore.</li>
</ul>
<h2 id="install">Install</h2>
<p>Install the package of your target OS.</p>
<pre><code>(CentOS)
$ sudo rpm -ivh griddb-X.X.X-linux.x86_64.rpm

X.X.X means version
</code></pre>
<h3 id="user-and-directory-structure-after-installation">User and directory structure after installation</h3>
<p>When the GridDB package is installed, the following users and directory structure will be created.</p>
<h4 id="griddb-users-and-group">GridDB users and group</h4>
<p>The OS group gridstore and user gsadm are created. Use the user gsadm as the operator of GridDB.</p>
<table>
<thead>
<tr>
<th>User</th>
<th>Group</th>
<th>GridDB home directory path</th>
</tr>
</thead>
<tbody>
<tr>
<td>gsadm</td>
<td>gridstore</td>
<td>/var/lib/gridstore</td>
</tr>
</tbody>
</table>
<p>The following environment variables are defined for user gsadm (in the .bash_profile file):</p>
<table>
<thead>
<tr>
<th>Environment variables</th>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>GS_HOME</td>
<td>/var/lib/gridstore</td>
<td>User gsadm/GridDB home directory</td>
</tr>
<tr>
<td>GS_LOG</td>
<td>/var/lib/gridstore/log</td>
<td>The output directory of the event log file of a node</td>
</tr>
</tbody>
</table>
<h4 id="directory-hierarchy">Directory hierarchy</h4>
<p>The following two directories are created: GridDB home directory which contains files such as a node definition file and database files, the installation directory which contains the installed files.</p>
<h6 id="griddb-home-directory">GridDB home directory</h6>
<pre tabindex="0"><code>/var/lib/gridstore/                      # GridDB home directory
                   conf/                 # Definition file directory
                        gs_cluster.json  # Cluster definition file
                        gs_node.json     # Node definition file
                        password         # User definition file
                   data/                 # Data file, checkpoint log directory
                   txnlog/               # Transaction log file directory
                   log/                  # Log directory
</code></pre><h6 id="installation-directory">Installation directory</h6>
<pre tabindex="0"><code>Installation directory
            bin/                        # Operation command, module directory
            conf/                       # Definition file directory
                gs_cluster.json         # Custer definition file
                gs_node.json            # Node definition file
                password                # User definition file
            conf_multicast/             # Definition file directory (for remote connection)
            3rd_party/                  
            docs/
                manual/
                sample/
</code></pre><h2 id="environmental-settings-1">Environmental settings</h2>
<p><a href="#using-source-code">When using source code</a>the &ldquo;<a href="#environmental-setting">environmental setting </a>&rdquo; is the same</p>
<h2 id="startingstopping-1">Starting/stopping</h2>
<p>Operate as the gsadm user.</p>
<p>Default is only for local connection. So, please change the configure files as follows.</p>
<pre><code>[gsadm]$ cp /usr/griddb-X.X.X/conf_multicast/* conf/.
</code></pre>
<p>Other than that, it is the same as &ldquo;Start / Stop&rdquo; in &ldquo;[When using source code]&rdquo;.</p>
<h2 id="buildexecution-method-1">Build/execution method</h2>
<p>An example on how to build and execute a program is as shown.</p>
<p>[For Java]</p>
<ol>
<li>Setting environment variables</li>
<li>Copy the sample program to the gsSample directory</li>
<li>Build</li>
<li>Run</li>
</ol>
<pre tabindex="0"><code>$ export CLASSPATH=${CLASSPATH}:/usr/share/java/gridstore.jar:.
$ mkdir gsSample
$ cp /usr/gridstore-X.X.X/docs/sample/program/Sample1.java gsSample/.
$ javac gsSample/Sample1.java
$ java gsSample/Sample1 239.0.0.1 31999 setup_cluster_name admin your_password
</code></pre><h2 id="griddb-uninstallation">GridDB uninstallation</h2>
<p>If you no longer need GridDB, uninstall the package. Execute the following procedure with root authority.</p>
<p>[Example]</p>
<pre><code>(CentOS)
$ sudo rpm -e griddb
</code></pre>
<h4 id="warning-note-4">:warning: Note</h4>
<ul>
<li>Files under the GridDB home directory such as definition files and data files will not be uninstalled. If you do not need it, delete it manually.</li>
</ul>
<hr>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-dc3efd27129c18f84fb338ed964b26a0">1.2 - Enterprise Edition</h1>
    <div class="lead">Overview of GridDB and information for first time users</div>
	<h2 id="-----introduction----">&mdash;  Introduction &mdash;</h2>
<h2 id="contents-of-this-manual">Contents of this manual</h2>
<p>This manual explains the outline and simple usage of GridDB to those who use GridDB for the first time,
illustrating installation of GridDB in a PC, starting and stopping, and data manipulation.</p>
<p>Subsequent chapters deal with the following topics:</p>
<ul>
<li>
<p>Introduction<br>
This section describes GridDB products.
Also outlines &ldquo;nodes and clusters&rdquo;, and &ldquo;containers and rows&rdquo; which are the basics of GridDB architecture data model.</p>
</li>
<li>
<p>Installation of GridDB<br>
This section describes the operating procedures to install GridDB in a PC. Follow the procedures below and install GridDB.</p>
</li>
<li>
<p>Starting/stopping<br>
This section explains operations to start/stop GridDB. The operations using operating commands are introduced from among some operational methods of GridDB.</p>
</li>
<li>
<p>Data operation<br>
This section describes simple data manipulations using gs_sh commands for various operations of GridDB, and gs_import commands for importing data.
A series of basic operations are explained, including connecting with a cluster, creating a container, data registration, and data search.</p>
</li>
<li>
<p>Executing a sample program<br>
GridDB provides some sample programs to create a container and data registration. Building and executing sample programs are explained.</p>
</li>
<li>
<p>Uninstallation of GridDB<br>
This section describes the uninstallation procedure of GridDB.</p>
</li>
</ul>
<h2 id="what-is-griddb">What is GridDB?</h2>
<p>GridDB is a database which allows a vast quantity of data to be stored and searched quickly and safely..</p>
<p>As a retail version of GridDB, GridDB Enterprise Edition (hereafter referred to as &ldquo;GridDB EE&rdquo;) features:</p>
<ul>
<li>High speed data management using in-memory processing.</li>
<li>Large capacity by scaling out</li>
<li>High reliability by performing data replication, storing backup data in a physical disk, and using data transaction functions.</li>
<li>Easy operation by using autonomous management of adding and deleting nodes in a cluster</li>
<li>Providing NoSQL interfaces for batch processing big data at high speed and NewSQL interfaces where SQL is available.</li>
</ul>
<p>The SQL function is based on SQL92 and JDBC (Java Database Connectivity) and ODBC (Open Database Connectivity) are available,
which allows direct access to a database from BI (Business Intelligence) tools or ETL (Extract Transfer Load) tools.</p>
<p>The interfaces available:</p>
<table>
<thead>
<tr>
<th></th>
<th>GridDB EE</th>
</tr>
</thead>
<tbody>
<tr>
<td>Java API</td>
<td></td>
</tr>
<tr>
<td>C API</td>
<td></td>
</tr>
<tr>
<td>JDBC</td>
<td></td>
</tr>
<tr>
<td>ODBC</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="structure-of-griddb">Structure of GridDB</h2>
<p>This chapter explains &ldquo;A node and a cluster&rdquo;, and &ldquo;a container and a row&rdquo; which are the basics of GridDB architecture data model.</p>
<h3 id="a-node-and-a-cluster">A node and a cluster</h3>
<p>A &ldquo;node&rdquo; refers to a server process to perform data management in GridDB. Only one node can operate in one machine.</p>
<p>GridDB is operated in &ldquo;clusters&rdquo; which are composed of multiple nodes. To access a database from an application, the nodes have to be started up and the cluster service has to be initiated.</p>
<p>Cluster service is started when the number of nodes joining the cluster becomes the same as the number of nodes constituting a cluster.
Cluster service will not be started and access to the database from the application will not be possible until all the nodes constituting a cluster have joined the cluster.</p>
<p>A cluster needs to be composed even when operating with only one node. In this case, the number of nodes constituting a cluster is one and is called &ldquo;Single configuration&rdquo;.
A cluster needs a &ldquo;cluster name&quot;so that it can be identified even if multiple clusters exist on the network. Using this &ldquo;cluster name&rdquo;, a node or an application identifies the cluster.</p>
<figure>
  <img src="img/arc_clusterNameCount.png" width="500" alt="Cluster name and number of nodes constituting a cluster"/>
  <figcaption>Cluster name and number of nodes constituting a cluster</figcaption>
</figure>
<h3 id="data-model---what-is-a-container-and-a-row--">Data model - what is a container and a row -</h3>
<p>GridDB uses a unique key container type data model, which is extended from a key value type, a typical data model of NoSQL.
It has the following features:</p>
<ul>
<li>A concept resembling a RDB table, named &ldquo;container&rdquo;, has been introduced to manage data.</li>
<li>A schema to define the data type for the container can be set. An index can be set in a column.</li>
<li>Guarantees the ACID characteristic of data for each container.</li>
</ul>
<figure>
  <img src="img/arc_DataModel.png" width="550" alt="Data model"/>
  <figcaption>Data model</figcaption>
</figure>
<ul>
<li>
<p>Container</p>
<p>A container of data
of two types: a collection and a timeseries container.</p>
<ul>
<li>Collection
<ul>
<li>The container for managing general data</li>
</ul>
</li>
<li>Timeseries container
<ul>
<li>The container for managing time series data</li>
</ul>
</li>
</ul>
<p>Be sure to create a container before registering data using an application.</p>
</li>
<li>
<p>Row<br>
A row refers to a row of data to be registered in a container. Multiple rows are registered in a container.</p>
</li>
</ul>
<h2 id="explanation-of-terms">Explanation of terms</h2>
<p>Explanation of terms used in this manual.</p>
<table>
<thead>
<tr>
<th>Terms</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node</td>
<td>A server process to perform data management in GridDB.</td>
</tr>
<tr>
<td>Cluster</td>
<td>Refers to a single or a set of multiple nodes to perform data management together.</td>
</tr>
<tr>
<td>Container</td>
<td>A container to manage a set of rows. There are two types: collections and time series containers. There are two types: collections and time series containers.</td>
</tr>
<tr>
<td>Collection</td>
<td>A type of container that manages rows containing general key.</td>
</tr>
<tr>
<td>Timeseries container</td>
<td>A type of container that manages rows containing time-series key. It has a special function to handle time-series data.</td>
</tr>
<tr>
<td>Row</td>
<td>A chunk of data managed in GridDB, which consists of a key and multiple values.</td>
</tr>
</tbody>
</table>
<h2 id="-----installation-of-griddb----">&mdash;  Installation of GridDB &mdash;</h2>
<p>Install and use GridDB in the following way:</p>
<ol>
<li>Checking before installation</li>
<li>Installation of GridDB</li>
<li>Environmental settings</li>
</ol>
<h2 id="checking-before-installation">Checking before installation</h2>
<p><strong>Checking the OS version</strong></p>
<p>Check the OS of the machine to install GridDB in meets the requirements of GridDB.
More specifically, check that the OS is RHEL, CentOS, or Ubuntu Server and the version is the one specified in the release notes.</p>
<p>[Example for checking the version of RHEL and CentOS]</p>
<pre tabindex="0"><code>$ cat /etc/redhat-release
CentOS Linux release 7.9.2009 (Core)
</code></pre><p>[Example for checking the version of Ubuntu Server]</p>
<pre tabindex="0"><code>$ cat /etc/lsb-release
DISTRIB_ID=Ubuntu
DISTRIB_RELEASE=20.04
DISTRIB_CODENAME=focal
DISTRIB_DESCRIPTION=&#34;Ubuntu 20.04.2 LTS&#34;
</code></pre><p>[Memo]</p>
<ul>
<li>In choosing OS package groups during RHEL/CentOS installation, at least &ldquo;Basic Server&rdquo; needs to be chosen.</li>
</ul>
<p><strong>Checking the Python version</strong></p>
<p>Before installing the package, install Python 3.6 or later.</p>
<p>[Example for checking the Python version]</p>
<pre tabindex="0"><code>$ python3 --version
</code></pre><p>[Notes]</p>
<ul>
<li>If Python is not installed, installation of the package fails.</li>
</ul>
<p><strong>Checking the installation media</strong></p>
<p>The installation media contains a package for each OS.</p>
<pre tabindex="0"><code>/RHEL/    # RPM package for RHEL and CentOS
		griddb-ee-c-lib-X.X.X-linux.x86_64.rpm
		griddb-ee-client-X.X.X-linux.x86_64.rpm
		griddb-ee-go-lib-X.X.X-linux.x86_64.rpm
		griddb-ee-java-lib-X.X.X-linux.x86_64.rpm
		griddb-ee-nodejs-lib-X.X.X-linux.x86_64.rpm
		griddb-ee-python-lib-X.X.X-linux.x86_64.rpm
		griddb-ee-server-X.X.X-linux.x86_64.rpm
		griddb-ee-webapi-X.X.X-linux.x86_64.rpm
		griddb-ee-webui-X.X.X-linux.x86_64.rpm
/Ubuntu/  # deb package for Ubuntu Server
		griddb-ee-c-lib_X.X.X_amd64.deb
		griddb-ee-client_X.X.X_amd64.deb
		griddb-ee-go-lib_X.X.X_amd64.deb
		griddb-ee-java-lib_X.X.X_amd64.deb
		griddb-ee-nodejs-lib_X.X.X_amd64.deb
		griddb-ee-python-lib_X.X.X_amd64.deb
		griddb-ee-server_X.X.X_amd64.deb
		griddb-ee-webapi_X.X.X_amd64.deb
		griddb-ee-webui_X.X.X_amd64.deb
/Windows/ # C-API, JDBC, and ODBC for Windows
		C-API/	
		JDBC/
		ODBC/
/misc/    # database file migration tool, samples, and others
		convdbv4tov5/
		ansible-template/
		dockerfile-sample/
		zabbix-template/
/Fixlist.pdf
/Readme.txt
</code></pre><p>*: X.X.X indicates the GridDB version.</p>
<h2 id="installation-of-griddb">Installation of GridDB</h2>
<h3 id="installation-of-a-package">Installation of a package.</h3>
<p>Install the GridDB packages, which include a  server package, an operation tool package,  and a library package.</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Package name</th>
<th>File name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Server</td>
<td>griddb-ee-server</td>
<td>griddb-ee-server-X.X.X-linux.x86_64.rpm<br>griddb-ee-server_X.X.X_amd64.deb</td>
<td>The start commands of a node and other node modules are included.</td>
</tr>
<tr>
<td>Operation tool</td>
<td>griddb-xx-client</td>
<td>griddb-ee-client-X.X.X-linux.x86_64.rpm<br>griddb-ee-client_X.X.X_amd64.deb</td>
<td>Operating tools except for start node, Backup/restoration, operation control GUI are included.</td>
</tr>
<tr>
<td>Java application development library</td>
<td>griddb-ee-java_lib</td>
<td>griddb-ee-java-lib-X.X.X-linux.x86_64.rpm<br>griddb-ee-java-lib_X.X.X_amd64.deb</td>
<td>Java and JDBC library are included.</td>
</tr>
<tr>
<td>C application development library</td>
<td>griddb-ee-c_lib</td>
<td>griddb-ee-c-lib-X.X.X-linux.x86_64.rpm<br>griddb-ee-c-lib_X.X.X_amd64.deb</td>
<td>C header file and library are included. (Install these if needed)</td>
</tr>
</tbody>
</table>
<p>*: X.X.X indicates the GridDB version.</p>
<p>[Memo]</p>
<ul>
<li>The application development library provides the package of programming languages other than C and Java. Install them if needed.</li>
</ul>
<p>Place the packages above in any directory on the machine to install GridDB.
Install the packages using a command. Install the server package &ldquo;griddb-ee-server&rdquo; first.</p>
<p>[Example for installing the package in CentOS]</p>
<pre tabindex="0"><code>$ sudo rpm -Uvh griddb-ee-server-X.X.X-linux.x86_64.rpm
Preparing...                ########################################### [100%]
User gsadm and group gridstore have been registered.
GridDB uses new user and group.
   1:griddb-ee-server          ########################################### [100%]
$
$ sudo rpm -Uvh griddb-ee-client-X.X.X-linux.x86_64.rpm
Preparing...                ########################################### [100%]
User and group has already been registered correctly.
GridDB uses existing user and group.
   1:griddb-ee-client          ########################################### [100%]
$
$ sudo rpm -Uvh griddb-ee-java-lib-X.X.X-linux.x86_64.rpm
Preparing...                ########################################### [100%]
   1:griddb-ee-java-lib        ########################################### [100%]
$
$ sudo rpm -Uvh griddb-ee-c-lib-X.X.X-linux.x86_64.rpm
Preparing...                ########################################### [100%]
   1:griddb-ee-c-lib           ########################################### [100%]
</code></pre><p>[Memo]</p>
<ul>
<li>For Ubuntu Server, install the package using dpkg.</li>
</ul>
<pre tabindex="0"><code>$ sudo dpkg -i griddb-ee-server_X.X.X_amd64.deb
</code></pre><h3 id="users-and-the-directory-hierarchy-after-installation">Users and the directory hierarchy after installation</h3>
<p>The following user and directories are created after the installation.</p>
<p><strong>User</strong></p>
<p>OS Group gridstore and a user gsadm are created. Use the user gsadm as the operator of GridDB.</p>
<table>
<thead>
<tr>
<th>User</th>
<th>Group</th>
<th>GridDB home directory</th>
</tr>
</thead>
<tbody>
<tr>
<td>gsadm</td>
<td>gridstore</td>
<td>/var/lib/gridstore</td>
</tr>
</tbody>
</table>
<p>The following environment variables are defined for this gsadm user.</p>
<table>
<thead>
<tr>
<th>Environment variables</th>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>GS_HOME</td>
<td>/var/lib/gridstore</td>
<td>User gsadm/GridDB home directory</td>
</tr>
<tr>
<td>GS_LOG</td>
<td>/var/lib/gridstore/log</td>
<td>The output directory of the event log file of a node</td>
</tr>
</tbody>
</table>
<p><strong>Directory hierarchy</strong></p>
<p>The following two directories are created: GridDB home directory which contains files such as a node definition file and database files, the installation directory which contains the installed files.</p>
<p>GridDB home directory</p>
<pre tabindex="0"><code>/var/lib/gridstore/                      # GridDB home directory
                   admin/                # gs_admin home directory
                   backup/               # Backup directory
                   conf/                 # Definition files directory
                        gs_cluster.json  # Cluster definition file
                        gs_node.json     # Node definition file
                        password         # User definition file
                   data/                 # Data file, checkpoint log directory
                   txnlog/               # Transaction log directory
                   expimp/               # Export/Import tools directory
                   log/                  # Log directory
                   webapi/               # Web API directory
</code></pre><p>Installation directory</p>
<pre tabindex="0"><code>/usr/griddb/                            # GridDB installation directory
            Readme.txt
            bin/                        # Operating command, module directory
            conf/                       # Sample definition file directory
                 gs_cluster.json.tmpl   # Cluster definition file sample
                 gs_cluster.json.tmpl   # Node definition file sample
                 password.tmpl          # User definition file sample
            etc/
            lib/                        # Library directory
            license/                    # License directory
            prop/                       # Configuration file directory
            sample/                     # Sample program
/usr/griddb-webui/                      # Integrated operational management GUI installation directory
/usr/griddb-webapi/                     # Web API installation directory
</code></pre><p>[Memo]</p>
<ul>
<li>When a node is started or a tool is executed, a database file or a log file will be created under the following directories.
<pre tabindex="0"><code>/var/lib/gridstore/data                # Database file directory
/var/lib/gridstore/log                 # Log directory
</code></pre></li>
</ul>
<h2 id="environmental-settings">Environmental settings</h2>
<h3 id="network-settings">Network settings</h3>
<p>GridDB uses multicast communication to constitute a cluster.
Set the network to enable multicast communication.</p>
<p>First, check the host name and an IP address.
Execute &ldquo;hostname -i&rdquo; command to check the settings of an IP address of the host.
When the IP address of the machine is displayed as in the following example, the network setting is already done, so skip the procedures in this section.</p>
<ul>
<li>[Example]
<pre tabindex="0"><code>$ hostname -i
192.168.11.10
</code></pre></li>
</ul>
<p>When the following message or the loopback addresses 127.0.0.1 is displayed, the setting has not been configured.
Follow the following procedures from 1 to 3.</p>
<ul>
<li>[Example]
<pre tabindex="0"><code>$ hostname -i
hostname: no IP address was found for this hostname.
</code></pre>or
<pre tabindex="0"><code>$ hostname -i
127.0.0.1
</code></pre></li>
</ul>
<p>Network settings</p>
<ol>
<li>Check the host name and OS IP address.</li>
</ol>
<ul>
<li>
<p>Check the host name.</p>
<p>[Example]</p>
<pre tabindex="0"><code>$ hostname
MY_HOST
</code></pre></li>
<li>
<p>Check the IP address.</p>
<p>[Example]</p>
<pre tabindex="0"><code>$ ip -f inet -o addr show eth0 | cut -d&#39; &#39; -f 7 | cut -d/ -f 1
192.168.11.10
</code></pre></li>
</ul>
<ol start="2">
<li>Assign the hostname to the IP address.</li>
</ol>
<ul>
<li>
<p>Add the host name and IP address, which were checked in the procedure 1, to the /etc/hosts file as a root user.</p>
<p>[Example of description in the file]</p>
<pre tabindex="0"><code>192192.168.11.10   MY_HOST
</code></pre></li>
</ul>
<ol start="3">
<li>Check the setting.</li>
</ol>
<ul>
<li>
<p>Execute &ldquo;hostname -i&rdquo; command to check the settings of an IP address of the host. Check that the IP address specified in the procedure 2 is displayed.</p>
<p>[Example]</p>
<pre tabindex="0"><code>$ hostname -i
192.168.11.10
</code></pre></li>
</ul>
<h3 id="setting-the-system-resource-limit">Setting the system resource limit</h3>
<p>Change the upper limit for the number of processes the gsadm user can use and for the number of files the gsadm user can open to make resources available as much as possible. Set the value in /etc/security/limits.conf.</p>
<p>[Example for setting limits.conf]</p>
<pre tabindex="0"><code>gsadm soft nproc 16384
gsadm hard nproc 16384
gsadm soft nofile 65536
gsadm hard nofile 65536
</code></pre><p>Log in as gsadm again to update the settings. Verify the settings using ulimit -a.</p>
<h3 id="setting-parameters-of-a-node">Setting parameters of a node</h3>
<p>To operate GridDB after installation, initial setting of parameters, such as addresses and the cluster name, is required.
In this manual, only &ldquo;Cluster name&rdquo;, an essential item, is set and for other items default values are used.</p>
<p>Describe &ldquo;Cluster name&rdquo; of a cluster in the cluster definition file.
A cluster definition file is &ldquo;/var/lib/gridstore/conf/gs_cluster.json.&rdquo;</p>
<p>Write the cluster name after &ldquo;:&rdquo; of &ldquo;&ldquo;clusterName&rdquo;:&rdquo;&rdquo;&quot;
as &ldquo;myCluster&rdquo;, the example used in this manual.</p>
<p>[Example of description in the file]</p>
<pre tabindex="0"><code>{
        &#34;dataStore&#34;:{
                &#34;partitionNum&#34;:128,
                &#34;storeBlockSize&#34;:&#34;64KB&#34;
        },
        &#34;cluster&#34;:{
                &#34;clusterName&#34;:&#34;myCluster&#34;,
                &#34;replicationNum&#34;:2,
....
</code></pre><p>[Memo]</p>
<ul>
<li>Using a cluster name, which is unique on the sub network is recommended.</li>
<li>A cluster name must be composed of one or more ASCII alphanumeric characters or the underscore &ldquo;_&rdquo;. A number is not accepted as the first character of the name. The name is also not case-sensitive. The maximum length of the name must be 64 characters.</li>
</ul>
<h3 id="configuration-items">Configuration items</h3>
<p>Except for network settings and the cluster name, GridDB can operate with the default setting values. The main setting items are shown below. Use the values below when executing the tools in the following sections.</p>
<table>
<thead>
<tr>
<th>Setting items</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>IP address</td>
<td>The IP address displayed when executing &ldquo;hostname -i&rdquo; command</td>
</tr>
<tr>
<td>Cluster name</td>
<td>myCluster</td>
</tr>
<tr>
<td>Multicast address</td>
<td>239.0.0.1 (Default value)</td>
</tr>
<tr>
<td>Multicast port number</td>
<td>31999 (Default value)</td>
</tr>
<tr>
<td>User name</td>
<td>admin (Default value)</td>
</tr>
<tr>
<td>User password</td>
<td>admin (Default value)</td>
</tr>
<tr>
<td>Multicast address</td>
<td>239.0.0.1 (Default value)</td>
</tr>
<tr>
<td>Multicast port number</td>
<td>41999 (Default value)</td>
</tr>
</tbody>
</table>
<h3 id="initial-setting-of-operation-tools">Initial setting of operation tools</h3>
<p>Some operation tools require initial settings. Initial settings of gs_sh and gs_import, used for <a href="#label_operating_data">data manipulation</a>, are explained in this section. (When not using these tools, skip this section.)</p>
<h4 id="setting-gs_sh-command">Setting gs_sh command</h4>
<p>gs_sh is a command line interface of GridDB for cluster operation or data manipulation.
It provides functions for batch operations on cluster nodes, data manipulation functions, including creating a container, TQL search and SQL search.</p>
<p>Set the connection information to a cluster in the configuration file of gs_sh &ldquo;/var/lib/gridstore/.gsshrc&rdquo; before using a gs_sh command.</p>
<p>Use a setcluster subcommand and a setuser subcommand to define the connection destination address of a cluster, or the user name that are used for the connection. Specify the default values except for the cluster variables and the cluster name. Describe &ldquo;/var/lib/gridstore/.gsshrc&rdquo; file as follows.</p>
<p>[Example of description in the file]</p>
<pre tabindex="0"><code>setcluster cluster myCluster 239.0.0.1 31999
setuser admin admin
</code></pre><ul>
<li>
<p>Cluster information definition subcommand</p>
<ul>
<li>setcluster <Cluster variable> <Cluster name> <Multicast address> <Port no.>
<ul>
<li>Cluster variable: cluster</li>
<li>Cluster name: myCluster</li>
<li>Multicast address: 239.0.0.1 (Default value)</li>
<li>Multicast port number: 31999 (Default value)</li>
</ul>
</li>
</ul>
</li>
<li>
<p>User information definition subcommand</p>
<ul>
<li>setuser <User name> <Password>
<ul>
<li>User name: admin (Default value)</li>
<li>Password: admin (Default value)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Also define the information about the connection destination of SQL. Specify the default values except for the cluster variables and the cluster name. Describe the file as follows.</p>
<p>[Example of description in the file]</p>
<pre tabindex="0"><code>setcluster cluster myCluster 239.0.0.1 31999
setclustersql cluster myCluster 239.0.0.1 41999
setuser admin admin
</code></pre><ul>
<li>Cluster information (SQL) definition subcommand
<ul>
<li>setclustersql <Cluster variable> <Cluster name> <SQL address> <SQL port no.>
<ul>
<li>Cluster variable: cluster</li>
<li>Cluster name: myCluster</li>
<li>SQL address: 239.0.0.1 (Default value)</li>
<li>SQL port number: 41999 (Default value)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="setting-gs_import-command">Setting gs_import command</h4>
<p>gs_import is a command for importing data to a container.</p>
<p>Describe information, such as cluster address, in a property file in advance.
The property file is &ldquo;/var/lib/gridstore/expimp/conf/gs_expimp.properties.&rdquo;</p>
<p>Describe the cluster name (&ldquo;myCluster&rdquo; in this manual) right next to &ldquo;clusterName=&rdquo; in the property file.</p>
<p>[Example of description in the file]</p>
<pre tabindex="0"><code>clusterName=myCluster
mode=MULTICAST
hostAddress=239.0.0.1
hostPort=31999
...
</code></pre><h2 id="----startingstopping----">&mdash; Starting/stopping &mdash;</h2>
<p>Start/stop a GridDB node and a cluster. Starting/stopping operations using operating commands are introduced from among some operational methods of GridDB.</p>
<p>A list of operating commands</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_startnode</td>
<td>Starting a node</td>
</tr>
<tr>
<td>gs_joincluster</td>
<td>Add a node to a cluster.</td>
</tr>
<tr>
<td>gs_leavecluster</td>
<td>Detach a node from a cluster</td>
</tr>
<tr>
<td>gs_stopcluster</td>
<td>Stopping a cluster</td>
</tr>
<tr>
<td>gs_stopnode</td>
<td>Stop a node (shutdown)</td>
</tr>
<tr>
<td>gs_stat</td>
<td>Get node internal data</td>
</tr>
</tbody>
</table>
<p>[Points to note]</p>
<ul>
<li>Execute the operating command as a gsadm user.
<ul>
<li>Example
<pre tabindex="0"><code># su - gsadm
$ pwd
/var/lib/gridstore
</code></pre></li>
</ul>
</li>
<li>If a proxy variable (http_proxy) has been set up, set the node address(es) in no_proxy and exclude it/them from the proxy target.
Otherwise, since the operating command uses REST/http communications, it will connect to the proxy server and will fail to operate.
<ul>
<li>Example of setting
<pre tabindex="0"><code>$ export no_proxy=localhost,127.0.0.1,192.168.10.11,192.168.10.12,192.168.10.13
</code></pre></li>
</ul>
</li>
</ul>
<h2 id="starting-operations">Starting operations</h2>
<p>The normal starting procedures of GridDB, after the installation and setting up, is as follows.</p>
<ol>
<li>Starting a node</li>
<li>Starting a cluster</li>
</ol>
<p>As explained in &ldquo;a node and a cluster&rdquo; section, GridDB cluster is formed when the number of nodes specified by the user joins the cluster and then the cluster service is started.
Cluster service will not be started and access to the cluster from the application will not be possible until all the nodes constituting a cluster have joined the cluster.</p>
<p>The example in this manual is &ldquo;single configuration&rdquo; using one node. Start up a node, add the node to a cluster and then start the cluster.</p>
<h3 id="starting-a-node">Starting a node</h3>
<p>Use the following command to start a node.</p>
<ul>
<li>
<p>gs_startnode -u &lt;user name&gt;/&lt;password&gt; -w</p>
<ul>
<li>Specify the user name and the password of admin, the management user, along with the user authentication option -u, and specify -w option to wait wait for the node to start.</li>
</ul>
</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code>$ gs_startnode -u admin/admin -w
</code></pre><h3 id="starting-a-cluster">Starting a cluster</h3>
<p>Execute a command to join the cluster at each node and start the cluster.
Use the following command to start the cluster.</p>
<ul>
<li>
<p>gs_joincluster -u &lt;user name&gt;/&lt;password&gt; -w -c &lt;cluster name&gt;</p>
<ul>
<li>Specify the user name and password of admin, the management user, along with the user authentication option -u, and specify -w option to wait until the starting up of the cluster. Specify a cluster name with -c option.</li>
</ul>
</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code>$ gs_joincluster -u admin/admin w -c myCluster
</code></pre><p>After starting the cluster, check the cluster status. Use the following command to check the state.</p>
<ul>
<li>
<p>gs_stat -u &lt;user name&gt;/&lt;password&gt;</p>
<ul>
<li>Specify the user name and the password of admin, the management user, with the user authentication option -u. To check the status of a cluster, extract the lines including &ldquo;Status&rdquo; using grep command.</li>
</ul>
</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code>$ gs_stat -u admin/admin | grep Status
        &#34;clusterStatus&#34;: &#34;MASTER&#34;,
        &#34;nodeStatus&#34;: &#34;ACTIVE&#34;,
        &#34;partitionStatus&#34;: &#34;NORMAL&#34;
</code></pre><p>If the three status displayed by &ldquo;gs_stat&rdquo; command are the ones in the above example, the cluster has started normally. The cluster has becme accessible from an application.</p>
<h2 id="stopping-operations">Stopping operations</h2>
<h3 id="basic-flow">Basic flow</h3>
<p>The stopping procedures of GridDB is as follows.</p>
<ol>
<li>Stopping a cluster</li>
<li>Stopping a node</li>
</ol>
<p>Contrary to the startup procedures, stop the cluster first and then stop the each node. When the cluster is stopped, it becomes inaccessible from the applications.</p>
<h3 id="stopping-a-cluster">Stopping a cluster</h3>
<p>Execute the following cluster stop command. When the cluster stop command is executed, the cluster becomes inaccessible from the applications.</p>
<ul>
<li>
<p>gs_stopcluster -u &lt;user name&gt;/&lt;password&gt; -w</p>
<ul>
<li>Specify the user name and the password of admin, the management user, along with the user authentication option -u, and specify -w option to wait until the cluster has stopped.</li>
</ul>
</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code>$ gs_stopcluster -u admin/admin -w
</code></pre><h3 id="stopping-a-node">Stopping a node</h3>
<p>Execute the node stop command to stop, or shutdown, a node. Be sure to stop the cluster before stopping a node.</p>
<ul>
<li>
<p>gs_stopnode -u &lt;user name&gt;/&lt;password&gt; -w</p>
<ul>
<li>Specify the user name and the password of admin, the management user, along with the user authentication option -u, and specify -w option to wait until the node is stopped.</li>
</ul>
</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code>$ gs_stopnode -u admin/admin -w
</code></pre><p><a id ="label_operating_data"></a></p>
<h2 id="----data-operation----">&mdash; Data operation &mdash;</h2>
<p>This chapter explains how to manipulate GridDB data. The following basic operations using gs_sh commands and a gs_import command will be explained.</p>
<ol>
<li>Connecting to a cluster (using a gs_sh command)</li>
<li>Creating a container (using a gs_sh command)</li>
<li>Registering a row (using a gs_import command)</li>
<li>Executing a TQL search (using a gs_import command)</li>
<li>Executing a SQL search (using a gs_import command)</li>
</ol>
<h2 id="connecting-to-a-cluster">Connecting to a cluster</h2>
<p>Connect to a cluster using a gs_sh command. When gs_sh is started, &ldquo;gs&gt;&rdquo; prompt will be displayed in a state waiting for the input of a subcommand. To connect to a cluster, use a subcommand &ldquo;connect.&rdquo;</p>
<ul>
<li>Subcommand to connect
<ul>
<li>connect <cluster variable>
<ul>
<li>The first argument: $cluster, the cluster variable defined using setcluster command</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code>$ gs_sh
gs&gt;
gs&gt; connect $cluster
The connection attempt was successful (NoSQL)
gs[public]&gt;
</code></pre><h2 id="creating-a-container">Creating a container</h2>
<h3 id="what-is-a-container">What is a container</h3>
<p>As explained in &ldquo;Data model - what is a container and a row -&rdquo;, GridDB manages data using a &ldquo;container&rdquo;, which contains data. A container has a definition of schemas, such as columns and data types.
Be sure to create a container before registering data using an application.</p>
<ul>
<li>
<p>Container type</p>
<ul>
<li>There are two types of containers. Use the one which serves the purpose.
<ul>
<li>Collection: The container for managing general data</li>
<li>Timeseries container: The container for managing time series data</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Column data type</p>
<ul>
<li>The types of column data types are as follows.
<ul>
<li>
<p>Basic data types</p>
<ul>
<li>Boolean type (BOOL)</li>
<li>Character string (STRING)</li>
<li>Integer type
<ul>
<li>BYTE</li>
<li>SHORT</li>
<li>INTEGER</li>
<li>LONG</li>
</ul>
</li>
<li>Floating point type
<ul>
<li>FLOAT</li>
<li>DOUBLE</li>
</ul>
</li>
<li>Time type (TIMESTAMP)</li>
<li>Spatial type (GEOMETRY)</li>
<li>BLOB</li>
</ul>
</li>
<li>
<p>HYBRID</p>
<ul>
<li>Array type
<ul>
<li>An array of boolean type, character string type, integer type, floating point type, time type</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="creating-a-container-1">Creating a container</h3>
<p>Create a container
of the type &ldquo;collection&rdquo; with the columns &ldquo;id&rdquo; (integer type) and &ldquo;value&rdquo; (string type).</p>
<ul>
<li>
<p>Collection creation subcommand</p>
<ul>
<li>createcollection <container name> <column name> <column type> [<column name> <column type> &hellip;]</li>
</ul>
<p>[Example] Execute a subcommand &ldquo;createcollection&rdquo; to create a container with the container name &ldquo;mycollection&rdquo;, columns &ldquo;id&rdquo; (integer type) and &ldquo;value&rdquo; (string type).</p>
<pre tabindex="0"><code>gs[public]&gt; createcollection mycollection id integer value string
</code></pre></li>
<li>
<p>Container list display subcommand</p>
<ul>
<li>showcontainer</li>
</ul>
<p>[Example] Execute the subcommand &ldquo;showcontainer&rdquo; and check the created container.</p>
<pre tabindex="0"><code>gs[public]&gt; showcontainer
Database : public
Name               Type		     PartitionId
----------------------------------------------------------------
mycollection         COLLECTION           59

Total Count: 1  
</code></pre></li>
</ul>
<h2 id="registering-a-row">Registering a row</h2>
<p>&ldquo;Row&rdquo; refers to a row of data registered in a container or table.
Import sample data and register a row.
Unzip and import the sample data.</p>
<p>[Example]</p>
<pre tabindex="0"><code>$ cd /usr/griddb/sample/ja/data/
$ unzip impSample.zip
</code></pre><p>Import the data in impSample/collection.</p>
<p>[Example]</p>
<pre tabindex="0"><code>$ cd impSample/collection
$ gs_import -u admin/admin --all
Start importing
Number of target containers: 1

public.c001: 5

The number of target containers: 1 (Success :1 Failure : 0)
Importing terminated
</code></pre><h2 id="executing-a-tql-search">Executing a TQL search</h2>
<p>Execute a TQL search on a container and display the result. Execute a TQL search using the subcommands &ldquo;tql&rdquo; and &ldquo;get&rdquo; of gs_sh command.</p>
<ul>
<li>tql: Search the row of a container with a TQL query.</li>
<li>get: Display the result of TQL.</li>
</ul>
<p>Search the container named &ldquo;c001.&rdquo;</p>
<p>Execute the search after connecting to the cluster.
First, execute the subcommand &ldquo;tql&rdquo; and execute a TQL search on a container &ldquo;c001&rdquo;.</p>
<ul>
<li>
<p>TQL execution subcommand</p>
<ul>
<li>tql <container name> <query>;</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code>gs[public]&gt; tql c001 select * where count &gt; 20;
3 results.  (26 ms)
</code></pre></li>
</ul>
<p>Next, execute the subcommand &ldquo;get&rdquo; and display the result.</p>
<ul>
<li>
<p>The subcommand to get the TQL execution result</p>
<ul>
<li>get</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code>gs[public]&gt; get
name,status,count
tokyo,false,100
iwate,false,30
akita,false,45
The 3 results had been acquired.
</code></pre></li>
</ul>
<h2 id="executing-an-sql-search">Executing an SQL search</h2>
<p>Execute an SQL search no a table and display the result.
Execute an SQL search using the subcommands &ldquo;sql&rdquo; and &ldquo;get&rdquo; of a gs_sh command.</p>
<ul>
<li>sql: Search NewSQL data (a table and a time series table) using an SQL query.</li>
<li>get: Display the result of SQL (unnecessary, when displaying all the search results).</li>
</ul>
<p>Search the container named &ldquo;c001.&rdquo;
Execute the search after connecting to the cluster.
Execute the subcommand &ldquo;sql&rdquo; and execute an SQL search on a container &ldquo;c001&rdquo;.</p>
<ul>
<li>
<p>SQL execution subcommand</p>
<ul>
<li>sql &lt;SQL query&gt;;</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code>gs[public]&gt; sql select * from c001 where count &gt; 20 and count &lt; 80;
2 results.  (179 ms)
</code></pre></li>
</ul>
<p>Next, execute the subcommand &ldquo;get&rdquo; and display the result.</p>
<ul>
<li>
<p>The subcommand to get the SQL execution result</p>
<ul>
<li>get</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code>gs[public]&gt; get
name,status,count
iwate,false,30
akita,false,45
The 2 results had been acquired.
</code></pre></li>
</ul>
<h2 id="----executing-a-sample-program----">&mdash; Executing a sample program &mdash;</h2>
<p>Sample programs using Java API and JDBC are available. Building and executing sample programs are explained.</p>
<p>The sample programs are in /usr/griddb/sample.</p>
<h2 id="execution-of-a-sample-program-using-java-api">Execution of a sample program using Java API</h2>
<p>The following package needs to be installed to run the sample program using Java API.</p>
<ul>
<li>Application development library (Java) package: griddb-ee-java-lib</li>
</ul>
<p>A sample program is in the following directory.</p>
<pre tabindex="0"><code>/usr/griddb/sample/ja/java
</code></pre><p>Specify the following libraries in the environment variable CLASSPATH to compile and execute the sample program.</p>
<pre tabindex="0"><code>/usr/share/java/gridstore.jar
</code></pre><p>[Example]</p>
<p>Compile and run the program.</p>
<pre tabindex="0"><code>$ export CLASSPATH=${CLASSPATH}:/usr/share/java/gridstore.jar:.
$ javac TQLSelect.java
$ java TQLSelect
</code></pre><p>Sample program &ldquo;TQLSelect.java&rdquo; is a program to execute the following processes.</p>
<ul>
<li>Connecting to a cluster</li>
<li>Creating a container</li>
<li>Registering a row</li>
<li>Executing a TQL search</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.ArrayList</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.List</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Properties</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Collection</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Container</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.ContainerInfo</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GSType</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStore</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Query</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Row</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.RowSet</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">TQLSelect</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">try</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">// Connecting to a cluster
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">// Specifying connection information (Multicast method)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJava&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// Generating a GridStore object
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">GridStore</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getGridStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// Connecting to a cluster when a container is creted or acquired.
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;dummyContainer&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">// Creating a container
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">String</span> <span style="color:#000">containerName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SampleJava_TQLSelect&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">createContainerPutRow</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">// Executing a TQL search
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">// (1) Getting a Container object
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;?,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// (2) Executing a TQL query
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * WHERE count &gt;= 50 ORDER BY id&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetch</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// (3) Acquiring a result in a row
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#204a87;font-weight:bold">while</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;row id=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, count=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">count</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">// Terminating process
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">catch</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">Exception</span> <span style="color:#000">e</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">e</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStackTrace</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">private</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">createContainerPutRow</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">GridStore</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">String</span> <span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">Exception</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic">// Creating a container
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">ContainerInfo</span> <span style="color:#000">containerInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ContainerInfo</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">columnList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;id&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">INTEGER</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;productName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">STRING</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">INTEGER</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setColumnInfoList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setRowKeyAssigned</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">Collection</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Void</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">collection</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putCollection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Create Collection name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic">// Registering a row
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">nameList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#4e9a06">&#34;notebook PC&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;desktop PC&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;keyboard&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;mouse&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;printer&#34;</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">int</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">numberList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">108</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">72</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">25</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">45</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">62</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rowList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">length</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">collection</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRow</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">numberList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">collection</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="execution-of-a-sample-program-using-c-api">Execution of a sample program using C API</h2>
<p>The following package needs to be installed to run the sample program using C API.</p>
<ul>
<li>Application development library (C) package: griddb-ee-c-lib</li>
</ul>
<p>A sample program is in the following directory.</p>
<pre tabindex="0"><code>/usr/griddb/sample/ja/c
</code></pre><p>Specify the following libraries in the environment variable LD_LIBRARY_PATH to compile and execute the sample program.</p>
<pre tabindex="0"><code>/usr/lib64
</code></pre><p>[Example]</p>
<p>Compile and run the program.</p>
<pre tabindex="0"><code>$ export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/usr/lib64
$ gcc -lgridstore -o TQLSelect TQLSelect.c
$ ./TQLSelect
</code></pre><p>Sample program &ldquo;TQLSelect.c&rdquo; is a program to execute the following processes.</p>
<ul>
<li>Connecting to a cluster</li>
<li>Creating a container</li>
<li>Registering a row</li>
<li>Executing a TQL search</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&#34;gridstore.h&#34;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;stdlib.h&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;stdio.h&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">argc</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">char</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">argv</span><span style="color:#000;font-weight:bold">[]){</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">/* constant */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// container name
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">containerName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SampleC_TQLSelect&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// Row data to register (number of rows in a container: 5)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">rowCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">nameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#4e9a06">&#34;notebook PC&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;desktop PC&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;keyboard&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;mouse&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;printer&#34;</span><span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">numberList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#0000cf;font-weight:bold">108</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">72</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">25</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">45</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">62</span><span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// TQL query
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">queryStr</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SELECT * WHERE count &gt;= 50 ORDER BY id&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">/* variable */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSGridStore</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSContainer</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSResult</span> <span style="color:#000">ret</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">j</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// For creating a container
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">GSContainerInfo</span> <span style="color:#000">info0</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_INFO_INITIALIZER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSColumnInfo</span> <span style="color:#000">columnInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_COLUMN_INFO_INITIALIZER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSColumnInfo</span> <span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">];</span> <span style="color:#8f5902;font-style:italic">// The number of columns: 3
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// For Row registration
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">GSRow</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSRow</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">rowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">rowObj</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// For error processing
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">size_t</span> <span style="color:#000">stackSize</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSResult</span> <span style="color:#000">errorCode</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSChar</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1024</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1024</span><span style="color:#000;font-weight:bold">];</span>  <span style="color:#8f5902;font-style:italic">// The buffer to store error messages
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// For executing a query
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">GSQuery</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSRowSet</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSBool</span> <span style="color:#000">exist</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#8f5902;font-style:italic">// Connecting to a cluster
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#8f5902;font-style:italic">// Specifying connection information (Multicast method)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">size_t</span> <span style="color:#000">propCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">props</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">props</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// Getting a GridStore instance
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsGetDefaultFactory</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">propCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetGridStore</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// Connecting to a cluster after a container is creted or acquired
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;containerName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsCloseContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Connect to Cluster</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#8f5902;font-style:italic">// Data preparation (creating a container creation &amp; registering rows)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic">// Setting up container information
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">info0</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_COLLECTION</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">info0</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowKeyAssigned</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;id&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;productName&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_STRING</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">info0</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">info0</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnInfoList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic">// Creating a collection
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutCollectionGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Sample data generation: Create Collection name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// Generating an empty row object
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// Setting values to the row object
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">gsSetRowFieldByString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">nameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">numberList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">rowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">rowObj</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">void</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000;font-weight:bold">)</span><span style="color:#000">rowList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic">// Registering multiple rows
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutMultipleRows</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">rowObj</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutMultipleRows</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Sample data generation: Put Rows count=%d</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">gsCloseContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#8f5902;font-style:italic">// Executing a TQL search
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#8f5902;font-style:italic">// (1) Getting a container
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87">NULL</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR Container not found. name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// (2) Executing a TQL search
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TQL query : %s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">queryStr</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">queryStr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsQuery</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsFetch</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsFetch</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// (3) Creatning an empty row
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// (4) Getting a result
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsHasNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic">// (5) Getting a row
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetNextRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">gsGetRowFieldAsString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TQL result: id=%d, productName=%s, count=%d</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">productName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#8f5902;font-style:italic">// Terminating process
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#8f5902;font-style:italic">// Releasing resources
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">gsCloseGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">return</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f57900">LABEL_ERROR</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#8f5902;font-style:italic">// Error processing
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#8f5902;font-style:italic">// Outputting error codes and error messages
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">stackSize</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorStackSize</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">stackSize</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">errorCode</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorCode</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">gsFormatErrorMessage</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">gsFormatErrorLocation</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;[%d] %s (%s)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errorCode</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// Releasing resources
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">gsCloseGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">return</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="execution-of-a-sample-program-using-jdbc">Execution of a sample program using JDBC</h2>
<p>The following package needs to be installed to run the sample program using JDBC API.</p>
<ul>
<li>Application development library (Java) package: griddb-ee-java-lib</li>
</ul>
<p>A sample program is in the following directory.</p>
<pre tabindex="0"><code>/usr/griddb/sample/ja/jdbc/
</code></pre><p>Specify the following libraries in the environment variable CLASSPATH to compile and execute the sample program.</p>
<pre tabindex="0"><code>/usr/share/java/gridstore-jdbc.jar
</code></pre><p>[Example]</p>
<p>Compile and run the program.</p>
<pre tabindex="0"><code>$ export CLASSPATH=${CLASSPATH}:/usr/share/java/gridstore-jdbc.jar:.
$ javac JDBCSelect.java
$ java JDBCSelect
</code></pre><p>Sample program &ldquo;JDBCSelect.java&rdquo; is a program to execute the following processing.</p>
<ul>
<li>Connecting to a cluster</li>
<li>Creating a container</li>
<li>Registering a row</li>
<li>Executing an SQL search</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.net.URLEncoder</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.sql.Connection</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.sql.DriverManager</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.sql.ResultSet</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.sql.Statement</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Properties</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">JDBCSelect</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">try</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">// Connecting to a cluster
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">// Connection information of JDBC
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">String</span> <span style="color:#000">jdbcAddress</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">jdbcPort</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;41999&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">clusterName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">databaseName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">username</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">password</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">applicationName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SampleJDBC&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// Encoding a cluster name and a database name
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">String</span> <span style="color:#000">encodeClusterName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">clusterName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">encodeDatabaseName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">databaseName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// Creating a URL (Multicast method)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">String</span> <span style="color:#000">jdbcUrl</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;jdbc:gs://&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">jdbcAddress</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;:&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">jdbcPort</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;/&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeClusterName</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;/&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeDatabaseName</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">username</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">password</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">applicationName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// Connecting
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">Connection</span> <span style="color:#000">con</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">DriverManager</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getConnection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">jdbcUrl</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">// Creating a container and registering data
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">Statement</span> <span style="color:#000">stmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createStatement</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#8f5902;font-style:italic">// (Delete the container if it already exists)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>                <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DROP TABLE IF EXISTS SampleJDBC_Select&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#8f5902;font-style:italic">// Creating a container
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>                <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;CREATE TABLE IF NOT EXISTS SampleJDBC_Select ( id integer PRIMARY KEY, value string )&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SQL Create Table name=SampleJDBC_Select&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#8f5902;font-style:italic">// Registering a row
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>                <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">ret1</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;INSERT INTO SampleJDBC_Select values &#34;</span><span style="color:#ce5c00;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>                                            <span style="color:#4e9a06">&#34;(0, &#39;test0&#39;),(1, &#39;test1&#39;),(2, &#39;test2&#39;),(3, &#39;test3&#39;),(4, &#39;test4&#39;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SQL Insert count=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">ret1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">// Executing a search
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">// (1) Creating a statement
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">Statement</span> <span style="color:#000">stmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createStatement</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// (2) Executing a SQL command
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">ResultSet</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeQuery</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * from SampleJDBC_Select where ID &gt; 2&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// (3) Getting a result
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInt</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">String</span> <span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SQL row(id=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, value=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">// Terminating process
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#8f5902;font-style:italic">//===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">catch</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">Exception</span> <span style="color:#000">e</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">e</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStackTrace</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="-----uninstallation-of-griddb----">&mdash;  Uninstallation of GridDB &mdash;</h2>
<p>Uninstall all packages if GridDB is no longer required. Follow the procedure below to uninstall the packages.</p>
<p>[Example for uninstalling the package in CentOS]</p>
<pre tabindex="0"><code>$ sudo rpm -e griddb-ee-server
$ sudo rpm -e griddb-ee-client
$ sudo rpm -e griddb-ee-java-lib
$ sudo rpm -e griddb-ee-c-lib
</code></pre><p>[Memo]
In Ubuntu Server, use dpkg to uninstall the package.</p>
<pre tabindex="0"><code>$ sudo dpkg -r griddb-ee-server
</code></pre><p>[Notes]</p>
<ul>
<li>Files such as definition files and data files etc. that are stored under the GridDB home directory will not be uninstalled. (In Ubuntu Server, a message may be displayed warning that the directory cannot be removed and the like. But this can be ignored.) Manually delete them if they are no longer required.</li>
</ul>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4bda6dbc5c4e36049db2f4b380b0e50d">2 - Features Reference</h1>
    <div class="lead">Overview of the GridDB features for GridDB designers, developers and administrators</div>
	<h2 id="----introduction----">&mdash; Introduction &mdash;</h2>
<h2 id="aim--composition-of-this-manual">Aim &amp; composition of this manual</h2>
<p><strong>This manual explains the functions of GridDB.</strong></p>
<p>This manual is targeted at administrators who are in-charge of the operational management of GridDB and designers and developers who perform system design and development using GridDB.</p>
<p>The contents of this manual are as follows.</p>
<ul>
<li>What is GridDB?
<ul>
<li>Describes the features and application examples of GridDB.</li>
</ul>
</li>
<li>Structure of GridDB
<ul>
<li>Describes the cluster operating structure in GridDB.</li>
</ul>
</li>
<li>The data model of GridDB
<ul>
<li>Describes the data model of GridDB.</li>
</ul>
</li>
<li>Functions provided by GridDB
<ul>
<li>Describes the data management functions, and operating functions provided by GridDB.</li>
</ul>
</li>
<li>Parameter
<ul>
<li>Describes the parameters to control the operations in GridDB.</li>
</ul>
</li>
</ul>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    <ul>
<li>GridDB Community Edition is only available in single configuration, and cluster configuration with multiple nodes is limited only to GridDB Enterprise Edition.</li>
<li>OS user (gsadm) is created when GridDB is installed using the package.</li>
</ul>


</div>

<h2 id="----what-is-griddb----">&mdash; What is GridDB? &mdash;</h2>
<p>GridDB is a distributed NoSQL database to manage a group of data (known as a row) that is made up of a key and multiple values.  Besides having a composition of an in-memory database that arranges all the data in the memory, it can also adopt a hybrid composition combining the use of a disk (including SSD as well) and a memory. By employing a hybrid composition, it can also be used in small scale, small memory systems.</p>
<p>In addition to the 3 Vs (volume, variety, velocity) required in big data solutions, data reliability/availability is also assured in GridDB. Using the autonomous node monitoring and load balancing functions, labor-saving can also be realized in cluster applications.</p>
<p><a id="griddb_features"></a></p>
<h2 id="features-of-griddb">Features of GridDB</h2>
<h3 id="big-data-volume">Big data (volume)</h3>
<p>As the scale of a system expands, the data volume handled increases and thus the system needs to be expanded so as to quickly process the big data.</p>
<p>System expansion can be broadly divided into 2 approaches - scale-up (vertical scalability) and scale-out (horizontal scalability).</p>
<ul>
<li>
<p>What is scale-up (vertical scalability)?</p>
<p>This approach reinforces the system by adding memory to the operating machines, using SSD for the disks, adding processors, and so on. Generally, this approach increases individual processing time and increases the system processing speed. On the other hand, since the nodes must be stopped before the scale-up operation, as it is not a cluster application using multiple machines, once a failure occurs, failure recovery is also time-consuming.</p>
</li>
<li>
<p>What is scale-out (horizontal scalability)?</p>
<p>This approach increases the number of nodes constituting a system to improve the processing capability. Since multiple nodes are generally set to operate in coordination, this approach features that there is no need to completely stop the service during maintenance or even when a failure occurs. However, the application management time and effort increases as the number of nodes increases. This architecture is suitable for performing highly parallel processing.</p>
</li>
</ul>
<p>In GridDB, in addition to the scale-up approach to increase the number of operating nodes and reinforce the system, new nodes can be added to expand the system with a scale-out approach to incorporate nodes into an operating cluster.</p>
<p>As an in-memory processing database, GridDB can handle a large volume of data with its scale-out model. In GridDB, data is distributed throughout the nodes inside a cluster that is composed of multiple nodes. That is, GridDB provides a large-scale memory database by handling memories of more than one nodes as one big memory space.</p>
<p>Moreover, since GridDB manages data both in memories and on a disk, even when a single node is in operation, it can maintain and access the data larger than its memory size. A large capacity that is not limited by the memory size can also be realized.</p>
<figure>
<img src="img/feature_disk_and_memory.png" alt="Combined use of in-memory/disk" width="450"/>
<figcaption>Combined use of in-memory/disk</figcaption>
</figure>
<p>System expansion can be carried out online with a scale-out approach. That is, without stopping the system in operation, the system can be expanded when the volume of data increases.</p>
<p>In the scale-out approach, data is relocated into the new nodes added to the system in accordance with the load of each existing node in the system. As GridDB will optimize the load balance, the application administrator does not need to worry about the data arrangement. Operation is also easy because a structure to automate such operations has been built into the system.</p>
<figure>
<img src="img/feature_scale_up.png" alt="Scale-out model" width="600"/>
<figcaption>Scale-out model</figcaption>
</figure>
<h3 id="various-data-types-variety">Various data types (variety)</h3>
<p>GridDB data adopts a Key-Container data model that is expanded from Key-Value. Data is stored in a device equivalent to a RDB table known as a container.  (A container can be considered a RDB table for easier understanding.)</p>
<p>When accessing data in GridDB, the model allows data to be short-listed with a key thanks to its Key-Value database structure, allowing processing to be carried out at the highest speed. A design that prepares a container serving as a key is required to support the entity under management.</p>
<figure>
<img src="img/feature_data_model.png" alt="Data model" width="500"/>
<figcaption>Data model</figcaption>
</figure>
<p>Besides being suitable for handling a large volume of time series data (TimeSeries container) that is generated by a sensor or the like and other values paired with the time of occurrence, space data such as position information, etc. can also be registered and space specific operations (space intersection) can also be carried out in a container. A variety of data can be handled as the system supports non-standard data such as array data, BLOB and other data as well.</p>
<h3 id="high-speed-processing-velocity">High-speed processing (velocity)</h3>
<p>A variety of architectural features is embedded in GridDB to achieve high-speed processing.</p>
<h4 id="processing-is-carried-out-in-the-memory-space-as-much-as-possible">Processing is carried out in the memory space as much as possible</h4>
<p>In the case of an operating system with an in-memory in which all the data is arranged, there is no real need to be concerned about the access overhead in the disk. However, in order to process a volume of data so large that it cannot be saved in the memory, there is a need to localize the data accessed by the application and to reduce access to the data arranged in the disk as much as possible.</p>
<p>In order to localize data access from an application, GridDB provides a function to arrange related data in the same block as far as possible. Since data in the data block can be consolidated according to the hints provided in the data, the memory hit rate is raised during data access, thereby increasing the processing speed for data access. By setting hints for memory consolidation according to the access frequency and access pattern in the application, limited memory space can be used effectively for operation (Affinity function).</p>
<h4 id="reduces-the-overhead">Reduces the overhead</h4>
<p>In order to minimize waiting time caused by locks or latches in a simultaneous access to the database, GridDB allocates exclusive memory and DB files to each CPU core and thread, so as to eliminate waiting time for exclusive and synchronization processing.</p>
<figure>
<img src="img/feature_architecture.png" alt="Architecture" width="500"/>
<figcaption>Architecture</figcaption>
</figure>
<p>In addition, direct access between the client and node is possible in GridDB by caching the data arrangement when accessing the database for the first time on the client library end. Since direct access to the target data is possible without going through the master node to manage the operating status of the cluster and data arrangement, access to the master node can be centralized to reduce communication cost substantially.</p>
<figure>
<img src="img/feature_client_access.png" alt="Access from a client" width="500"/>
<figcaption>Access from a client</figcaption>
</figure>
<h4 id="processing-in-parallel">Processing in parallel</h4>
<p>GridDB provides high-speed processing using the following functions: parallel processing e.g. by dividing a request into processing units capable of parallel processing in the drive engine and executing the process using a thread in the node and between nodes, as well as dispersing a single large data into multiple nodes (partitioning) for processing to be carried out in parallel between nodes.</p>
<h3 id="reliabilityavailability">Reliability/availability</h3>
<p>Data are duplicated in a cluster and the duplicated data, replicas, are located in multiple nodes. Replicas include master data, called an owner replica, and duplicated data called a backup. By using these replicas, processing can be continued in any of the nodes constituting a cluster even when a failure occurs. Special operating procedures are not necessary as the system will also automatically perform re-arrangement of the data after a node failure occurs (autonomous data arrangement). Data arranged in a failed node is restored from a replica and then the data is re-arranged so that the set number of replicas is reached automatically.</p>
<p>Duplex, triplex or multiplex replica can be set according to the availability requirements.</p>
<p>Each node performs persistence of the data update information using a disk. Even if a failure occurs in the cluster system, all the registered and updated data up to the failure can be restored without being lost.</p>
<p>In addition, since the client also possesses cache information on the data arrangement and management, upon detecting a node failure, it will automatically perform a failover and data access can be continued using a replica.</p>
<figure>
<img src="img/feature_durability.png" alt="High availability" width="500"/>
<figcaption>High availability</figcaption>
</figure>
<h2 id="griddb-editions">GridDB Editions</h2>
<p>GridDB has the following product.</p>
<ul>
<li>GridDB Enterprise Edition</li>
</ul>
<p>In addition to the features described in <a href="#griddb_features">Features of GridDB</a> above, GridDB Enterprise Edition has the following two features:</p>
<ul>
<li>NewSQL interface
<ul>
<li>In addition to being SQL 92 compliant, GridDB AE supports ODBC (C language interface) and JDBC (Java interface) application interfaces.</li>
<li>By using ODBC/JDBC, direct access to the database from BI (Business Intelligence) or ETL (Extract Transfer Load) tool becomes possible.</li>
<li>Containers can be considered as tables and operated.</li>
</ul>
</li>
<li>Table partitioning function
<ul>
<li>Partitioning function for high speed access to a huge table.</li>
<li>Since data is divided into multiple parts and distributed to multiple nodes, it is possible to parallelize data search and extraction from the table, thus realizing faster data access.</li>
</ul>
</li>
</ul>
<figure>
<img src="img/product_NoSQL_NewSQL.png" alt="GridDB editions" width="500"/>
<figcaption>GridDB editions</figcaption>
</figure>
<p>The features of each interface are as follows.</p>
<ul>
<li>NoSQL interface (NoSQL I/F)
<ul>
<li>Client APIs (C, Java) of NoSQL I/F focus on batch processing of big data at high speed.</li>
<li>It is used for data collection, high-speed access of key value data, simple aggregate calculation using TQL, etc.</li>
</ul>
</li>
<li>NewSQL interface (NewSQL I/F)
<ul>
<li>ODBC/JDBC of NewSQL I/F focus on cooperation with existing applications and development productivity using SQL.</li>
<li>It is used to classify and analyze data collected using BI tools, etc.</li>
</ul>
</li>
</ul>
<p>When using GridDB, both NoSQL I/F and NewSQL I/F can be used depending on the use case.</p>
<figure>
<img src="img/product_position.png" alt="Use case" width="500"/>
<figcaption>Use case</figcaption>
</figure>
<p>The GridDB database and NoSQL/NewSQL interface of GridDB are compatible within the same major version (e.g., a minor version upgrade).  The version notation is as follows:</p>
<ul>
<li>The version of GridDB is represented as &ldquo;X.Y[.Z]&rdquo;, and each symbol represents the following.
<ul>
<li>Major version (X): Changed for significant enhancements.</li>
<li>Minor version (Y): Changed for expanding or adding functions.</li>
<li>Revision (Z): Changed for such as bug fixes.</li>
</ul>
</li>
</ul>
<p>When using both NoSQL I/F and NewSQL I/F in GridDB AE, check the following specification in advance</p>
<ul>
<li>Containers created by NoSQL I/F can be operated as tables by NewSQL I/F.  Containers created with NoSQL I/F can be accessed as tables in NewSQL I/F.</li>
<li>And tables created with NewSQL I/F can be accessed as containers in NoSQL I/F.  The names of tables and containers must be unique.</li>
</ul>
<h2 id="----terminology----">&mdash; Terminology &mdash;</h2>
<p>Describes the terms used in GridDB in a list.</p>
<table>
<thead>
<tr>
<th>Term</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node</td>
<td>Refers to the individual server process to perform data management in GridDB.</td>
</tr>
<tr>
<td>Cluster</td>
<td>Single or a set of nodes that perform data management together in an integrated manner.</td>
</tr>
<tr>
<td>Master node</td>
<td>Node to perform a cluster management process.</td>
</tr>
<tr>
<td>Follower node</td>
<td>All other nodes in the cluster other than the master node.</td>
</tr>
<tr>
<td>number of nodes constituting a cluster</td>
<td>Refers to the number of nodes constituting a GridDB cluster. When starting GridDB for the first time, the number is used as a threshold value for the cluster to be valid. (Cluster service is started when the number of nodes constituting a cluster joins the cluster.)</td>
</tr>
<tr>
<td>number of nodes already participating in a cluster</td>
<td>Number of nodes currently in operation that have been incorporated into the cluster among the nodes constituting the GridDB cluster.</td>
</tr>
<tr>
<td>Block</td>
<td>A block is a data unit for data persistence processing in a disk (hereinafter referred to a checkpoint) and is the smallest physical data management unit in GridDB. Multiple container data are arranged in a block. Block size is set up in a definition file (cluster definition file) before the initial startup of GridDB.</td>
</tr>
<tr>
<td>Partition</td>
<td>A partition is a unit of data management for placing a container and is equivalent to a data file on the file system when persisting data to a disk. One partition corresponds to one data file. It is also the smallest unit of data placement between clusters, as well as a unit of data movement and copy for adjusting the load balance between nodes (rebalancing) and for managing data multiplexing (replicas) in the event of a failure.</td>
</tr>
<tr>
<td>Row</td>
<td>Refers to one row of data registered in a container or table. Multiple rows are registered in a container or table. A row consists of values of columns corresponding to the schema definition of the container (table).</td>
</tr>
<tr>
<td>Container (Table)</td>
<td>Container to manage a set of rows. It may be called a container when operated with NoSQL I/F, and may be called a table when operated with NewSQL I/F. What these names refer are the same object, only in different names. A container has two data types: collection and timeseries container.</td>
</tr>
<tr>
<td>Collection (table)</td>
<td>One type of container (table) to manage rows having a general key.</td>
</tr>
<tr>
<td>Timeseries container (timeseries table)</td>
<td>One type of container (table) to manage rows having a timeseries key. Possesses a special function to handle timeseries data.</td>
</tr>
<tr>
<td>Database file</td>
<td>A database file is a group of files where the data retained by nodes configuring a cluster is written to disks or SSDs and is persisted. A database file is a collective term for data files, checkpoint log files, and transaction log files.</td>
</tr>
<tr>
<td>Data file</td>
<td>A file to which partition data is written.  Updated information located on the memory is reflected at the interval  (/checkpoint/checkpointInterval) specified in the node definition file.</td>
</tr>
<tr>
<td>Checkpoint log file</td>
<td>This is a file for storing block management information for a partition. Block management information is written in smaller batches at the interval (/checkpoint/checkpointInterval) specified in the node definition file.</td>
</tr>
<tr>
<td>Transaction log file</td>
<td>Update information of the transaction is saved sequentially as a log.</td>
</tr>
<tr>
<td>LSN (Log Sequence Number)</td>
<td>Shows the update log sequence number, which is assigned to each partition during the update in a transaction. The master node of a cluster configuration maintains the maximum number of LSN (MAXLSN) of all the partitions maintained by each node.</td>
</tr>
<tr>
<td>Replica</td>
<td>Replication is the process of creating an exact copy of the original data. In this case, one or more replica are created and stored on multiple nodes, which results to the creation of partition across the nodes. There are 2 forms of replica, master and backup. The former one refers to the original or master data, whereas the latter one is used in case of failure as a reference.</td>
</tr>
<tr>
<td>Owner node</td>
<td>A node that can update a container in a partition. A node that records the container serving as a master among the replicated containers.</td>
</tr>
<tr>
<td>Backup node</td>
<td>A node that records the container for backup data among the replicated containers.</td>
</tr>
<tr>
<td>Definition file</td>
<td>Definition file includes two types of parameter files: gs_cluster.json, hereinafter referred to as a cluster definition file, used when composing a cluster; gs_node.json, hereinafter referred to as a node definition file, used to set the operations and resources of the node in a cluster. It also includes a user definition file for GridDB administrator users.</td>
</tr>
<tr>
<td>Event log file</td>
<td>Event logs of the GridDB server are saved in this file including messages such as errors, warnings and so on. including messages such as errors, warnings and so on.</td>
</tr>
<tr>
<td>OS user (gsadm)</td>
<td>An OS user has the right to execute operating functions in GridDB. An OS user named gsadm is created during the GridDB installation.</td>
</tr>
<tr>
<td>Administrator user</td>
<td>An administrator user is a GridDB user prepared to perform operations in GridDB.</td>
</tr>
<tr>
<td>General user</td>
<td>A user used in the application system.</td>
</tr>
<tr>
<td>user definition file</td>
<td>File in which an administrator user is registered. During initial installation, 2 administrators, system and admin, are registered.</td>
</tr>
<tr>
<td>Cluster database</td>
<td>General term for all databases that can be accessed in a GridDB cluster system.</td>
</tr>
<tr>
<td>Database</td>
<td>Theoretical data management unit created in a cluster database. A public database is created in a cluster database by default. Data separation can be realized for each user by creating a new database and giving a general user the right to use it.</td>
</tr>
<tr>
<td>Full backup</td>
<td>A backup of the cluster database currently in use is stored online in the backup directory specified in the node definition file.</td>
</tr>
<tr>
<td>Differential/incremental backup</td>
<td>A backup of the cluster database currently in use is stored online in the backup directory specified in the node definition file. In subsequent backups, only the difference in the update block after the backup is backed up.</td>
</tr>
<tr>
<td>Automatic log backup</td>
<td>In addition to backing up the cluster database currently in use in the specified directory online, the transaction log is also automatically picked up at the same timing as the transaction log file writing. The write timing of the transaction log file follows the value of /dataStore/logWriteMode in the node definition file.</td>
</tr>
<tr>
<td>Failover</td>
<td>When a failure occurs in a cluster currently in operation, the structure allows the backup node to automatically take over the function and continue with the processing.</td>
</tr>
<tr>
<td>Client failover</td>
<td>When a failure occurs in a cluster currently in operation, the structure allows the backup node to be automatically re-connected to continue with the processing as a retry process when a failure occurs in the API on the client side.</td>
</tr>
<tr>
<td>Table partitioning</td>
<td>Function to access a huge table quickly by allowing concurrent execution by processors of multiple nodes, and the memory of multiple nodes to be used effectively by distributing the placement of a large amount of table data with multiple data registrations in multiple nodes.</td>
</tr>
<tr>
<td>Data partition</td>
<td>General name of data storage divided by table partitioning. Multiple data partitions are created for a table by table partitioning. Data partitions are distributed to the nodes like normal containers. The number of data partitions and the range of data stored in each data partition are depending on the type of table partitioning (hash, interval or interval-hash).</td>
</tr>
<tr>
<td>Data Affinity</td>
<td>A function to raise the memory hit rate by placing highly correlated data in a container in the same block and localizing data access.</td>
</tr>
<tr>
<td>Placement of container/table based on node affinity</td>
<td>A function to reduce the network load during data access by placing highly correlated containers in the same node.</td>
</tr>
</tbody>
</table>
<h2 id="----structure-of-griddb----">&mdash; Structure of GridDB &mdash;</h2>
<p>Describes the cluster operating structure in GridDB.</p>
<h2 id="composition-of-a-cluster">Composition of a cluster</h2>
<p>GridDB is operated by clusters which are composed of multiple nodes. Before accessing the database from an application system, nodes must be started and the cluster must be constituted, that is, cluster service is executed.</p>
<p>A cluster is formed and cluster service is started when a number of nodes specified by the user joins the cluster. Cluster service will not be started and access from the application will not be possible until all nodes constituting a cluster have joined the cluster.</p>
<p>A cluster needs to be constituted even when operating GridDB with a single node. In this case, the number of nodes constituting a cluster is 1. A composition that operates a single node is known as a single composition.</p>
<figure>
<img src="img/arc_clusterNameCount.png" alt="Cluster name and number of nodes constituting a cluster" width="500"/>
<figcaption>Cluster name and number of nodes constituting a cluster</figcaption>
</figure>
<p>A cluster name is used to distinguish a cluster from other clusters so as to compose a cluster using the right nodes selected from multiple GridDB nodes on a network. Using cluster names, multiple GridDB clusters can be composed in the same network.
A cluster is composed of nodes with the following features in common: cluster name, the number of nodes constituting a cluster, and the connection method setting. A cluster name needs to be set in the cluster definition file for each node constituting a cluster, and needs to be specified as a parameter when composing a cluster as well.</p>
<p>The method of constituting a cluster using multicast is called multicast method. See <a href="#cluster_configuration_methods">Cluster configuration methods</a> for details.</p>
<p>The operation of a cluster composition is shown below.</p>
<figure>
  <img src="img/arc_clusterConfigration.png" alt="Operation of a cluster composition" width="600"/>
  <figcaption>Operation of a cluster composition</figcaption>
</figure>
<p>To start up a node and compose a cluster, the <a href="#operating_commands">operation commands</a> gs_startnode/gs_joincluster command or <a href="#label_gs_sh">gs_sh</a> are used. In addition, there is a service control function to start up the nodes at the same time as the OS and to compose the cluster.</p>
<p>To compose a cluster, the number of nodes joining a cluster (number of nodes constituting a cluster) and the cluster name must be the same for all the nodes joining the cluster.</p>
<p>Even if a node fails and is separated from the cluster after operation in the cluster started, cluster service will continue so long as the majority of the number of nodes is joining the cluster.</p>
<p>Since cluster operation will continue as long as the majority of the number of nodes is in operation. So, a node can be separated from the cluster for maintenance while keeping the cluster in operation. The node can be get back into the cluster via network after the maintenance. Nodes can also be added via network to reinforce the system.</p>
<p>The following two networks can be separated: the network that communicates within the cluster and the network dedicated to client communication. For details, refer to the <a href="../4.md_administrators_guide/md_administrators_guide.md">GridDB Administrator Guide</a>.</p>
<h3 id="status-of-node">Status of node</h3>
<p>Nodes have several types of status that represent their status. The status changes by user command execution or internal processing of the node. The <a href="#status_of_cluster">status of a cluster</a> is determined by the status of the nodes in a cluster.</p>
<p>This section explains types of node status, status transition, and how to check the node status.</p>
<ul>
<li>
<p>Types of node status</p>
<table>
<thead>
<tr>
<th>Node status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>STOP</td>
<td>The GridDB server has not been started in the node.</td>
</tr>
<tr>
<td>STARTING</td>
<td>The GridDB server is starting in the node. Depending on the previous operating state, start-up processes such as recovery processing of the database are carried out. The only possible access from a client is checking the status of the system with a gs_stat command or gs_sh command. Access from the application is not possible.</td>
</tr>
<tr>
<td>STARTED</td>
<td>The GridDB server has been started in the node. However, access from the application is not possible as the node has not joined the cluster. To obtain the cluster composition, execute a cluster operating command, such as gs_joincluster or gs_sh to join the node to the cluster.</td>
</tr>
<tr>
<td>WAIT</td>
<td>The system is waiting for the cluster to be composed. Nodes have been informed to join a cluster but the number of nodes constituting a cluster is insufficient, so the system is waiting for the number of nodes constituting a cluster to be reached. WAIT status also indicates the node status when the number of nodes constituting a cluster drops below the majority and the cluster service is stopped.</td>
</tr>
<tr>
<td>SERVICING</td>
<td>A cluster has been constituted and access from the application is possible. However, access may be delayed if synchronization between the clusters of the partition occurs due to a re-start after a failure when the node is stopped or the like.</td>
</tr>
<tr>
<td>STOPPING</td>
<td>Intermediate state in which a node has been instructed to stop but has not stopped yet.</td>
</tr>
<tr>
<td>ABNORMAL</td>
<td>The state in which an error is detected by the node in SERVICING state or during state transition. A node in the ABNORMAL state will be automatically separated from the cluster. After collecting system operation information, it is necessary to forcibly stop and restart the node in the ABNORMAL state. By re-starting the system, recovery processing will be automatically carried out.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Transition in the node status</p>
<figure>
  <img src="img/arc_NodeStatus.png" alt="Node status" width="600"/>
  <figcaption>Node status</figcaption>
</figure>
<table>
<thead>
<tr>
<th>State transition</th>
<th>State transition event</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>Command execution</td>
<td>Start a node by executing the commands such as gs_startnode command, gs_sh, and service start-up.</td>
</tr>
<tr>
<td></td>
<td>System</td>
<td>Status changes automatically at the end of recovery processing or loading of database files.</td>
</tr>
<tr>
<td></td>
<td>Command execution</td>
<td>Joining a node to a cluster by executing the commands such as gs_joincluster/gs_appendcluster command, gs_sh, and service statrt-up.</td>
</tr>
<tr>
<td></td>
<td>System</td>
<td>Status changes automatically when the required number of component nodes join a cluster.</td>
</tr>
<tr>
<td></td>
<td>System</td>
<td>Status changes automatically when some nodes consisting the cluster are detached from the service due to a failure or by some other reasons, and the number of nodes joining the cluster become less than half of the value set in the definition file.</td>
</tr>
<tr>
<td></td>
<td>Command execution</td>
<td>Detaches a node from a cluster by executing the commands such as gs_leavecluster command and gs_sh.</td>
</tr>
<tr>
<td></td>
<td>Command execution</td>
<td>Detaches a node from a cluster by executing the commands such as gs_leavecluster/gs_stopcluster command or gs_sh.</td>
</tr>
<tr>
<td></td>
<td>Command execution</td>
<td>Stop a node by executing the commands such as gs_startnode command, gs_sh, and service stop.</td>
</tr>
<tr>
<td></td>
<td>System</td>
<td>Stops the server process once the final processing ends</td>
</tr>
<tr>
<td></td>
<td>System</td>
<td>Detached state due to a system failure. In this state, the node needs to be stopped by force once.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>How to check the node status</p>
<p>The node status is determined by the combination of the node status and the node role.</p>
<p>The status of the node can be checked with <a href="#label_gs_sh">gs_sh</a> or <a href="#integrated_operation_control">gs_admin</a>.</p>
<p>The operation status of a node and the role of a node can be checked from the result of the gs_stat command, which is in json format. That is, for the operation status of a node, check the value of /cluster/nodeStatus, for the role of a node, check /cluster/clusterStatus)</p>
<p>The table below shows the node status, determined by the combination of the operation status of a node and the role of a node.</p>
<table>
<thead>
<tr>
<th>Node status</th>
<th>Operation status of a node<br>(/cluster/nodeStatus)</th>
<th>Role of a node<br>(/cluster/clusterStatus)</th>
</tr>
</thead>
<tbody>
<tr>
<td>STOP</td>
<td>- (Connection error of gs_stat)</td>
<td>  (Connection error of gs_stat)</td>
</tr>
<tr>
<td>STARTING</td>
<td>INACTIVE</td>
<td>SUB_CLUSTER</td>
</tr>
<tr>
<td>STARTED</td>
<td>INACTIVE</td>
<td>SUB_CLUSTER</td>
</tr>
<tr>
<td>WAIT</td>
<td>ACTIVE</td>
<td>SUB_CLUSTER</td>
</tr>
<tr>
<td>SERVICING</td>
<td>ACTIVE</td>
<td>MASTER or FOLLOWER</td>
</tr>
<tr>
<td>STOPPING</td>
<td>NORMAL_SHUTDOWN</td>
<td>SUB_CLUSTER</td>
</tr>
<tr>
<td>ABNORMAL</td>
<td>ABNORMAL</td>
<td>SUB_CLUSTER</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Operation status of a node</p>
<p>The table below shows the operation status of a node. Each state is expressed as the value of /cluster/nodeStatus of the gs_stat command.</p>
<table>
<thead>
<tr>
<th>Operation status of a node</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ACTIVE</td>
<td>Non-active state</td>
</tr>
<tr>
<td>ACTIVATING</td>
<td>In transition to a non-active state.</td>
</tr>
<tr>
<td>NACTIVE</td>
<td>Non-active state</td>
</tr>
<tr>
<td>DEACTIVATING</td>
<td>In transition to a non-active state.</td>
</tr>
<tr>
<td>NORMAL_SHUTDOWN</td>
<td>In shutdown process</td>
</tr>
<tr>
<td>ABNORMAL</td>
<td>Abnormal state</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Role of a node</p>
<p>The table below shows the role of a node. Each state is expressed as the value of /cluster/clusterStatus of the gs_stat command.</p>
<p>A node has two types of roles: &ldquo;master&rdquo; and &ldquo;follower&rdquo;.
To start a cluster, one of the nodes which constitute the cluster needs to be a &ldquo;master.&rdquo; The master manages the whole cluster.
All the nodes other than the master become &ldquo;followers.&rdquo; A follower performs cluster processes, such as a synchronization, following the directions from the master.</p>
<table>
<thead>
<tr>
<th>Role of a node</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>MASTER</td>
<td>Master</td>
</tr>
<tr>
<td>FOLLOWER</td>
<td>Follower</td>
</tr>
<tr>
<td>SUB_CLUSTER/SUB_MASTER</td>
<td>Role undefined</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
</ul>
<p><a id="status_of_cluster"></a></p>
<h3 id="status-of-cluster">Status of cluster</h3>
<p>The cluster operating status is determined by the state of each node, and the status may be one of 3 states - IN OPERATION/INTERRUPTED/STOPPED.</p>
<p>During the initial system construction, cluster service starts after all the nodes, the number of which was specified by the user as the number of nodes constituting a cluster, have joined the cluster.</p>
<p>During initial cluster construction, the state in which the cluster is waiting to be composed when all the nodes that make up the cluster have not been incorporated into the cluster is known as [INIT_WAIT]. When the number of nodes constituting a cluster has joined the cluster, the state will automatically change to the operating state.</p>
<p>Operation status includes two states, [STABLE] and [UNSTABLE].</p>
<ul>
<li>[STABLE] state
<ul>
<li>State in which a cluster has been formed by the number of nodes specified in the number of nodes constituting a cluster and service can be provided in a stable manner.</li>
</ul>
</li>
<li>[UNSTABLE] state
<ul>
<li>A cluster in this state is joined by the nodes less than &ldquo;the number of the nodes constituting the cluster&rdquo; but more than half the constituting clusters are in operation.</li>
<li>Cluster service will continue for as long as a majority of the number of nodes constituting a cluster is in operation.</li>
</ul>
</li>
</ul>
<p>A cluster can be operated in an [UNSTABLE] state as long as a majority of the nodes are in operation even if some nodes are detached from a cluster due to maintenance and for other reasons.</p>
<p>Cluster service is interrupted automatically in order to avoid a split brain when the number of nodes constituting a cluster is less than half the number of nodes constituting a cluster. The status of the cluster will become [WAIT].</p>
<ul>
<li>
<p>What is split brain?</p>
<p>A split brain is an action where multiple cluster systems performing the same process provide simultaneous service when a system is divided due to a hardware or network failure in a tightly-coupled system that works like a single server interconnecting multiple nodes. If the operation is continued in this state, data saved as replicas in multiple clusters will be treated as master data, causing data inconsistency.</p>
</li>
</ul>
<p>To resume the cluster service from a [WAIT] state, add the node, which recovered from the abnormal state, or add a new node, by using a node addition operation.  After the cluster is joined by all the nodes, the number of which is the same as the one specified in &ldquo;the number of nodes constituting a cluster&rdquo;, the status will be [STABLE], and the service will be resumed.</p>
<p>Even when the cluster service is disrupted, since the number of nodes constituting a cluster becomes less than half due to failures in the nodes constituting the cluster, the cluster service will be automatically restarted once a majority of the nodes joine the cluster by adding new nodes and/or the nodes restored from the errors to the cluster.</p>
<figure>
<img src="img/arc_clusterStatus.png" alt="Cluster status" width="500"/>
<figcaption>Cluster status</figcaption>
</figure>
<p>A STABLE state is a state in which the value of the json parameter shown in gs_stat, /cluster/activeCount, is equal to the value of /cluster/designatedCount. (Output content varies depending on the version.)</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_stat -u admin/admin
{
    &#34;checkpoint&#34;: {
          :
          :
    },
    &#34;cluster&#34;: {
        &#34;activeCount&#34;:4,                       // Nodes in operation within the cluster
        &#34;clusterName&#34;: &#34;test-cluster&#34;,
        &#34;clusterStatus&#34;: &#34;MASTER&#34;,
        &#34;designatedCount&#34;: 4,                  // Number of nodes constituting a cluster
        &#34;loadBalancer&#34;: &#34;ACTIVE&#34;,
        &#34;master&#34;: {
            &#34;address&#34;: &#34;192.168.0.1&#34;,
            &#34;port&#34;: 10040
        },
        &#34;nodeList&#34;: [                          // Node list constituting a cluster
            {
                &#34;address&#34;: &#34;192.168.0.1&#34;,
                &#34;port&#34;: 10040
            },
            {
                &#34;address&#34;: &#34;192.168.0.2&#34;,
                &#34;port&#34;: 10040
            },
            {
                &#34;address&#34;: &#34;192.168.0.3&#34;,
                &#34;port&#34;: 10040
            },
            {
                &#34;address&#34;: &#34;192.168.0.4&#34;,
                &#34;port&#34;: 10040
            },

        ],
        :
        :
</code></pre><p>The status of the cluster can be checked with <a href="#label_gs_sh">gs_sh</a> or <a href="#integrated_operation_control">gs_admin</a>. An example on checking the cluster status with gs_sh is shown below.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_sh
gs&gt; setuser admin admin gsadm                  //Setting a connecting user
gs&gt; setnode node1 192.168.0.1 10040            //Definition of a node constituting the cluster
gs&gt; setnode node2 192.168.0.2 10040
gs&gt; setnode node3 192.168.0.3 10040
gs&gt; setnode node4 192.168.0.4 10040
gs&gt; setcluster cluster1 test150 239.0.0.5 31999 $node1 $node2 $node3 $node4   //Cluster definition
gs&gt; startnode $cluster1                        //Start-up of all nodes making up the cluster
gs&gt; startcluster $cluster1                     //Instructing cluster composition
Waiting for cluster to start.
The GridDB cluster has been started.
gs&gt; configcluster  $cluster1                      // Checking status of cluster
Name                  : cluster1
ClusterName           : test-cluster
Designated Node Count : 4
Active Node Count     : 4
ClusterStatus         : SERVICE_STABLE            // Stable state

Nodes:
  Name    Role Host:Port              Status
-------------------------------------------------
  node1     M  192.168.0.1:10040    SERVICING
  node2     F  192.168.0.2:10040    SERVICING
  node3     F  192.168.0.3:10040    SERVICING
  node4     F  192.168.0.4:10040    SERVICING

gs&gt; leavecluster $node2
Waiting for a node to separate from cluster.
The GridDB node has leaved the GridDB cluster.
gs&gt; configcluster  $cluster1
Name                  : cluster1
ClusterName           : test150
Designated Node Count : 4
Active Node Count     : 3
ClusterStatus         : SERVICE_UNSTABLE          // Unstable state

Nodes:
  Name    Role Host:Port              Status
-------------------------------------------------
  node1     M  192.168.0.1:10040    SERVICING        // Master node
  node2     -  192.168.0.2:10040    STARTED          
  node3     F  192.168.0.3:10040    SERVICING        // Follower node
  node4     F  192.168.0.4:10040    SERVICING        // Follower node
</code></pre><h3 id="status-of-partition">Status of partition</h3>
<p>The partition status represents the status of the entire partition in a cluster,
showing whether the partitions in an operating cluster are accessible, or the partitions are balanced.</p>
<table>
<thead>
<tr>
<th>Partition status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>NORMAL</td>
<td>All the partitions are in normal states where all of them are placed as planned.</td>
</tr>
<tr>
<td>NOT_BALANCE</td>
<td>With no replica_loss, no owner_loss but partition placement is unbalanced.</td>
</tr>
<tr>
<td>REPLICA_LOSS</td>
<td>Replica data is missing in some partitions<br>(Availability of the partition is reduced, that is, the node cannot be detached from the cluster.)</td>
</tr>
<tr>
<td>OWNER_LOSS</td>
<td>Owner data is missing in some partitions.<br>(The data of the partition are not accessible.)</td>
</tr>
<tr>
<td>INITIAL</td>
<td>The initial state no partition has joined the cluster</td>
</tr>
</tbody>
</table>
<p>Partition status can be checked by executing gs_stat command to a master node. (The state is expressed as the value of /cluster/partitionStatus)</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_stat -u admin/admin
{
    :
    :
&#34;cluster&#34;: {
    :
    &#34;nodeStatus&#34;: &#34;ACTIVE&#34;,
    &#34;notificationMode&#34;: &#34;MULTICAST&#34;,
    &#34;partitionStatus&#34;: &#34;NORMAL&#34;,
    :
</code></pre><p>[Notes]</p>
<ul>
<li>The value of /cluster/partitionStatus of the nodes other than a master node may not be correct. Be sure to check the value of a master node.</li>
</ul>
<p><a id="cluster_configuration_methods"></a></p>
<h2 id="cluster-configuration-methods">Cluster configuration methods</h2>
<p>A cluster consists of one or more nodes connected in a network.  Each node maintains a list of the other nodes&rsquo; addresses for communication purposes.</p>
<p>GridDB supports 3 cluster configuration methods for configuring the address list. Different cluster configuration methods can be used depending on the environment or use case. Connection method of client or operational tool may also be different depending on the configuration methods.</p>
<p>Three cluster configuration methods are available: Multicast method, Fixed list method and Provider method. Multicast method is recommended.</p>
<p>Fixed list or provider method can be used in the environment where multicast is not supported.</p>
<ul>
<li>Multicast method
<ul>
<li>This method performs node discovery in multi-cast to automatically configure the address list.</li>
</ul>
</li>
<li>Fixed list method
<ul>
<li>A fixed address list is saved in the cluster definition file.</li>
</ul>
</li>
<li>Provider method
<ul>
<li>Provider method</li>
<li>The address provider can be configured as a Web service or as a static content.</li>
</ul>
</li>
</ul>
<p>The table below compares the three cluster configuration methods.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Multicast method (recommended)</th>
<th>Fixed list method</th>
<th>Provider method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Parameters</td>
<td>- Multicast address and port</td>
<td>- List of IP address and port of all the node</td>
<td>- URL of the address provider</td>
</tr>
<tr>
<td>Use case</td>
<td>- When multicast is supported</td>
<td>- When multicast is not supported<br />- System scale estimation can be performed accurately</td>
<td>- When multicast is not supported<br />- System scale estimation can not be performed</td>
</tr>
<tr>
<td>Cluster operation</td>
<td>- Perform automatic discovery of nodes at a specified time interval</td>
<td>- Set a common address list for all nodes<br />- Read that list only once at node startup</td>
<td>- Obtain the address list at a specified time interval from address provider</td>
</tr>
<tr>
<td>Pros.</td>
<td>- No need to restart the cluster when adding nodes</td>
<td>- No mistake of configuration by consistency check of the list</td>
<td>- No need to restart the cluster when adding nodes</td>
</tr>
<tr>
<td>Cons.</td>
<td>- Multicast is required for client connection</td>
<td>- Need to restart cluster when adding nodes</td>
<td>- Need to update the connection setting of the client</td>
</tr>
</tbody>
</table>
<h3 id="setting-up-cluster-configuration-files">Setting up cluster configuration files</h3>
<p>Fixed list method or provider method can be used in the environment where multicast is not supported.  Network setting of fixed list method and provider method is as follows.</p>
<h4 id="fixed-list-method">Fixed list method</h4>
<p>When a fixed address list is given to start a node, the list is used to compose the cluster.</p>
<p>When composing a cluster using the fixed list method, configure the parameters in the cluster definition file.</p>
<p><strong>cluster definition file</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>JSON Data type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>/cluster/notificationMember</td>
<td>string</td>
<td>Specify the address list when using the fixed list method as the cluster configuration method.</td>
</tr>
</tbody>
</table>
<p>A configuration example of a cluster definition file is shown below.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">{
                             :
                             :
    &#34;cluster&#34;:{
        &#34;clusterName&#34;:&#34;yourClusterName&#34;,
        &#34;replicationNum&#34;:2,
        &#34;heartbeatInterval&#34;:&#34;5s&#34;,
        &#34;loadbalanceCheckInterval&#34;:&#34;180s&#34;,
        &#34;notificationMember&#34;: [
            {
                &#34;cluster&#34;: {&#34;address&#34;:&#34;172.17.0.44&#34;, &#34;port&#34;:10010},
                &#34;sync&#34;: {&#34;address&#34;:&#34;172.17.0.44&#34;, &#34;port&#34;:10020},
                &#34;system&#34;: {&#34;address&#34;:&#34;172.17.0.44&#34;, &#34;port&#34;:10040},
                &#34;transaction&#34;: {&#34;address&#34;:&#34;172.17.0.44&#34;, &#34;port&#34;:10001},
                &#34;sql&#34;: {&#34;address&#34;:&#34;172.17.0.44&#34;, &#34;port&#34;:20001}
            },
            {
                &#34;cluster&#34;: {&#34;address&#34;:&#34;172.17.0.45&#34;, &#34;port&#34;:10010},
                &#34;sync&#34;: {&#34;address&#34;:&#34;172.17.0.45&#34;, &#34;port&#34;:10020},
                &#34;system&#34;: {&#34;address&#34;:&#34;172.17.0.45&#34;, &#34;port&#34;:10040},
                &#34;transaction&#34;: {&#34;address&#34;:&#34;172.17.0.45&#34;, &#34;port&#34;:10001},
                &#34;sql&#34;: {&#34;address&#34;:&#34;172.17.0.45&#34;, &#34;port&#34;:20001}
            },
            {
                &#34;cluster&#34;: {&#34;address&#34;:&#34;172.17.0.46&#34;, &#34;port&#34;:10010},
                &#34;sync&#34;: {&#34;address&#34;:&#34;172.17.0.46&#34;, &#34;port&#34;:10020},
                &#34;system&#34;: {&#34;address&#34;:&#34;172.17.0.46&#34;, &#34;port&#34;:10040},
                &#34;transaction&#34;: {&#34;address&#34;:&#34;172.17.0.46&#34;, &#34;port&#34;:10001},
                &#34;sql&#34;: {&#34;address&#34;:&#34;172.17.0.46&#34;, &#34;port&#34;:20001}
            }
        ]
    },
                             :
                             :
}
</code></pre><h4 id="provider-method">Provider method</h4>
<p>Get the address list supplied by the address provider to perform cluster configuration.</p>
<p>When composing a cluster using the provider method, configure the parameters in the cluster definition file.</p>
<p><strong>cluster definition file</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>JSON Data type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>/cluster/notificationProvider/url</td>
<td>string</td>
<td>Specify the URL of the address provider when using the provider method as the cluster configuration method.</td>
</tr>
<tr>
<td>/cluster/notificationProvider/updateInterval</td>
<td>string</td>
<td>Specify the interval to get the list from the address provider. Specify the value more than 1 second and less than 2<sup>31</sup> seconds.</td>
</tr>
</tbody>
</table>
<p>A configuration example of a cluster definition file is shown below.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">{
                             :
                             :
    &#34;cluster&#34;:{
        &#34;clusterName&#34;:&#34;yourClusterName&#34;,
        &#34;replicationNum&#34;:2,
        &#34;heartbeatInterval&#34;:&#34;5s&#34;,
        &#34;loadbalanceCheckInterval&#34;:&#34;180s&#34;,
        &#34;notificationProvider&#34;:{
            &#34;url&#34;:&#34;http://example.com/notification/provider&#34;,
            &#34;updateInterval&#34;:&#34;30s&#34;
        }
    },
                             :
                             :
}
</code></pre><p>The address provider can be configured as a Web service or as a static content.  The address provider needs to provide the following specifications.</p>
<ul>
<li>Compatible with the GET method.</li>
<li>When accessing the URL, the node address list of the cluster containing the cluster definition file in which the URL is written is returned as a response.
<ul>
<li>Response body: Same JSON as the contents of the node list specified in the fixed list method</li>
<li>Response header: Including Content-Type:application/json</li>
</ul>
</li>
</ul>
<p>An example of a response sent from the address provider is as follows.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ curl http://example.com/notification/provider
[
    {
        &#34;cluster&#34;: {&#34;address&#34;:&#34;172.17.0.44&#34;, &#34;port&#34;:10010},
        &#34;sync&#34;: {&#34;address&#34;:&#34;172.17.0.44&#34;, &#34;port&#34;:10020},
        &#34;system&#34;: {&#34;address&#34;:&#34;172.17.0.44&#34;, &#34;port&#34;:10040},
        &#34;transaction&#34;: {&#34;address&#34;:&#34;172.17.0.44&#34;, &#34;port&#34;:10001},
        &#34;sql&#34;: {&#34;address&#34;:&#34;172.17.0.44&#34;, &#34;port&#34;:20001}
    },
    {
        &#34;cluster&#34;: {&#34;address&#34;:&#34;172.17.0.45&#34;, &#34;port&#34;:10010},
        &#34;sync&#34;: {&#34;address&#34;:&#34;172.17.0.45&#34;, &#34;port&#34;:10020},
        &#34;system&#34;: {&#34;address&#34;:&#34;172.17.0.45&#34;, &#34;port&#34;:10040},
        &#34;transaction&#34;: {&#34;address&#34;:&#34;172.17.0.45&#34;, &#34;port&#34;:10001},
        &#34;sql&#34;: {&#34;address&#34;:&#34;172.17.0.45&#34;, &#34;port&#34;:20001}
    },
    {
        &#34;cluster&#34;: {&#34;address&#34;:&#34;172.17.0.46&#34;, &#34;port&#34;:10010},
        &#34;sync&#34;: {&#34;address&#34;:&#34;172.17.0.46&#34;, &#34;port&#34;:10020},
        &#34;system&#34;: {&#34;address&#34;:&#34;172.17.0.46&#34;, &#34;port&#34;:10040},
        &#34;transaction&#34;: {&#34;address&#34;:&#34;172.17.0.46&#34;, &#34;port&#34;:10001},
        &#34;sql&#34;: {&#34;address&#34;:&#34;172.17.0.46&#34;, &#34;port&#34;:20001}
    }
]
</code></pre><p>[Note]</p>
<ul>
<li>Specify the serviceAddress and servicePort of the node definition file in each module (cluster,sync etc.) for each address and port.</li>
<li>Set either the /cluster/notificationAddress, /cluster/notificationMember, /cluster/notificationProvider in the cluster definition file to match the cluster configuration method used.</li>
</ul>
<p><a id="data_model"></a></p>
<h2 id="----data-model----">&mdash; Data model &mdash;</h2>
<p>GridDB is a unique Key-Container data model that resembles Key-Value. It has the following features.</p>
<ul>
<li>A concept resembling a RDB table that is a container for grouping Key-Value has been introduced.</li>
<li>A schema to define the data type for the container can be set. An index can be set in a column.</li>
<li>Transactions can be carried out on a row basis within the container. In addition, ACID is guaranteed on a container basis.</li>
</ul>
<figure>
<img src="img/arc_DataModel.png" alt="Data model" width="650"/>
<figcaption>Data model</figcaption>
</figure>
<p>GridDB manages data in blocks, containers, tables, rows, and partitions.</p>
<ul>
<li>
<p>Block</p>
<p>A block is a data unit for data persistence processing in a disk (hereinafter referred to a checkpoint) and is the smallest physical data management unit in GridDB.
Multiple container data are arranged in a block. Block size is set up in a definition file (cluster definition file) before the initial startup of GridDB.</p>
<p>As a database file is created during initial startup of the system, the block size cannot be changed after initial startup of GridDB.</p>
</li>
<li>
<p>Container (Table)</p>
<p>A container is a data structure that serves as an interface with the user.  A container consists of multiple blocks.  Data structure serving as an I/F with the user. Container to manage a set of rows. It is called a container when operating with NoSQL I/F, and a table when operating with NewSQL I/F. 2 data types exist, collection (table) and timeseries container (timeseries table).</p>
<p>Before registering data in an application, there is a need to make sure that a container (table) is created beforehand. Data is registered in a container (table).</p>
</li>
<li>
<p>Row</p>
<p>A row refers to a row of data to be registered in a container or table. Multiple rows can be registered in a container or table but this does not mean that data is arranged in the same block. Depending on the registration and update timing, data is arranged in suitable blocks within partitions.</p>
<p>A row includes columns of more than one data type.</p>
</li>
<li>
<p>Partition</p>
<p>A partition is a data management unit that includes 1 or more containers or tables.</p>
<p>A partition is a data arrangement unit between clusters for managing the data movement to adjust the load balance between nodes and data multiplexing (replica) in case of a failure. Data replica is arranged in a node to compose a cluster on a partition basis.</p>
<p>A node that can update a container in a partition is called an owner node and one owner node is allocated to one partition. A node that maintains replicas other than owner nodes is a backup node. Master data and multiple backup data exist in a partition, depending on the number of replicas set.</p>
<p>The relationship between a container and a partition is persistent and the partition which has a specific container is not changed. The relationship between a partition and a node is temporary and the autonomous data placement may cause partition migration to another node.</p>
<p>Data retained by a partition is saved in an OS disk as a physical database file.</p>
</li>
</ul>
<figure>
  <img src="img/arc_DataPieces.png" alt="Data management unit" width="900"/>
  <figcaption>Data management unit</figcaption>
</figure>
<p><a id="label_container"></a></p>
<h2 id="container">Container</h2>
<p>To register and search for data in GridDB, a container (table) needs to be created to store the data.  Data structure serving as an I/F with the user. Container to manage a set of rows. It is called a container when operating with NoSQL I/F, and a table when operating with NewSQL I/F.</p>
<p>The naming rules for containers (tables) are the same as those for databases.</p>
<ul>
<li>A string consisting of alphanumeric characters, the underscore mark, the hyphen mark, the dot mark, the slash mark and the equal mark can be specified. The container name should not start with a number.</li>
<li>Although the name is case sensitive, a container (table) cannot be created if it has the same name as an existing container when they are case insensitive.</li>
</ul>
<p>[Notes]</p>
<ul>
<li>Avoid the name already used for naming a <a href="#label_view">view</a> in the same database.</li>
</ul>
<h3 id="type">Type</h3>
<p>There are 2 container (table) data types.
A timeseries container (timeseries table) is a data type which is suitable for managing hourly data together with the occurrence time while a collection (table) is suitable for managing a variety of data.</p>
<h3 id="data-type">Data type</h3>
<p>The schema can be set in a container (table). The basic data types that can be registered in a container (table) are the basic data type and array data type .</p>
<h4 id="basic-data-types">Basic data types</h4>
<p>Describes the basic data types that can be registered in a container (table). A basic data type cannot be expressed by a combination of other data types.</p>
<table>
<thead>
<tr>
<th>JSON Data type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL</td>
<td>True or false</td>
</tr>
<tr>
<td>STRING</td>
<td>Composed of an arbitrary number of characters using the unicode code point</td>
</tr>
<tr>
<td>BYTE</td>
<td>Integer value from -2<sup>7</sup>to 2<sup>7</sup>-1 (8bits)</td>
</tr>
<tr>
<td>SHORT</td>
<td>Integer value from -2<sup>15</sup>to 2<sup>15</sup>-1 (16bits)</td>
</tr>
<tr>
<td>INTEGER</td>
<td>Integer value from -2<sup>31</sup>to 2<sup>31</sup>-1 (32bits)</td>
</tr>
<tr>
<td>LONG</td>
<td>Integer value from -2<sup>63</sup>to 2<sup>63</sup>-1 (64bits)</td>
</tr>
<tr>
<td>FLOAT</td>
<td>Single precision (32 bits) floating point number defined in IEEE754</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>Double precision (64 bits) floating point number defined in IEEE754</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>Data type expressing the date and time Data format maintained in the database is UTC, and accuracy is in milliseconds</td>
</tr>
<tr>
<td>GEOMETRY</td>
<td>Data type to represent a space structure</td>
</tr>
<tr>
<td>BLOB</td>
<td>Data type for binary data such as images, audio, etc.</td>
</tr>
</tbody>
</table>
<p>The following restrictions apply to the size of the data that can be managed for STRING, GEOMETRY and BLOB data. The restriction value varies according to the block size which is the input/output unit of the database in the GridDB definition file (gs_node.json).</p>
<table>
<thead>
<tr>
<th>Data type</th>
<th>Block size (64KB)</th>
<th>Block size (from 1MB to 32MB)</th>
</tr>
</thead>
<tbody>
<tr>
<td>STRING</td>
<td>Maximum 31KB (equivalent to UTF-8 encode)</td>
<td>Maximum 128KB (equivalent to UTF-8 encode)</td>
</tr>
<tr>
<td>GEOMETRY</td>
<td>Maximum 31KB (equivalent to the internal storage format)</td>
<td>Maximum 128KB (equivalent to the internal storage format)</td>
</tr>
<tr>
<td>BLOB</td>
<td>Maximum 1GB - 1Byte</td>
<td>Maximum 1GB - 1Byte</td>
</tr>
</tbody>
</table>
<p><strong>GEOMETRY-type (Spatial-type)</strong></p>
<p>GEOMETRY-type (Spatial-type) data is often used in map information system and available only for a NoSQL interface, not supported by a NewSQL interface.</p>
<p>GEOMETRY type data is described using WKT (Well-known text). WKT is formulated by the Open Geospatial Consortium (OGC), a nonprofit organization promoting standardization of information on geospatial information. In GridDB, the spatial information described by WKT can be stored in a column by setting the column of a container as a GEOMETRY type.</p>
<p>GEOMETRY type supports the following WKT forms.</p>
<ul>
<li>POINT
<ul>
<li>Point represented by two or three-dimensional coordinate.</li>
<li>Example) POINT(0 10 10)</li>
</ul>
</li>
<li>LINESTRING
<ul>
<li>Set of straight lines in two or three-dimensional space represented by two or more points.</li>
<li>Example) LINESTRING(0 10 10, 10 10 10, 10 10 0)</li>
</ul>
</li>
<li>POLYGON
<ul>
<li>Closed area in two or three-dimensional space represented by a set of straight lines. Specify the corners of a POLYGON counterclockwise. When building an island in a POLYGON, specify internal points clockwise.</li>
<li>Example) POLYGON((0 0,10 0,10 10,0 10,0 0)), POLYGON((35 10, 45 45, 15 40, 10 20, 35 10),(20 30, 35 35, 30 20, 20 30))</li>
</ul>
</li>
<li>POLYHEDRALSURFACE
<ul>
<li>Area in the three-dimensional space represented by a set of the specified area.</li>
<li>Example) POLYHEDRALSURFACE(((0 0 0, 0 1 0, 1 1 0, 1 0 0, 0 0 0)), ((0 0 0, 0 1 0, 0 1 1, 0 0 1, 0 0 0)), ((0 0 0, 1 0 0, 1 0 1, 0 0 1, 0 0 0)), ((1 1 1, 1 0 1, 0 0 1, 0 1 1, 1 1 1)), ((1 1 1, 1 0 1, 1 0 0, 1 1 0, 1 1 1)), ((1 1 1, 1 1 0, 0 1 0, 0 1 1, 1 1 1)))</li>
</ul>
</li>
<li>QUADRATICSURFACE
<ul>
<li>Two-dimensional curved surface in a three-dimensional space represented by defining equation f(X) = &lt;AX, X&gt; + BX + c.</li>
</ul>
</li>
</ul>
<p>The space structure written by QUADRATICSURFACE cannot be stored in a container, only can be specified as a search condition.</p>
<p>Operations using GEOMETRY can be executed with API or TQL.</p>
<p>With TQL, management of two or three-dimensional spatial structure is possible. Generating and judgement function are also provided.</p>
<pre tabindex="0"><code class="language-example" data-lang="example"> SELECT * WHERE ST_MBRIntersects(geom, ST_GeomFromText(&#39;POLYGON((0 0,10 0,10 10,0 10,0 0))&#39;))
</code></pre><p>See &ldquo;<a href="../11.md_reference_tql/md_reference_tql.md">GridDB TQL Reference</a>&rdquo;  for details of the functions of TQL.</p>
<h4 id="hybrid">HYBRID</h4>
<p>A data type composed of a combination of basic data types that can be registered in a container.  The only hybrid data type in the current version is an array.</p>
<ul>
<li>
<p>Array</p>
<p>Expresses an array of values. Among the basic data types, only GEOMETRY and BLOB data cannot be maintained as an array. The restriction on the data volume that can be maintained in an array varies according to the block size of the database.</p>
<table>
<thead>
<tr>
<th>Data type</th>
<th>Block size (64KB)</th>
<th>Block size (from 1MB to 32MB)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Number of arrays</td>
<td>4000</td>
<td>65000</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Note]</p>
<p>The following restrictions apply to TQL operations in an array column.</p>
<ul>
<li>
<p>Although the i-th value in the array column can be compared, calculations (aggregation) cannot be performed on all the elements.</p>
</li>
<li>
<p>(Example) When columnA was defined as an array</p>
<ul>
<li>
<p>The elements in an array such as select * where ELEMENT (0, column A) &gt; 0 can be specified and compared. However, a variable cannot be specified instead of &ldquo;0&rdquo; in the ELEMENT.</p>
</li>
<li>
<p>Aggregation such as select SUM (column A) cannot be carried out.</p>
</li>
</ul>
</li>
</ul>
<p><a id="primary_key"></a></p>
<h3 id="primary-key">Primary key</h3>
<p>A primary key can be set in a container (table), The uniqueness of a row with a set ROWKEY is guaranteed. NULL is not allowed in the column ROWKEY is set.</p>
<p>In NewSQL I/F, ROWKEY is called as PRIMARY KEY.</p>
<ul>
<li>For a timeseries container (timeseries table)
<ul>
<li>A ROWKEY can be set in the first column of the row. (This is set in Column No. 0 since columns start from 0 in GridDB.)</li>
<li>ROWKEY (PRIMARY KEY) is a TIMESTAMP</li>
<li>Must be specified.</li>
</ul>
</li>
<li>For a collection (table)
<ul>
<li>ROWKEY (PRIMARY KEY) can be set to multiple columns that are continuous from the first column. The ROWKEY set to multiple columns is called composite ROWKEY, which can be set up to 16 columns.
<ul>
<li>Example) ROWKEY can be set to str1, str2, str3, which are consecutive from the first column.
<pre tabindex="0"><code>CREATE TABLE sample_table1
(str1 string, str2 string, str3 string, str4 string, str5 string, int1 integer,
 PRIMARY KEY(str1, str2, str3));
</code></pre></li>
<li>Example) ROWKEY can not be set to str1, str3, str4, which are not consecutive columns. Executing the following SQL will cause an error.
<pre tabindex="0"><code>CREATE TABLE sample_table2
(str1 string, str2 string, str3 string, str4 string, str5 string, int1 integer,
 PRIMARY KEY(str1, str3, str4));
</code></pre></li>
</ul>
</li>
<li>A ROWKEY (PRIMARY KEY) is either a STRING, INTEGER, LONG or TIMESTAMP column.</li>
<li>Need not be specified.</li>
</ul>
</li>
</ul>
<p>A default index prescribed in advance according to the column data type can be set in a column set in ROWKEY (PRIMARY KEY).</p>
<p>In the current version GridDB, the default index of all STRING, INTEGER, LONG or TIMESTAMP data that can be specified in a ROWKEY (PRIMARY KEY) is the TREE index.</p>
<p>[Notes]</p>
<ul>
<li>Refer to &ldquo;Handling composite row keys&rdquo; in &ldquo;<a href="../14.md_reference_sql/md_reference_sql.md">GridDB SQL Reference</a>&rdquo; for an example of setting composite row keys with NoSQL interface.</li>
</ul>
<p><a id="label_view"></a></p>
<h2 id="view">View</h2>
<p>View provides reference to data in a container.</p>
<p>Define a reference (SELECT statement) to a container when creating a view. A view is an object similar to a container, but it does not have real data. When executing a query containing a view, the SELECT statement, which was defined when the view was created, is evaluated, and a result is returned.</p>
<p>Views can only be referenced (SELECT), neither adding data (INSERT), updating (UPDATE), nor deletion data (DELETE) are not accepted.</p>
<p>[Notes]</p>
<ul>
<li>Avoid the name already used for naming a container in the same database.</li>
<li>The naming rule of a view is the same as the <a href="#label_container">naming rule of a container</a>.</li>
</ul>
<h2 id="----database-function----">&mdash; Database function &mdash;</h2>
<h2 id="resource-management">Resource management</h2>
<p>Besides the database residing in the memory, other resources constituting a GridDB cluster are perpetuated to a disk.  The perpetuated resources are listed below.</p>
<ul>
<li>
<p>Database file</p>
<p>A database file is a collective term for data files and checkpoint log files, where databases on the memory are periodically written to, and transaction log files that are saved every time data is updated.</p>
</li>
</ul>
<figure>
<img src="img/arc_DatabaseFile.png" alt="A group of data files" width="800"/>
<figcaption>A group of data files</figcaption>
</figure>
<ul>
<li>
<p>Data file</p>
<p>A checkpoint file is a file where partitions are persisted to a disk. Updated information is reflected in the memory by a cycle of the node definition file (/checkpoint/checkpointInterval). The file size expands relative to the data capacity. Once expanded, the size of a data file does not decrease even when data including container data and row data is deleted. In this case, GridDB reuses the free space instead. A data files can be split into smaller ones.</p>
</li>
<li>
<p>Checkpoint log file</p>
<p>A checkpoint log file is a file where block management information for partitions are persisted to a disk. Block management information is written in smaller batches at the interval (/checkpoint/checkpointInterval) specified in the node definition file. By default, a maximum of ten files are created for each partition. The number of split files can be adjusted by the number of batches (splits) /checkpoint/partialCheckpointInterval in the node definition file.</p>
</li>
<li>
<p>Transaction log file</p>
<p>Transaction data that are written to the database in memory is perpetuated to the transaction log file by writing the data sequentially in a log format. One file stores the logs of transactions executed from the start of the last checkpoint to the start of the next checkpoint. By default, a maximum of three files are created for each partition, consisting of the current log file and the previous two generations of log files.</p>
</li>
<li>
<p>Definition file</p>
<p>Definition file includes two types of parameter files: gs_cluster.json, hereinafter referred to as a cluster definition file, used when composing a cluster; gs_node.json, hereinafter referred to as a node definition file, used to set the operations and resources of the node in a cluster. It also includes a user definition file for GridDB administrator users.</p>
</li>
<li>
<p>Event log file</p>
<p>The event log of the GridDB server is saved in this file, including messages such as errors, warnings and so on.</p>
</li>
<li>
<p>Backup file</p>
<p>Backup data in the data file of GridDB is saved.</p>
</li>
</ul>
<p>The placement of these resources is defined in GridDB home (path specified in environmental variable GS_HOME).  In the initial installation state, the /var/lib/gridstore directory is GridDB home, and the initial data of each resource is placed under this directory.</p>
<p>The directories are placed initially as follows.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">/var/lib/gridstore/        # GridDB home directory path
     admin/                # gs_admin home directory
     backup/               # Backup directory
     conf/                 # Definition files directory
          gs_cluster.json  # Cluster definition file
          gs_node.json     # Node definition file
          password         # User definition file
     data/                 # data files and checkpoint log directory
     txnlog/               # Transaction log directory
     expimp/               # Export/Import directory
     log/                  # Log directory
</code></pre><p>The location of GridDB home can be changed by setting the .bash_profile file of the OS user gsadm. If you change the location, please also move resources in the above directory accordingly.</p>
<p>The .bash_profile file contains two environment variables, GS_HOME and GS_LOG.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">vi .bash_profile

# GridStore specific environment variables
GS_LOG=/var/lib/gridstore/log
export GS_LOG
GS_HOME=/var/lib/gridstore                    // GridDB home directory path
export GS_HOME
</code></pre><p>The database directory, backup directory and server event log directory can be changed by changing the settings of the node definition file as well.</p>
<p>See <a href="#label_parameters">Parameters</a> for the contents that can be set in the cluster definition file and node definition file.</p>
<h2 id="data-access-function">Data access function</h2>
<p>To access GridDB data, there is a need to develop an application using NoSQL I/F or NewSQL I/F. Data can be accessed simply by connecting to the cluster database of GridDB without having to take into account position information on where the container or table is located in the cluster database. The application system does not need to consider which node constituting the cluster the container is placed in.</p>
<p>In the GridDB API, when connecting to a cluster database initially, placement hint information of the container is retained (cached) on the client end together with the node information (partition).</p>
<p>Communication overheads are kept to a minimum as the node maintaining the container is connected and processed directly without having to access the cluster to search for nodes that have been placed every time the container used by the application is switched.</p>
<p>Although the container placement changes dynamically due to the rebalancing process in GridDB, the position of the container is transmitted as the client cache is updated regularly. For example, even when there is a node mishit during access from a client due to a failure or a discrepancy between the regular update timing and re-balancing timing, relocated information is automatically acquired to continue with the process.</p>
<p><a id="tql_and_sql"></a></p>
<h3 id="tql-and-sql">TQL and SQL</h3>
<p>TQL and SQL-92 compliant SQL are supported as database access languages.</p>
<ul>
<li>
<p>What is TQL?</p>
<p>A simplified SQL prepared for GridDB SE. The support range is limited to functions such as search, aggregation, etc., using a container as a unit. TQL is employed by using the client API (Java, C language) of GridDB SE.</p>
<p>The TQL is adequate for the search in the case of a small container and a small number of hits. For that case, the response is faster than SQL. The number of hits can be suppressed by the LIMIT clause of TQL.</p>
<p>For the search of a large amount of data, SQL is recommended.</p>
<p>TQL is available for the containers and partitioned tables created by operations through the NewSQL interface. The followings are the limitations of TQL for the partitioned tables.</p>
<ul>
<li>
<p>Filtering data by the WHERE clause is available. But aggregate functions, timeseries data selection or interpolation, min or max function and ORDER BY clause, etc. are not available.</p>
</li>
<li>
<p>It is not possible to apply the update lock.</p>
</li>
</ul>
<p>See &ldquo;<a href="../11.md_reference_tql/md_reference_tql.md">GridDB TQL Reference</a>&rdquo; for details.</p>
</li>
<li>
<p>What is SQL?</p>
<p>Standardization of the language specifications is carried out in ISO to support the interface for defining and performing data operations in conformance with SQL-92 in GridDB. SQL can be used in NewSQL I/F.</p>
<p>SQL is also available for the containers created by operations through the NoSQL interface.</p>
<p>See &ldquo;<a href="../14.md_reference_sql/md_reference_sql.md">GridDB SQL Reference</a>&rdquo;  for details.</p>
</li>
</ul>
<p><a id="batch_functions"></a></p>
<h3 id="batch-processing-function-to-multiple-containers">Batch-processing function to multiple containers</h3>
<p>An interface to quickly process event information that occurs occasionally is available in NoSQL I/F.</p>
<p>When a large volume of events is sent to the database server every time an event occurs, the load on the network increases and system throughput does not increase. Significant impact will appear especially when the communication line bandwidth is narrow. Multi-processing is available in NoSQL I/F to process multiple row registrations for multiple containers and multiple inquiries (TQL) to multiple containers with a single request. The overall throughput of the system rises as the database server is not accessed frequently.</p>
<p>An example is given below.</p>
<ul>
<li>
<p>Multi-put</p>
<ul>
<li>
<p>A container is prepared for each sensor name as a process to register event information from multiple sensors in the database. The sensor name and row array of the timeseries event of the sensor are created and a list (map) summarizing the data for multiple sensors is created. This list data is registered in the GridDB database each time the API is invoked.</p>
</li>
<li>
<p>Multi-put API optimizes the communication process by combining requests of data registration into multiple containers to a node in GridDB, which is formed by multiple clusters. In addition, multi-registrations are processed quickly without performing MVCC when executing a transaction.</p>
</li>
<li>
<p>In a multi-put processing, transactions are committed automatically. Data is confirmed on a single case basis.</p>
</li>
</ul>
</li>
</ul>
<figure>
<img src="img/func_multiput.png" alt="Multi-put" width="500"/>
<figcaption>Multi-put</figcaption>
</figure>
<ul>
<li>
<p>Multi-query (fetchAll)</p>
<ul>
<li>Instead of executing multiple queries to a container, these can be executed in a single query by aggregating event information of the sensor. For example, this is most suitable for acquiring aggregate results such as the daily maximum, minimum and average values of data acquired from a sensor, or data of a row set having the maximum or minimum value, or data of a row set meeting the specified condition.</li>
</ul>
</li>
</ul>
<figure>
<img src="img/func_multiquery.png" alt="fetchAll" width="500"/>
<figcaption>fetchAll</figcaption>
</figure>
<ul>
<li>
<p>Multi-get</p>
<ul>
<li>
<p>Instead of executing multiple queries to a sensor, these can be executed in a single query by consolidating event information of the sensor.  For example, this is most suitable for acquiring aggregate results such as the daily maximum, minimum and average values of data acquired from a sensor, or data of a row set having the maximum or minimum value, or data of a row set meeting the specified condition.</p>
</li>
<li>
<p>In a RowKeyPredicate object, the acquisition condition is set in either one of the 2 formats below.</p>
<ul>
<li>Specify the acquisition range</li>
<li>Specified individual value</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure>
<img src="img/func_multiget.png" alt="multi-get" width="500"/>
<figcaption>multi-get</figcaption>
</figure>
<p><a id="index_function"></a></p>
<h2 id="index-function">Index function</h2>
<p>A condition-based search can be processed quickly by creating an index for the columns of a container (table).</p>
<p>Two types of indexes are available: tree indexes (TREE) and spatial indexes (SPATIAL).
The index that can be set differs depending on the container (table) type and column data type.</p>
<ul>
<li>TREE INDEX
<ul>
<li>A tree index is used for an equality search and a range search (including greater than/equal to, and less than/equal to).</li>
<li>This can be set for columns of the following data type in any type of container (table), except for columns corresponding to a rowkey in a timeseries container (timeseries table).
<ul>
<li>STRING</li>
<li>BOOL</li>
<li>BYTE</li>
<li>SHORT</li>
<li>INTEGER</li>
<li>LONG</li>
<li>FLOAT</li>
<li>DOUBLE</li>
<li>TIMESTAMP</li>
</ul>
</li>
<li>Only a tree index allows an index with multiple columns, which is called a composite index. A composite index can be set up to 16 columns, where the same column cannot be specified more than once.</li>
</ul>
</li>
<li>SPATIAL INDEX
<ul>
<li>Can be set for only GEOMETRY columns in a collection. This is specified when conducting a spatial search at a high speed.</li>
</ul>
</li>
</ul>
<p>Although there are no restrictions on the no. of indices that can be created in a container, creation of an index needs to be carefully designed. An index is updated when the rows of a configured container are inserted, updated or deleted. Therefore, when multiple indices are created in a column of a row that is updated frequently, this will affect the performance in insertion, update or deletion operations.</p>
<p>An index is created in a column as shown below.</p>
<ul>
<li>A column that is frequently searched and sorted</li>
<li>A column that is frequently used in the condition of the WHERE section of TQL</li>
<li>High cardinality column (containing few duplicated values)</li>
</ul>
<p>[Note]</p>
<ul>
<li>Only a tree index can be set to the column of a table (time series table).</li>
</ul>
<p><a id="ts_data_functions"></a></p>
<h2 id="function-specific-to-time-series-data">Function specific to time series data</h2>
<p>To manage data frequently produced from sensors, data is placed in accordance with the data placement algorithm (TDPA: Time Series Data Placement Algorithm), which allows the best use of the memory. In a timeseries container (timeseries table), memory is allocated while classifying internal data by its periodicity. When hint information is given in an affinity function, the placement efficiency rises further. Moreover, a timeseries container moves data out to a disk if necessary and releases expired data at almost zero cost.</p>
<p>A timeseries container (timeseries table) has a TIMESTAMP ROWKEY (PRIMARY KEY).</p>
<h3 id="operation-function-of-tql">Operation function of TQL</h3>
<h4 id="aggregate-operations">Aggregate operations</h4>
<p>In a timeseries container (timeseries table), the calculation is performed with the data weighted at the time interval of the sampled data. In other words, if the time interval is long, the calculation is carried out assuming the value is continued for an extended time.</p>
<p>The functions of the aggregate operation are as follows:</p>
<ul>
<li>
<p>TIME_AVG</p>
<ul>
<li>TIME_AVG Returns the average weighted by a time-type key of values in the specified column.</li>
<li>The weighted average is calculated by dividing the sum of products of sample values and their respective weighted values by the sum of weighted values. The method for calculating a weighted value is as shown above.</li>
<li>The details of the calculation method are shown in the figure:</li>
</ul>
</li>
</ul>
<figure>
  <img src="img/func_TIME_AVG.png" alt="Aggregation of weighted values (TIME_AVG)" width="500"/>
  <figcaption>Aggregation of weighted values (TIME_AVG)</figcaption>
</figure>
<h4 id="selectioninterpolation-operation">Selection/interpolation operation</h4>
<p>Time data may deviate slightly from the expected time due to the timing of the collection and the contents of the data to be collected. Therefore when conducting a search using time data as a key, a function that allows data around the specified time to be acquired is also required.</p>
<p>The functions for searching the timeseries container (timeseries table) and acquiring the specified row are as follows:</p>
<ul>
<li>
<p>TIME_NEXT(*, timestamp)</p>
<p>Selects a time-series row whose timestamp is identical with or just after the specified timestamp.</p>
</li>
<li>
<p>TIME_NEXT_ONLY(*, timestamp)</p>
<p>Select a time-series row whose timestamp is just after the specified timestamp.</p>
</li>
<li>
<p>TIME_PREV(*, timestamp)</p>
<p>Selects a time-series row whose timestamp is identical with or just before the specified timestamp.</p>
</li>
<li>
<p>TIME_PREV_ONLY(*, timestamp)</p>
<p>Selects a time-series row whose timestamp is just before the specified timestamp.</p>
</li>
</ul>
<p>In addition, the functions for interpolating the values of the columns are as follows:</p>
<ul>
<li>
<p>TIME_INTERPOLATED(column, timestamp)</p>
<p>Returns a specified column value of the time-series row whose timestamp is identical with the specified timestamp, or a value obtained by linearly interpolating specified column values of adjacent rows whose timestamps are just before and after the specified timestamp, respectively.</p>
</li>
<li>
<p>TIME_SAMPLING(*|column, timestamp_start, timestamp_end, interval, DAY|HOUR|MINUTE|SECOND|MILLISECOND)</p>
<p>Takes a sampling of Rows in a specific range from a given start time to a given end time.</p>
<p>Each sampling time point is defined by adding a sampling interval multiplied by a non-negative integer to the start time, excluding the time points later than the end time.</p>
<p>If there is a Row whose timestamp is identical with each sampling time point, the values of the Row are used. Otherwise, interpolated values are used.</p>
</li>
</ul>
<h3 id="expiry-release-function">Expiry release function</h3>
<p>An expiry release is a function to delete expired row data from GridDB physically. The data becomes unavailable by removing from a target for a search or a delete before deleting.  Deleting old unused data results to keep database size results in prevention of performance degradation caused by bloat of database size.</p>
<figure>
<img src="img/func_expiration.png" alt="Expiry release settings" width="700"/>
<figcaption>Expiry release settings</figcaption>
</figure>
<p>The retention period is set in container units. The row which is outside the retention period is called &ldquo;expired data.&rdquo; The APIs become unable to operate expired data because it becomes unavailable. Therefore, applications can not access the row. Expired data will be the target for being deleted physically from GridDB after a certain period. Cold data is automatically removed from database intact.</p>
<h4 id="expiry-release-settings">Expiry release settings</h4>
<p>Expiry release can be used in a partitioned container (table).</p>
<ul>
<li>It can be set for the following tables partitioned by interval and interval-hash.
<ul>
<li>Timeseries table</li>
<li>Collection table with a TIMESTAMP-type partitioning key</li>
</ul>
</li>
<li>Setting items consist of a retention period and a retention period unit.
<ul>
<li>The retention period unit can be set in day/hour/minute/sec/millisecond units. The year unit and month unit cannot be specified.</li>
<li>The expiration date of rows is calculated by adding the last date and time of the row stored period in the partition to the retention period. The rows stored in the same data partition have the same expiration date.</li>
<li>The unit becoming cold data is a data partition. Physical data delete is executed on a data partition basis.</li>
</ul>
</li>
</ul>
<figure>
  <img src="img/func_expiration_partition.png" alt="Partition expiry release" width="800"/>
  <figcaption>Partition expiry release</figcaption>
</figure>
<p>[Note]</p>
<ul>
<li>Expiry release should be set when creating a table. They cannot be changed after creation.</li>
<li>The current time used for judging expiration depends on the environment of each node of GridDB. Therefore, because of the network latency or time difference of the execution environments, you may not be able to access the rows in a GridDB node whose environment time is ahead of that of the client you use; on the contrary, you may be able to access the rows if the client you use is ahead of the time of GridDB. You had better set the period a larger value than you need to avoid unintentional loss of rows.</li>
<li>The expired rows are separated from the object of search and updating, being treated as not to exist in the GridDB. Operations to the expired row do not cause errors.
<ul>
<li>For example, for settings with an expiration of 30 days, even when a row with a timestamp of 31 days before the present date is registered, registration processing does not lead to an error, while the row is not saved in the table.</li>
</ul>
</li>
<li>When you set up expiry release, be sure to synchronize the environment time of all the nodes of a cluster. If the time is different among the nodes, the expired data may not be released at the same time among the nodes.</li>
<li>The period that expired data becomes cold data depends on the setting of the retention period in the expiry release.
<table>
<thead>
<tr>
<th>Retention period</th>
<th>Max period that expired data becomes cold data</th>
</tr>
</thead>
<tbody>
<tr>
<td>-3 days</td>
<td>about 1.2 hours</td>
</tr>
<tr>
<td>3 days-12 days</td>
<td>about 5 hours</td>
</tr>
<tr>
<td>12 days-48 days</td>
<td>about 19 hours</td>
</tr>
<tr>
<td>48 days-192 days</td>
<td>about 3 days</td>
</tr>
<tr>
<td>192 days-768 days</td>
<td>about 13 days</td>
</tr>
<tr>
<td>768 days-</td>
<td>about 38 days</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h4 id="automatic-deletion-of-cold-data-or-save-as-an-archive">Automatic deletion of cold data or save as an archive</h4>
<p>The management information for database files are periodically scanned every one second, and a row that has become cold data at the time of scanning is physically deleted. The amount of scanning the management information for database files is 2000 blocks per execution. It can be set /dataStore/batchScanNum in the node definition file (gs_node.json). There is a possibility that the size of DB keeps increasing because the speed of automatic deletion is behind one of registration in the system which data are registered frequently. Increase the amount of scanning to avoid it.</p>
<p><a id="table_partitioning"></a></p>
<h2 id="table-partitioning-function">Table partitioning function</h2>
<p>In order to improve the operation speed of applications connected to multiple nodes of the GridDB cluster, it is important to arrange the data to be processed in memory as much as possible. For a huge container (table) with a large number of registered data, the CPU and memory resources in multiple nodes can be effectively used by splitting data from the table and distributing the data across nodes. Distributed rows are stored in the internal containers called &ldquo;data partition&rdquo;. The allocation of each row to the data partition is determined by a &ldquo;partitioning key&rdquo; column specified at the time of the table creation.</p>
<p>GridDB supports hash partitioning, interval partitioning and interval-hash partitioning as table partitioning methods.</p>
<p>Creating and Deleting tables can be performed only through the NewSQL interface. Data registration, update and search can be performed through the NewSQL/NoSQL interface. (There are some restrictions. See <a href="#tql_and_sql">TQL and SQL</a> for the details.)</p>
<ul>
<li>
<p>Data registration</p>
<p>When data is registered into a table, the data is stored in the appropriate data partition according to the partitioning key value and the partitioning method. It is not possible to specify a data partition to be stored.</p>
</li>
<li>
<p>Index</p>
<p>When creating an index on a table, a local index for each data partition is created. It is not possible to create a global index for the whole table.</p>
</li>
<li>
<p>Data operation</p>
<p>An error occurs for updating the partitioning key value of the primary key column. If updating is needed, delete and reregister the data.</p>
<p>Updating the partitioning key value of the not primary key column can be executed through NoSQL I/F.</p>
</li>
<li>
<p>Expiry release function</p>
<p>Expiry release can be set for the following tables partitioned by interval and interval-hash.</p>
<ul>
<li>Timeseries table</li>
<li>Collection table with a TIMESTAMP-type partitioning key</li>
</ul>
</li>
<li>
<p>Notes</p>
<p>Starting with V4.3, specifying a column other than the primary key as a partitioning key when the primary key does exist generates an error by default. To avoid this error, set false to /sql/partitioningRowkeyConstraint in the cluster definition file (gs_cluster.json).</p>
<p>When specifying the column as a partitioning key other than the primary key, the primary key constraint is ensured in each data partition, but it is not ensured in the whole table. So, the same value may be registered in multiple rows of a table.</p>
</li>
</ul>
<figure>
<img src="img/func_partitioning.png" alt="Table partitioning" width="500"/>
<figcaption>Table partitioning</figcaption>
</figure>
<h3 id="benefits-of-table-partitioning">Benefits of table partitioning</h3>
<p>Dividing a large amount of data through a table partitioning is effective for efficient use of memory and for performance improvement in data search which can select the target data.</p>
<ul>
<li>
<p>efficient use of memory</p>
<p>In data registration and search, data partitions required for the processing are loaded into memory. Other data partitions, not target to the processing, are not loaded. So when the data to be processed is locally concentrated on some data partitions, the amount of loading data is reduced. The frequency of swap-in and swap-out is decreased and the performance is upgraded.</p>
</li>
<li>
<p>selecting target data in data search</p>
<p>In data search, only data partitions matching the search condition are selected as the target data. Unnecessary data partitions are not accessed. This function is called &ldquo;pruning&rdquo;.  Because the amount of accessed data reduces, the search performance is upgraded. Search conditions which can enable the pruning are different depending on the type of the partitioning.</p>
</li>
</ul>
<p>The followings describe the behaviors on the above items for both cases in not using the table partitioning and in using the table partition.</p>
<p>When a large amount of data is stored in single table which is not partitioned, all the required data might not be able to be placed on main memory and the performance might be degraded by frequent swap-in and swap-out between database files and memory. Particularly the degradation is significant when the amount of data is much larger than the memory size of a GridDB node. And data accesses to that table concentrate on single node and the parallelism of database processing decreases.</p>
<figure>
<img src="img/func_partitioning2.png" alt="When not using table partitioning" width="700"/>
<figcaption>When not using table partitioning</figcaption>
</figure>
<p>By using a table partitioning, the large amount of data is divided into data partitions and those partitions are distributed on multiple nodes.</p>
<p>In data registration and search, only necessary data partitions for the processing can be loaded into memory. Data partitions not target to the processing are not loaded. Therefore, in many cases, data size required by the processing is smaller than for a not partitioned large table and the frequency of swap-in and swap-out decreases. By dividing data into data partitions equally, CPU and memory resource on each node can be used more effectively.</p>
<p>In addition data partitions are distributed on nodes, so parallel data access becomes possible.</p>
<figure>
<img src="img/func_partitioning3.png" alt="When using table partitioning" width="700"/>
<figcaption>When using table partitioning</figcaption>
</figure>
<h3 id="hash-partitioning">Hash partitioning</h3>
<p>The rows are evenly distributed in the data partitions based on the hash value.</p>
<p>Also, when using an application system that performs data registration frequently, the access will concentrate at the end of the table and may lead to a bottleneck. A hash function that returns an integer from 1 to N is defined by specifying the partition key column and division number N, and division is performed based on the returned value.</p>
<figure>
<img src="img/func_partitioning_hash.png" alt="Hash partitioning" width="800"/>
<figcaption>Hash partitioning</figcaption>
</figure>
<ul>
<li>
<p>Data partitioning</p>
<p>By specifying the partitioning key and the division count M, a hash function that returns 1-M is defined, and data partitioning is performed by the hash value. The maximum hash value is 1024.</p>
</li>
<li>
<p>Partitioning key</p>
<p>There is no limitation for the column type of a partitioning key.</p>
</li>
<li>
<p>Creation of data partitions</p>
<p>Specified number of data partitions are created automatically at the time of the table creation. It is not possible to change the number of data partitions. The table re-creation is needed for changing the number.</p>
</li>
<li>
<p>Deletion of a table</p>
<p>It is not possible to delete only a data partition.</p>
<p>By deleting a hash partitioned table, all data partitions that belong to it are also deleted</p>
</li>
<li>
<p>Pruning</p>
<p>In key match search on hash partitioning, by pruning, the search accesses only data partitions which match the condition. So the hash partitioning is effective for performance improvement and memory usage reduction in that case.</p>
</li>
</ul>
<h3 id="interval-partitioning">Interval partitioning</h3>
<p>In the interval partitioning, the rows in a table are divided by the specified interval value and is stored in data partitions. The range of each data partition (from the lower limit value to the upper limit value) is automatically determined by the interval value.</p>
<p>The data in the same range are stored in the same data partition, so for the continuous data or for the range search, the operations can be performed on fewer memory.</p>
<figure>
<img src="img/func_partitioning_interval.png" alt="Interval partitioning" width="800"/>
<figcaption>Interval partitioning</figcaption>
</figure>
<ul>
<li>
<p>Data partitioning</p>
<p>Data partitioning is performed by the interval value.  The possible interval values are different depending on the partitioning key type.</p>
<ul>
<li>BYTE type : from 1 to 2<sup>7</sup>-1</li>
<li>SHORT type : from 1 to 2<sup>15</sup>-1</li>
<li>INTEGER type : from 1 to 2<sup>31</sup>-1</li>
<li>LONG type : from 1000 to 2<sup>63</sup>-1</li>
<li>TIMESTAMP: more than 1</li>
</ul>
<p>When the partitioning key type is TIMESTAMP, it is necessary to specify the interval unit as &lsquo;DAY&rsquo;.</p>
</li>
<li>
<p>Partitioning key</p>
<p>Data types that can be specified as a partitioning key are BYTE, SHORT, INTEGER, LONG and TIMESTAMP.  The partitioning key is a column that needs to have &ldquo;NOT NULL&rdquo; constraint.</p>
</li>
<li>
<p>Creation of data partitions</p>
<p>Data partitions are not created at the time of creating the table. When there is no data partition for the registered row, a new data partition is automatically created.</p>
<p>The upper limit of the number of the data partitions is 10000. When the number of the data partitions reaches the limit, the data registration that needs to create a new data partition causes an error. For that case, delete unnecessary data partitions and reregister the data.</p>
<p>It is desired to specify the interval value by considering the range of the whole data and the upper limit, 10000, for the number of data partitions. If the interval value is too small to the range of the whole data and too many data partitions are created, the maintenance of deleting unnecessary data partitions is required frequently.</p>
</li>
<li>
<p>Deletion of a table</p>
<p>Each data partition can be deleted. The data partition that has been deleted cannot be recreated.
All registration operations to the deleted data partition cause an error.
Before deleting the data partition, check its data range by a metatable.
See the &ldquo;<a href="../14.md_reference_sql/md_reference_sql.md">GridDB SQL Reference</a>&rdquo;  for the details of the metatable schema.</p>
<p>By deleting an interval partitioned table, all data partitions that belong to it are also deleted.</p>
<p>All data partitions are processed for the data search on the whole table, so the search can be performed efficiently by deleting unnecessary data partitions beforehand.</p>
</li>
<li>
<p>Maintenance of data partitions</p>
<p>In the case of reaching the upper limit, 10000, for the number of data partitions or existing unnecessary data partitions, the maintenance by deleting data partitions is needed.</p>
<ul>
<li>
<p>How to check the number of data partitions</p>
<p>It can be check by search the metatable that holds the data about data partitions. See &ldquo;<a href="../14.md_reference_sql/md_reference_sql.md">GridDB SQL Reference</a>&rdquo;  for details.</p>
</li>
<li>
<p>How to delete data partitions</p>
<p>They can be deleted by specifying the lower limit value in the data partition. See &ldquo;<a href="../14.md_reference_sql/md_reference_sql.md">GridDB SQL Reference</a>&rdquo;  for the details.</p>
</li>
</ul>
</li>
</ul>
<figure>
<img src="img/func_partitioning_interval2.png" alt="Examples of interval partitioned table creation and deletion" width="350"/>
<figcaption>Examples of interval partitioned table creation and deletion</figcaption>
</figure>
<ul>
<li>
<p>Pruning</p>
<p>By specifying a partitioning key as a search condition in the WHERE clause, the data partitions corresponding the specified key are only referred for the search, so that the processing speed and the memory usage are improved.</p>
</li>
</ul>
<h3 id="interval-hash-partitioning">Interval-hash partitioning</h3>
<p>The interval-hash partitioning is a combination of the interval partitioning and the hash partitioning. First the rows are divided by the interval partitioning, and further each division is divided by hash partitioning.  The number of data partitions is obtained by multiplying the interval division count and the hash division count together.</p>
<figure>
<img src="img/func_partitioning_interval_hash.png" alt="Interval-hash partitioning" width="800"/>
<figcaption>Interval-hash partitioning</figcaption>
</figure>
<p>The rows are distributed to multiple nodes appropriately through the hash partitioning on the result of the interval partitioning. On the other hand, the number of data partitions increases, so that the overhead of searching on the whole table also increases. Please judge to use the partitioning by considering its data distribution and search overhead.</p>
<p>The basic functions of the interval-hash partitioning are the same as the functions of interval partitioning and the hash partitioning. The items specific for the interval-hash partitioning are as follows.</p>
<ul>
<li>
<p>Data partitioning</p>
<p>The possible interval values of LONG are different from the interval partitioning.</p>
<ul>
<li>BYTE type : from 1 to 2<sup>7</sup>-1</li>
<li>SHORT type : from 1 to 2<sup>15</sup>-1</li>
<li>INTEGER type : from 1 to 2<sup>31</sup>-1</li>
<li>LONG type : from 1000 * hash division count to 2<sup>63</sup>-1</li>
<li>TIMESTAMP: more than 1</li>
</ul>
</li>
<li>
<p>Number of data partitions</p>
<p>Including partitions divided by hash, the upper limit of number of data partitions is 10000. The behavior and requiring maintenance when the limit has been reached are same as interval partitioning.</p>
</li>
<li>
<p>Deletion of a table</p>
<p>A group of data partitions which have the same range can be deleted. It is not possible to delete only a data partition divided by the hash partitioning.</p>
</li>
</ul>
<h3 id="selection-criteria-of-table-partitioning-type">Selection criteria of table partitioning type</h3>
<p>Hash, interval and interval-hash are supported as a type of table partitioning by GridDB.</p>
<p>A column which is used in conditions of search or data access must be specified as a partitioning key for dividing the table. If a width of range that divides data equally can be determined for values of the partitioning key, interval or interval-hash is suitable. Otherwise hash should be selected.</p>
<figure>
<img src="img/func_partitioning4.png" alt="Data range" width="500"/>
<figcaption>Data range</figcaption>
</figure>
<ul>
<li>
<p>Interval partitioning, interval-hash partitioning</p>
<p>If an interval, a width of range to divide data equally, can be determined beforehand, interval partitioning is suitable.  In the query processing on interval partitioning, by partitioning pruning, the result is acquired from only the data partitions matching the search condition, so the performance is improved. Besides the query processing, when registering successive data in a specific range, performance is improved.</p>
<figure>
<img src="img/func_partitioning_interval3.png" alt="Interval partitioning" width="700"/>
<figcaption>Interval partitioning</figcaption>
</figure>
<p>Therefore, when using interval partitioning, by selecting an appropriate interval value based on frequently registered or searched data range in application programs, required memory size is reduced. For example, in the case of a system in which time-series data such as sensor data is frequently searched for the latest data, if the search target range is the division width value of interval partitioning, the search is performed in the memory of the data partition size to be processed and the performance dose not deteriorates.</p>
<figure>
<img src="img/func_partitioning_interval4.png" alt="Examples of data registration and search on interval partitioning" width="1000"/>
<figcaption>Examples of data registration and search on interval partitioning</figcaption>
</figure>
<p>Further by using interval-hash partitioning, data in each interval is distributed to multiple nodes equally, so accesses to the same data partition can also be performed in parallel.</p>
<figure>
<img src="img/func_partitioning_interval_hash2.png" alt="Interval-hash partitioning" width="700"/>
<figcaption>Interval-hash partitioning</figcaption>
</figure>
</li>
<li>
<p>Hash partitioning</p>
<p>When the characteristics of data to be stored is not clear or finding the interval value, which can divide the data equally, is difficult, hash partitioning should be selected. By specifying a column holding unique values as a partitioning key, uniform partitioning for a large amount of data is performed automatically.</p>
<figure>
<img src="img/func_partitioning_hash2.png" alt="Hash partitioning" width="700"/>
<figcaption>Hash partitioning</figcaption>
</figure>
<p>When using hash partitioning, the parallel access to the entire table and the partitioning pruning which is enabled only for exact match search can be performed, so the system performance can be improved. But, to obtain high performance, each node is required to have enough memory that can store the entire data partition of the node.</p>
<figure>
<img src="img/func_partitioning_hash3.png" alt="Examples of data registration and search on hash partitioning" width="1100"/>
<figcaption>Examples of data registration and search on hash partitioning</figcaption>
</figure>
</li>
</ul>
<h2 id="transaction-function">Transaction function</h2>
<p>GridDB supports transaction processing on a container basis and ACID characteristics which are generally known as transaction characteristics. The supporting functions in a transaction process are explained in detail below.</p>
<h3 id="starting-and-ending-a-transaction">Starting and ending a transaction</h3>
<p>When a row search or update etc. is carried out on a container, a new transaction is started and this transaction ends when the update results of the data are committed or aborted.</p>
<p>[Note]</p>
<ul>
<li>A commit is a process to confirm transaction information under processing to perpetuate the data.
<ul>
<li>In GridDB, updated data of a transaction is stored as a transaction log by a commit process, and the lock that had been maintained will be released.</li>
</ul>
</li>
<li>An abort is a process to rollback (delete) all transaction data under processing.
<ul>
<li>In GridDB, all data under processing are discarded and retained locks will also be released.</li>
</ul>
</li>
</ul>
<p>The initial action of a transaction is set in autocommit.</p>
<p>In autocommit, a new transaction is started every time a container is updated (data addition, deletion or revision) by the application, and this is automatically committed at the end of the operation.  A transaction can be committed or aborted at the requested timing by the application by turning off autocommit.</p>
<p>A transaction recycle may terminate in an error due to a timeout in addition to being completed through a commit or abort. If a transaction terminates in an error due to a timeout, the transaction is aborted. The transaction timeout is the elapsed time from the start of the transaction.  Although the initial value of the transaction timeout time is set in the definition file (gs_node.json), it can also be specified as a parameter when connecting to GridDB on an application basis.</p>
<h3 id="transaction-consistency-level">Transaction consistency level</h3>
<p>There are 2 types of transaction consistency levels, immediate consistency and eventual consistency. This can also be specified as a parameter when connecting to GridDB for each application.  The default setting is immediate consistency.</p>
<ul>
<li>
<p>immediate consistency</p>
<ul>
<li>Container update results from other clients are reflected immediately at the end of the transaction concerned. As a result, the latest details can be referenced all the time.</li>
</ul>
</li>
<li>
<p>eventual consistency</p>
<ul>
<li>Container update results from other clients may not be reflected immediately at the end of the transaction concerned.  As a result, there is a possibility that old details may be referred to.</li>
</ul>
</li>
</ul>
<p>Immediate consistency is valid in update operations and read operations.  Eventual consistency is valid in read operations only.  For applications which do not require the latest results to be read all the time, the reading performance improves when eventual consistency is specified.</p>
<h3 id="transaction-isolation-level">Transaction isolation level</h3>
<p>Conformity of the database contents need to be maintained all the time.  When executing multiple transaction simultaneously, the following events will generally surface as issues.</p>
<ul>
<li>
<p>Dirty read</p>
<p>An event which involves uncommitted data written by a dirty read transaction being read by another transaction.</p>
</li>
<li>
<p>Non-repeatable read</p>
<p>An event which involves data read previously by a non-repeatable read transaction becoming unreadable. Even if you try to read the data read previously by a transaction again, the previous data can no longer be read as the data has already been updated and committed by another transaction (the new data after the update will be read instead).</p>
</li>
<li>
<p>Phantom read</p>
<p>An event in which the inquiry results obtained previously by a phantom read transaction can no longer be acquired. Even if you try to execute an inquiry executed previously in a transaction again in the same condition, the previous results can no longer be acquired as the data satisfying the inquiry condition has already been changed, added and committed by another transaction (new data after the update will be acquired instead).</p>
</li>
</ul>
<p>In GridDB, &ldquo;READ_COMMITTED&rdquo; is supported as a transaction isolation level.  In READ_COMMITTED, the latest data confirmed data will always be read.</p>
<p>When executing a transaction, this needs to be taken into consideration so that the results are not affected by other transactions. The isolation level is an indicator from 1 to 4 that shows how isolated the executed transaction is from other transactions (the extent that consistency can be maintained).</p>
<p>The 4 isolation levels and the corresponding possibility of an event raised as an issue occurring during simultaneous execution are as follows.</p>
<table>
<thead>
<tr>
<th>Isolation level</th>
<th>Dirty read</th>
<th>Non-repeatable read</th>
<th>Phantom read</th>
</tr>
</thead>
<tbody>
<tr>
<td>READ_UNCOMMITTED</td>
<td>Possibility of occurrence</td>
<td>Possibility of occurrence</td>
<td>Possibility of occurrence</td>
</tr>
<tr>
<td>READ_COMMITTED</td>
<td>Safe</td>
<td>Possibility of occurrence</td>
<td>Possibility of occurrence</td>
</tr>
<tr>
<td>REPEATABLE_READ</td>
<td>Safe</td>
<td>Safe</td>
<td>Possibility of occurrence</td>
</tr>
<tr>
<td>SERIALIZABLE</td>
<td>Safe</td>
<td>Safe</td>
<td>Safe</td>
</tr>
</tbody>
</table>
<p>In READ_COMMITED, if data read previously is read again, data that is different from the previous data may be acquired, and if an inquiry is executed again, different results may be acquired even if you execute the inquiry with the same search condition. This is because the data has already been updated and committed by another transaction after the previous read.</p>
<p>In GridDB, data that is being updated by MVCC is isolated.</p>
<h3 id="mvcc">MVCC</h3>
<p>In order to realize READ_COMMITTED, GridDB has adopted &ldquo;MVCC (Multi-Version Concurrency Control)&rdquo;.</p>
<p>MVCC is a processing method that refers to the data prior to being updated instead of the latest data that is being updated by another transaction when a transaction sends an inquiry to the database. System throughput improves as the transaction can be executed concurrently by referring to the data prior to the update.</p>
<p>When the transaction process under execution is committed, other transactions can also refer to the latest data.</p>
<figure>
<img src="img/func_MVCC.png" alt="MVCC" width="700"/>
<figcaption>MVCC</figcaption>
</figure>
<h3 id="lock">Lock</h3>
<p>There is a data lock mechanism to maintain the consistency when there are competing container update requests from multiple transactions.</p>
<p>The lock granularity differs depending on the type of container. In addition, the lock range changes depending on the type of operation in the database.</p>
<h4 id="lock-granularity">Lock granularity</h4>
<p>The lock granularity for each container type is as follows.</p>
<ul>
<li>Collection: Lock by ROW unit.</li>
<li>Timeseries container: Locked by ROW collection
<ul>
<li>In a ROW collection, multiple rows are placed in a timeseries container by dividing a block into several data processing units.  This data processing unit is known as a row set. It is a data management unit to process a large volume of timeseries containers at a high speed even though the data granularity is coarser than the lock granularity in a collection.</li>
</ul>
</li>
</ul>
<p>These lock granularity were determined based on the use-case analysis of each container type.</p>
<ul>
<li>Collection data may include cases in which an existing ROW data is updated as it manages data just like a RDB table.</li>
<li>A timeseries container is a data structure to hold data that is being generated with each passing moment and rarely includes cases in which the data is updated at a specific time.</li>
</ul>
<h4 id="lock-range-by-database-operations">Lock range by database operations</h4>
<p>Container operations are not limited to just data registration and deletion but also include schema changes accompanying a change in data structure, index creation to improve speed of access, and other operations. The lock range depends on either operations on the entire container or operations on specific rows in a container.</p>
<ul>
<li>
<p>Lock the entire container</p>
<ul>
<li>Index operations (createIndex/dropIndex)</li>
<li>Deleting container</li>
<li>Schema change</li>
</ul>
</li>
<li>
<p>Lock in accordance with the lock granularity</p>
<ul>
<li>put/update/remove</li>
<li>get(forUpdate)</li>
</ul>
<p>In a data operation on a row, a lock following the lock granularity is ensured.</p>
</li>
</ul>
<p>If there is competition in securing the lock, the subsequent transaction will be put in standby for securing the lock until the earlier transaction has been completed by a commit or rollback process and the lock is released.</p>
<p>A standby for securing a lock can also be cancelled by a timeout besides completing the execution of the transaction.</p>
<h3 id="data-perpetuation">Data perpetuation</h3>
<p>Data registered or updated in a container or table is perpetuated in the disk or SSD, and protected from data loss when a node failure occurs. In data persistence, there are two processes: one is a checkpoint process for periodically saving the updated data on the memory in data files and checkpoint log files for each block, and the other is a transaction log process for sequentially writing the updated data to transaction log files in sync with data updates.</p>
<p>To write to a transaction log, either one of the following settings can be made in the node definition file.</p>
<ul>
<li>0: SYNC</li>
<li>An integer value of 1 or higher: DELAYED_SYNC</li>
</ul>
<p>In the &ldquo;SYNC&rdquo; mode, log writing is carried out synchronously every time an update transaction is committed or aborted. In the &ldquo;DELAYED_SYNC&rdquo; mode, log writing during an update is carried out at a specified delay of several seconds regardless of the update timing. Default value is &ldquo;1 (DELAYED_SYNC 1 sec)&rdquo;.</p>
<p>When &ldquo;SYNC&rdquo; is specified, although the possibility of losing the latest update details when a node failure occurs is lower, the performance is affected in systems that are updated frequently.</p>
<p>On the other hand, if &ldquo;DELAYED_SYNC&rdquo; is specified, although the update performance improves, any update details that have not been written in the disk when a node failure occurs will be lost.</p>
<p>If there are 2 or more replicas in a raster configuration, the possibility of losing the latest update details when a node failure occurs is lower even if the mode is set to &ldquo;DELAYED_SYNC&rdquo; as the other nodes contain replicas. Consider setting the mode to &ldquo;DELAYED_SYNC&rdquo; as well if the update frequency is high and performance is required.</p>
<p>In a checkpoint, the update block is updated in the database file.  A checkpoint process operates at the cycle set on a node basis. A checkpoint cycle is set by the parameters in the node definition file. Initial value is 60 sec (1 minute).</p>
<p>By raising the checkpoint execution cycle figure, data perpetuation can be set to be carried out in a time band when there is relatively more time to do so e.g. by perpetuating data to a disk at night and so on. On the other hand, when the cycle is lengthened, the disadvantage is that the number of transaction log files that have to be rolled forward when a node is restarted outside the system process increases, thereby increasing the recovery time.</p>
<figure>
<img src="img/func_checkpnt.png" alt="Checkpoint" width="500"/>
<figcaption>Checkpoint</figcaption>
</figure>
<h3 id="timeout-process">Timeout process</h3>
<p>NoSQL I/F and a NewSQL I/F have different setting items for timeout processing.</p>
<h4 id="nosql-if-timeout-process">NoSQL I/F timeout process</h4>
<p>In the NoSQL I/F, 2 types of timeout could be notified to the application developer, Transaction timeout and Failover timeout. The former is related to the processing time limit of a transaction, and the latter is related to the retry time of a recovery process when a failure occurs.</p>
<ul>
<li>
<p>TransactionTimeout</p>
<p>The timer is started when access to the container subject to the process begins, and a timeout occurs when the specified time is exceeded.</p>
<p>Transaction timeout is configured to delete lock, and memory from a long-duration update lock (application searches for data in the update mode, and does not delete when the lock is maintained) or a transaction that maintains a large amount of results (application does not delete the data when the lock is maintained). Application process is aborted when transaction timeout is triggered.</p>
<p>A transaction timeout time can be specified in the application with a parameter during cluster connection. The upper limit of this can be specified in the node definition file.  The default value of upper limit is 300 seconds. To monitor transactions that take a long time to process, enable the timeout setting and set a maximum time in accordance with the system requirements.</p>
</li>
<li>
<p>FailoverTimeout</p>
<p>Timeout time during an error retry when a client connected to a node constituting a cluster which failed connects to a replacement node. If a new connection point is discovered in the retry process, the client application will not be notified of the error. Failover timeout is also used in timeout during initial connection.</p>
<p>A failover timeout time can be specified in the application by a parameter during cluster connection. Set the timeout time to meet the system requirements.</p>
</li>
</ul>
<p>Both the transaction timeout and failover timeout can be set when connecting to a cluster using a GridDB object in the Java API or C API.
See &ldquo;<a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java API Reference</a>&rdquo; and &ldquo;<a href="../13.md_reference_c_api/md_reference_c_api.html">GridDB C API Reference</a>&rdquo;  for details.</p>
<h4 id="newsql-if-timeout-process">NewSQL I/F timeout process</h4>
<p>There are 3 types of timeout as follows:</p>
<ul>
<li>
<p>Login (connection) timeout</p>
<p>Timeout for initial connection to the cluster. The default value is 300 seconds (5 minutes) and can be changed using DriverManager of API .</p>
</li>
<li>
<p>Network timeout</p>
<p>Timeout in response between client and cluster. The timeout time is 300 seconds (5 minutes) and can not be changed in the current GridDB version.</p>
<p>If the server does not respond for 15 seconds during communication from the client, it will retry, and if there is no response for 5 minutes it will timeout. There is no timeout during long-term query processing.</p>
</li>
<li>
<p>Query timeout</p>
<p>Timeout time can be specified for each query to be executed. The default value for the timeout time is not set, allowing long-term query processing. In order to monitor the long-term query, set the timeout time according to the requirements of the system. The setting can be specified by Statement of the API.</p>
</li>
</ul>
<h2 id="replication-function">Replication function</h2>
<p>Data replicas are created on a partition basis in accordance with the number of replications set by the user among multiple nodes constituting a cluster.</p>
<p>A process can be continued non-stop even when a node failure occurs by maintaining replicas of the data among scattered nodes. In the client API, when a node failure is detected, the client automatically switches access to another node where the replica is maintained.</p>
<p>The default number of replication is 2, allowing data to be replicated twice when operating in a cluster configuration with multiple nodes.</p>
<p>When there is an update in a container, the owner node (the node having the master replica) among the replicated partitions is updated.</p>
<p>There are 2 ways of subsequently reflecting the updated details from the owner node in the backup node.</p>
<ul>
<li>
<p>Asynchronous replication</p>
<p>Replication is carried out without synchronizing with the timing of the asynchronous replication update process. Update performance is better for quasi-synchronous replication but the availability is worse.</p>
</li>
<li>
<p>Quasi-synchronous replication</p>
<p>Although replication is carried out synchronously at the quasi-synchronous replication update process timing, no appointment is made at the end of the replication. Availability is excellent but performance is inferior.</p>
</li>
</ul>
<p>If performance is more important than availability, set the mode to asynchronous replication and if availability is more important, set it to quasi-synchronous replication.</p>
<p>[Note]</p>
<ul>
<li>The number of replications is set in the cluster definition file (gs_cluster.json) /cluster/replicationNum.  Synchronous settings of the replication are set in the cluster definition file (gs_cluster.json) /transaction/replicationMode.</li>
</ul>
<h2 id="affinity-function">Affinity function</h2>
<p>The affinity function is a function that links related data. GridDB provides two types of affinity functions, data affinity and node affinity.</p>
<h3 id="data-affinity">Data Affinity</h3>
<p>Data affinity has two functionalities: one is for grouping multiple containers (tables) together and placing them in a separate block, and the other is for placing each container (table) in a separate block.</p>
<h3 id="grouping-multiple-containers-together-and-placing-them-in-a-separate-block">Grouping multiple containers together and placing them in a separate block</h3>
<p>This is a function to group containers (tables) placed in the same partition based on hint information and place each of them in a separate block. By storing only data that is highly related to each block, data access is localized and thus increase the memory hit rate.</p>
<p>Hint information is provided as a property when creating a container (table). The characters that can be used for hint information have some restrictions just as container (table) names follow naming rules.</p>
<p>Data with the same hint information is placed in the same block as much as possible. Hint information is set depending on rate of data updates and data reference. For example, consider the data structure when system data is registered, referenced or updated by the following operating method in a system that samples and refers to the data on a daily, monthly or annual basis in a monitoring system.</p>
<ol>
<li>Data in minutes is sent from the monitoring device and saved in the container created on a monitoring device basis.</li>
<li>Since data reports are created daily, one day&rsquo;s worth of data is aggregated from the data in minutes and saved in the daily container</li>
<li>Since data reports are created monthly, daily container (table) data is aggregated and saved in the monthly container</li>
<li>Since data reports are created annually, monthly container (table) data is aggregated and saved in the annual container</li>
<li>The current space used (in minutes and days) is constantly updated and displayed in the display panel.</li>
</ol>
<p>In GridDB, instead of occupying a block in a container unit, data close to the time is placed in the block. Therefore, refer to the daily container (table) in 2., perform monthly aggregation and use the aggregation time as a ROWKEY (PRIMARY KEY). The data in 3. and the data in minutes in 1. may be saved in the same block.</p>
<p>When performing yearly aggregation (No.4 above) of a large amount of data, the data which need constant monitoring (No.1) may be swapped out. This is caused by reading the data, which is stored in different blocks (No.4 above), into the memory that is not large enough for all the monitoring data.</p>
<p>In this case, hints are provided according to the access frequency of containers (tables), for example, per minute, per day, and per month, to separate infrequently accessed data and frequently accessed data from each other to place each in a separate block during data placement.</p>
<p>In this way, data can be placed to suit the usage scene of the application by the data affinity function.</p>
<figure>
<img src="img/feature_data_afinity.png" alt="Data Affinity" width="500"/>
<figcaption>Grouping multiple containers together and placing them in a separate block</figcaption>
</figure>
<p>[Note]</p>
<ul>
<li>Data affinity has no effect on containers (tables) placed in different partitions.<br>
To place specific containers (tables) in the same partition, use the node affinity function.</li>
</ul>
<h3 id="placing-each-container-table-in-a-separate-block">Placing each container (table) in a separate block</h3>
<p>This is a function to occupy blocks on a per container (table) basis. Allocating a unique block to a container enables faster scanning and deletion on a per container basis.</p>
<p>As hint information, set a special string &ldquo;<strong>#unique</strong>&rdquo; to property information when creating a container. Data in a container with this property information is placed in a completely separate block from data in other containers.</p>
<figure>
<img src="img/data_affinity_independent.png" alt="data affinity independent" width="500"/>
<figcaption>
</figcaption>
</figure>
<p>[Note]
There is a possibility that the memory hit rate when accessing multiple containers is reduced.</p>
<h3 id="node-affinity">Node affinity</h3>
<p>Node affinity refers to a function to place closely related containers or tables in the same node and thereby reduce the network load when accessing the data. In the GridDB SQL, a table JOIN operation can be described, such that while joining tables, it reduces the network load for accessing tables each placed in separate nodes of the cluster. While node affinity is not effective for reducing the turnaround time as concurrent processing using multiple nodes is no longer possible, it may improve throughput because of a reduction in the network load.</p>
<figure>
<img src="img/func_Node_Affinity.png" alt="Placement of container/table based on node affinity" width="500"/>
<figcaption>Placement of container/table based on node affinity</figcaption>
</figure>
<p>To use the node affinity function, hint information is given in the container (table) name when the container (table) is created. A container (table) with the same hint information is placed in the same partition.  Specify the container name as shown below.</p>
<ul>
<li>Container (table) name@node affinity hint information</li>
</ul>
<p>The naming rules for node affinity hint information are the same as the naming rules for the container (table) name.</p>
<p>[Note]</p>
<ul>
<li>This function cannot be used when table partitioning is in use.</li>
</ul>
<h2 id="change-the-definition-of-a-container-table">Change the definition of a container (table)</h2>
<p>You can change container definition including that of column addition after creating a container. Operations that can be changed and the interfaces to be used are given below.</p>
<table>
<thead>
<tr>
<th>When the operating target is a single node</th>
<th>NoSQL API</th>
<th>SQL</th>
</tr>
</thead>
<tbody>
<tr>
<td>Add column(tail)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Add column(except for tail)</td>
<td> (*1)</td>
<td></td>
</tr>
<tr>
<td>Delete column</td>
<td> (*1)</td>
<td></td>
</tr>
<tr>
<td>rename column</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>(*1) If you add columns except to the tail or delete columns, the container is recreated internally. Therefore, it takes a long time to operate the container whose data amount is large.</li>
<li>Operations that are not listed above, such as changing the name of a container, cannot be performed.</li>
</ul>
<h3 id="add-column">Add column</h3>
<p>Add a new column to a container.</p>
<ul>
<li>
<p>NoSQL API</p>
<ul>
<li>
<p>Add a column with GridStore#putContainer.</p>
</li>
<li>
<p>Get container information &ldquo;ContainerInfo&rdquo; from an existing container. Execute putContainer after setting a new column to container information.
See &ldquo;<a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java API Reference</a>&rdquo;  for details.</p>
</li>
<li>
<p>[Example program]</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// Get container information
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">ContainerInfo</span> <span style="color:#000">conInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainerInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;table1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">newColumnList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">conInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnCount</span><span style="color:#ce5c00;font-weight:bold">();</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">newColumnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">conInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// Set a new column to the tail
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">newColumnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;NewColumn&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">INTEGER</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">conInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setColumnInfoList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">newColumnList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// Add a column
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putCollection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;table1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">conInfo</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>SQL</p>
<ul>
<li>Add a column using the ALTER TABLE syntax.</li>
<li>Only the operation of adding a column to the tail is available. See the &ldquo;[GridDB SQL Reference](../14.md_reference_sql/md_reference_sql.md&rdquo;  for details.</li>
</ul>
</li>
</ul>
<p>If you obtain existing rows after adding columns, the &ldquo;empty value&rdquo; defined in the data type of each column as a additional column value returns.
See Container&lt;K,R&gt; of a &ldquo;<a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java API Reference</a>&rdquo; for details about the empty value.
(In V4.1, there is a limitation &ldquo;Getting existing rows after addition of a column results in NULL return from columns without NOT NULL constraint.&rdquo;)
See the limitations page of &ldquo;<a href="../1.md_release_notes/md_release_notes.md">GridDB Release Notes</a>&rdquo;  for details.</p>
<figure>
<img src="img/add_column.png" alt="Example of adding an column" width="800"/>
<figcaption>Example of adding an column</figcaption>
</figure>
<h3 id="delete-column">Delete column</h3>
<p>Delete a column. It is only operational with NoSQL APIs.</p>
<ul>
<li>NoSQL API
<ul>
<li>Delete a column with GridStore#putContainer. Get container information &ldquo;ContainerInfo&rdquo; from an existing container at first. Then, execute putContainer after excluding column information of a deletion target.
See &ldquo;<a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java API Reference</a>&rdquo; for details.</li>
</ul>
</li>
</ul>
<h3 id="rename-column">Rename column</h3>
<p>Rename a container column, which is only operational with SQL.</p>
<ul>
<li>SQL
<ul>
<li>Add a column using the ALTER TABLE syntax. See the &ldquo;<a href="../14.md_reference_sql/md_reference_sql.md">GridDB SQL Reference</a>&rdquo;  for details.</li>
</ul>
</li>
</ul>
<h2 id="database-compressionrelease-function">Database compression/release function</h2>
<p><a id="block_data_compression"></a></p>
<h3 id="block-data-compression">Block data compression</h3>
<p>When GridDB writes in-memory data to the database file residing on the disk, a database with larger capacity independent to the memory size can be obtained. However, as the size increases, so does the cost of the storage. The block data compression function is a function to assist in reducing the storage cost that increases relative to the amount of data by compressing database files (data files). In this case, flash memory with a higher price per unit of capacity can be utilized much more efficiently than HDD.</p>
<p><strong>Compression method</strong></p>
<p>When the data on memory is exported to database files (data files), compression is performed for each block, which represents the write unit in GridDB. The vacant area of Linux&rsquo;s file space due to compression can be deallocated, thereby reducing disk usages.</p>
<p><strong>Supported environment</strong></p>
<p>Since block data compression uses the Linux function, it depends on the Linux kernel version and file system. Block data compression is supported in the following environment.</p>
<ul>
<li>OS: RHEL / CentOS 7.9 and later, Ubuntu Server 20.04</li>
<li>File system: XFS</li>
<li>File system block size: 4 KB</li>
</ul>
<p>If block data compression is enabled in other environments, the GridDB node will fail to start.</p>
<p><strong>Configuration method</strong></p>
<p>The compression function needs to be configured in every nodes.</p>
<ul>
<li>Set the following string in the node definition file (gs_node.json) /dataStore/storeCompressionMode.
<ul>
<li>To disable compression functionality: NO_COMPRESSION (default)</li>
<li>To enable compression functionality: COMPRESSION</li>
</ul>
</li>
<li>The settings will be applied after GridDB node is restarted.</li>
<li>By restarting GridDB node, enable/disable operation of the compression function can be changed.</li>
</ul>
<p>[Note]</p>
<ul>
<li>Block data compression can only be applied to data files. Checkpoint log files, transaction log files, backup files, and the data on memory in GridDB are not subject to compression.</li>
<li>Block data compression makes data files into sparse files.</li>
<li>Even when the compression function is enabled, data that has already been written to data files cannot be compressed.</li>
</ul>
<h3 id="deallocation-of-unused-data-blocks">Deallocation of unused data blocks</h3>
<p>The deallocation of unused data block space is the function to reduce the size of database files (actual disk space allocated) by deallocating the Linux file blocks in the unused block space in database files (data files).</p>
<p>Use this function in the following cases.</p>
<ul>
<li>A large amount of data has been deleted</li>
<li>There is no plan to update data and it is necessary to keep the DB for a long term.</li>
<li>The disk becomes full when updating data and reducing the DB size is needed temporarily.</li>
</ul>
<p>The processing for the deallocation of unused blocks, the support environment and the execution method are explained below.</p>
<p><strong>Processing for deallocation</strong></p>
<p>During the startup of a GridDB node, unused space in database files (data files) is deallocated. Those remain deallocated until data is updated on them.</p>
<p><strong>Supported environment</strong></p>
<p>The support environment is the same as the <a href="#block_data_compression">block data compression</a>.</p>
<p><strong>Execution method</strong></p>
<p>Specify the deallocation option, &ndash;releaseUnusedFileBlocks, of the gs_startnode command, in the time of starting GridDB nodes.</p>
<p>Check the size of unused space in database  files (data files) and the size of allocated disk space using the following command.</p>
<ul>
<li>Items shown by the gs_stat command
<ul>
<li>
<p>storeTotalUse</p>
<p>The total data capacity that the node retains in data files (in bytes)</p>
</li>
<li>
<p>dataFileAllocateSize</p>
<p>The total size of blocks allocated to data files (in bytes)</p>
</li>
</ul>
</li>
</ul>
<p>It is desired to perform this function when the size of allocated and unused blocks is large (storeTotalUse &laquo; dataFileAllocateSize).</p>
<p>[Note]</p>
<ul>
<li>This function is available only for data files. Unused space in checkpoint log files, transaction log files and backup files is not deallocated.</li>
<li>Deallocation of unused data blocks makes data files into sparse files.</li>
<li>This function can reduce the disk usage in data files, but can be disadvantageous in terms of performance in that by making data files into sparse files, fragmentation is more likely to occur.</li>
<li>The start-up of GridDB with this function may take more time than the normal start-up.</li>
</ul>
<h2 id="----operating-function----">&mdash; Operating function &mdash;</h2>
<h2 id="service">Service</h2>
<p>GridDB service is automatically performed during OS start-up to start a node or cluster.</p>
<p>The GridDB service is enabled immediately after installing the packages. Since the service is enabled, the GridDB server is started at the same time the OS starts up, and the server is stopped when the OS is stopped.</p>
<p>When you use an interface that integrates middleware and application operation including OS monitoring and database software operation, consideration of dependency with other middleware such as whether to use service or operating commands for GridDB operation is necessary.</p>
<p>GridDB service is automatically performed during OS start-up to start a GridDB node (hereinafter, node) or GridDB cluster (hereinafter cluster). The node or cluster is stopped when the OS is shut down.</p>
<p>The following can be carried out by the service.</p>
<ul>
<li>Starting, stopping, and rebooting a node</li>
<li>Checking the process state of a node</li>
</ul>
<p>The service operation procedures to the cluster of three nodes are as follows.</p>
<ul>
<li>
<p>Starting the cluster using services</p>
<p>Suppose that three nodes are stopped.</p>
<table>
<thead>
<tr>
<th>User&rsquo;s operation</th>
<th>State of node A</th>
<th>State of node B</th>
<th>State of node C</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>Stopped node</td>
<td>Stopped node</td>
<td>Stopped node</td>
</tr>
<tr>
<td>(1) Start services for nodes A/B/C</td>
<td>Starting a node<br />Having Joined the cluster</td>
<td>Starting a node<br />Having Joined the cluster</td>
<td>Starting a node<br />Having Joined the cluster</td>
</tr>
</tbody>
</table>
<ul>
<li>The services are automatically executed at OS startup.</li>
<li>To start a cluster by starting the services, the number of nodes constituting a cluster and the cluster name must be defined in the configuration files of the services.</li>
<li>When the number of nodes joining the cluster is equals to the defined number of nodes constituting the cluster, the cluster is started automatically.</li>
</ul>
</li>
<li>
<p>Stopping a node using a service</p>
<p>Suppose that the cluster is in operation.</p>
<table>
<thead>
<tr>
<th>User&rsquo;s operation</th>
<th>State of node A</th>
<th>State of node B</th>
<th>State of node C</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>Having Joined the cluster</td>
<td>Having Joined the cluster</td>
<td>Having Joined the cluster</td>
</tr>
<tr>
<td>(1) Stopping the service of the node B.</td>
<td>Having Joined the cluster</td>
<td>Being detached from the cluster.<br />Node being stopped</td>
<td>Having Joined the cluster</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Starting the cluster using services</p>
<p>Suppose that the cluster is in operation.</p>
<table>
<thead>
<tr>
<th>User&rsquo;s operation</th>
<th>State of node A</th>
<th>State of node B</th>
<th>State of node C</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>Having Joined the cluster</td>
<td>Having Joined the cluster</td>
<td>Having Joined the cluster</td>
</tr>
<tr>
<td>Stop the cluster (* caution).</td>
<td>Being detached from the cluster.</td>
<td>Being detached from the cluster.</td>
<td>Being detached from the cluster.</td>
</tr>
<tr>
<td>(2) Stop the service of nodes A/B/C.</td>
<td>Stopped node</td>
<td>Stopped node</td>
<td>Stopped node</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Note]</p>
<ul>
<li><strong>When stopping the cluster, execute the gs_stopcluster command and leave/stop each node by a service stop.</strong>
If you do not stop the cluster with the gs_stopcluster command, autonomous data arrangement may occur due to node leaving.
If data relocation happens frequently, network or disk I/O may become a load.
If you leave the node after stopping the cluster, data arrangement will not occur. To prevent unnecessary data rearrangement, be sure to stop the cluster in advance.
To stop a cluster, execute the operating command gs_stopcluster, use the integrated operation control gs_admin, or use gs_sh.</li>
</ul>
<p>If you do not use service control, disable service at all the runlevels in the way as follows.</p>
<pre tabindex="0"><code class="language-example" data-lang="example"># /sbin/chkconfig gridstore off
</code></pre><h2 id="user-management-function">User management function</h2>
<p>There are 2 types of GridDB user, an OS user which is created during installation and a GridDB user to perform operations/development in GridDB (hereinafter referred to a GridDB user).</p>
<h3 id="os-user">OS user</h3>
<p>An OS user has the right to execute operating functions in GridDB and a gsadm user is created during GridDB installation. This OS user is hereinafter referred to gsadm.</p>
<p>All GridDB resources will become the property of gsadm. In addition, all operating commands in GridDB are executed by a gsadm.</p>
<p>Authentication is performed to check whether the user has the right to connect to the GridDB server and execute the operating commands. This authentication is performed by a GridDB user.</p>
<h3 id="griddb-user">GridDB user</h3>
<ul>
<li>
<p>Administrator user and general user</p>
<p>There are 2 types of GridDB user, an administrator user and a general user, which differ in terms of which functions can be used. Immediately after the installation of GridDB, 2 users, a system and an admin user, are registered as default administrator users.</p>
<p>An administrator user is a user created to perform GridDB operations while general users are users used by the application system.</p>
<p>For security reasons, administrator users and general users need to be used differently according to the usage purpose.</p>
</li>
<li>
<p>Creating a user</p>
<p>An administrator user can register or delete a gsadm, and the information is saved in the password file of the definition file directory as a GridDB resource. As an administrator user is saved/managed in a local file of the OS, it has to be placed so that the settings are the same in all the nodes constituting the cluster. In addition, administrator users need to be set up prior to starting the GridDB server. After the GridDB server is started, administrative users are not valid even if they are registered.</p>
<p>An administrator user can create a general user after starting cluster operations in GridDB. A general user cannot be registered before the start of cluster services. A general user can only be registered using an operating command against a cluster as it is created after a cluster is composed in GridDB and maintained as management information in the GridDB database.</p>
<p>Since information is not communicated automatically among clusters, an administrator user needs to make the same settings in all the nodes and perform operational management such as determining the master management node of the definition file and distributing information from the master management node to all the nodes that constitute the cluster.</p>
</li>
</ul>
<figure>
  <img src="img/func_user.png" alt="GridDB users" width="650"/>
  <figcaption>GridDB users</figcaption>
</figure>
<ul>
<li>
<p>Rules when creating a user</p>
<p>There are naming rules to be adopted when creating a user name.</p>
<ul>
<li>
<p>Administrator user: Specify a user starting with &ldquo;gs#&rdquo;. After &ldquo;gs#&rdquo;, the name should be composed of only alphanumeric characters and the underscore mark. Since the name is not case-sensitive, gs#manager and gs#MANAGER cannot be registered at the same time.</p>
</li>
<li>
<p>General user: Specify using alphanumeric characters and the underscore mark. The container name should not start with a number. In addition, since the name is not case-sensitive, user and USER cannot be registered at the same time. System and admin users cannot be created as default administrator users.</p>
</li>
<li>
<p>Password: No restrictions on the characters that can be specified.</p>
</li>
</ul>
<p>A string of up to 64 characters can be specified for the user name and password.</p>
</li>
</ul>
<h3 id="usable-function">Usable function</h3>
<p>The operations available for an administrator and a general user are as follows. Among the operations, commands which can be executed by a gsadm without using a GridDB user are marked with &ldquo;??&rdquo;.</p>
<table>
<thead>
<tr>
<th>When the operating target is a single node</th>
<th>Operating details</th>
<th>Operating tools used</th>
<th>gsadm</th>
<th>Administrator user</th>
<th>General user</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node operations</td>
<td>start node</td>
<td>gs_startnode/gs_sh</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>stop node</td>
<td>gs_stopnode/gs_sh</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Cluster operations</td>
<td>Building a cluster</td>
<td>gs_joincluster/gs_sh</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>Adding a node to a cluster</td>
<td>gs_appendcluster/gs_sh</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>Detaching a node from a cluster</td>
<td>gs_leavecluster/gs_sh</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>Stopping a cluster</td>
<td>gs_stopcluster/gs_sh</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>User management</td>
<td>Registering an administrator user</td>
<td>gs_adduser</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>Deletion of administrator user</td>
<td>gs_deluser</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>Changing the password of an administrator user</td>
<td>gs_passwd</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>Creating a general user</td>
<td>gs_sh</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>Deleting a general user</td>
<td>gs_sh</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>Changing the password of a general user</td>
<td>gs_sh</td>
<td></td>
<td></td>
<td>: Individual only</td>
</tr>
<tr>
<td>Database management</td>
<td>Creating/deleting a database</td>
<td>gs_sh</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>Assigning/cancelling a user in the database</td>
<td>gs_sh</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Data operation</td>
<td>Creating/deleting a container or table</td>
<td>gs_sh</td>
<td></td>
<td></td>
<td>O : Only when update operation is possible in the user&rsquo;s DB</td>
</tr>
<tr>
<td></td>
<td>Registering data in a container or table</td>
<td>gs_sh</td>
<td></td>
<td></td>
<td>O : Only when update operation is possible in the user&rsquo;s DB</td>
</tr>
<tr>
<td></td>
<td>Searching for a container or table</td>
<td>gs_sh</td>
<td></td>
<td></td>
<td>: Only in the DB of the individual</td>
</tr>
<tr>
<td></td>
<td>Creating index to a container or table</td>
<td>gs_sh</td>
<td></td>
<td></td>
<td>O : Only when update operation is possible in the user&rsquo;s DB</td>
</tr>
<tr>
<td>Backup management</td>
<td>Creating a backup</td>
<td>gs_backup</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Backup management</td>
<td>Restoring a backup</td>
<td>gs_restore</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>Displaying a backup list</td>
<td>gs_backuplist</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>System status management</td>
<td>Acquiring system information</td>
<td>gs_stat</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>Changing system parameter</td>
<td>gs_paramconf</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Data import/export</td>
<td>Importing data</td>
<td>gs_import</td>
<td></td>
<td></td>
<td>: Only in accessible object</td>
</tr>
<tr>
<td>Export</td>
<td>Exporting data</td>
<td>gs_export</td>
<td></td>
<td></td>
<td>: Only in accessible object</td>
</tr>
</tbody>
</table>
<h3 id="database-and-users">Database and users</h3>
<p>Access to a cluster database in GridDB can be separated on a user basis. The separation unit is known as a <strong>database</strong>.  The following is a cluster database in the initial state.</p>
<ul>
<li>public
<ul>
<li>The database can be accessed by all administrator user and general users.</li>
<li>This database is used when connected without specifying the database at the connection point.</li>
</ul>
</li>
</ul>
<p>Multiple databases can be created in a cluster database. Creation of databases and assignment to users are carried out by an administrator user.</p>
<p>The rules for creating a database are as shown below.</p>
<ul>
<li>The maximum no. of users and the maximum no. of databases that can be created in a cluster database is 128.</li>
<li>A string consisting of alphanumeric characters, the underscore mark, the hyphen mark, the dot mark, the slash mark and the equal mark can be specified for the database. The container name should not start with a number.</li>
<li>A string consisting of 64 characters can be specified for the database name.</li>
<li>Although the case sensitivity of the database name is maintained, a database which has the same name when it is not case-sensitive cannot be created. For example, both database and DATABASE cannot be registered.</li>
<li>Public and &ldquo;information_schema&rdquo; cannot be specified for default DB.</li>
</ul>
<p>When assigning general users to a database, specify permissions as follows :</p>
<ul>
<li>ALL
<ul>
<li>All operations to a container are allowed such as creating a container, adding a row, searching, and creating an index.</li>
</ul>
</li>
<li>READ
<ul>
<li>Only search operations are allowed.</li>
</ul>
</li>
</ul>
<p>Only assigned general users and administrator users can access the database. Administrator user can access all databases.  The following rules apply when assign a general user to a database.</p>
<ul>
<li>Multiple general users can be assigned to one database.</li>
<li>When assigning general users to a database, only one type of permission can be granted.</li>
<li>When assigning multiple general users to one database, different permission can be granted for each user.</li>
<li>Multiple databases can be assigned to 1 user</li>
</ul>
<figure>
<img src="img/func_database.png" alt="Database and users" width="500"/>
<figcaption>Database and users</figcaption>
</figure>
<h3 id="authentication-method">Authentication method</h3>
<p>GridDB offers the following two authentication methods:</p>
<ul>
<li>internal authentication</li>
<li>LDAP authentication</li>
</ul>
<p>The following explains each method.</p>
<h4 id="internal-authentication">Internal authentication</h4>
<p>GridDB manages the user name, password, and privilege of administrative and general GridDB users. If the authentication method is not specified, internal authentication is used by default.</p>
<p>The administrative user is managed using the operation commands gs_adduser, ,gs_deluser, and gs_passwd.</p>
<p>General users are managed using the SQL statements CREATE USER, DROP USER, and SET PASSWORD, whereas their access rights are managed using the SQL statements GRANT and REVOKE.</p>
<p><strong>User cache settings</strong></p>
<p>To set cache for general user information, edit the following node definition file (gs_node.json):</p>
<p>[Note]</p>
<ul>
<li>To reflect the changes made, restart the server.</li>
</ul>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>/security/userCacheSize</td>
<td>1000</td>
<td>Specify the number of entries for general and LDAP users to be cached.</td>
</tr>
<tr>
<td>/security/userCacheUpdateInterval</td>
<td>60</td>
<td>Specify the refresh interval for cache in seconds.</td>
</tr>
</tbody>
</table>
<h4 id="ldap-authentication">LDAP authentication</h4>
<p>GridDB manages general GridDB users by LDAP. It also manages LDAP users&rsquo; access rights by allowing the user create a role having the same name as user names and group names within LDAP and manipulate LDAP users&rsquo; access rights. Moreover, it provides the caching capability of user information managed by LDAP for faster authentication operation.</p>
<p>[Note]</p>
<ul>
<li>Install openldap2.4 on the server where the GridDB node runs. For detail, see the manual for openLDAP.</li>
<li>LDAP cannot manage the administrative user, who is always managed using internal authentication.</li>
</ul>
<p><strong>settings common to internal and LDAP authentication</strong></p>
<p>To use LDAP authentication, edit the cluster definition file (gs_cluster.json) as described below.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>/security/authentication</td>
<td>INTERNAL</td>
<td>Specify either INTERNAL (internal authentication) or LDAP (LDAP authentication) as an authentication method to be used.</td>
</tr>
<tr>
<td>/security/ldapRoleManagement</td>
<td>USER</td>
<td>Specify either USER (mapping using the LDAP user name) or GROUP (mapping using the LDAP group name) as to which one the GridDB role is mapped to.</td>
</tr>
<tr>
<td>/security/ldapUrl</td>
<td></td>
<td>Specify the LDAP server using the format: ldap[s]://host[:port]</td>
</tr>
</tbody>
</table>
<p>[Note]</p>
<ul>
<li>Only one LDAP server can be specified for /security/ldapUrl.</li>
<li>The following LDAP server is supported:
<ul>
<li>OpenLDAP 2.4 or later.</li>
<li>Active Directory Schema Version 87 (Windows Server 2016 or later).</li>
</ul>
</li>
<li>To reflect the changes made, restart the server.</li>
</ul>
<p><strong>Role management</strong></p>
<p>Roles are managed by the SQL statements CREATE ROLE and DROP ROLE. If &ldquo;USER&rdquo; is specified for /security/ldapRoleManagement, the role is created using the LDAP user name, whereas if &ldquo;GROUP&rdquo; is specified, the role is created using the LDAP group name. The access authority granted to the role created is managed using the SQL statements GRANT and REVOKE.</p>
<p><strong>Settings for LDAP authentication mode</strong></p>
<p>Specify simple mode (directly binding with a user account) or search mode (searching and authenticate users after binding with an LDAP administrative user), Then edit the cluster definition file (gs_cluster.json) as described below:</p>
<p>[Note]</p>
<ul>
<li>Simple mode and search mode are incompatible.</li>
<li>To reflect the changes made, restart the server.</li>
</ul>
<p>Simple mode</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>/security/ldapUserDNPrefix</td>
<td></td>
<td>To generate the user&rsquo;s DN (identifier), specify the string to be concatenated in front of the user name.</td>
</tr>
<tr>
<td>/security/ldapUserDNSuffix</td>
<td></td>
<td>To generate the user&rsquo;s DN (identifier), specify the string to be concatenated after the user name.</td>
</tr>
</tbody>
</table>
<p>Search mode</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>/security/ldapBindDn</td>
<td></td>
<td>Specify the LDAP administrative user&rsquo;s DN.</td>
</tr>
<tr>
<td>/security/ldapBindPassword</td>
<td></td>
<td>Specify the password for the LDAP administrative user.</td>
</tr>
<tr>
<td>/security/ldapBaseDn</td>
<td></td>
<td>Specify the root DN from which to start searching.</td>
</tr>
<tr>
<td>/security/ldapSearchAttribute</td>
<td>uid</td>
<td>Specify the attributes to search for.</td>
</tr>
<tr>
<td>/security/ldapMemberOfAttribute</td>
<td>memberof</td>
<td>Specify the attributes where the group DN to which the user belongs is set (valid if ldapRoleManagement=GROUP).</td>
</tr>
</tbody>
</table>
<p><strong>User cache settings</strong></p>
<p>To set cache for LDAP user information, edit the following node definition file (gs_node.json):</p>
<p>[Note]</p>
<ul>
<li>To reflect the changes made, restart the server.</li>
</ul>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>/security/userCacheSize</td>
<td>1000</td>
<td>Specify the number of entries for general and LDAP users to be cached.</td>
</tr>
<tr>
<td>/security/userCacheUpdateInterval</td>
<td>60</td>
<td>Specify the refresh interval for cache in seconds.</td>
</tr>
</tbody>
</table>
<p><strong>Setup examples</strong></p>
<p>The following example shows sample settings for the conditions below:</p>
<ul>
<li>Active Directory(host=192.168.1.100 port=636)</li>
<li>user DN (cn=TEST, ou=d1 ou=dev dc=example, dc=com)</li>
<li>The user is only allowed to search the sample DB.</li>
<li>Map the GridDB role using the user name.</li>
<li>Authenticate in simple mode.</li>
</ul>
<p>Sample role settings (SQL statements)</p>
<pre tabindex="0"><code class="language-example" data-lang="example"> CREATE ROLE TEST
 GRANT SELECT ON sampleDB to TEST
</code></pre><p>Sample server settings (excerpt from gs_cluster.json)</p>
<pre tabindex="0"><code class="language-example" data-lang="example">            :
&#34;security&#34;:{
    &#34;authentication&#34;:&#34;LDAP&#34;,
    &#34;ldapRoleManagement&#34;:&#34;USER&#34;,
    &#34;ldapUrl&#34;:&#34;ldaps://192.168.1.100:636&#34;,
    &#34;ldapUserDnPrefix&#34;:&#34;CN=&#34;,
    &#34;ldapUserDnSuffix&#34;:&#34;,ou=d1,ou=dev,dc=example,dc=com&#34;,
    &#34;ldapSearchAttribute&#34;:&#34;&#34;,
    &#34;ldapMemberOfAttribute&#34;: &#34;&#34;
},
            :
</code></pre><h2 id="security-features">Security features</h2>
<h3 id="communication-encryption">Communication encryption</h3>
<p>GridDB supports SSL connection between the GridDB cluster and the client.</p>
<p>[Note]</p>
<ul>
<li>Install openssl 1.1.1 on the server where the GridDB node and client are run.</li>
<li>Make sure the openSSL version is 1.1.1 using the following command:</li>
</ul>
<pre tabindex="0"><code class="language-example" data-lang="example">$ python -c &#34;import ssl; print(ssl.OPENSSL_VERSION)&#34;
</code></pre><p><strong>Settings</strong></p>
<p>To enable SSL connection, edit the cluster definition file (gs_cluster.json) and the node definition file (gs_node.json), as illustrated below:
Then place the server certificate and the private key file in the appropriate directory.</p>
<p>[Note]</p>
<ul>
<li>To reflect the changes made, restart the server.</li>
<li>SSL connection between nodes constituting a GridDB cluster is not supported. It is recommended to place the GridDB cluster in in a secure network not directly accessible externally.</li>
<li>An option is available to enable server corticated verification, but host name verification is not supported. To prevent man-in-the-middle attack it is recommended to use a certificate created by your own Certificate Authority (CA).</li>
<li>Confirmation of certificate revocation using the  certificate revocation list (CRL) is not supported.</li>
</ul>
<p>*cluster definition file (gs_cluster.json)</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>/system/serverSslMode</td>
<td>DISABLED</td>
<td>For SSL connection settings, specify DISABLED (SSL invalid), PREFERRED (SSL valid, but non-SSL connection is allowed as well), or REQUIRED (SSL valid; non-SSL connection is not allowed ).</td>
</tr>
<tr>
<td>/system/sslProtocolMaxVersion</td>
<td>TLSv1.2</td>
<td>As a TLS protocol version, specify either TLSv1.2 or TLSv1.3.</td>
</tr>
</tbody>
</table>
<p>*Node definition file (gs_node.json)</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>/system/securityPath</td>
<td>security</td>
<td>Specify the full path or relative path to the directory where the server certificate and the private key are placed.</td>
</tr>
<tr>
<td>/system/serviceSslPort</td>
<td>10045</td>
<td>SSL listen port for operation commands</td>
</tr>
</tbody>
</table>
<p>*Server certificate and private key</p>
<p>To enable SSL, place the server certificate and the private key in the directory where <code>/system/securityPath</code> is set with the following file names:</p>
<ul>
<li>gs_node.crt: certificate file</li>
<li>gs_node.key: private key file</li>
</ul>
<p><strong>Client settings</strong></p>
<p>SSL connection and server certificate verification can be specified on the client side. For details, see each tool and the API reference.</p>
<h2 id="failure-process-function">Failure process function</h2>
<p>In GridDB, recovery for a single point failure is not necessary as replicas of the data are maintained in each node constituting the cluster.  The following action is carried out when a failure occurs in GridDB.</p>
<ol>
<li>When a failure occurs, the failure node is automatically isolated from the cluster.</li>
<li>Failover is carried out in the backup node in place of the isolated failure node.</li>
<li>Partitions are rearranged autonomously as the number of nodes decreases as a result of the failure (replicas are also arranged).</li>
</ol>
<p>A node that has been recovered from a failure can be incorporated online into a cluster operation. A node can be incorporated into a cluster which has become unstable due to a failure using the gs_joincluster command. As a result of the node incorporation, the partitions will be rearranged autonomously and the node data and load balance will be adjusted.</p>
<p>In this way, although advance recovery preparations are not necessary in a single failure, recovery operations are necessary when operating in a single configuration or when there are multiple overlapping failures in the cluster configuration.</p>
<p>When operating in a cloud environment, even when physical disk failure or processor failure is not intended, there may be multiple failures such as a failure in multiple nodes constituting a cluster, or a database failure in multiple nodes.</p>
<h3 id="type-and-treatment-of-failures">Type and treatment of failures</h3>
<p>An overview of the failures which occur and the treatment method is shown in the table below.</p>
<p>A node failure refers to a situation in which a node has stopped due to a processor failure or an error in a GridDB server process, while a database failure refers to a situation in which an error has occurred in accessing a database placed in a disk.</p>
<table>
<thead>
<tr>
<th>Configuration of GridDB</th>
<th>Type of failure</th>
<th>Action and treatment</th>
</tr>
</thead>
<tbody>
<tr>
<td>Single configuration</td>
<td>Node failure</td>
<td>Although access from the application is no longer possible, data in a transaction which has completed processing can be recovered simply by restarting the transaction, except when caused by a node failure. Recovery by another node is considered when the node failure is prolonged.</td>
</tr>
<tr>
<td>Single configuration</td>
<td>Database failure</td>
<td>The database file is recovered from the backup data in order to detect an error in the application. Data at the backup point is recovered.</td>
</tr>
<tr>
<td>Cluster configuration</td>
<td>Single node failure</td>
<td>The error is covered up in the application, and the process can continue in nodes with replicas. Recovery operation is not necessary in a node where a failure has occurred.</td>
</tr>
<tr>
<td>Cluster configuration</td>
<td>Multiple node failure</td>
<td>If both owner/backup partitions of a replica exist in a failure target node, the cluster will operate normally even though the subject partitions cannot be accessed. Except when caused by a node failure, data in a transaction which has completed processing can be recovered simply by restarting the transaction. Recovery by another node is considered when the node failure is prolonged.</td>
</tr>
<tr>
<td>Cluster configuration</td>
<td>Single database failure</td>
<td>Since data access will continue through another node constituting the cluster when there is a database failure in a single node, the data can be recovered simply by changing the database deployment location to a different disk, and then starting the node again.</td>
</tr>
<tr>
<td>Cluster configuration</td>
<td>Multiple database failure</td>
<td>A partition that cannot be recovered in a replica needs to be recovered at the point backup data is sampled from the latest backup data.</td>
</tr>
</tbody>
</table>
<h3 id="client-failover">Client failover</h3>
<p>If a node failure occurs when operating in a cluster configuration, the partitions (containers) placed in the failure node cannot be accessed. At this point, a client failover function to automatically connect to the backup node again and continue the process is activated in the client API. To automatically perform a failover countermeasure in the client API, the application developer does not need to be aware of the error process in the node.</p>
<p>However, due to a network failure or simultaneous failure of multiple nodes, an error may also occur and access to the target application operations may not be possible.</p>
<p>Depending on the data to be accessed, the following points need to be considered in the recovery process after an error occurs.</p>
<ul>
<li>
<p>For a collection in which the timeseries container or row key is defined, the data can be recovered by executing the failed operation or transaction again.</p>
</li>
<li>
<p>For a collection in which the row key is not defined, the failed operation or transaction needs to be executed again after checking the contents of the DB.</p>
</li>
</ul>
<p>[Note]</p>
<ul>
<li>In order to simplify the error process in an application, it is recommended that the row key be defined when using a collection.  If the data cannot be uniquely identified by a single column value but can be uniquely identified by multiple column values, a column having a value that links the values of the multiple columns is recommended to be set as the row key so that the data can be uniquely identified.</li>
</ul>
<h3 id="automatic-restarting-function">Automatic restarting function</h3>
<p>If the GridDB node abnormally terminates or the node process is forcibly terminated, it will automatically restart the node and join to the cluster.  Operation manager does not need to be aware of restoring the cluster status to normal operation.</p>
<figure>
<img src="img/gssvc-overview.png" alt="Automatic recovery function" width="750"/>
<figcaption>Automatic recovery function</figcaption>
</figure>
<p>[Note]</p>
<p>Automatic restart is not performed in the following cases:</p>
<ul>
<li>In case when the user explicitly turns it off.</li>
<li>In case of an unrecoverable failure (Node status: ABNORMAL).</li>
<li>In case of trying automatic restart more than 5 times.</li>
<li>In case of the node is not joined to the cluster before the failure.</li>
</ul>
<p><strong>Settings</strong></p>
<p>The parameters of automatic recovery function is as follows.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>SVC_ENABLE_AUTO_RESTART</td>
<td>true</td>
<td>true(Enabled)/false(Disabled)</td>
</tr>
<tr>
<td>GS_USER</td>
<td>admin</td>
<td>Set as appropriate</td>
</tr>
<tr>
<td>GS_PASSWORD</td>
<td>admin</td>
<td>Set as appropriate</td>
</tr>
</tbody>
</table>
<p>When changing the parameters, edit the start configuration file: <code>/etc/sysconfig/gridstore/gridstore.conf</code> .</p>
<ul>
<li>
<p>SVC_ENABLE_AUTO_RESTART</p>
<ul>
<li>Set whether to enable or disable this function. This parameter can be changed by restarting the node.</li>
<li>If you want to control GridDB&rsquo;s fault recovery with another monitoring system, set false.</li>
</ul>
</li>
<li>
<p>GS_USER/GS_PASSWORD</p>
<ul>
<li>Set the GridDB administrator user name and password.</li>
<li>These parameters are used in the following cases:
<ul>
<li>In case of starting, stopping, restarting by services</li>
<li>In case of the -u option is not specified with the gs_startnode</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>[Note]</p>
<ul>
<li>If the specified GS_USER / GS_PASSWORD is invalid, or if these are not specified, the GridDB node will fail to start up.</li>
</ul>
<h2 id="exportimport-function">Export/import function</h2>
<p>In the GridDB export/import tools, to recover a database from local damages or the database migration process, save/recovery functions are provided in the database and container unit.</p>
<p>In a GridDB cluster, container data is automatically arranged in a node within a cluster. The user does not need to know how the data is arranged in the node (data position transmission).
There is also no need to be aware of the arrangement position in data extraction and registration during export/import as well. The export/import configuration is as follows.</p>
<figure>
<img src="img/expimp.png" alt="Export/import configuration" width="500"/>
<figcaption>Export/import configuration</figcaption>
</figure>
<p>[Export]</p>
<p>(1) Save the container and row data of a GridDB cluster in the file below. A specific container can also be exported by specifying its name.</p>
<ul>
<li><strong>Container data file</strong>
<ul>
<li>Save GridDB container data and row data.</li>
<li>There are 2 types of format available, one for saving data in a container unit and the other for consolidating and saving data in multiple containers.</li>
</ul>
</li>
<li><strong>Export execution data file</strong>
<ul>
<li>Save the data during export execution. This is required to directly recover exported data in a GridDB cluster.</li>
</ul>
</li>
</ul>
<p>* See &ldquo;<a href="../5.md_reference_operation_tool/md_reference_operation_tool.md">GridDB Operation Tools Reference</a>&rdquo; for details.</p>
<p>[Import]</p>
<p>(2) Import the container and export execution data files, and recover the container and row data in GridDB. A specific container data can also be imported as well.</p>
<p>(3) Import container data files created by the user, and register the container and row data.</p>
<p>[Note]</p>
<ul>
<li>An exported container data file has the same format as the container data file created by a user.</li>
<li>If the container during export is manipulated, the manipulated data may be referenced.</li>
</ul>
<h2 id="backuprestoration-function">Backup/restoration function</h2>
<p>Regular data backup needs to be performed in case of data corruption caused by database failures and malfunctions of the application. The backup operation method should be selected according to the service level requirements and system resources. The backup operation method should be selected according to the service level requirements and system resources.</p>
<p>This section explains the types of backup and following features.</p>
<ul>
<li>Backup operations
<ul>
<li>This section explains the different types of backup available and how to use them.</li>
</ul>
</li>
<li>Recovery from a failure</li>
<li>This section explains failure detection and how to recover from one.</li>
</ul>
<h3 id="backup-method">Backup method</h3>
<p>Regular data backup needs to be performed in case of data corruption caused by database failures and malfunctions of the application.  The type and interval of the backup operation needs to be determined based on the available disk capacity, duration of backup, and the recovery requirements in case of failure (e.g. point of recovery). The resolution method needs to be selected according to the system resources and the request from the service level of the recovery warranty.  Backup methods of GridDB are shown below.</p>
<table>
<thead>
<tr>
<th>Backup method</th>
<th>Recovery point</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Offline backup</td>
<td>Stopping the cluster</td>
<td>Clusters must keep stopping until copying the backup completes.  The recovery point is not different from node to node.</td>
</tr>
<tr>
<td>Online backup (baseline with differential/incremental)</td>
<td>Completing the backup</td>
<td>Use the GridDB backup command. There is a possibility that the recovery point is different from node to node depending on the timing when obtaining the backup completes.</td>
</tr>
<tr>
<td>Online backup (automatic log)</td>
<td>Immediately before the failure</td>
<td>Use the GridDB backup command. There is a possibility that the start-up time gets longer because the data is recovered to the latest with transaction logs.</td>
</tr>
<tr>
<td>File system level online backup (snapshot, etc.)</td>
<td>Taking the snapshot</td>
<td>The backup is obtained collaborating with the snapshot of an OS and a storage. Even if snapshots for each node are executed simultaneously, there is a possibility that there is an about 1 second difference from node to node if the log write mode is default DELAYED_SYNC 1 sec.</td>
</tr>
<tr>
<td>File system level online backup (OS command, etc. with automatic log)</td>
<td>Immediately before the failure</td>
<td>The backup is obtained collaborating with backup solutions, etc. There is a possibility that the start-up time gets longer because the data is recovered to the latest with transaction logs.</td>
</tr>
</tbody>
</table>
<p>To know about the GridDB online backup functions, please refer to <a href="#online_backup_and_recovery_operations">Online backup</a>.</p>
<p>[Note]</p>
<ul>
<li>When an online backup is performed, please stop the related updating among multiple containers. Then, it is possible to prevent creating the logically inconsistent backup for the entire cluster.</li>
<li>When a node failure occurs during online backup, perform the backup again starting with the first node. Then, it is possible to prevent not backing up necessary data caused by re-arrangement of partitions (rebalancing). The re-arrangement occurs when the cluster configuration is changed.</li>
</ul>
<p>To perform an online backup of file system level instead of using the GridDB online backup functions, please refer to <a href="#file_system_level_backup_and_recovery_operations">File system level backup</a>.</p>
<p>To perform an offline backup, stop the cluster by using gs_stopcluster command first, and stop all the nodes constituting the cluster.  Next, backup the data under the database file directory of each node (directory indicated by /dataStore/dbPath, /dataStore/transactionLogPath in gs_node.json).</p>
<p><strong>Backup definition files</strong></p>
<p>In backup operation, in addition to a regular backup of the database files, backup of the definition files is also needed.</p>
<p>Use an OS command to perform a backup of the node definition file (gs_node.json), cluster definition file (gs_cluster.json), user definition file (password) in the $GS_HOME/conf directory (/var/lib/gridstore/conf by default) in addition to a regular backup of the database files.</p>
<p>Be sure to backup the definition file if there are configuration changes or when a user is registered or changed.</p>
<p><a id="online_backup_and_recovery_operations"></a></p>
<h3 id="online-backup-and-recovery-operations">Online backup and recovery operations</h3>
<h4 id="backup-operations">Backup operations</h4>
<p>This section explains the GridDB backup operations in the event of failure.</p>
<h5 id="types-of-backup">Types of backup</h5>
<p>In GridDB, backup of node units can be carried out online. A backup of the entire cluster can be carried out online while maintaining the services by performing a backup of all the nodes constituting the GridDB cluster in sequence.  The types of online backup provided by GridDB are as follows.</p>
<table>
<thead>
<tr>
<th>Backup type</th>
<th>Backup actions</th>
<th>Recovery point</th>
</tr>
</thead>
<tbody>
<tr>
<td>Full backup</td>
<td>A backup of the cluster database currently in use is stored online in node units in the backup directory specified in the node definition file.</td>
<td>Full backup collection point</td>
</tr>
<tr>
<td>Differential/incremental backup</td>
<td>A backup of the cluster database currently in use is stored online in node units in the backup directory specified in the node definition file. In subsequent backups, only the difference in the update block after the backup is backed up.</td>
<td>Differential/incremental backup collection point</td>
</tr>
<tr>
<td>Automatic log backup</td>
<td>In addition to backing up the cluster database currently in use which is stored online in node units in the backup directory specified in the node definition file, the transaction log is also automatically picked up at the same timing as the transaction log file writing. The write timing of the transaction log file follows the value of /dataStore/logWriteMode in the node definition file.</td>
<td>Latest transaction update point</td>
</tr>
</tbody>
</table>
<p>The recovery point differs depending on the type of backup used.</p>
<p>The various backup operations and systems recommendation provided by GridDB are shown below.</p>
<ul>
<li>
<p>Full backup</p>
<p>A full backup is acquired after an overnight batch process to update data in a reference system. A full backup will take a while to complete as data in all the database files will be copied. In addition, the data capacity at the backup collection destination needs to be the same as the database file.</p>
<p>The backup disk capacity needs to be multiplied by the actual database size according to how many backup generations to retain.</p>
</li>
</ul>
<figure>
<img src="img/backup_full.png" alt="Full backup" width="500"/>
<figcaption>Full backup</figcaption>
</figure>
<ul>
<li>
<p>Differential/incremental backup</p>
<p>In differential/incremental backup, once a full backup of the entire databases have been performed, only the differences between the current and the updated data will be backed up.  This type of backup is suitable for systems which needs to be backed up quickly, and systems which perform systematic operations such as automatic backup of batch operations during the night, monthly full backup (baseline creation), differential (since) backup once a week, incremental backup (incremental) once a day, etc.</p>
<p>As an incremental backup uses only updated data, it can be carried out faster compared to a full backup or differential backup. However, recovery when a failure occurs may take a while as the update block needs to be rolled forward for the data of the full backup. A differential backup using a regular Baseline or Since command is required.</p>
</li>
</ul>
<figure>
  <img src="img/backup_cumulative.png" alt="Differential/incremental backup" width="600"/>
  <figcaption>Differential/incremental backup</figcaption>
</figure>
<ul>
<li>
<p>Automatic log backup</p>
<p>After performing a full backup with an automatic log backup command (baseline creation), the updated log will be collected in the backup directory. Backup operation is not required as a transaction log will be taken automatically. This command is used when you want to simplify the operation or when you do not wish to impose a load on the system due to the backup. However, if the baseline is not updated regularly, recovery will take a while as the number of transaction log files used in recovery when a failure occurs increases. In a differential/incremental backup, data of the same block will be backed up as a single data when updated, but in an automatic log backup, a log is recorded every time there is an update, so recovery during a failure takes more time than a differential/incremental backup.</p>
</li>
</ul>
<figure>
<img src="img/backup_autolog.png" alt="Automatic log backup" width="500"/>
<figcaption>Automatic log backup</figcaption>
</figure>
<p>[Note]</p>
<ul>
<li>To shorten the recovery time when failure occurs during a differential/incremental backup or automatic log backup, a full backup that will serve as the baseline needs to be performed regularly.</li>
</ul>
<p>The type of backup is specified in the command option.</p>
<h5 id="checking-backup-related-parameters">Checking backup-related parameters</h5>
<p>Specify /dataStore/backupPath in the node definition file as the backup destination. Take into consideration physical failure of the disk, and be sure to set up the backup destination and database file (/dataStore/dbPath, /dataStore/transactionLogPath) so that the file is stored in a different physical disk.</p>
<p>There are 2 log persistency modes for transactions. Default is NORMAL.</p>
<ul>
<li>NORMAL: unnecessary transaction log files will be deleted by a checkpoint process.</li>
<li>KEEP_ALL_LOG: All transaction log files are retained.</li>
</ul>
<p>KEEP_ALL_LOG is specified only for special operations. e.g. when issuing instructions to delete a log file in conjunction with the backup software of other companies, etc., but normally this is not used.</p>
<p>A specified example of a node definition file is shown below.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ cat /var/lib/gridstore/conf/gs_node.json         # The example of checking a setting
{
    &#34;dataStore&#34;:{
        &#34;dbPath&#34;:&#34;/var/lib/gridstore/data&#34;,
        &#34;transactionLogPath&#34;:&#34;/var/lib/gridstore/txnlog&#34;,
        &#34;backupPath&#34;:&#34;/mnt/gridstore/backup&#34;,      # Backup directory
        &#34;storeMemoryLimit&#34;:&#34;1024&#34;,
        &#34;concurrency&#34;:2,
        &#34;logWriteMode&#34;:1,
        &#34;persistencyMode&#34;:&#34;NORMAL&#34;                 #Perpetuation mode
            :
            :
}
</code></pre><h5 id="backup-execution">Backup execution</h5>
<p>This section explains how to use a full backup, differential/incremental backup, and automatic log backup.</p>
<p>Specify the backup name (BACKUPNAME) when executing any type of backup. For the data created by backup, a directory with the same name as the backup name (BACKUPNAME) is created and placed under the directory specified in backupPath in the node definition file.</p>
<p>Up to 12 alphanumeric characters can be specified in the BACKUPNAME.</p>
<h5 id="full-backup">Full backup</h5>
<p>When a failure occurs, the system can be recovered up to the point where the full backup was completed.  Implement a full backup of all the nodes constituting the cluster. Backup data is stored in the directory indicated by the BACKUPNAME of the command. It is recommended to specify the date in the BACKUPNAME in order to make it easier to understand and manage the backup data gathered.</p>
<p>Execute the following command on all the nodes inside the cluster.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_backup -u admin/admin 20141025
</code></pre><p>In this example,</p>
<ol>
<li>&ldquo;20141025&rdquo; is specified as a backup name (BACKUPNAME), and a directory &ldquo;20141025&rdquo; will be created under the backup directory.</li>
<li>In the &ldquo;20141025&rdquo; directory, backup information files (gs_backup_info.json and gs_backup_info_digest.json) and an LSN information file (gs_lsn_info.json) are created. In the &ldquo;data&rdquo; directory, data files and checkpoint log files are created, while in the &ldquo;txnlog&rdquo; directory, transaction log files are created.</li>
</ol>
<pre tabindex="0"><code class="language-example" data-lang="example">/var/lib/gridstore/backup/
        20141025/                           # backup directory
                gs_backup_info.json         # backup information file
                gs_backup_info_digest.json  # backup information file
                gs_lsn_info.json            # LSN information file
                data/
                    0/                      # partition number 0
                        0_part_0.dat        # data file backup
                        0_117.cplog         # checkpoint log backup
                        0_118.cplog
                        ...
                    1/
                    2/
                    ...
                txnlog/
                    0/                      # partition number 0
                        0_120.xlog          # transaction log backup
                        0_121.xlog
                    1/
                    2/
                    ...
</code></pre><p>A backup command will only notify the server of the backup instructions and will not wait for the process to end.</p>
<p>Check the completion of the backup process by the status of the gs_stat command.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">
$ gs_backup -u admin/admin 20141025
$ gs_stat -u admin/admin --type backup
BackupStatus: Processing
</code></pre><ul>
<li>The backup status (BackupStatus) will be one of the following.
<ul>
<li>Processing: Under execution</li>
<li>-: Completed or not in operation</li>
</ul>
</li>
</ul>
<p>The status of the gs_backuplist command shows whether the backup has been performed properly.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_backuplist -u admin/admin

BackupName   Status   StartTime                EndTime
------------------------------------------------------------------------
 20141025NO2     P   2014-10-25T06:37:10+0900 -
 20141025        NG  2014-10-25T02:13:34+0900 -
 20140925        OK  2014-09-25T05:30:02+0900 2014-09-25T05:59:03+0900
 20140825        OK  2014-08-25T04:35:02+0900 2014-08-25T04:55:03+0900
</code></pre><p>The status symbol of the backup list indicates the following.</p>
<ul>
<li>P: Backup execution in progress</li>
<li>NG: An error has occurred during backup execution, backup data is abnormal</li>
<li>OK: Backup has been carried out normally</li>
</ul>
<h5 id="differentialincremental-block-backup">Differential/incremental block backup</h5>
<p>When a failure occurs, data can be recovered until the last differential/incremental backup was performed by using the full backup serving as the baseline (reference point) and the differential/incremental backup after the baseline.  Get the full backup as a baseline for the differential/incremental backup and specify differential/incremental backup thereafter.</p>
<p>The backup interval needs to be studied in accordance with the service targets for the data update capacity and the time taken for recovery, but use the following as a guide.</p>
<ul>
<li>Full backup of baseline (baseline): monthly</li>
<li>Differential backup of updated blocks after creation of the baseline (since): weekly</li>
<li>Incremental backup (incremental) of updated blocks after a baseline or differential backup: daily</li>
</ul>
<p>Creation of baseline for full backup is specified below. In this example, BACKUPNAME is &ldquo;201504.&rdquo;</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_backup  -u admin/admin --mode baseline 201504
$ gs_stat -u admin/admin --type backup
BackupStatus: Processing(Baseline)
</code></pre><p>Database file in the data directory is copied under the backup directory as a baseline for the backup.</p>
<p>Specify incremental or since as the mode of the backup command (gs_backup) when performing a regular backup of the differential/incremental block after creating a baseline (backup of data block updated after a full backup of the baseline). Specify the same BACKUPNAME as when the baseline was created. In this example, BACKUPNAME is &ldquo;201504.&rdquo;</p>
<pre tabindex="0"><code class="language-example" data-lang="example">*****  For incremental backup
$ gs_backup  -u admin/admin --mode incremental 201504
$ gs_stat  -u admin/admin --type backup
BackupStatus: Processing(Incremental)

*****  For differential backup
$ gs_backup  -u admin/admin --mode since 201504
$ gs_stat  -u admin/admin --type backup
BackupStatus: Processing(Since)
</code></pre><p>The status of the gs_backuplist command shows whether the backup has been performed properly. As a differential/incremental backup will become a single recovery unit in a multiple backup, it will be treated as a single backup in the list of BACKUPNAME. Therefore, specify the backup name and check the details to see the detailed status.</p>
<p>A differential/incremental backup can be confirmed by checking that an asterisk &ldquo;*&rdquo; is appended at the beginning of the BACKUPNAME. The status of a differential/incremental backup is always &ldquo;&ndash;&rdquo;.</p>
<p>The status of differential/incremental backup can be checked by specifying the BACKUPNAME in the argument of the gs_backuplist command.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">*****  Display a list of BACKUPNAME
$ gs_backuplist -u admin/admin

BackupName   Status   StartTime                EndTime
------------------------------------------------------------------------
*201504          --  2015-04-01T05:20:00+0900 2015-04-24T06:10:55+0900
*201503          --  2015-03-01T05:20:00+0900 2015-04-24T06:05:32+0900
  :
 20141025NO2     OK   2014-10-25T06:37:10+0900 2014-10-25T06:37:10+0900

*****  Specify the individual BACKUPNAME and display the detailed information
$ gs_backuplist -u admin/admin 201504

BackupName : 201504

BackupData            Status   StartTime                EndTime
--------------------------------------------------------------------------------
201504_lv0                OK  2015-04-01T05:20:00+0900 2015-04-01T06:10:55+0900
201504_lv1_000_001        OK  2015-04-02T05:20:00+0900 2015-04-01T05:20:52+0900
201504_lv1_000_002        OK  2015-04-03T05:20:00+0900 2015-04-01T05:20:25+0900
201504_lv1_000_003        OK  2015-04-04T05:20:00+0900 2015-04-01T05:20:33+0900
201504_lv1_000_004        OK  2015-04-05T05:20:00+0900 2015-04-01T05:21:15+0900
201504_lv1_000_005        OK  2015-04-06T05:20:00+0900 2015-04-01T05:21:05+0900
201504_lv1_001_000        OK  2015-04-07T05:20:00+0900 2015-04-01T05:22:11+0900
201504_lv1_001_001        OK  2015-04-07T05:20:00+0900 2015-04-01T05:20:55+0900
</code></pre><p>A directory will be created in the backup directory according to the following rules to store the differential/incremental backup data.</p>
<ul>
<li>BACKUPNAME_lv0: Baseline backup data of the differential/incremental backup is stored. lv0 fixed.</li>
<li>BACKUPNAME_lv1_NNN_MMM: Differential (Since) and incremental (Incremental) backup data of the differential/incremental backup is stored.
<ul>
<li>NNN count is increased during a differential backup.</li>
<li>MMM count is cleared to 000 during a differential backup and increased during an incremental backup.</li>
</ul>
</li>
</ul>
<p>The status symbol of the backup list indicates the following.</p>
<ul>
<li>P: Backup execution in progress</li>
<li>NG: An error has occurred during backup execution, backup data is abnormal</li>
<li>OK: Backup has been carried out normally</li>
</ul>
<p>In a differential/incremental backup, the log output of updated blocks named <partition number>_n_incremental.cplog is produced in the BackupData directory/data directory/<partition number> directory, where &ldquo;n&rdquo; in &ldquo;<em>n</em>&rdquo; denotes a numerical value.</p>
<p>Differential/incremental backup can be compared to a full backup and backup time can be reduced. However, recovery when a failure occurs may take a while as the update block is rolled forward for the data of the full backup.  Get the baseline regularly or execute a differential backup from the baseline by specifying since .</p>
<p>[Note]</p>
<ul>
<li>Partitions are automatically arranged (rebalanced) according to the cluster configuration changes and system load. When a differential log backup is specified after the arrangement of the partitions is changed, a message error &ldquo;Log backup cannot be performed due to a change in the partition status&rdquo; will appear. In this case, be sure to back up all the nodes constituting the cluster (baseline). Re-arrangement of partitions (rebalancing) occurs when the cluster configuration is changed as shown below.
<ul>
<li>Increase the number of nodes constituting a cluster by adding nodes</li>
<li>Decrease the number of nodes constituting a cluster by detaching nodes</li>
</ul>
</li>
</ul>
<h5 id="automatic-log-backup">Automatic log backup</h5>
<p>GridDB automatically outputs a transaction log to the backup directory. Therefore, the system can always be recovered to the latest condition.  As backup is carried out automatically, it is not possible to perform systematic backups according to the system operating state such as a &ldquo;backup process scheduled in advance during low peak periods&rdquo;. In addition, due to the automatic log backup, a system load will be imposed more or less during normal operation as well. Therefore, use of this indication is recommended only when there are surplus system resources.</p>
<p>Specify as follows when using an automatic log backup. In this example, BACKUPNAME is &ldquo;201411252100.&rdquo;</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_backup -u admin/admin --mode auto 201411252100
$ gs_stat -u admin/admin --type backup
</code></pre><p>Execute the command to get the backup data in the directory indicated in BACKUPNAME.</p>
<ul>
<li>During an automatic log backup, operational settings for errors which occur during backup can be set in the option mode.
<ul>
<li>Auto: When a backup error occurs, the node will become ABNORMAL and stop.</li>
<li>auto_nostop: Backup will be incomplete when a backup error occurs but the node will continue to operate.</li>
</ul>
</li>
</ul>
<p>In this example,</p>
<ol>
<li>A directory with the name &ldquo;201411252100&rdquo; will be created under the backup directory.</li>
<li>In the &ldquo;201411252100&rdquo; directory, backup information files (gs_backup_info.json and gs_backup_info_digest.json) and an LSN information file (gs_lsn_info.json) are created. In the &ldquo;data&rdquo; directory, data files and checkpoint log files are created, while in the &ldquo;txnlog&rdquo; directory, transaction log files are created.</li>
<li>
<ol start="3">
<li>Under the &ldquo;201411252100&rdquo;/&ldquo;txnlog&rdquo; directory, transaction log files are created when execution of the transaction is completed.</li>
</ol>
</li>
</ol>
<p>When operating with an automatic log backup, the transaction log file in 3) is rolled forward for the full backup data in 2) during recovery when a failure occurs. Therefore, specify the &ndash;mode auto to perform a full backup regularly as the recovery time will increase when the number of log files used during recovery increases.</p>
<h5 id="checking-backup-operation">Checking backup operation</h5>
<p>The mode of the backup currently being executed and the detailed execution status can also be checked in data that can be obtained from the gs_stat command.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_stat -u admin/admin

    &#34;checkpoint&#34;: {
        &#34;backupOperation&#34;: 3,
        &#34;duplicateLog&#34;: 0,
        &#34;endTime&#34;: 0,
        &#34;mode&#34;: &#34;INCREMENTAL_BACKUP_LEVEL_0&#34;,
        &#34;normalCheckpointOperation&#34;: 139,
        &#34;pendingPartition&#34;: 1,
        &#34;requestedCheckpointOperation&#34;: 0,
        &#34;startTime&#34;: 1429756253260
    },
        :
        :
</code></pre><p>The meaning of each parameter related to the backup output in gs_stat is as follows.</p>
<ul>
<li>backupOperation: Number of backups performed after system start-up.</li>
<li>duplicateLog: Automatic log backup is performed to indicate whether a redundant log output has been carried out.
<ul>
<li>0: automatic log backup off</li>
<li>1: automatic log backup on</li>
</ul>
</li>
<li>endtime: &ldquo;0&rdquo; when backup or checkpoint is being performed. The time is set when the process ends.</li>
<li>mode: Name of the backup or checkpoint process is displayed. Name of the backup process last performed or currently under execution is displayed.
<ul>
<li>BACKUP: Perform a full backup with an automatic log backup or full backup</li>
<li>INCREMENTAL_BACKUP_LEVEL_0: Create baseline of differential/incremental backup</li>
<li>INCREMENTAL_BACKUP_LEVEL_1_CUMULATIVE: Differential backup from the baseline</li>
<li>INCREMENTAL_BACKUP_LEVEL_1_DIFFERENTIAL: Incremental backup from the last</li>
</ul>
</li>
</ul>
<h5 id="collecting-container-data">Collecting container data</h5>
<p>When a database failure occurs, it is necessary to understand which container needs to be recovered and how to contact the user of the container. To detect a container subject to recovery, the following data needs to be collected regularly.</p>
<ul>
<li>List of containers arranged in a partition
<ul>
<li>As containers are automatically created and arranged in the partitions according to the specifications of the application system, a list of containers and partition arrangements need to be output regularly using the gs_sh command.</li>
</ul>
</li>
</ul>
<p>Operating efforts can be cut down by creating a gs_sh command script to output the container list in advance.</p>
<p>In the example below, a gs_sh sub-command is created with the file name listContainer.gsh.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">setnode node1 198.2.2.1  10040
setnode node2 198.2.2.2  10040
setnode node3 198.2.2.3  10040
setcluster cl1 clusterSeller 239.0.0.20 31999 $node1 $node2 $node3
setuser admin admin gstore
connect $cl1
showcontainer
connect $cl1 db0
showcontainer
 :   Repeat as many as the number of dbs
quit
</code></pre><p>Change the node variables such as node 1, node 2, node 3 that constitute a cluster, and change the cluster variable such as cl1, user settings and database data where appropriate to suit the environment.
See &ldquo;<a href="../5.md_reference_operation_tool/md_reference_operation_tool.md">GridDB Operation Tools Reference</a>&rdquo;  for the details about gs_sh.</p>
<p>Execute the gs_sh script file as shown below to collect a list of containers and partitions.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_sh listContainer.gsh&gt;`date +%Y%m%d`Container.txt
</code></pre><p>Information is saved in 20141001Container.txt is as follows.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">Database : public
Name                  Type         PartitionId
------------------------------------------------
container_7           TIME_SERIES            0
container_9           TIME_SERIES            7
container_2           TIME_SERIES           15
container_8           TIME_SERIES           17
container_6           TIME_SERIES           22
container_3           TIME_SERIES           25
container_0           TIME_SERIES           35
container_5           TIME_SERIES           44
container_1           TIME_SERIES           53
:
 Total Count: 20

Database : db0
Name                  Type         PartitionId
---------------------------------------------
CO_ALL1              COLLECTION           32
COL1                 COLLECTION          125
 Total Count: 2
</code></pre><h4 id="recovery-operation">Recovery operation</h4>
<p>An overview of the recovery operation when a failure occurs is given below.</p>
<ol>
<li>Failure recognition and checking of recovery range</li>
<li>Recovery operation and node startup</li>
<li>Incorporation of node in cluster</li>
<li>Confirmation of recovery results and operation</li>
</ol>
<h5 id="failure-recognition-and-checking-of-recovery-range">Failure recognition and checking of recovery range</h5>
<p>When a failure occurs in GridDB, in addition to the cause of the failure being output to the event log file of the node in which the error occurred, if it is deemed that node operation cannot continue, the node status will become ABNORMAL and the node will be detached from the cluster service.</p>
<p>Cluster service will not stop even if the node status becomes ABNORMAL as operations are carried out with multiple replicas in a cluster configuration. Data recovery is necessary when all partitions including the replicas were to fail.</p>
<p>Use gs_stat to check the status of the master node to see whether data recovery is necessary or not. Recovery is necessary if the value of /cluster/partitionStatus is &ldquo;OWNER_LOSS&rdquo;.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_stat -u admin/admin -p 10041
{
    &#34;checkpoint&#34;: {
        :
    },
    &#34;cluster&#34;: {
        &#34;activeCount&#34;: 2,
        &#34;clusterName&#34;: &#34;clusterSeller&#34;,
        &#34;clusterStatus&#34;: &#34;MASTER&#34;,
        &#34;designatedCount&#34;: 3,
        &#34;loadBalancer&#34;: &#34;ACTIVE&#34;,
        &#34;master&#34;: {
            &#34;address&#34;: &#34;192.168.0.1&#34;,
            &#34;port&#34;: 10011
        },
        &#34;nodeList&#34;: [
            {
                &#34;address&#34;: &#34;192.168.0.2&#34;,
                &#34;port&#34;: 10011
            },
            {
                &#34;address&#34;: &#34;192.168.0.3&#34;,
                &#34;port&#34;: 10010
            }
        ],
        &#34;nodeStatus&#34;: &#34;ACTIVE&#34;,
        &#34;partitionStatus&#34;: &#34;OWNER_LOSS&#34;,     
        &#34;startupTime&#34;: &#34;2014-10-07T15:22:59+0900&#34;,
        &#34;syncCount&#34;: 4
          :
</code></pre><p>Use the gs_partition command to check for data to be recovered. Partitions with problems can be checked by specifying the &ndash;loss option and executing the command.</p>
<p>In the example below, an error has occurred in Partition 68 due to a problem with node 192.168.0.3.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_partition -u admin/admin -p 10041 --loss

[
 {
        &#34;all&#34;: [
            {
                &#34;address&#34;: &#34;192.168.0.1&#34;,
                &#34;lsn&#34;: 0,
                &#34;port&#34;: 10011,
                &#34;status&#34;: &#34;ACTIVE&#34;
            },
            :
            :
            ,
            {
                &#34;address&#34;: &#34;192.168.0.3&#34;,
                &#34;lsn&#34;: 2004,
                &#34;port&#34;: 10012,
                &#34;status&#34;: &#34;INACTIVE&#34;   &lt;---  The status of this node is not ACTIVE.
            }
        ],
        &#34;backup&#34;: [],
        &#34;catchup&#34;: [],
        &#34;maxLsn&#34;: 2004,
        &#34;owner&#34;: null,           //Partition owner is not present in the cluster.
        &#34;pId&#34;: &#34;68&#34;,             //ID of partition which needs to be recovered     
        &#34;status&#34;: &#34;OFF&#34;
   },
   {
     :

   }
  ]
</code></pre><h5 id="recovery-operation-and-node-startup">Recovery operation and node startup</h5>
<h6 id="recovery-from-backup-data">Recovery from backup data</h6>
<p>When a problem occurs in a database due to a problem in the system e.g. a disk failure, etc., the data will be recovered from the backup. The following needs to be noted during recovery.</p>
<p>[Note]</p>
<ul>
<li>Take note of the number of partitions and the parameter value of the processing parallelism in the cluster definition file.  Set the configuration value of the node to restore to be the same as the configuration value of the backup node. The node cannot start correctly if it is not the same.</li>
<li>If data files are set to be split, pay attention to the parameter value for the number of splits in the node definition file. Make sure that the backup nodes and the nodes to be restored should have the same number of splitting. If they are not the same, restoration will fail.</li>
<li>When you want to recover a cluster database to a specific point, the backup and restoration processes need to be carried out for the entire cluster.</li>
<li>When some of the nodes are restored in a cluster operation, the replicas maintained in other nodes will become valid (this occurs when LSN data is new) and it may not be possible to return to the status of the restored backup database.</li>
<li>In particular, if the cluster configuration has changed from the time the backup was created, there will be no restoration effect. As the data will be autonomously re-arranged if the node is forced to join a cluster, there is a high probability that the data will become invalid even when restored.</li>
<li>If data is missing in the backup data file, or if the contents have been revised, a GridDB node will not be able to start services.</li>
</ul>
<p>Restore backup data to a GridDB node.</p>
<p>Follow the procedure below to restore a node from backup data.</p>
<ol>
<li>
<p>Check that no node has been started.</p>
<ul>
<li>Check that the cluster definition file is the same as the other nodes in the cluster that the node is joining.</li>
</ul>
</li>
<li>
<p>Check the backup name used in the recovery. This operation is executed on a node.</p>
<ul>
<li>Check the backup status and select one that has been backed up correctly.</li>
</ul>
</li>
<li>
<p>Check that past data files, checkpoint log files, and transaction log files are not left behind in the database file directories (/var/lib/gridstore/data and /var/lib/gridstore/txnlog by default) of the node.</p>
<ul>
<li>Delete if unnecessary and move to another directory if required.</li>
</ul>
</li>
<li>
<p>Execute the restore command on the machine starting the node.</p>
</li>
<li>
<p>Start node.</p>
</li>
</ol>
<p>Use the command below to check the backup data.</p>
<ul>
<li>gs_backuplist -u user name/password</li>
</ul>
<p>A specific example to display a list of the backup names is shown below.  A list of the backup names can be displayed regardless of the startup status of the nodes. The status appears as &ldquo;P&rdquo; (abbreviation for Processing) if the backup process is in progress with the nodes started.</p>
<p>A list of the backup is displayed in sequence starting from the latest one. In the example below, the one with the 201912 BACKUPNAME is the latest backup.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_backuplist -u admin/admin
 BackupName   Status  StartTime                 EndTime
-------------------------------------------------------------------------
*201912           --  2019-12-01T05:20:00+09:00 2019-12-01T06:10:55+09:00
*201911           --  2019-11-01T05:20:00+09:00 2019-11-01T06:10:55+09:00
  :
 20191025NO2      OK  2019-10-25T06:37:10+09:00 2019-10-25T06:38:20+09:00
 20191025         NG  2019-10-25T02:13:34+09:00 -
 20191018         OK  2019-10-18T02:10:00+09:00 2019-10-18T02:12:15+09:00

$ gs_backuplist -u admin/admin 201912

BackupName : 201912

BackupData            Status StartTime                 EndTime
--------------------------------------------------------------------------------
201912_lv0                OK 2019-12-01T05:20:00+09:00 2019-12-01T06:10:55+09:00
201912_lv1_000_001        OK 2019-12-02T05:20:00+09:00 2019-12-02T05:20:52+09:00
201912_lv1_000_002        OK 2019-12-03T05:20:00+09:00 2019-12-03T05:20:25+09:00
201912_lv1_000_003        OK 2019-12-04T05:20:00+09:00 2019-12-04T05:20:33+09:00
201912_lv1_000_004        OK 2019-12-05T05:20:00+09:00 2019-12-05T05:21:25+09:00
201912_lv1_000_005        OK 2019-12-06T05:20:00+09:00 2019-12-06T05:21:05+09:00
201912_lv1_001_000        OK 2019-12-07T05:20:00+09:00 2019-12-07T05:22:11+09:00
201912_lv1_001_001        OK 2019-12-08T05:20:00+09:00 2019-12-08T05:20:55+09:00
</code></pre><p>[Note]</p>
<ul>
<li>If the status displayed is NG, the backup file may be damaged and so restoration is not possible.</li>
</ul>
<p>Check the data among the 201912 backup data used in the recovery. Differential/incremental backup data used for recovery can be checked in the &ndash;test option of gs_restore. In the &ndash;test option, only data used for recovery is displayed and restoration of data will not be carried out. Use this in the preliminary checks.</p>
<p>The example above shows the use of the baseline data in the 201912_lv0 directory, differential data (Since) in the 201912_lv1_001_000 directory, and incremental data in the 201912_lv1_001_001 directory for recovery purposes in a recovery with the 201912 BACKUPNAME output.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">
-bash-4.2$ gs_restore --test 201912

BackupName : 201912
BackupFolder : /var/lib/gridstore/backup

RestoreData           Status StartTime                 EndTime
--------------------------------------------------------------------------------
201912_lv0                OK 2019-09-06T11:39:28+09:00 2019-09-06T11:39:28+09:00
201912_lv1_001_000        OK 2019-09-06T20:01:00+09:00 2019-09-06T20:01:00+09:00
201912_lv1_001_001        OK 2019-09-06T20:04:42+09:00 2019-09-06T20:04:43+09:00
</code></pre><p>When a specific partition fails, there is a need to check where the latest data of the partition is being maintained.</p>
<p>Use the gs_backuplist command on all the nodes constituting the cluster, and specify the ID of the partition for which you wish to check the &ndash;partitionId option for execution. Use the node backup that contains the largest LSN number for recovery. Use the node backup that contains the largest LSN number for recovery.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">Perform for each node constituting the cluster.

$ gs_backuplist -u admin/admin --partitionId=68
 BackupName    ID   LSN
----------------------------------------------------------
 20191018      68   1534
*201911        68   2349
*201912        68   11512
</code></pre><p>&ldquo;*&rdquo; is assigned to BACKUPNAME for a differential/incremental backup.</p>
<p>An execution example to restore backup data is shown below. Restoration is executed with the nodes stopped.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ mv ${GS_HOME}/data/* ${GS_HOME}/temp/data         # Move data files and checkpoint log files.
$ mv ${GS_HOME}/txnlog/* ${GS_HOME}/temp/txnlog     # Move transaction log files.
$ gs_restore 201912                                 # restoration
</code></pre><p>The process below is performed by executing a gs_restore command.</p>
<ul>
<li>Copy backup files from the 201912_lv0 and 201912_lv1_001_001 directories under the backup directory (/dataStore/backupPath in the node definition file) to the database directory (/dataStore/dbPath and /dataStore/transactionLogPath in the node definition file).</li>
</ul>
<p>Start the node after restoration. See <em>Operations after node startup</em> for the processing after startup.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_startnode -u admin/admin -w
</code></pre><h6 id="recovery-from-a-node-failure">Recovery from a node failure</h6>
<p>When the status of node becomes ABNORMAL due to a node failure, or a node is terminated due to an error, the cause of the error needs to be identified in the event log file.</p>
<p>If there is no failure in the database file, the data in the database file can be recovered simply by removing the cause of the node failure and starting the node.</p>
<p>When the node status becomes ABNORMAL, force the node to terminate once and then investigate the cause of the error first before restarting the node.</p>
<p>Stop a node by force.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_stopnode -f -u admin/admin -w
</code></pre><p>Identify the cause of the error and start the node if it is deemed to be not a database failure. By starting the node, a roll forward of the transaction log will be carried out and the data will be recovered to the latest status.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_startnode -u admin/admin -w
</code></pre><p>See <em>Operations after node startup</em> for the processing after startup.</p>
<p><a id="operations_after_node_startup"></a></p>
<h5 id="operations-after-node-startup">Operations after node startup</h5>
<p>Perform the following operation after starting a node.</p>
<ol>
<li>Join node into the cluster</li>
<li>Data consistency check and failover operations</li>
</ol>
<h6 id="join-node-into-the-cluster">Join node into the cluster</h6>
<p>After starting the node, execute a gs_joincluster command with waiting option (-w) to join the recovered node into the cluster.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_joincluster -u admin/admin -c clusterSeller -n 5 -w
</code></pre><h6 id="data-consistency-check-and-failover-operations">Data consistency check and failover operations</h6>
<p>After incorporating a node into a cluster, check the recovery status of the partition. When recovery of a database file is carried out from a backup for a cluster operating online, the LSN of the partition maintained online may not match.  The command below can be used to investigate the detailed data of the partition and find out the container included in the lost data by comparing it to data gathered when collecting container data.</p>
<p>Use a gs_partition command to get missing data of a partition. If partition data is missing, only the partition with the missing data will be displayed. If not, no information displayed and there is no problem with data consistency.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_partition  -u admin/admin --loss
 [
      {
        &#34;all&#34;: [
            {
                &#34;address&#34;: &#34;192.168.0.1&#34;,
                &#34;lsn&#34;: 0,
                &#34;port&#34;: 10040,
                &#34;status&#34;: &#34;ACTIVE&#34;
            },
            {
                &#34;address&#34;: &#34;192.168.0.2&#34;,
                &#34;lsn&#34;: 1207,
                &#34;port&#34;: 10040,
                &#34;status&#34;: &#34;ACTIVE&#34;
            },
            {
                &#34;address&#34;: &#34;192.168.0.3&#34;,
                &#34;lsn&#34;: 0,
                &#34;port&#34;: 10040,
                &#34;status&#34;: &#34;ACTIVE&#34;
            },
        ],
        &#34;backup&#34;: [],
        &#34;catchup&#34;: [],
        &#34;maxLsn&#34;: 1408,
        &#34;owner&#34;: null,
        &#34;pId&#34;: &#34;1&#34;,
        &#34;status&#34;: &#34;OFF&#34;
    },
:
]
</code></pre><p>Partition data is deemed to be missing if the LSN is different from the MAXLSN maintained by the master node.  The status of the nodes constituting the cluster is ACTIVE but the status of the partition is OFF.  Execute a gs_failovercluster command to incorporate directly into the system.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_failovercluster -u admin/admin --repair
</code></pre><p>At the end of the failover, check that the /cluster/partitionStatus is NORMAL by executing a gs_stat command to the master node, and that there is no missing data in the partition by executing a gs_partition command.</p>
<h5 id="operations-after-completion-of-recovery">Operations after completion of recovery</h5>
<p>After recovery ends, perform a full backup of all the nodes constituting the cluster.</p>
<p><a id="file_system_level_backup_and_recovery_operations"></a></p>
<h3 id="file-system-level-backup-and-recovery-operations">File system level backup and recovery operations</h3>
<p>There is a way to perform an online backup for a file system as an alternative plan in which you don&rsquo;t use the online backup function of GridDB. It performs a backup of a data directory using the snapshot function of LVM and a storage or copying files directly.</p>
<p>The backup data is saved as a base line and it is possible to recover data to the latest version using the automatic log backup function of GridDB.</p>
<h4 id="online-backup-by-snapshot">Online backup by snapshot</h4>
<p>It is possible to back up online using the snapshot function of LVM or a storage.  It can reduce significant time for backing up, and can align the recovery point of each node on a cluster accurately.</p>
<p>The procedure is as follows.</p>
<ol>
<li>
<p>Disable the periodic checkpoint function.</p>
</li>
<li>
<p>(Optional) If you use the automatic log backup simultaneously, start the automatic log backup.</p>
<ul>
<li>By using option, please omit the baseline backup process.</li>
</ul>
</li>
<li>
<p>Execute the manual checkpoint and wait to complete.</p>
</li>
<li>
<p>Take the snapshot including a database file directory.</p>
<ul>
<li>Start this operation at the same time if you want to align the recovery point of all nodes of a cluster accurately.</li>
</ul>
</li>
<li>
<p>Copy the database file directory from the snapshot.</p>
</li>
<li>
<p>(Optional) Remove the unnecessary snapshot.</p>
</li>
<li>
<p>Re-enable the periodic checkpoint function.</p>
</li>
</ol>
<p>The recovery point of the backup is almost same as the point at taking the snapshot.</p>
<p>[Note]</p>
<ul>
<li>If you back up only by snapshot, the recovered data is crash recovery.  If a system requires high consistency, use the automatic log backup simultaneously.</li>
<li>If the log write mode is DELAYED_SYNC (default value: 1 second) and the default value is set, there is an up to 1second difference in the recovery point.</li>
<li>If you use snapshots, there is a possibility that performance decreases due to copy-on-write. Be sure to verify it before using.</li>
</ul>
<p>[Note]</p>
<ul>
<li>If you use the automatic log backup simultaneously, matching the directory name of the backup destination with a backup name gives you the easy understanding of correspondence.</li>
</ul>
<h4 id="online-backup-by-file-copying">Online backup by file copying</h4>
<p>It is possible to perform online backup by file copying using OS commands or backup solutions.</p>
<p>The procedure is as follows.</p>
<ol>
<li>
<p>Disable the periodic checkpoint function.</p>
</li>
<li>
<p>(Optional) If you use the automatic log backup simultaneously, start the automatic log backup.</p>
<ul>
<li>By using option, please omit the baseline backup process.</li>
</ul>
</li>
<li>
<p>Execute the manual checkpoint and wait to complete.</p>
</li>
<li>
<p>Copy the transaction log files. Then, copy the data files and the checkpoint log files.</p>
<ul>
<li>Start this operation at the same time if you want to align the recovery point of all nodes of a cluster accurately.</li>
</ul>
</li>
<li>
<p>Re-enable the periodic checkpoint function.</p>
</li>
</ol>
<p>And the concrete procedure is as follows.</p>
<p>Execute the checkpoint control command to disable the periodic checkpoint function temporarily.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_checkpoint -u admin/admin --off
</code></pre><p>If you use the log backup simultaneously, execute the backup command to start the automatic log backup. Specify the option &ldquo;&ndash;skipBaseline&rdquo; to omit a baseline backup.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_backup -u admin/admin --mode auto --skipBaseline 201808010300
</code></pre><p>Execute the manual checkpoint with the wait option (-w).</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_checkpoint -u admin/admin --manual -w
</code></pre><p>Copy the transaction log files. Then, copy the data files and the checkpoint log files.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ mkdir -p /mnt/backup/201808010300
$ cp -p ${GS_HOME}/txnlog/* /mnt/backup/201808010300/txnlog
$ cp -p ${GS_HOME}/data/* /mnt/backup/201808010300/data
</code></pre><p>After the file copying, re-enable the periodic checkpoint function.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_checkpoint -u admin/admin --on
</code></pre><p>The recovery point of the backup is almost same as the latest transaction update point.</p>
<p>And the recovery point of the backup with the log backup is almost same as the last updated date of the backup directory.</p>
<p>[Note]</p>
<ul>
<li>If you back up only by file copying, the recovered data is crash recovery.  If a system requires high consistency, use the automatic log backup simultaneously.</li>
</ul>
<p>[Note]</p>
<ul>
<li>If you use the automatic log backup simultaneously, matching the directory name of the backup destination with a backup name gives you the easy understanding of correspondence.</li>
</ul>
<h4 id="recovery-operation-and-node-startup-1">Recovery operation and node startup</h4>
<p>If you restore from the backup data by a snapshot and file copying, follow the below procedure.</p>
<ol>
<li>
<p>Check that no node has been started.</p>
<ul>
<li>Check that the cluster definition file is the same as the other nodes in the cluster that the node is joining.</li>
</ul>
</li>
<li>
<p>Check that past data files, checkpoint log files, and transaction log files are not left behind in the database file directories (/var/lib/gridstore/data and /var/lib/gridstore/txnlog by default) of the node.</p>
<ul>
<li>Delete if unnecessary and move to another directory if required.</li>
</ul>
</li>
<li>
<p>Copy the back up data for restoration to the database file directory.</p>
<ul>
<li>If you recover the database to the updated point using the log backup simultaneously, restore the corresponding log backup data with the restore command specifying the updateLogs option.</li>
</ul>
</li>
<li>
<p>Start node.</p>
</li>
</ol>
<p>And the concrete procedure from 3 is as follows.</p>
<p>Copy the back up data for restoration to the database file directory.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ cp -p /mnt/backup/201808010300/data/* ${GS_HOME}/data
$ cp -p /mnt/backup/201808010300/txnlog* ${GS_HOME}/txnlog
</code></pre><p>If you recover the database to the updated point using the log backup simultaneously, restore the corresponding log backup data with the restore command specifying the updateLogs option.</p>
<p>The recovery point of the log backup is almost same as the last updated date of the backup directory.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ ls -l /mnt/backup | grep 201808010300
drwx------ 2 gsadm gridstore 4096  Aug  4 14:06 2018 201808010300
</code></pre><p>After confirming whether that there are no errors, execute the gs_restore command with the &ndash;updateLogs option.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_restore --updateLogs 201808010300
</code></pre><p>Start the node after restoration. See <a href="#operations_after_node_startup">Operations after node startup</a> for the processing after startup.</p>
<h3 id="backup-file">Backup file</h3>
<h4 id="installed-directories-and-files">Installed directories and files</h4>
<p>A directory with the name specified in BACKUPNAME of the backup command will be created under the directory indicated by /dataStore/backupPath in the node definition file to store the following files. In the case of differential/incremental backup, the BACKUPNAME_lv0 (baseline) BACKUPNAME_lv1_NNN_MMM (differential/incremental backup) directory is created under the backup directory to similarly store the following files.</p>
<ol>
<li>
<p>Backup data file (gs_backup_info.json,gs_backup_info_digest.json)</p>
<ul>
<li>Data such as the backup start time, end time and backup file size, etc., is maintained in gs_backup_info.json as backup time data while digest data is maintained in gs_backup_info_digest.json. Data is output to gs_backuplist based on this file.</li>
</ul>
</li>
<li>
<p>Sequence number (gs_lsn_info.json)</p>
<ul>
<li>LSN (Log Sequence Number) indicating the sequence number of the partition update is output. The LSN maintained by the partition at the point the backup is performed is output.</li>
</ul>
</li>
<li>
<p>Data file (<partition number>_part_n.dat), where &ldquo;n&rdquo; in &ldquo;_n.&rdquo; denotes a numerical value.</p>
<ul>
<li>Data files are placed under the data directory/<partition number> directory.</li>
<li>If data files are set to be split, data files as many as the number of splits (/dataStore/dbFileSplitCount) are created.</li>
</ul>
</li>
<li>
<p>Checkpoint log file (<partition number>_n.cplog), where &ldquo;n&rdquo; in &ldquo;_n.&rdquo; denotes a numerical value.</p>
<ul>
<li>Checkpoint log files are placed under the data directory/<partition number> directory.</li>
</ul>
</li>
<li>
<p>Transaction log file (<partition number>_n.xlog), where &ldquo;n&rdquo; in &ldquo;_n.&rdquo; denotes a numerical value.</p>
<ul>
<li>Transaction log files are placed under the txnlog directory/<partition number> directory.</li>
<li>A new transaction log file is added according to the operation during a full backup or an automatic log backup.</li>
</ul>
</li>
<li>
<p>Differential/incremental block log file (gs_log_n_incremental.cplog), where &ldquo;n&rdquo; in &ldquo;<em>n</em>&rdquo; denotes a numerical value.</p>
<ul>
<li>Maintain a checkpoint log file of the update block in the differential/incremental backup.</li>
<li>Checkpoint log files are placed under the data directory/<partition number> directory.</li>
</ul>
</li>
</ol>
<h4 id="deleting-unnecessary-backup-files">Deleting unnecessary backup files</h4>
<p>Unnecessary backup data can be deleted from directories that are no longer required in the BACKUPNAME unit. Since all management information of the backup data is located under the BACKUPNAME directory, there is no need to delete other registry data and so on.  During a differential/incremental backup, delete all the BACKUPNAME_lv0, BACKUPNAME_lv1_NNN_MMM directory groups.</p>
<h2 id="rolling-upgrade">Rolling upgrade</h2>
<p>The upgrade of nodes while the cluster is running is possible by the rolling upgrade.  By operating one by one to leave a node from the cluster, upgrading GridDB on the node and join the node to the cluster again, GridDB on all nodes are replaced to a newer version.</p>
<p>Follow the procedures below to perform upgrade using the rolling upgrade function.</p>
<ol>
<li>
<p>Make a plan for the operations of rolling upgrade in advance</p>
<ul>
<li>Estimate the time of the operations. The operations for a node are as follows.  Estimate the time of the following operations and calculate the time for all the nodes.  The estimated time is about 5 minutes for the operations other than the start-up of a node (recovery).
<ul>
<li>Leave cluster</li>
<li>Stopped node</li>
<li>Installation of GridDB</li>
<li>Start-up node (recovery)</li>
<li>Join cluster</li>
</ul>
</li>
<li>When there are many data updates before leaving the cluster or during the rolling upgrade, the recovery may take longer than usual.</li>
</ul>
</li>
<li>
<p>Disable the automatic data arrangement setting in a cluster.</p>
<ul>
<li>In rolling upgrade, since the cluster configuration is changed repeatedly, the autonomous data redistribution is disabled, while upgrading all the nodes. By avoiding redundant data redistribution, this setting reduces the load of processing or network communication.</li>
<li>By executing the gs_goalconf command with the &ndash;cluster option, the autonomous data redistribution on all the nodes of the cluster is disabled.</li>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_goalconf -u admin/admin --off --cluster
</code></pre></li>
</ul>
</li>
<li>
<p>Confirm the cluster configuration</p>
<ul>
<li>After upgrading all of the follower nodes, upgrade a master node at the end in the rolling upgrade procedure.  Therefore, confirm the cluster configuration before upgrading to decide the order of upgrading nodes.</li>
<li>Confirm a master node using the gs_config command. Nodes except for the master node are follower nodes.</li>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_config -u admin/admin
</code></pre></li>
</ul>
</li>
<li>
<p>Upgrade all follower nodes one by one</p>
<ul>
<li>Perform the following operations on each follower node. Login the node and do the operations.  From starting these operations and until finishing step 5, the operations of SQL cause an error. See &ldquo;Points to note&rdquo; for details.
<ul>
<li>a. Acquire the present data distribution setting from the master node. (gs_goalconf)
<ul>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_goalconf -u admin/admin -s MASTER_IP --manual &gt; last_goal.json
</code></pre></li>
</ul>
</li>
<li>b. Set the data distribution settings to all the nodes so as to detach the target node from a cluster. (gs_goalconf)
<ul>
<li>To detach the node safely, set the data distribution so that the target does not have the owner of a replica. This operation takes around the following seconds: number of partitions * number of nodes / 10.</li>
<li>Since a backup and an owner are switched in some partitions, client fail over may occur. The processing that does not support client fail over causes an error.</li>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_goalconf -u admin/admin --manual --leaveNode NODE_IP --cluster
</code></pre></li>
</ul>
</li>
<li>c. Wait until the partition state of a master node becomes NORMAL. (gs_stat)
<ul>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_stat -u admin/admin -s MASTER_IP | grep partitionStatus
</code></pre></li>
</ul>
</li>
<li>d. Disable the autonomous data distribution function of all the nodes. (gs_loadbalance)
<ul>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_loadbalance -u admin/admin --off --cluster
</code></pre></li>
</ul>
</li>
<li>e. Detach a node from a cluster. (gs_leavecluster)
<ul>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_leavecluster -u admin/admin --force -w
</code></pre></li>
</ul>
</li>
<li>f. Stop the node normally (gs_stopnode)
<ul>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_stopnode -u admin/admin -w
</code></pre></li>
</ul>
</li>
<li>g. Upgrade GridDB.</li>
<li>Start the node. (gs_startnode)
<ul>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_startnode -u admin/admin -w
</code></pre></li>
</ul>
</li>
<li>i. Disable the autonomous data distribution function. (gs_loadbalance)
<ul>
<li>The &ndash;cluster option is not needed because of the operation on single node.</li>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_loadbalance -u admin/admin --off
</code></pre></li>
</ul>
</li>
<li>j. Disable the autonomous data redistribution. (gs_goalconf)
<ul>
<li>The &ndash;cluster option is not needed because of the operation on single node.</li>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_goalconf -u admin/admin --off
</code></pre></li>
</ul>
</li>
<li>k. Join the node to the cluster (gs_joincluster)
<ul>
<li>Example) Cluster name: mycluster, The number of nodes in the cluster: 5
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_joincluster -u admin/admin -c mycluster -n 5 -w
</code></pre></li>
</ul>
</li>
<li>l. Wait until the partition state of a master node becomes REPLICA_LOSS. (gs_stat)
<ul>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_stat -u admin/admin -s MASTER_IP | grep partitionStatus
</code></pre></li>
</ul>
</li>
<li>m. Set the data redistribution setting to the original. (gs_goalconf)
<ul>
<li>This operation takes around the following seconds: number of partitions * number of nodes / 10.</li>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_goalconf -u admin/admin --manual --set last_goal.json --cluster
</code></pre></li>
</ul>
</li>
<li>n. Enable the autonomous data distribution function of all the nodes. (gs_loadbalance))
<ul>
<li>Since a backup and an owner are switched in some partitions, client fail over may occur. The processing that does not support client fail over causes an error.</li>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_loadbalance -u admin/admin --on --cluster
</code></pre></li>
</ul>
</li>
<li>o. Wait until the partition state of the master node becomes NORMAL. (gs_stat)
<ul>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_stat -u admin/admin -s MASTER_IP | grep partitionStatus
</code></pre></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Upgrade the master node</p>
<ul>
<li>Upgrade the master node checked in Procedure 3. Upgrading procedure is same as procedure 4.</li>
</ul>
</li>
<li>
<p>Check that all nodes are the new version (gs_stat)</p>
</li>
<li>
<p>Enable autonomous data redistribution.</p>
<ul>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_goalconf -u admin/admin --on --cluster
</code></pre></li>
</ul>
</li>
</ol>
<p>A sample script is available which performs the procedures from a. to o. for upgrading a node. After installing the server package, the script will be distributed to the following directory.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ ls /usr/griddb/sample/ja/rolling_upgrade
Readme.txt  rolling_upgrade_sample.sh

$ ls /usr/griddb/sample/en/rolling_upgrade
Readme.txt  rolling_upgrade_sample.sh
</code></pre><p>[Note]</p>
<ul>
<li>
<p>The rolling upgrade can be used for version 4.0 or later.</p>
</li>
<li>
<p>The rolling upgrade can not be performed when the current major version and the replaced major version of the cluster are different.</p>
<p>Example) When the current version is V4.0 and the version to be replaced is V5.0, the rolling upgrade cannot be performed because the major versions are different.</p>
</li>
<li>
<p>The replaced version is required to be newer than the current version.</p>
</li>
<li>
<p>Additional functions of the new version cannot be available until the rolling upgrade for all of the nodes has completed.</p>
</li>
</ul>
<p>[Note]</p>
<ul>
<li>Try to execute the rolling upgrade in a test environment to confirm whether there is not a problem in the procedure before upgrading clusters in operation.</li>
<li>Confirm that there is enough free space for update installation of the package before executing the procedure.</li>
<li>Continuation of the SQL process during the rolling upgrade is not guaranteed.
<ul>
<li>There is a possibility that search with SQL is continued due to client failover, however, it is possible that an error returns if the load of nodes is high.</li>
</ul>
</li>
<li>When the master node is replaced, the cluster stops temporarily (about 1 minute).
<ul>
<li>For the processing that can be failed over (NoSQL interface and SQL search), if the cluster restarts in the failover time, no error occurs on the client.</li>
</ul>
</li>
<li>When there are many data updates during a rolling upgrade, the synchronization of data takes time.  There is a possibility that the system runs out of resources temporarily because the nodes other than being upgraded nodes need to process requirement.  Therefore, it is recommended that the rolling upgrade is executed on the time when the number of the client access is low.</li>
<li>If the synchronous setting of the replication is asynchronous, keeping the operation of a registration and an update during the rolling upgrade sometimes results in the situation that you can not access the part of partition when nodes are isolated temporarily. Retry if needed because there is a possibility that client failover fails at the time.</li>
<li>Do not keep operating while there are the nodes of multiple versions in the cluster.</li>
</ul>
<p><a id="label_event_log"></a></p>
<h2 id="event-log-function">Event log function</h2>
<p>An event log is a log to record system operating information and messages related to event information e.g. exceptions which occurred internally in a GridDB node etc.</p>
<p>An event log is created with the file name gridstore-%Y%m%d-n.log in the directory shown in the environmental variable GS_LOG (Example: gridstore-20150328-5.log). 22/5000 The file switches at the following timing:</p>
<ul>
<li>When the log is written first after the date changes</li>
<li>When the node is restarted</li>
<li>When the size of one file exceeds 1MB</li>
</ul>
<p>The default value of the maximum number of event log files is 30. If it exceeds 30 files, it will be deleted from the old file. The maximum number can be changed with the node definition file.</p>
<p>Output format of event log is as follows.</p>
<ul>
<li>
<p>(Date and time) (host name) (thread no.) (log level) (category) [(error trace no.): (error trace no. and name)] (message) &lt; (base64 detailed information: Detailed information for problem analysis in the support service)&gt;</p>
<p>An overview of the event can be found using the error trace number.
A solution to the problem can be searched in &ldquo;<a href="../6.md_error_code/md_error_code.md">GridDB Error Codes</a>&rdquo; using the error trace number. A output example of an event log is shown below.</p>
</li>
</ul>
<pre tabindex="0"><code class="language-example" data-lang="example">
2014-11-12T10:35:29.746+0900 TSOL1234 8456 ERROR TRANSACTION_SERVICE [10008:TXN_CLUSTER_NOT_SERVICING] (nd={clientId=2, address=127.0.0.1:52719}, pId=0, eventType=CONNECT, stmtId=1) &lt;Z3JpZF9zdG9yZS9zZXJ2ZXIvdHJhbnNhY3Rpb25fc2VydmljZS5jcHAgQ29ubmVjdEhhbmRsZXI6OmhhbmRsZUVycm9yIGxpbmU9MTg2MSA6IGJ5IERlbnlFeGNlcHRpb24gZ3JpZF9zdG9yZS9zZXJ2ZXIvdHJhbnNhY3Rpb25fc2VydmljZS5jcHAgU3RhdGVtZW50SGFuZGxlcjo6Y2hlY2tFeGVjdXRhYmxlIGxpbmU9NjExIGNvZGU9MTAwMDg=&gt;
</code></pre><p>The event log output level can be changed online by using the gs_logconf command. When analyzing details of trouble information, change it online. However, online changes are temporary memory changes. Therefore, in order to make it permanent such as setting valid at restart of the node, it is necessary to change the trace item of the node definition file of each node constituting the cluster.</p>
<p>The current setting can be displayed with the gs_logconf command. Output content varies depending on the version.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_logconf -u admin/admin
{
    &#34;levels&#34;: {
        &#34;CHECKPOINT_FILE&#34;: &#34;ERROR&#34;,
        &#34;CHECKPOINT_SERVICE&#34;: &#34;INFO&#34;,
        &#34;CHUNK_MANAGER&#34;: &#34;ERROR&#34;,
        &#34;CHUNK_MANAGER_IODETAIL&#34;: &#34;ERROR&#34;,
        &#34;CLUSTER_OPERATION&#34;: &#34;INFO&#34;,
        &#34;CLUSTER_SERVICE&#34;: &#34;ERROR&#34;,
        &#34;COLLECTION&#34;: &#34;ERROR&#34;,
        &#34;DATA_STORE&#34;: &#34;ERROR&#34;,
        &#34;DEFAULT&#34;: &#34;ERROR&#34;,
        &#34;EVENT_ENGINE&#34;: &#34;WARNING&#34;,
        &#34;IO_MONITOR&#34;: &#34;WARNING&#34;,
        &#34;LOG_MANAGER&#34;: &#34;WARNING&#34;,
        &#34;MAIN&#34;: &#34;WARNING&#34;,
        &#34;MESSAGE_LOG_TEST&#34;: &#34;ERROR&#34;,
        &#34;OBJECT_MANAGER&#34;: &#34;ERROR&#34;,
        &#34;RECOVERY_MANAGER&#34;: &#34;INFO&#34;,
        &#34;REPLICATION_TIMEOUT&#34;: &#34;WARNING&#34;,
        &#34;SESSION_TIMEOUT&#34;: &#34;WARNING&#34;,
        &#34;SYNC_SERVICE&#34;: &#34;ERROR&#34;,
        &#34;SYSTEM&#34;: &#34;UNKNOWN&#34;,
        &#34;SYSTEM_SERVICE&#34;: &#34;INFO&#34;,
        &#34;TIME_SERIES&#34;: &#34;ERROR&#34;,
        &#34;TRANSACTION_MANAGER&#34;: &#34;ERROR&#34;,
        &#34;TRANSACTION_SERVICE&#34;: &#34;ERROR&#34;,
        &#34;TRANSACTION_TIMEOUT&#34;: &#34;WARNING&#34;
    }
}
</code></pre><h2 id="checking-operation-state">Checking operation state</h2>
<h3 id="performance-and-statistical-information">Performance and statistical information</h3>
<p>GridDB performance and statistical information can be checked in GridDB using the operating command gs_stat. gs_stat represents information common in the cluster and performance and statistical information unique to the nodes.</p>
<p>Among the outputs of the gs_stat command, the performance structure is an output that is related to the performance and statistical information.</p>
<p>An example of output is shown below. The output contents vary depending on the version.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">-bash-4.1$ gs_stat -u admin/admin -s 192.168.0.1:10040
{
    :
    &#34;performance&#34;: {
        &#34;batchFree&#34;: 0,
        &#34;dataFileSize&#34;: 65536,
        &#34;dataFileUsageRate&#34;: 0,
        &#34;checkpointWriteSize&#34;: 0,
        &#34;checkpointWriteTime&#34;: 0,
        &#34;currentTime&#34;: 1428024628904,
        &#34;numConnection&#34;: 0,
        &#34;numTxn&#34;: 0,
        &#34;peakProcessMemory&#34;: 42270720,
        &#34;processMemory&#34;: 42270720,
        &#34;recoveryReadSize&#34;: 65536,
        &#34;recoveryReadTime&#34;: 0,
        &#34;sqlStoreSwapRead&#34;: 0,
        &#34;sqlStoreSwapReadSize&#34;: 0,
        &#34;sqlStoreSwapReadTime&#34;: 0,
        &#34;sqlStoreSwapWrite&#34;: 0,
        &#34;sqlStoreSwapWriteSize&#34;: 0,
        &#34;sqlStoreSwapWriteTime&#34;: 0,
        &#34;storeDetail&#34;: {
            &#34;batchFreeMapData&#34;: {
                &#34;storeMemory&#34;: 0,
                &#34;storeUse&#34;: 0,
                &#34;swapRead&#34;: 0,
                &#34;swapWrite&#34;: 0
            },
            &#34;batchFreeRowData&#34;: {
                &#34;storeMemory&#34;: 0,
                &#34;storeUse&#34;: 0,
                &#34;swapRead&#34;: 0,
                &#34;swapWrite&#34;: 0
            },
            &#34;mapData&#34;: {
                &#34;storeMemory&#34;: 0,
                &#34;storeUse&#34;: 0,
                &#34;swapRead&#34;: 0,
                &#34;swapWrite&#34;: 0
            },
            &#34;metaData&#34;: {
                &#34;storeMemory&#34;: 0,
                &#34;storeUse&#34;: 0,
                &#34;swapRead&#34;: 0,
                &#34;swapWrite&#34;: 0
            },
            &#34;rowData&#34;: {
                &#34;storeMemory&#34;: 0,
                &#34;storeUse&#34;: 0,
                &#34;swapRead&#34;: 0,
                &#34;swapWrite&#34;: 0
            }
        },
        &#34;storeMemory&#34;: 0,
        &#34;storeMemoryLimit&#34;: 1073741824,
        &#34;storeTotalUse&#34;: 0,
        &#34;swapRead&#34;: 0,
        &#34;swapReadSize&#34;: 0,
        &#34;swapReadTime&#34;: 0,
        &#34;swapWrite&#34;: 0,
        &#34;swapWriteSize&#34;: 0,
        &#34;swapWriteTime&#34;: 0,
        &#34;syncReadSize&#34;: 0,
        &#34;syncReadTime&#34;: 0,
        &#34;totalLockConflictCount&#34;: 0,
        &#34;totalReadOperation&#34;: 0,
        &#34;totalRowRead&#34;: 0,
        &#34;totalRowWrite&#34;: 0,
        &#34;totalWriteOperation&#34;: 0
    },
    :
}
</code></pre><p>Information related to performance and statistical information is explained below. The description of the storeDetail structure is omitted as this is internal debugging information.</p>
<ul>
<li>The type is shown below.
<ul>
<li>CC: Current value of all cluster</li>
<li>c: Current value of specified node</li>
<li>CS: Cumulative value after service starts for all clusters</li>
<li>s: Cumulative value after service starts for all nodes</li>
<li>CP: Peak value after service starts for all clusters</li>
<li>p: Peak value after service starts for all nodes</li>
</ul>
</li>
<li>Check the event figure to be monitored, and show the items that ought to be reviewed in continuing with operations.</li>
</ul>
<table>
<thead>
<tr>
<th>Output parameters</th>
<th>Type</th>
<th>Description</th>
<th>Event to be monitored</th>
</tr>
</thead>
<tbody>
<tr>
<td>dataFileSize</td>
<td>c</td>
<td>Data file size (in bytes)</td>
<td></td>
</tr>
<tr>
<td>dataFileUsageRate</td>
<td>c</td>
<td>Data file usage rate</td>
<td></td>
</tr>
<tr>
<td>checkpointWrite</td>
<td>s</td>
<td>Write count to the date file by checkpoint processing</td>
<td></td>
</tr>
<tr>
<td>checkpointWriteSize</td>
<td>s</td>
<td>Write size to the date file by checkpoint processing (byte)</td>
<td></td>
</tr>
<tr>
<td>checkpointWriteTime</td>
<td>s</td>
<td>Write time to the date file by checkpoint processing (ms)</td>
<td></td>
</tr>
<tr>
<td>checkpointWriteCompressTime</td>
<td>s</td>
<td>Compression time of write data to the data file by checkpointing process (ms)</td>
<td></td>
</tr>
<tr>
<td>dataFileAllocateSize</td>
<td>c</td>
<td>The total size of blocks allocated to data files (in bytes)</td>
<td></td>
</tr>
<tr>
<td>currentTime</td>
<td>c</td>
<td>Current time</td>
<td></td>
</tr>
<tr>
<td>numConnection</td>
<td>c</td>
<td>Current no. of connections. Number of connections used in the transaction process, not including the number of connections used in the cluster process. Value is equal to the no. of clients + no. of replicas * no. of partitions retained.</td>
<td>If the no. of connections is insufficient in monitoring the log, review the connectionLimit value of the node configuration.</td>
</tr>
<tr>
<td>numSession</td>
<td>c</td>
<td>Current no. of sessions</td>
<td></td>
</tr>
<tr>
<td>numTxn</td>
<td>c</td>
<td>Current no. of transactions</td>
<td></td>
</tr>
<tr>
<td>peakProcessMemory</td>
<td>p</td>
<td>Peak value of the memory used in the GridDB server, including the storememory value which is the maximum memory size (byte) used in the process</td>
<td>If the peakProcessMemory or processMemory is larger than the installed memory of the node and an OS Swap occurs, additional memory or a temporary drop in the value of the storeMemoryLimit needs to be considered.</td>
</tr>
<tr>
<td>processMemory</td>
<td>c</td>
<td>Memory space used by a process (byte)</td>
<td></td>
</tr>
<tr>
<td>recoveryReadSize</td>
<td>s</td>
<td>Size read from data files in the recovery process (in bytes)</td>
<td></td>
</tr>
<tr>
<td>recoveryReadTime</td>
<td>s</td>
<td>Time taken to read data files in the recovery process (in milliseconds)</td>
<td></td>
</tr>
<tr>
<td>sqlStoreSwapRead</td>
<td>s</td>
<td>Read count from the file by SQL store swap processing</td>
<td></td>
</tr>
<tr>
<td>sqlStoreSwapReadSize</td>
<td>s</td>
<td>Read size from the file by SQL store swap processing (byte)</td>
<td></td>
</tr>
<tr>
<td>sqlStoreSwapReadTime</td>
<td>s</td>
<td>Read time from the file by SQL store swap processing (ms)</td>
<td></td>
</tr>
<tr>
<td>sqlStoreSwapWrite</td>
<td>s</td>
<td>Write count to the file by SQL store swap processing</td>
<td></td>
</tr>
<tr>
<td>sqlStoreSwapWriteSize</td>
<td>s</td>
<td>Write size to the file by SQL store swap processing (byte)</td>
<td></td>
</tr>
<tr>
<td>sqlStoreSwapWriteTime</td>
<td>s</td>
<td>Write time to the file by SQL store swap processing (ms)</td>
<td></td>
</tr>
<tr>
<td>storeMemory</td>
<td>c</td>
<td>Memory space used in an in-memory database (byte)</td>
<td></td>
</tr>
<tr>
<td>storeMemoryLimit</td>
<td>c</td>
<td>Memory space limit used in an in-memory database (byte)</td>
<td></td>
</tr>
<tr>
<td>storeTotalUse</td>
<td>c</td>
<td>Full data capacity (byte) retained by the nodes, including the data capacity in the database file</td>
<td></td>
</tr>
<tr>
<td>swapRead</td>
<td>s</td>
<td>Read count from the file by swap processing</td>
<td></td>
</tr>
<tr>
<td>swapReadSize</td>
<td>s</td>
<td>Read size from the file by swap processing (byte)</td>
<td></td>
</tr>
<tr>
<td>swapReadTime</td>
<td>s</td>
<td>Read time from the file by swap processing (ms)</td>
<td></td>
</tr>
<tr>
<td>swapWrite</td>
<td>s</td>
<td>Write count to the file by swap processing</td>
<td></td>
</tr>
<tr>
<td>swapWriteSize</td>
<td>s</td>
<td>Write size to the file by swap processing (byte)</td>
<td></td>
</tr>
<tr>
<td>swapWriteTime</td>
<td>s</td>
<td>Write time to the file by swap processing (ms)</td>
<td></td>
</tr>
<tr>
<td>swapWriteCompressTime</td>
<td>s</td>
<td>Compression time of write data to the file by swap process (ms)</td>
<td></td>
</tr>
<tr>
<td>syncReadSize</td>
<td>s</td>
<td>Size of files to read from sync data files (in bytes)</td>
<td></td>
</tr>
<tr>
<td>syncReadTime</td>
<td>s</td>
<td>Time taken to read files from sync data files (in milliseconds)</td>
<td></td>
</tr>
<tr>
<td>totalLockConflictCount</td>
<td>s</td>
<td>Row lock competing count</td>
<td></td>
</tr>
<tr>
<td>totalReadOperation</td>
<td>s</td>
<td>Search process count</td>
<td></td>
</tr>
<tr>
<td>totalRowRead</td>
<td>s</td>
<td>Row reading count</td>
<td></td>
</tr>
<tr>
<td>totalRowWrite</td>
<td>s</td>
<td>Row writing count</td>
<td></td>
</tr>
<tr>
<td>totalWriteOperation</td>
<td>s</td>
<td>Insert and update process count</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="container-placement-information">Container placement information</h3>
<p>Containers (tables) and partitioned tables in a GridDB cluster are automatically distributed to each node.  By using operation management tools or SQL, it is possible to check which container (table) is placed on each node.</p>
<p>This function is used to:</p>
<ul>
<li>Check containers placed on a node when the database size of each node is not balanced.</li>
<li>find backup location of the node where specified container is placed on.</li>
</ul>
<p>[Note]</p>
<ul>
<li>See the <a href="#data_model">Data model</a> for the description of the container and partition.</li>
<li>When the autonomous data placement is executed by a node down or a node failure, the placement of containers may be changed. The placement of containers is not persistent.</li>
</ul>
<p>The placement information of containers (tables) is checked by the following methods.</p>
<h4 id="getting-container-table-list-of-node">Getting container (table) list of node</h4>
<p>To get container (table) list of a node, use &ldquo;Container list screen&rdquo; of integrated operation control GUI (gs_admin).</p>
<ol>
<li>
<p>Login to gs_admin.</p>
</li>
<li>
<p>After selecting the &ldquo;ClusterTree&rdquo; tab on the left tree view and selecting a node, click &ldquo;Container&rdquo; tab on the right frame.</p>
</li>
<li>
<p>Container list placed on the node is displayed.</p>
</li>
</ol>
<p>[Note]</p>
<ul>
<li>For partitioned table, the management table is only displayed. Data partitions are not displayed.</li>
</ul>
<h4 id="checking-owner-node-of-container-table">Checking owner node of container (table)</h4>
<p>To check node where specified container is placed on, use gs_sh and operation command (gs_partition).</p>
<ol>
<li>
<p>Perform gs_sh sub-command &ldquo;showcontainer&rdquo; to check ID of the partition which has specified container.  The partition ID is displayed as &ldquo;Partition ID&rdquo;.</p>
</li>
<li>
<p>Perform gs_sh sub-command &ldquo;configcluster&rdquo; to check master node.  M is displayed as &ldquo;Role&rdquo; for the master node.</p>
</li>
<li>
<p>Specify the partition ID, which was identified in the procedure 1., as the argument-n, and execute gs_partition in the master node.  The &ldquo;/owner/address&rdquo; in the displayed JSON shows the owner node of the container (table).</p>
</li>
</ol>
<p>[Example]</p>
<ul>
<li>Getting a particular partition information.</li>
</ul>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_partition -u admin/admin -n 5
[
    {
        &#34;backup&#34;: [],
        &#34;catchup&#34;: [],
        &#34;maxLsn&#34;: 300008,
        &#34;owner&#34;: {
            &#34;address&#34;: &#34;192.168.11.10&#34;,    -&gt; The IP address of the owner node is 192.168.11.10.
            &#34;lsn&#34;: 300008,
            &#34;port&#34;: 10010
        },
        &#34;pId&#34;: &#34;5&#34;,
        &#34;status&#34;: &#34;ON&#34;
    }
]
</code></pre><p>[Note]</p>
<ul>
<li>When performing the gs_partition on a node except the master node, the information of the partition may not be correct.</li>
</ul>
<p>[Note]</p>
<ul>
<li>When specifying partitioned table, the placement information of the management table is only displayed.  The placement information of the data partitions is not displayed.</li>
</ul>
<h4 id="checking-node-of-data-partition">Checking node of data partition</h4>
<p>A partitioned container (table) divides and stores data in two or more internal containers (data partition).  The data distribution of the partitioned container (table) can be obtained by checking the nodes to which these data partitions are distributed.</p>
<p>Check the partition ID of the data partition in the container (table) and search the node to which the data partition is distributed. The procedure is as follows.</p>
<ol>
<li>Check the ID of the partition which has the data partition of the specified container (table).</li>
</ol>
<ul>
<li>To check the ID, use the meta-table &ldquo;#table_partitions&rdquo;, which includes information, such as the container names of all the data partitions, partition IDs, and so on.</li>
<li>Perform SQL on the metatable &ldquo;#table_partitions&rdquo; using the &ldquo;SQL screen&rdquo; of the integrated operation control management GUI (gs_admin) or the &ldquo;sql&rdquo; sub-command of the interpreter (gs_sh). Specify the name of a container as the &ldquo;TABLE_NAME&rdquo; column condition in a where clause.</li>
<li>Check the &ldquo;CLUSTER_PARTITIONINDEX&rdquo; column to identify the partition ID from the search results in the specified container.</li>
</ul>
<ol start="2">
<li>Use the partition ID to search the node to which the data partition is distributed.</li>
</ol>
<ul>
<li>To check the node to which the data partition is distributed using the partition ID, execute a gs_partition command in a master node.</li>
<li>Perform gs_sh sub-command &ldquo;configcluster&rdquo; to check master node. M is displayed as &ldquo;Role&rdquo; for the master node.</li>
<li>Specify the partition ID, which was identified in the procedure 1., as the argument-n, and execute gs_partition in the master node.  The &ldquo;/owner/address&rdquo; in the displayed JSON shows the owner node of the container (table).</li>
<li>Only one partition ID can be specified for -n. If -n is not specified, information for all partitions is displayed.</li>
</ul>
<p>[Example]</p>
<ul>
<li>Displaying the addresses of the nodes where each data partition of partitioned table &ldquo;hashTable&rdquo; is placed on.</li>
</ul>
<pre tabindex="0"><code class="language-example" data-lang="example">select DATABASE_NAME, TABLE_NAME, CLUSTER_PARTITION_INDEX from &#34;#table_partitions&#34; where TABLE_NAME=&#39;hashTable1&#39;;

DATABASE_NAME,TABLE_NAME,CLUSTER_PARTITION_INDEX
public,hashTable1,1
public,hashTable1,93
public,hashTable1,51
public,hashTable1,18
public,hashTable1,32  -&gt;The number of data partitions of &#39;hashTable1&#39;is 5 and the partition IDs stored in it are 1, 93, 51, 18, 32.
</code></pre><ul>
<li>2 Check the node where the data partition with the partition ID 1 is distributed. (For other partition IDs 93, 51, 18, and 32, check in the same way)</li>
</ul>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_partition -u admin/admin -n 1
[
    {
        &#34;backup&#34;: [],
        &#34;catchup&#34;: [],
        &#34;maxLsn&#34;: 200328,
        &#34;owner&#34;: {
            &#34;address&#34;: &#34;192.168.11.15&#34;,    -&gt; The IP address of the owner node is 192.168.11.15.
            &#34;lsn&#34;: 200328,
            &#34;port&#34;: 10010
        },
        &#34;pId&#34;: &#34;1&#34;,
        &#34;status&#34;: &#34;ON&#34;
    }
]
</code></pre><p>[Note]</p>
<ul>
<li>The schema of the metatable &ldquo;#table_partitions&rdquo; may be changed in future version.</li>
</ul>
<p>[Note]</p>
<ul>
<li>See the &ldquo;<a href="manuals/14.md_reference_sql/md_reference_sql.md">GridDB SQL Reference</a>&rdquo; for the details of the metatable schema.</li>
</ul>
<h2 id="operating-tools-for-the-system">Operating tools for the system</h2>
<p>GridDB provides the following tools for operating clusters and nodes, operating data, such as creating containers, exporting and/or importing.</p>
<figure>
<img src="img/operation_tool.png" alt="List of operation tools" width="700"/>
<figcaption>List of operation tools</figcaption>
</figure>
<table>
<thead>
<tr>
<th>Name</th>
<th>Displayed information</th>
</tr>
</thead>
<tbody>
<tr>
<td>Service</td>
<td>Linux service management tools to start and/or stop GridDB nodes.</td>
</tr>
<tr>
<td>Integrated operation control GUI (gs_admin)</td>
<td>Web-based integrated operation control GUI (gs_admin) for the operating functions of GridDB clusters.</td>
</tr>
<tr>
<td>Cluster operation control command interpreter (gs_sh)</td>
<td>CUI tool for operation management and data manipulation of GridDB clusters.</td>
</tr>
<tr>
<td>Operating commands</td>
<td>Commands to perform the operating functions of GridDB clusters. .</td>
</tr>
<tr>
<td>Exporting/importing tool</td>
<td>Export/import data.</td>
</tr>
</tbody>
</table>
<p><a id="operating_commands"></a></p>
<h3 id="operating-commands">Operating commands</h3>
<p>The following commands are available in GridDB. The following commands are available in GridDB. All the operating command names of GridDB start with gs_.</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Command</th>
<th>Functions</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node operations</td>
<td>gs_startnode</td>
<td>start node</td>
</tr>
<tr>
<td></td>
<td>gs_stopnode</td>
<td>stop node</td>
</tr>
<tr>
<td>Cluster operations</td>
<td>gs_joincluster</td>
<td>Join a node to a cluster. Join to cluster configuration</td>
</tr>
<tr>
<td></td>
<td>gs_leavecluster</td>
<td>Cause a particular node to leave a cluster. Used, when causing a particular node to leave from a cluster for maintenance. The partition distributed to the node to leave the cluster will be rearranged (rebalance).</td>
</tr>
<tr>
<td></td>
<td>gs_stopcluster</td>
<td>Cause all the nodes, which constite a cluster, to leave the cluster. Used for stopping all the nodes. The partitions are not rebalanced when the nodes leave the cluster.</td>
</tr>
<tr>
<td></td>
<td>gs_config</td>
<td>Get cluster configuration data</td>
</tr>
<tr>
<td></td>
<td>gs_stat</td>
<td>Get cluster data</td>
</tr>
<tr>
<td></td>
<td>gs_appendcluster</td>
<td>Add a node to the cluster in a STABLE state.</td>
</tr>
<tr>
<td></td>
<td>gs_failovercluster</td>
<td>Do manual failover of a cluster Used also to start a service accepting a data lost. Used also to start a service accepting a data lost.</td>
</tr>
<tr>
<td></td>
<td>gs_partition</td>
<td>Get partition data</td>
</tr>
<tr>
<td></td>
<td>gs_loadbalance</td>
<td>Set autonomous data redistribution</td>
</tr>
<tr>
<td>User management</td>
<td>gs_adduser</td>
<td>Registration of administrator user</td>
</tr>
<tr>
<td></td>
<td>gs_deluser</td>
<td>Deletion of administrator user</td>
</tr>
<tr>
<td></td>
<td>gs_passwd</td>
<td>Change a password of an administrator user</td>
</tr>
<tr>
<td>Log data</td>
<td>gs_logs</td>
<td>Display recent event logs</td>
</tr>
<tr>
<td></td>
<td>gs_logconf</td>
<td>Display and change the event log output level</td>
</tr>
<tr>
<td>Restoring a backup</td>
<td>gs_backup</td>
<td>Collect backup data</td>
</tr>
<tr>
<td></td>
<td>gs_backuplist</td>
<td>Display backup data list</td>
</tr>
<tr>
<td></td>
<td>gs_restore</td>
<td>Restore a backup data</td>
</tr>
<tr>
<td>Import/export</td>
<td>gs_import</td>
<td>Import exported containers and database on the disk</td>
</tr>
<tr>
<td></td>
<td>gs_export</td>
<td>Export containers and database as CSV or ZIP format to the disk</td>
</tr>
<tr>
<td>Maintenance</td>
<td>gs_paramconf</td>
<td>Display and change parameters</td>
</tr>
<tr>
<td></td>
<td>gs_authcache</td>
<td>Listing and deleting cache for user information for faster authentication of general users and of LDAP.</td>
</tr>
</tbody>
</table>
<p><a id="integrated_operation_control"></a></p>
<h3 id="integrated-operation-control-gui-gs_admin">Integrated operation control GUI (gs_admin)</h3>
<p>The integrated operation control GUI (hereinafter referred to gs_admin) is a Web application that integrates GridDB cluster operation functions. gs_admin is an intuitive interface that provides cluster operation information in one screen (dashboard screen). start and stop operation to individual nodes constituting the cluster, check performance information, etc.</p>
<figure>
<img src="img/func_gs_admin-main.png" alt="Gs_admin dashboard screen" width="600"/>
<figcaption>Gs_admin dashboard screen</figcaption>
</figure>
<p>gs_admin also supports the following functions to support development, so it can be used effectively in the development stage of the system.</p>
<ul>
<li>Create and drop database, manage general user</li>
<li>Create, drop and search container</li>
<li>Create and drop indexes</li>
<li>Execute TQL/SQL statement to container</li>
<li>Execute SQL</li>
</ul>
<p><a id="label_gs_sh"></a></p>
<h3 id="cluster-operation-control-command-interpreter-gs_sh">Cluster operation control command interpreter (gs_sh)</h3>
<p>The cluster operation control command interpreter (hereinafter referred to gs_sh) is a command line interface tool to manage GridDB cluster operations and data operations. While operating commands provide operation on a per-node basis, gs_sh provides interfaces for processing on a per-cluster basis. In addition to user management operations, it also provides data manipulation such as creating databases, containers and tables, and searching by TQL or SQL.</p>
<p>There are two types of start modes in gs_sh. Interactive mode: specify sub-command interactively to execute processing, Batch mode: Execute a script file containing a series of operations with sub-commands. Use of batch script enables automation of operation verification at development and labor saving of system construction.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">// Interactive mode
$ gs_sh
// start gs_sh and execute sub-command &#34;version&#34;
gs&gt; version

// Batch mode: execute a script file specified as an argument
$gs_sh test.gsh
</code></pre><p>gs_sh provides, cluster operations such as starting a node, starting a cluster, and data manipulation, such as creating containers.</p>
<ul>
<li>
<p>Cluster operations</p>
<ul>
<li>Starting and stopping a node, starting and stopping a cluster, displaying the state of a node and a cluster, etc.</li>
</ul>
</li>
<li>
<p>Data operation</p>
<ul>
<li>Creating containers, building an index, executing TQL and SQL, etc.</li>
</ul>
</li>
</ul>
<p>See &ldquo;<a href="../5.md_reference_operation_tool/md_reference_operation_tool.md">GridDB Operation Tools Reference</a>&rdquo; for the details about gs_sh operations.</p>
<p><a id="label_parameters"></a></p>
<h2 id="----parameter----">&mdash; Parameter &mdash;</h2>
<p>Describes the parameters to control the operations in GridDB. In the GridDB parameters, there is a node definition file to configure settings such as the setting information and usable resources etc., and a cluster definition file to configure operational settings of a cluster.  Explains the meanings of the item names in the definition file and the settings and parameters in the initial state.</p>
<p>The unit of the setting is set as shown below.</p>
<ul>
<li>
<p>The byte size can be specified in the following units: TB, GB, MB, KB, B, T, G, M, K, or lowercase notations of these units. Unit cannot be omitted unless otherwise stated.</p>
</li>
<li>
<p>Time can be specified in the following units: h, min, s, ms. Unit cannot be omitted unless otherwise stated.</p>
</li>
</ul>
<h2 id="cluster-definition-file-gs_clusterjson">Cluster definition file (gs_cluster.json)</h2>
<p>The same setting in the cluster definition file needs to be made in all the nodes constituting the cluster. As the partitionNum and storeBlockSize parameters are important parameters to determine the database structure, they cannot be changed after GridDB is started for the first time.</p>
<p>The meanings of the various settings in the cluster definition file are explained below.</p>
<p>The system can be caused to recognize an item not included in the initial state by adding its name as a property. In the change field, indicate whether the value of that parameter can be changed and the change timing.</p>
<ul>
<li>Disallowed: Node cannot be changed once it has been started. The database needs to be initialized if you want to change the setting.</li>
<li>Restart: Parameter can be changed by restarting all the nodes constituting the cluster.</li>
<li>Online: Parameters that are currently in operation online can be changed. However, the contents in the definition file need to be manual amended as the change details will not be perpetuated.</li>
</ul>
<table>
<thead>
<tr>
<th>Configuration of GridDB</th>
<th>Default</th>
<th>Meaning of parameters and limitation values</th>
<th>Change</th>
</tr>
</thead>
<tbody>
<tr>
<td>/notificationAddress</td>
<td>239.0.0.1</td>
<td>Standard setting of a multi-cast address. This setting will become valid if a parameter with the same cluster, transaction name is omitted. If a different value is set, the address of the individual setting is valid.</td>
<td>Restart</td>
</tr>
<tr>
<td>/dataStore/partitionNum</td>
<td>128</td>
<td>Specify a common multiple that will allow the number of partitions to be divided and placed by the number of constituting clusters.  Integer: Specify an integer that is 1 or higher and 10000 or lower.</td>
<td>Disallowed</td>
</tr>
<tr>
<td>/dataStore/storeBlockSize</td>
<td>64KB</td>
<td>Specify the disk I/O size from 64KB,1MB,4MB,8MB,16MB,32MB. Larger block size enables more records to be stored in one block, suitable for full scans of large tables, but also increases the possibility of conflict. Select the size suitable for the system. Cannot be changed after server is started.</td>
<td>Disallowed</td>
</tr>
<tr>
<td>/cluster/clusterName</td>
<td>-</td>
<td>Specify the name for identifying a cluster. Mandatory input parameter.</td>
<td>Restart</td>
</tr>
<tr>
<td>/cluster/replicationNum</td>
<td>2</td>
<td>Specify the number of replicas. Partition is doubled if the number of replicas is 2.</td>
<td>Restart</td>
</tr>
<tr>
<td>/cluster/notificationAddress</td>
<td>239.0.0.1</td>
<td>Specify the multicast address for cluster configuration</td>
<td>Restart</td>
</tr>
<tr>
<td>/cluster/notificationPort</td>
<td>20000</td>
<td>Specify the multicast port for cluster configuration.  Specify a value within a specifiable range as a multi-cast port no.</td>
<td>Restart</td>
</tr>
<tr>
<td>/cluster/notificationInterval</td>
<td>5s</td>
<td>Multicast period for cluster configuration.  Specify the value more than 1 second and less than 2<sup>31</sup> seconds.</td>
<td>Restart</td>
</tr>
<tr>
<td>/cluster/heartbeatInterval</td>
<td>5s</td>
<td>Specify a check period (heart beat period) to check the node survival among clusters.  Specify the value more than 1 second and less than 2<sup>31</sup> seconds.</td>
<td>Restart</td>
</tr>
<tr>
<td>/cluster/loadbalanceCheckInterval</td>
<td>180s</td>
<td>To adjust the load balance among the nodes constituting the cluster, specify a data sampling period, as a criteria whether to implement the balancing process or not.  Specify the value more than 1 second and less than 2<sup>31</sup> seconds.</td>
<td>Restart</td>
</tr>
<tr>
<td>/cluster/notificationMember</td>
<td>-</td>
<td>Specify the address list when using the fixed list method as the cluster configuration method.</td>
<td>Restart</td>
</tr>
<tr>
<td>/cluster/notificationProvider/url</td>
<td>-</td>
<td>Specify the URL of the address provider when using the provider method as the cluster configuration method.</td>
<td>Restart</td>
</tr>
<tr>
<td>/cluster/notificationProvider/updateInterval</td>
<td>5s</td>
<td>Specify the interval to get the list from the address provider. Specify the value more than 1 second and less than 2<sup>31</sup> seconds.</td>
<td>Restart</td>
</tr>
<tr>
<td>/sync/timeoutInterval</td>
<td>30s</td>
<td>Specify the timeout time during data synchronization among clusters.   If a timeout occurs, the system load may be high, or a failure may have occurred.  Specify the value more than 1 second and less than 2<sup>31</sup> seconds.</td>
<td>Restart</td>
</tr>
<tr>
<td>/transaction/notificationAddress</td>
<td>239.0.0.1</td>
<td>Multi-cast address that a client connects to initially. Master node is notified in the client.</td>
<td>Restart</td>
</tr>
<tr>
<td>/transaction/notificationPort</td>
<td>31999</td>
<td>Multi-cast port that a client connects to initially. Specify a value within a specifiable range as a multi-cast port no.</td>
<td>Restart</td>
</tr>
<tr>
<td>/transaction/notificationInterval</td>
<td>5s</td>
<td>Multi-cast period for a master to notify its clients. Specify the value more than 1 second and less than 2<sup>31</sup> seconds.</td>
<td>Restart</td>
</tr>
<tr>
<td>/transaction/replicationMode</td>
<td>0</td>
<td>Specify the data synchronization (replication) method when updating the data in a transaction. Specify a string or integer, &ldquo;ASYNC&quot;or 0 (non-synchronous), &ldquo;SEMISYNC&quot;or 1 (quasi-synchronous).</td>
<td>Restart</td>
</tr>
<tr>
<td>/transaction/replicationTimeoutInterval</td>
<td>10s</td>
<td>Specify the timeout time for communications among nodes when synchronizing data in a quasi-synchronous replication transaction. Specify the value more than 1 second and less than 2<sup>31</sup> seconds.</td>
<td>Restart</td>
</tr>
<tr>
<td>/transaction/authenticationTimeoutInterval</td>
<td>5s</td>
<td>Specify the authentication timeout time.</td>
<td>Restart</td>
</tr>
<tr>
<td>/sql/notificationAddress</td>
<td>239.0.0.1</td>
<td>Multi-cast address when the JDBC/ODBC client is connected initially. Master node is notified in the client.</td>
<td>Restart</td>
</tr>
<tr>
<td>/sql/notificationPort</td>
<td>41999</td>
<td>Multi-cast port when the JDBC/ODBC client is connected initially. Specify a value within a specifiable range as a multi-cast port no.</td>
<td>Restart</td>
</tr>
<tr>
<td>/sql/notificationInterval</td>
<td>5s</td>
<td>Multi-cast period for a master to notify its JDBC/ODBC clients. Specify the value more than 1 second and less than 2<sup>31</sup> seconds.</td>
<td>Restart</td>
</tr>
<tr>
<td>/security/authentication</td>
<td>INTERNAL</td>
<td>Specify either INTERNAL (internal authentication) or LDAP (LDAP authentication) as an authentication method to be used.</td>
<td>Restart</td>
</tr>
<tr>
<td>/security/ldapRoleManagement</td>
<td>USER</td>
<td>Specify either USER (mapping using the LDAP user name) or GROUP (mapping using the LDAP group name) as to which one the GridDB role is mapped to.</td>
<td>Restart</td>
</tr>
<tr>
<td>/security/ldapUrl</td>
<td></td>
<td>Specify the LDAP server with the format: ldaps://host[:port]</td>
<td>Restart</td>
</tr>
<tr>
<td>/security/ldapUserDNPrefix</td>
<td></td>
<td>To generate the user&rsquo;s DN (identifier), specify the string to be concatenated in front of the user name.</td>
<td>Restart</td>
</tr>
<tr>
<td>/security/ldapUserDNSuffix</td>
<td></td>
<td>To generate the user&rsquo;s DN (identifier), specify the string to be concatenated after the user name.</td>
<td>Restart</td>
</tr>
<tr>
<td>/security/ldapBindDn</td>
<td></td>
<td>Specify the LDAP administrative user&rsquo;s DN.</td>
<td>Restart</td>
</tr>
<tr>
<td>/security/ldapBindPassword</td>
<td></td>
<td>Specify the password for the LDAP administrative user.</td>
<td>Restart</td>
</tr>
<tr>
<td>/security/ldapBaseDn</td>
<td></td>
<td>Specify the root DN from which to start searching.</td>
<td>Restart</td>
</tr>
<tr>
<td>/security/ldapSearchAttribute</td>
<td>uid</td>
<td>Specify the attributes to search for.</td>
<td>Restart</td>
</tr>
<tr>
<td>/security/ldapMemberOfAttribute</td>
<td>memberof</td>
<td>Specify the attributes where the group DN to which the user belongs is set (valid if ldapRoleManagement=GROUP).</td>
<td></td>
</tr>
<tr>
<td>/system/serverSslMode</td>
<td>DISABLED</td>
<td>For SSL connection settings, specify DISABLED (SSL invalid), PREFERRED (SSL valid, but non-SSL connection is allowed as well), or REQUIRED (SSL valid; non-SSL connection is not allowed ).</td>
<td>Restart</td>
</tr>
<tr>
<td>/system/sslProtocolMaxVersion</td>
<td>TLSv1.2</td>
<td>As a TLS protocol version, specify either TLSv1.2 or TLSv1.3.</td>
<td>Restart</td>
</tr>
</tbody>
</table>
<h2 id="node-definition-file-gs_nodejson">Node definition file (gs_node.json)</h2>
<p>A node definition file defines the default settings of the resources in nodes constituting a cluster. In an online operation, there are also parameters whose values can be changed online from the resource, access frequency, etc., that have been laid out.</p>
<p>The meanings of the various settings in the node definition file are explained below.</p>
<p>The system can be caused to recognize an item not included in the initial state by adding its name as a property. In the change field, indicate whether the value of that parameter can be changed and the change timing.</p>
<ul>
<li>Disallowed: Node cannot be changed once it has been started. The database needs to be initialized if you want to change the setting.</li>
<li>Restart: The value of the parameter can be changed by restarting the target nodes.</li>
<li>Online: Parameters that are currently in operation online can be changed. However, the contents in the definition file need to be manual amended as the change details will not be perpetuated.</li>
</ul>
<p>Specify the directory by specifying the full path or a relative path from the GS_HOME environmental variable. For relative path, the initial directory of GS_HOME serves as a reference point. Initial configuration directory of GS_HOME is /var/lib/gridstore.</p>
<table>
<thead>
<tr>
<th>Configuration of GridDB</th>
<th>Default</th>
<th>Meaning of parameters and limitation values</th>
<th>Change</th>
</tr>
</thead>
<tbody>
<tr>
<td>/serviceAddress</td>
<td>-</td>
<td>Set the initial value of each cluster, transaction, sync service address. The initial value of each service address can be set by setting this address only without having to set the addresses of the 3 items.</td>
<td>Restart</td>
</tr>
<tr>
<td>/dataStore/dbPath</td>
<td>data</td>
<td>The placement directory of data files and checkpoint log files is specified with the full or relative path.</td>
<td>Restart</td>
</tr>
<tr>
<td>/dataStore/transactionLogPath</td>
<td>txnlog</td>
<td>The placement directory of transaction files is specified with the full or relative path.</td>
<td>Restart</td>
</tr>
<tr>
<td>/dataStore/dbFileSplitCount</td>
<td>0 (no split)</td>
<td>Number of data file splits</td>
<td>Disallowed</td>
</tr>
<tr>
<td>/dataStore/backupPath</td>
<td>backup</td>
<td>Specify the backup file deployment directory path.</td>
<td>Restart</td>
</tr>
<tr>
<td>/dataStore/syncTempPath</td>
<td>sync</td>
<td>Specify the path of the Data sync temporary file directory.</td>
<td>Restart</td>
</tr>
<tr>
<td>/dataStore/storeMemoryLimit</td>
<td>1024MB</td>
<td>Upper memory limit for data management</td>
<td>Online</td>
</tr>
<tr>
<td>/dataStore/concurrency</td>
<td>4</td>
<td>Specify the concurrency of processing.</td>
<td>Restart</td>
</tr>
<tr>
<td>/dataStore/logWriteMode</td>
<td>1</td>
<td>Specify the log writing mode and cycle.  If the log writing mode period is -1 or 0, log writing is performed at the end of the transaction. If it is 1 or more and less than 2<sup>31</sup>, log writing is performed at a period specified in seconds</td>
<td>Restart</td>
</tr>
<tr>
<td>/dataStore/persistencyMode</td>
<td>1(NORMAL)</td>
<td>In the persistence mode, specify the retention period of an update log file during a data update. Specify either 1 (NORMAL) or 2 (RETAINING_ALL_LOG). In &ldquo;NORMAL&rdquo;, a transaction log file which is no longer required is deleted by a checkpoint. In&quot;RETAINING_ALL_LOG&rdquo;, all transaction log files are retained.</td>
<td>Restart</td>
</tr>
<tr>
<td>/dataStore/affinityGroupSize</td>
<td>4</td>
<td>Number of affinity groups</td>
<td>Restart</td>
</tr>
<tr>
<td>/dataStore/storeCompressionMode</td>
<td>NO_COMPRESSION</td>
<td>Data block compression mode</td>
<td>Restart</td>
</tr>
<tr>
<td>/checkpoint/checkpointInterval</td>
<td>60s</td>
<td>Checkpoint process execution period to perpetuate a data update block in the memory</td>
<td>Restart</td>
</tr>
<tr>
<td>/checkpoint/partialCheckpointInterval</td>
<td>10</td>
<td>The number of split processes that write block management information to checkpoint log files during a checkpoint.</td>
<td>Restart</td>
</tr>
<tr>
<td>/cluster/serviceAddress</td>
<td>Comforms to the upper serviceAddress</td>
<td>Standby address for cluster configuration</td>
<td>Restart</td>
</tr>
<tr>
<td>/cluster/servicePort</td>
<td>10010</td>
<td>Standby port for cluster configuration</td>
<td>Restart</td>
</tr>
<tr>
<td>/cluster/notificationInterfaceAddress</td>
<td>&quot;&rdquo;</td>
<td>Specify the address of the interface which sends multicasting packets.</td>
<td>Restart</td>
</tr>
<tr>
<td>/sync/serviceAddress</td>
<td>Comforms to the upper serviceAddress</td>
<td>Reception address for data synchronization among the clusters</td>
<td>Restart</td>
</tr>
<tr>
<td>/sync/servicePort</td>
<td>10020</td>
<td>Standby port for data synchronization</td>
<td>Restart</td>
</tr>
<tr>
<td>/system/serviceAddress</td>
<td>Comforms to the upper serviceAddress</td>
<td>Standby address for operation commands</td>
<td>Restart</td>
</tr>
<tr>
<td>/system/servicePort</td>
<td>10040</td>
<td>Standby port for operation commands</td>
<td>Restart</td>
</tr>
<tr>
<td>/system/eventLogPath</td>
<td>log</td>
<td>Event log file deployment directory path</td>
<td>Restart</td>
</tr>
<tr>
<td>/system/securityPath</td>
<td>security</td>
<td>Specify the full path or relative path to the directory where the server certificate and the private key are placed.</td>
<td>Restart</td>
</tr>
<tr>
<td>/system/serviceSslPort</td>
<td>10045</td>
<td>SSL listen port for operation commands</td>
<td>Restart</td>
</tr>
<tr>
<td>/transaction/serviceAddress</td>
<td>Comforms to the upper serviceAddress</td>
<td>Standby address for transaction processing for client communication, used also for cluster internal communication when /transaction/localserviceAddress is not specified.</td>
<td>Restart</td>
</tr>
<tr>
<td>/transaction/localServiceAddress</td>
<td>Comforms to the upper serviceAddress</td>
<td>Standby address for transaction processing for cluster internal communication</td>
<td>Restart</td>
</tr>
<tr>
<td>/transaction/servicePort</td>
<td>10001</td>
<td>Standby port for transaction process</td>
<td>Restart</td>
</tr>
<tr>
<td>/transaction/connectionLimit</td>
<td>5000</td>
<td>Upper limit of the no. of transaction process connections</td>
<td>Restart</td>
</tr>
<tr>
<td>/transaction/totalMemoryLimit</td>
<td>1024 MB</td>
<td>The maximum size of the memory area for transaction processing.</td>
<td>Restart</td>
</tr>
<tr>
<td>/transaction/transactionTimeoutLimit</td>
<td>300s</td>
<td>Transaction timeout upper limit</td>
<td>Restart</td>
</tr>
<tr>
<td>/transaction/reauthenticationInterval</td>
<td>0s (disabled)</td>
<td>Re-authentication interval. (After the specified time has passed, authentication process runs again and updates permissions of the general users who have already been connected.)  The default value, 0 sec, indicates that re-authentication is disabled.</td>
<td>Online</td>
</tr>
<tr>
<td>/transaction/workMemoryLimit</td>
<td>128MB</td>
<td>Maximum memory size for data reference (get, TQL) in transaction processing (for each concurrent processing)</td>
<td>Online</td>
</tr>
<tr>
<td>/transaction/notificationInterfaceAddress</td>
<td>&quot;&quot;</td>
<td>Specify the address of the interface which sends multicasting packets.</td>
<td>Restart</td>
</tr>
<tr>
<td>/sql/serviceAddress</td>
<td>Comforms to the upper serviceAddress</td>
<td>Standby address for NewSQL I/F access processing for client communication, used also for cluster internal communication when / /sql/localServiceAddress is not specified.</td>
<td>Restart</td>
</tr>
<tr>
<td>/sql/localServiceAddress</td>
<td>Comforms to the upper serviceAddress</td>
<td>Standby address for NewSQL I/F access processing for cluster internal communication</td>
<td>Restart</td>
</tr>
<tr>
<td>/sql/servicePort</td>
<td>20001</td>
<td>Standby port for New SQL access process</td>
<td>Restart</td>
</tr>
<tr>
<td>/sql/storeSwapFilePath</td>
<td>swap</td>
<td>SQL intermediate store swap file directory</td>
<td>Restart</td>
</tr>
<tr>
<td>/sql/storeSwapSyncSize</td>
<td>1024MB</td>
<td>SQL intermediate store swap file and cache size</td>
<td>Restart</td>
</tr>
<tr>
<td>/sql/storeMemoryLimit</td>
<td>1024MB</td>
<td>Upper memory limit for intermediate data held in memory by SQL processing.</td>
<td>Restart</td>
</tr>
<tr>
<td>/sql/workMemoryLimit</td>
<td>32MB</td>
<td>Upper memory limit for operators in SQL processing</td>
<td>Restart</td>
</tr>
<tr>
<td>/sql/workCacheMemory</td>
<td>128MB</td>
<td>Upper size limit for cache without being released after use of work memory.</td>
<td>Restart</td>
</tr>
<tr>
<td>/sql/connectionLimit</td>
<td>5000</td>
<td>Upper limit of the no. of connections processed for New SQL access</td>
<td>Restart</td>
</tr>
<tr>
<td>/sql/concurrency</td>
<td>4</td>
<td>No. of simultaneous execution threads</td>
<td>Restart</td>
</tr>
<tr>
<td>/sql/traceLimitExecutionTime</td>
<td>300s</td>
<td>The lower limit of execution time of a query to write in an event log</td>
<td>Online</td>
</tr>
<tr>
<td>/sql/traceLimitQuerySize</td>
<td>1000</td>
<td>The upper size limit of character strings in a slow query (byte)</td>
<td>Online</td>
</tr>
<tr>
<td>/sql/notificationInterfaceAddress</td>
<td>&quot;&quot;</td>
<td>Specify the address of the interface which sends multicasting packets.</td>
<td>Restart</td>
</tr>
<tr>
<td>/trace/fileCount</td>
<td>30</td>
<td>Upper file count limit for event log files.</td>
<td>Restart</td>
</tr>
<tr>
<td>/security/userCacheSize</td>
<td>1000</td>
<td>Specify the number of entries for general and LDAP users to be cached.</td>
<td>Restart</td>
</tr>
<tr>
<td>/security/userCacheUpdateInterval</td>
<td>60</td>
<td>Specify the refresh interval for cache in seconds.</td>
<td>Restart</td>
</tr>
</tbody>
</table>
<h2 id="----system-limiting-values----">&mdash; System limiting values &mdash;</h2>
<h2 id="limitations-on-numerical-value">Limitations on numerical value</h2>
<table>
<thead>
<tr>
<th>Block size</th>
<th>64KB</th>
<th>1MB - 32MB</th>
</tr>
</thead>
<tbody>
<tr>
<td>STRING/GEOMETRY data size</td>
<td>31KB</td>
<td>128KB</td>
</tr>
<tr>
<td>BLOB data size</td>
<td>1GB - 1Byte</td>
<td>1GB - 1Byte</td>
</tr>
<tr>
<td>Array length</td>
<td>4000</td>
<td>65000</td>
</tr>
<tr>
<td>No. of columns</td>
<td>1024</td>
<td>Approx. 7K - 32000 (*1)</td>
</tr>
<tr>
<td>No. of indexes (Per container)</td>
<td>1024</td>
<td>16000</td>
</tr>
<tr>
<td>No. of users</td>
<td>128</td>
<td>128</td>
</tr>
<tr>
<td>No. of databases</td>
<td>128</td>
<td>128</td>
</tr>
<tr>
<td>Number of affinity groups</td>
<td>10000</td>
<td>10000</td>
</tr>
<tr>
<td>No. of divisions in a timeseries container with a cancellation deadline</td>
<td>160</td>
<td>160</td>
</tr>
<tr>
<td>Size of communication buffer managed by a GridDB node</td>
<td>Approx. 2GB</td>
<td>Approx. 2GB</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Block size</th>
<th>64KB</th>
<th>1MB</th>
<th>4MB</th>
<th>8MB</th>
<th>16MB</th>
<th>32MB</th>
</tr>
</thead>
<tbody>
<tr>
<td>Partition size</td>
<td>Approx. 4TB</td>
<td>Approx. 64TB</td>
<td>Approx. 256TB</td>
<td>Approx. 512TB</td>
<td>Approx. 1PB</td>
<td>Approx. 2PB</td>
</tr>
</tbody>
</table>
<ul>
<li>STRING
<ul>
<li>Limiting value is equivalent to UTF-8 encode</li>
</ul>
</li>
<li>Spatial-type
<ul>
<li>Limiting value is equivalent to the internal storage format</li>
</ul>
</li>
<li>(*1) The number of columns
<ul>
<li>There is a restriction on the upper limit of the number of columns. The total size of a fixed length column (BOOL, INTEGER, FLOAT, DOUBLE, TIMESTAMP type) must be less than or equal to 59 KB. The upper limit of the number of columns is 32000 if the type is not a fixed length column.
<ul>
<li>Example) If a container consists of LONG type columns: the upper limit of the number of columns is 7552 ( The total size of a fixed length column 8B * 7552 = 59KB )</li>
<li>Example) If a container consists of BYTE type columns: the upper limit of the number of columns is 32000 ( The total size of a fixed length column 1B * 32000 = Approx. 30KB -&gt; Up to 32000 columns can be created because the size restriction on a fixed length column does not apply to it )</li>
<li>Example) If a container consists of STRING type columns: the upper limit of the number of columns is 32000 ( Up to 32000 columns can be created because the size restriction on a fixed length column does not apply to it )</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="limitations-on-naming">Limitations on naming</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Allowed characters</th>
<th>Maximum length</th>
</tr>
</thead>
<tbody>
<tr>
<td>Administrator user</td>
<td>The head of name is &ldquo;gs#&rdquo; and the following characters are either alphanumeric or &lsquo;_&rsquo;</td>
<td>64 characters</td>
</tr>
<tr>
<td>General user</td>
<td>Alphanumeric, &lsquo;_&rsquo;, &lsquo;-&rsquo;, &lsquo;.&rsquo;, &lsquo;/&rsquo;, and &lsquo;=&rsquo;</td>
<td>64 characters</td>
</tr>
<tr>
<td>role</td>
<td>alphanumeric characters, &lsquo;_&rsquo;, &lsquo;-&rsquo;, &lsquo;, &lsquo;/&rsquo;, &lsquo;=&rsquo;</td>
<td>64 characters</td>
</tr>
<tr>
<td>&lt;Password&gt;</td>
<td>Composed of an arbitrary number of characters<br />using the unicode code point</td>
<td>64 bytes (by UTF-8 encoding)</td>
</tr>
<tr>
<td>cluster name</td>
<td>Alphanumeric, &lsquo;_&rsquo;, &lsquo;-&rsquo;, &lsquo;.&rsquo;, &lsquo;/&rsquo;, and &lsquo;=&rsquo;</td>
<td>64 characters</td>
</tr>
<tr>
<td>&lt;Database name&gt;</td>
<td>Alphanumeric, &lsquo;_&rsquo;, &lsquo;-&rsquo;, &lsquo;.&rsquo;, &lsquo;/&rsquo;, and &lsquo;=&rsquo;</td>
<td>64 characters</td>
</tr>
<tr>
<td>Container name<br />Table name<br />View name</td>
<td>Alphanumeric, &lsquo;_&rsquo;, &lsquo;-&rsquo;, &lsquo;.&rsquo;, &lsquo;/&rsquo;, and &lsquo;=&rsquo;<br />(and &lsquo;@&rsquo; only for specifying a node affinity)</td>
<td>16384 characters (for 64KB block)<br /></td>
</tr>
<tr>
<td>Column name</td>
<td>Alphanumeric, &lsquo;_&rsquo;, &lsquo;-&rsquo;, &lsquo;.&rsquo;, &lsquo;/&rsquo;, and &lsquo;=&rsquo;</td>
<td>256 characters</td>
</tr>
<tr>
<td>Index name</td>
<td>Alphanumeric, &lsquo;_&rsquo;, &lsquo;-&rsquo;, &lsquo;.&rsquo;, &lsquo;/&rsquo;, and &lsquo;=&rsquo;</td>
<td>16384 characters (for 64KB block)<br />131072 characters (for 1MB - 32MB block)</td>
</tr>
<tr>
<td>&lt;Backup name&gt;</td>
<td>Alphanumeric and &lsquo;_&rsquo;</td>
<td>12 characters</td>
</tr>
<tr>
<td>Data Affinity</td>
<td>Alphanumeric, &lsquo;_&rsquo;, &lsquo;-&rsquo;, &lsquo;.&rsquo;, &lsquo;/&rsquo;, and &lsquo;=&rsquo;</td>
<td>8 characters</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Case sensitivity</p>
<ul>
<li>
<p>Cluster names, backup names and passwords are case-sensitive. So the names of the following example are handled as different names.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">Example) mycluster, MYCLUSTER
</code></pre></li>
</ul>
</li>
<li>
<p>Other names are not case-sensitive. Uppercase and lowercase characters are identified as the same.</p>
</li>
<li>
<p>Uppercase and lowercase characters in names at the creation are hold as data.</p>
</li>
<li>
<p>The names enclosed with &lsquo;&quot;&rsquo; in TQL or SQL are case-sensitive. In that case, uppercase and lowercase characters are not identified as the same.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">Example) Search on the container &#34;SensorData&#34; and the column &#34;Column1&#34;
  select &#34;Column1&#34; from &#34;SensorData&#34;   Success
  select &#34;COLUMN1&#34; from &#34;SENSORDATA&#34; Fail (Because &#34;SENSORDATA&#34; container does not exist)
</code></pre></li>
<li>
<p>Specifying names by TQL and SQL</p>
<ul>
<li>In the case that the name is not enclosed with &lsquo;&quot;&rsquo;, it can contain only alphanumeric and &lsquo;_&rsquo;. To use other characters, the name is required to be enclosed with &lsquo;&quot;&rsquo;.
<pre tabindex="0"><code class="language-example" data-lang="example">Example) select &#34;012column&#34;, data_15 from &#34;container.2017-09&#34;
</code></pre></li>
</ul>
</li>
</ul>
<h2 id="----appendix----">&mdash; Appendix &mdash;</h2>
<h2 id="directory-structure">Directory structure</h2>
<p>The directory configuration after the GridDB server and client are installed is shown below. X.X.X indicates the GridDB version.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">(Machine installed with a server/client)
/usr/griddb-ee-X.X.X/                                    GridDB installation directory
                     Readme.txt
                     bin/
                         gs_xxx                          various commands
                         gsserver                        server module
                         gssvc                           server module
                     conf/
                     etc/
                     lib/
                         gridstore-tools-X.X.X.jar
                         XXX.jar                         Freeware
                     license/
                     misc/
                     prop/
                     sample/

/usr/share/java/gridstore-tools.jar -&gt; /usr/griddb-ee-X.X.X/lib/gridstore-tools-X.X.X.jar

/usr/griddb-ee-webui-X.X.X/                              integrated operation control GUI directory
                           conf/
                           etc/
                           griddb-webui-ee-X.X.X.jar

/usr/griddb-ee-webui/griddb-webui.jar -&gt; /usr/griddb-ee-webui-X.X.X/griddb-webui-ee-X.X.X.jar

/var/lib/gridstore/                                      GridDB home directory (working directory)
                   admin/                                integrated operation control GUI home directory (adminHome)
                   backup/                               backup file directory
                   conf/                                 definition file directory
                        gs_cluster.json                  Cluster definition file
                        gs_node.json                     Node definition file
                        password                         User definition file
                   data/                                 database file directory
                   txnlog/                               transaction log storage directory
                   expimp/                               Export/Import tool directory
                   log/                                  event log directory
                   webapi/                               Web API directory

/usr/bin/
         gs_xxx -&gt; /usr/griddb-ee-X.X.X/bin/gs_xxx                       link to various commands
         gsserver -&gt; /usr/griddb-ee-X.X.X/bin/gsserver                   link to server module
         gssvc -&gt; /usr/griddb-ee-X.X.X/bin/gssvc                         link to server module

/usr/lib/systemd/system
       gridstore.service                            systemd unit file

/usr/griddb-ee-X.X.X/bin
       gridstore                                    rc script

(Machine installed with the library)
/usr/griddb-ee-X.X.X/                                    installation directory
                     lib/
                         gridstore-X.X.X.jar
                         gridstore-advanced-X.X.X.jar
                         gridstore-call-logging-X.X.X.jar
                         gridstore-conf-X.X.X.jar
                         gridstore-jdbc-X.X.X.jar
                         gridstore-jdbc-call-logging-X.X.X.jar
                         gridstore.h
                         libgridstore.so.0.0.0
                         libgridstore_advanced.so.0.0.0
                         python/                         Python library directory
                         nodejs/                         Node.js library directory
                             sample/
                             griddb_client.node
                             griddb_node.js
                         go/                             Go library directory
                             sample/
                             pkg/linux_amd64/griddb/go_client.a
                             src/griddb/go_client/       The source directory of Go library
                         conf/                           
                         javadoc/                           

/usr/griddb-ee-webapi-X.X.X/                             Web API directory
                     conf/
                     etc/
                     griddb-webapi-ee-X.X.X.jar

/usr/girddb-webapi/griddb-webapi.jar -&gt; /usr/griddb-ee-webapi-X.X.X/griddb-webapi-ee-X.X.X.jar

/usr/share/java/gridstore.jar -&gt; /usr/griddb-ee-X.X.X/lib/gridstore-X.X.X.jar
/usr/share/java/gridstore-advanced.jar -&gt; /usr/griddb-ee-X.X.X/lib/gridstore-advanced-X.X.X.jar
/usr/share/java/gridstore-call-logging.jar -&gt; /usr/griddb-ee-X.X.X/lib/gridstore-call-logging-X.X.X.jar
/usr/share/java/gridstore-conf.jar -&gt; /usr/griddb-ee-X.X.X/lib/gridstore-conf-X.X.X.jar
/usr/share/java/gridstore-jdbc.jar -&gt; /usr/griddb-ee-X.X.X/lib/gridstore-jdbc-X.X.X.jar
/usr/share/java/gridstore-jdbc-call-logging.jar -&gt; /usr/griddb-ee-X.X.X/lib/gridstore-jdbc-call-logging-X.X.X.jar


/usr/include/gridstore.h -&gt; /usr/griddb-ee-X.X.X/lib/gridstore.h

/usr/lib64/                                            \* For CentOS, /usr/lib64; for Ubuntu Server, /usr/lib/x86_64-linux-gnu.
           libgridstore.so -&gt; libgridstore.so.0
           libgridstore.so.0 -&gt; libgridstore.so.0.0.0
           libgridstore.so.0.0.0 -&gt; /usr/griddb-ee-X.X.X/lib/libgridstore.so.0.0.0
           libgridstore_advanced.so -&gt; libgridstore_advanced.so.0
           libgridstore_advanced.so.0 -&gt; libgridstore_advanced.so.0.0.0
           libgridstore_advanced.so.0.0.0 -&gt; /usr/griddb-ee-X.X.X/lib/libgridstore_advanced.so.0.0.0
</code></pre>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4cc6b3251beb038a2b89fcbbc6a5ceff">3 - Programming Guide</h1>
    <div class="lead">Explanation of programming using Java and C language APIs of the NoSQL interface and SQL of the NewSQL interface for user application program designers and developers</div>
	<h2 id="----introduction----">&mdash; Introduction &mdash;</h2>
<p><strong>This documentation describes application programming for GridDB, primarily targeting those designers and developers engaged in system design and development with GridDB.</strong></p>
<p>This documentation is organized as follows:</p>
<ul>
<li>
<p>Overview</p>
<ul>
<li>Describes development language, NoSQL/New SQL interfaces, and support coverage.</li>
</ul>
</li>
<li>
<p>Java API (NoSQL interface)</p>
<ul>
<li>Describes Java programming with NoSQL interface.</li>
</ul>
</li>
<li>
<p>C API (NoSQL interface)</p>
<ul>
<li>Describes C programming with NoSQL interface.</li>
</ul>
</li>
<li>
<p>JDBC (NewSQL interface)</p>
<ul>
<li>Describes Java programming with NewSQL interface.</li>
</ul>
</li>
</ul>
<h2 id="----overview----">&mdash; Overview &mdash;</h2>
<h2 id="development-language">Development Language</h2>
<p>GridDB application programming interfaces are of two types: NoSQL interface enabling basic data access and TQL execution, and New SQL interface enabling execution of SQL-92 compliant SQL.</p>
<p>NoSQL interface enables faster data registration and search than NewSQL interface because it bypasses SQL processing.
By comparison, New SQL interface allows data analysis using SQL and access from BI (Business Intelligence) and ETL (Extract Transfer Load) tools, among others.</p>
<figure>
  <img src="img/API.png" width="500" alt="NoSQL interface and NewSQL interface"/>
  <figcaption>NoSQL interface and NewSQL interface</figcaption>
</figure>
<table>
<thead>
<tr>
<th>I/F</th>
<th>Features</th>
<th>Development Language</th>
<th>API</th>
</tr>
</thead>
<tbody>
<tr>
<td>NoSQL interface</td>
<td>- basic data access and TQL execution<br>- GridDB-specific API<br>- fast processing including data registration and search</td>
<td>Java<br>C<br>Python<br>Node.js<br>Go</td>
<td>Java API<br>C API<br>Python API<br>Node.js API<br>Go API</td>
</tr>
<tr>
<td>NewSQL interface</td>
<td>- execution of SQL-92 compliant SQL<br>- API complying with standard specification<br>- parallel distributed processing in SQL</td>
<td>Java<br>C</td>
<td>JDBC<br>ODBC(*1)</td>
</tr>
</tbody>
</table>
<p>(*1) ODBC is used in linking with other systems including BI tools.</p>
<p>[Notes]</p>
<ul>
<li>No difference exists between containers created with NoSQL interface and containers created with NewSQL interface.
Regardless of which interface is used in creating a container, all containers can be accessed from both types of interface.</li>
<li>Containers created with New NewSQL interface may be referred to as &ldquo;tables,&rdquo; but containers and tables mean the same.</li>
</ul>
<h2 id="support-coverage">Support coverage</h2>
<p>NoSQL interface and NewSQL interface differ in their support features and coverage of data types.
This section explains support coverage of each interface.
For the details on support coverage, see the Appendix.</p>
<h3 id="data-types">Data types</h3>
<p>GridDB data types are of two kinds: basic types and complex types. The two tables below shows which data types each interface supports.</p>
<p><strong>Basic types</strong></p>
<table>
<thead>
<tr>
<th>GridDB data types</th>
<th>NoSQL interface</th>
<th>NewSQL interface</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>STRING types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>BYTE types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>SHORT types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>INTEGER types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>LONG types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>FLOAT types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>DOUBLE types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>TIMESTAMP types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>GEOMETRY types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>BLOB types</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>(Note: :fully supported;  partially supported; : not supported)</p>
<p><strong>Complex types</strong></p>
<table>
<thead>
<tr>
<th>GridDB data types</th>
<th>NoSQL interface</th>
<th>NewSQL interface</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL array types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>STRING array types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>BYTE array types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>SHORT array types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>INTEGER array types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>LONG array types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>FLOAT array types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>DOUBLE array types</td>
<td></td>
<td></td>
</tr>
<tr>
<td>TIMESTAMP array types</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>(Note: :fully supported; : not supported)</p>
<h3 id="features">Features</h3>
<p>The two tables below shows which GridDB features each interface supports.</p>
<p><strong>Basic features</strong></p>
<table>
<thead>
<tr>
<th>GridDB features</th>
<th>NoSQL interface</th>
<th>NewSQL interface</th>
</tr>
</thead>
<tbody>
<tr>
<td>connection to clusters</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>container creation/deletion</td>
<td></td>
<td>(SQL)</td>
</tr>
<tr>
<td>row registration/deletion</td>
<td></td>
<td>(SQL)</td>
</tr>
<tr>
<td>TQL execution</td>
<td></td>
<td></td>
</tr>
<tr>
<td>SQL execution</td>
<td></td>
<td></td>
</tr>
<tr>
<td>commit/rollback</td>
<td></td>
<td> only allows auto-commit</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>index creation/deletion</td>
<td></td>
<td>(SQL)</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>retrieval of a list of container names</td>
<td></td>
<td></td>
</tr>
<tr>
<td>retrieval of column information</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Note: : supported; (SQL): supported by SQL; : not supported</p>
<p><strong>Extended features</strong></p>
<table>
<thead>
<tr>
<th>GridDB features</th>
<th>NoSQL interface</th>
<th>NewSQL interface</th>
</tr>
</thead>
<tbody>
<tr>
<td>affinity settings</td>
<td></td>
<td>(SQL)</td>
</tr>
<tr>
<td>partition container creation</td>
<td></td>
<td>(SQL)</td>
</tr>
</tbody>
</table>
<p>(Note: :fully supported;  partially supported; : not supported)</p>
<h2 id="----java-api-nosql-interface----">&mdash; Java API (NoSQL interface) &mdash;</h2>
<h2 id="developing-applications-using-java-api">Developing applications using Java API</h2>
<h3 id="building-a-developmentexecution-environment">Building a development/execution environment</h3>
<p>To develop Java API applications, install the following packages:</p>
<table>
<thead>
<tr>
<th>package name</th>
<th>file name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>griddb-ee-java-lib</td>
<td>griddb-ee-java-lib-X.X.X-linux.x86_64.rpm<br>griddb-ee-java-lib_X.X.X_amd64.deb</td>
<td>contains Java API libraries (gridstore.jar, gridstore-conf.jar, gridstore-advanced.jar, gridstore-jdbc.jar).</td>
</tr>
</tbody>
</table>
<p>Note: X.X.X. denotes the version of GridDB.</p>
<p>To develop or execute an application, specify the following library in the class path:</p>
<ul>
<li>/usr/share/java/gridstore.jar</li>
</ul>
<p>To secure communication between the GridDB cluster and the client, using the SSL function, additionally specify the following library in the class path.</p>
<ul>
<li>/usr/share/java/gridstore-advanced.jar</li>
</ul>
<h3 id="executing-a-sample-program">Executing a sample program</h3>
<p>This section explains how to compile and run a sample program.</p>
<p>For program compilation/execution, set the gridstore.jar library in the class path. Set other libraries, such as logging, as needed.</p>
<ul>
<li>
<p>ex). compilation/execution of Sample.java</p>
<pre tabindex="0"><code>$ javac -classpath &#34;/usr/share/java/gridstore.jar:.&#34; Sample.java
$ java -classpath &#34;/usr/share/java/gridstore.jar:.&#34; Sample
</code></pre></li>
</ul>
<p>list of sample programs</p>
<table>
<thead>
<tr>
<th>category</th>
<th>program name</th>
<th>description</th>
<th>container name to create</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#java_connect">Connecting to a cluster</a></td>
<td>Connect.java</td>
<td>connects to a cluster using the multicast method and then disconnects the connection.</td>
<td>-</td>
</tr>
<tr>
<td><a href="#java_create_collection_by_method">Creating a collection (method)</a></td>
<td>CreateCollectionByMethod.java</td>
<td>creates a collection using a class definition to specify a schema.</td>
<td>SampleJava_collection1</td>
</tr>
<tr>
<td><a href="#java_create_collection_by_class">Creating a collection (class definition)</a></td>
<td>CreateCollectionByClass.java</td>
<td>creates a collection using a class definition to specify a schema.</td>
<td>SampleJava_collection2</td>
</tr>
<tr>
<td><a href="#java_create_container_by_method">Creating a time-series container (method)</a></td>
<td>CreateTimeSeriesByMethod.java</td>
<td>creates a time-series container by specifying a schema using a method</td>
<td>SampleJava_timeseries1</td>
</tr>
<tr>
<td><a href="#java_put_row">Registering a row</a></td>
<td>PutRow.java</td>
<td>registers one row per container</td>
<td>SampleJava_PutRow</td>
</tr>
<tr>
<td><a href="#java_put_rows">Registering multiple rows</a></td>
<td>PutRows.java</td>
<td>registers multiple rows per container</td>
<td>SampleJava_PutRows</td>
</tr>
<tr>
<td><a href="#java_get_row">Retrieving a row</a></td>
<td>GetRow.java</td>
<td>specifies a row key to retrieve a row from a container</td>
<td>SampleJava_GetRow</td>
</tr>
<tr>
<td><a href="#java_tql_select">Searching for a row using a TQL</a></td>
<td>TQLSelect.java</td>
<td>retrieves a row using a TQL SELECT statement</td>
<td>SampleJava_TQLSelect</td>
</tr>
<tr>
<td><a href="#java_tql_aggregation">Executing the TQL aggregate function</a></td>
<td>TQLAggregation.java</td>
<td>Executes an aggregation operation using a TQL statement.</td>
<td>SampleJava_TQLAggregation</td>
</tr>
<tr>
<td><a href="#java_multiput">Registering a row in multiple containers</a></td>
<td>MultiPut.java</td>
<td>registers a bulk of rows in multiple containers</td>
<td>SampleJava_MultiPut1, SampleJava_MultiPut2</td>
</tr>
<tr>
<td><a href="#java_multiget">Retrieving rows from multiple containers</a></td>
<td>MultiGet.java</td>
<td>retrieves a bulk of rows from multiple containers.</td>
<td>SampleJava_MultiGet1, SampleJava_MultiGet2</td>
</tr>
<tr>
<td><a href="#java_fetchall">Executing TQL on multiple containers</a></td>
<td>FetchAll.java</td>
<td>executes a bulk of TQLs on multiple containers.</td>
<td>SampleJava_FetchAll1, SampleJava_FetchAll2</td>
</tr>
<tr>
<td><a href="#java_binary">Registering/searching binary data</a></td>
<td>BlobData.java</td>
<td>registers binary data in a container and retrieves the data from a container</td>
<td>SampleJava_BlobData</td>
</tr>
<tr>
<td><a href="#java_update">Updating a row</a></td>
<td>UpdateRowByTQL.java</td>
<td>updates a row using the RowSet retrieved by TQL</td>
<td>SampleJava_UpdateRowByTQL</td>
</tr>
<tr>
<td><a href="#java_remove_row">Deleting a row (row key)</a></td>
<td>RemoveRowByRowkey.java</td>
<td>specifies a row key to delete a row</td>
<td>SampleJava_RemoveRowByRowkey</td>
</tr>
<tr>
<td><a href="#java_remove_rowset">Deleting a row (TQL)</a></td>
<td>RemoveRowByTQL.java</td>
<td>deletes the row retrieved using TQL</td>
<td>SampleJava_RemoveRowByTQL</td>
</tr>
<tr>
<td><a href="#java_create_index">Creating an index</a></td>
<td>CreateIndex.java</td>
<td>creates an index</td>
<td>SampleJava_Index</td>
</tr>
<tr>
<td><a href="#java_timeseries_function">Performing time-series operations</a></td>
<td>TQLTimeseries.java</td>
<td>performs various operations for time-series data</td>
<td>SampleJava_TQLTimeseries</td>
</tr>
<tr>
<td><a href="#java_arraydata">Handling array type data</a></td>
<td>ArrayData.java</td>
<td>registers/searches array type data</td>
<td>SampleJava_ArrayData</td>
</tr>
<tr>
<td><a href="#java_geometry_data">Handling spatial type data</a></td>
<td>GeometryData.java</td>
<td>registers/searches spatial type data</td>
<td>SampleJava_GeometryData</td>
</tr>
<tr>
<td><a href="#java_containernames">Retrieving a list of container names</a></td>
<td>ContainerNames.java</td>
<td>retrieves a list of container names</td>
<td></td>
</tr>
<tr>
<td><a href="#java_containerinfo">Retrieving schema information of a container</a></td>
<td>ContainerInformation.java</td>
<td>Retrieves schema information of a container</td>
<td>SampleJava_Info</td>
</tr>
<tr>
<td><a href="#java_compositekey">Using composite row keys to retrieve rows from multiple containers</a></td>
<td>CompositeKeyMultiGet.java</td>
<td>Uses composite row keys to retrieve a bulk of rows from multiple containers.</td>
<td>SampleJava_CompositeKeyMultiGet1, SampleJava_CompositeKeyMultiGet2</td>
</tr>
</tbody>
</table>
<h2 id="basic-programming">Basic programming</h2>
<p>This section explains basic programming using Java API.</p>
<p><a id="java_connect"></a></p>
<h3 id="connecting-to-a-cluster">Connecting to a cluster</h3>
<p>Connect to a cluster for data registration/search and other operations In connection operation, use the following methods:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>GridStoreFactory instance retrieval</td>
<td>GridStoreFactory GridStoreFactory.getInstance()</td>
</tr>
<tr>
<td>GridStore instance retrieval</td>
<td>GridStore GridStoreFactory.getGridStore(java.util.Properties properties)</td>
</tr>
</tbody>
</table>
<p>Below is a sample program for connecting to a cluster:</p>
<!-- Connect.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Properties</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStore</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">Connect</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">try</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJava&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">GridStore</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getGridStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;dummyContainer&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Connect to cluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">catch</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">Exception</span> <span style="color:#000">e</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">e</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStackTrace</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>The following explains the connection operation in the program above.</p>
<p>(1) Specifies the connection information, including the cluster address, user, and password in the Java properties class.</p>
<p>(2) Creates a GridStore object based on the properties of the connection information.</p>
<p>(3) Once a container is created/retrieved using the GridStore object, a connection to the GridDB cluster will be enabled.</p>
<p>(4) A close disconnects the connection.</p>
<h4 id="connection-methods">Connection methods</h4>
<p>Three methods are available to connect to a cluster: multicast method, fixed list method, and provider method.</p>
<table>
<thead>
<tr>
<th>Connection methods</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>multicast method</td>
<td>method using multicast communication</td>
</tr>
<tr>
<td>fixed list method</td>
<td>method where the addresses of all the nodes constituting the cluster are specified directly.</td>
</tr>
<tr>
<td>provider method</td>
<td>method where the addresses of all the nodes constituting the cluster are provided by the provider.</td>
</tr>
</tbody>
</table>
<p>In connecting to a cluster from an application, make sure to set the settings on the application side according to the connection method defined in the cluster definition file gs_cluster.json.</p>
<p>First, check which connection method is being used by referring to the cluster definition file gs_cluster.json. Then, enter the corresponding values in the Properties object according to the connection method.</p>
<table>
<thead>
<tr>
<th>Connection methods</th>
<th>Property keys to specify<br>in the application</th>
<th>description</th>
<th>values to be specified</th>
</tr>
</thead>
<tbody>
<tr>
<td>multicast method</td>
<td>notificationAddress<br><br>notificationPort</td>
<td>multicast address<br><br>multicast port number</td>
<td>/values of /transaction/notificationAddress<br><br>values of /transaction/notificationPort</td>
</tr>
<tr>
<td>fixed list method</td>
<td>notificationMember</td>
<td>a list of addresses and port numbers of nodes constituting the cluster</td>
<td>list format values of /transaction/address and /transaction/port in /cluster/notificationMember</td>
</tr>
<tr>
<td>provider method</td>
<td>notificationProvider</td>
<td>provider&rsquo;s URL</td>
<td>values of /cluster/notificationProvider/url</td>
</tr>
</tbody>
</table>
<p>Below are the descriptions of the cluster definition file gs_cluster.json and examples of the corresponding connection programs for each of the three connection methods.</p>
<p><strong>example for the multicast method</strong></p>
<ul>
<li>
<p>descriptions of gs_cluster.json (excerpt)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;transaction&#34;</span><span style="color:#000;font-weight:bold">:{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;notificationAddress&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;notificationInterval&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;1s&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;notificationPort&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">31999</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
<li>
<p>Specify the multicast address and the port number in the GridStore Property keys for the connection program, &ldquo;notificationAddress&rdquo; and &ldquo;notificationPort,&rdquo; respectively.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJava&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div></li>
</ul>
<p><strong>example for the fixed list method</strong></p>
<ul>
<li>
<p>descriptions of gs_cluster.json (excerpt)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;replicationNum&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;notificationMember&#34;</span><span style="color:#000;font-weight:bold">:[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.10&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10010</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;sync&#34;</span><span style="color:#000;font-weight:bold">:</span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.10&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10020</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;system&#34;</span><span style="color:#000;font-weight:bold">:</span>  <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.10&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10040</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;transaction&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.10&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10001</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.11&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10010</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;sync&#34;</span><span style="color:#000;font-weight:bold">:</span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.11&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10020</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;system&#34;</span><span style="color:#000;font-weight:bold">:</span>  <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.11&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10040</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;transaction&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.11&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10001</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.12&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10010</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;sync&#34;</span><span style="color:#000;font-weight:bold">:</span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.12&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10020</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;system&#34;</span><span style="color:#000;font-weight:bold">:</span>  <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.12&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10040</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;transaction&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.12&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10001</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
<li>
<p>Enter a list of values of colon-separated address/port number pairs separated by a comma in the GridStore Property key for the connection program, &ldquo;notificationMember.&rdquo;</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationMember&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;192.168.1.10:10001,192.168.1.11:10001,192.168.1.12:10001&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJava&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div></li>
</ul>
<p><strong>example for the provider method</strong></p>
<ul>
<li>
<p>descriptions of gs_cluster.json (excerpt)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;replicationNum&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;notificationProvider&#34;</span><span style="color:#000;font-weight:bold">:{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;url&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;http://example.com/notification/provider&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;updateInterval&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;30s&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
<li>
<p>Enter the url in the GridStore Property key for the connection program, &ldquo;notificationProvider.&rdquo;</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationProvider&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;http://example.com/notification/provider&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJava&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div></li>
</ul>
<h4 id="properties">Properties</h4>
<p>Main properties other than connection methods include the following:
For details on the rest of the properties and their descriptions, see the section &ldquo;GridStoreFactory.getGridStore(java.util.Properties properties)&rdquo; in <a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java API Reference</a>.</p>
<table>
<thead>
<tr>
<th>item</th>
<th>property key</th>
<th>required</th>
<th>values to be specified</th>
</tr>
</thead>
<tbody>
<tr>
<td>cluster name</td>
<td>clusterName</td>
<td>required</td>
<td>values specified in /cluster/clusterName in gs_cluster.json</td>
</tr>
<tr>
<td>database name</td>
<td>database</td>
<td>optional if connecting to a public database<br>If not, required.</td>
<td>name of the database to connect to</td>
</tr>
<tr>
<td>user name</td>
<td>user</td>
<td>required</td>
<td>name of a user who is connecting (both administrative and general users are allowed)</td>
</tr>
<tr>
<td>password</td>
<td>password</td>
<td>required</td>
<td>password of a user who is connecting</td>
</tr>
<tr>
<td>application name</td>
<td>applicationName</td>
<td>optional</td>
<td>name to be used to distinguish an application<br>(shown when checking connection information and events being run using the gs_sh operation tool)</td>
</tr>
<tr>
<td>time zone</td>
<td>timeZone</td>
<td>optional</td>
<td>Specify in hours and minutes using the pattern hh:mm or hhmm<br>time zone ID: supports only &ldquo;Z.&quot;<br>carry-over of a higher environment (JavaVM): auto<br>When omitted, equivalent to &ldquo;Z&rdquo;</td>
</tr>
<tr>
<td>authentication method</td>
<td>authentication</td>
<td>optional</td>
<td>Specify either INTERNAL (internal authentication) or LDAP (LDAP authentication) as an authentication method to be used. <br>* If omitted, the authentication method is automatically selected.</td>
</tr>
<tr>
<td>SSL communication</td>
<td>sslMode</td>
<td>optional</td>
<td>For SSL communication, <br>specify PREFERRED (follows the cluster settings), <br>VERIFY (SSL is valid, and server certificate validation is performed), <br>or DISABLED (SSL is invalid) <br>* If omitted, PREFERRED.</td>
</tr>
<tr>
<td>address of the interface to receive the multicast packets from</td>
<td>notificationInterfaceAddress</td>
<td>optional</td>
<td>To configure the cluster network in multicast mode when multiple network interfaces are available, specify the IP address of the interface to receive the multicast packets from.</td>
</tr>
<tr>
<td>failover timeout</td>
<td>failoverTimeout</td>
<td>optional</td>
<td>The number of seconds required for a client failover to start. <br>* When omitted, the value set for GridStoreFactory is used.</td>
</tr>
<tr>
<td>transaction timeout</td>
<td>transactionTimeout</td>
<td>optional</td>
<td>the transaction timeouts (in seconds). <br>* When omitted, the value 300 (seconds) is used.</td>
</tr>
</tbody>
</table>
<p>[Notes]</p>
<ul>
<li>
<p>Apart from the above, the following properties are available to be specified in GridStoreFactory. For details, see the section on &ldquo;GridStoreFactory.setProperties(java.util.Properties properties)&rdquo; in the &ldquo;<a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java API Reference</a>&rdquo; .</p>
<table>
<thead>
<tr>
<th>item</th>
<th>property key</th>
<th>required</th>
<th>values to be specified</th>
</tr>
</thead>
<tbody>
<tr>
<td>failover timeout</td>
<td>failoverTimeout</td>
<td>optional</td>
<td>The number of seconds required for a client failover to start.<br>* When omitted, the value 120 (seconds) is used.</td>
</tr>
<tr>
<td>maximum connection pool size</td>
<td>maxConnectionPoolSize</td>
<td>optional</td>
<td>The maximum number of connections retained in the connection pool. <br>* When omitted, the value 16 is used.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Specify a database while connecting. On that connection, only the data in the specified database can be accessed. To operate on other databases, restart a connection.</p>
<ul>
<li>ex). program for operating on the databases &ldquo;public&rdquo; and &ldquo;userDB1&rdquo;</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span> <span style="color:#8f5902;font-style:italic">// public
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span> <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span> <span style="color:#000">GridStore</span> <span style="color:#000">store1</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getGridStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span> <span style="color:#000">store1</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;container1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span> <span style="color:#000">store1</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#8f5902;font-style:italic">// userDB1
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span> <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;userDB1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span> <span style="color:#000">GridStore</span> <span style="color:#000">store2</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getGridStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span> <span style="color:#000">store2</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;container1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span> <span style="color:#000">store2</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span></code></pre></div></li>
<li>
<p>To accelerate container retrieval (getContainer), the functionality to cache container information is provided.
Users are recommended to increase the cache size if accessing a large number of containers.
Use the property key at the time of connection to specify the cache size.</p>
<ul>
<li>By default, the cache function is invalid.</li>
<li>Use the number of Container objects that store information in the cache to be stored in the cache as a value to be specified in the property key containerCacheSize.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;containerCacheSize&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;10000&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div></li>
<li>
<p>Connection to clusters actually starts the first time data operation such as container creation and search is performed after creating a GridStore object.
If connection fails due to an error in the connection destination, or for other reasons, a connection error does not occur in the creation of a GridStore object &ldquo;GridStoreFactory.getGridStore,&rdquo; but in the subsequent data operation method.</p>
</li>
<li>
<p>Properties can be specified by entering them in an external file. For details, see the Appendix.</p>
</li>
<li>
<p>The supported range of time zone is as follows:</p>
<ul>
<li>offset range: -23:59 - +23:59</li>
<li>summer time: not supported</li>
<li>time zone ID (eg. JST): supports only &ldquo;Z.&rdquo;</li>
</ul>
</li>
<li>
<p>To handle time zones within the date and time functions, see the section <a href="#date_function">Recommendations for applications in using the date and time functions</a> in the Appendix.</p>
</li>
<li>
<p>To specify VERIFY for the settings for SSL communications (sslMode), settings on the GridDB cluster side are also required. For detail, see the section on &ldquo;Communication encryption&rdquo; in the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>. If a certificate by the Certificate Authority (CA) is not in a truststore, import it using the keytool command. If necessary, specify a truststore (-Djavax.net.ssl.trustStore) and a password (-Djavax.net.ssl.trustStorePassword) as arguments upon launching java. Note that the Java API does not support the checking of the expiration date of a CA certificate to ensure it is valid.</p>
</li>
</ul>
<h3 id="creating-a-container">Creating a container</h3>
<p>This section shows how to create a container. Containers come in two types: collections and time-series containers.
To create a container, specify schemas, including column names and data types.
The following two methods are available to specify a schema:</p>
<ul>
<li>
<p>How to specify a schema using a method</p>
<ul>
<li>Use a Java API method to specify a schema</li>
</ul>
</li>
<li>
<p>How to specify a schema using a class definition</p>
<ul>
<li>Use a user-defined Java class to specify a schema</li>
</ul>
</li>
</ul>
<p>[Notes]</p>
<ul>
<li>For a list of characters that can be used as a container name, see the section &ldquo;Name restrictions&rdquo; in <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a> .</li>
</ul>
<p><a id="java_create_collection_by_method"></a></p>
<h4 id="how-to-specify-a-schema-using-a-method">How to specify a schema using a method</h4>
<p>Here a schema of a container is dynamically specified using a Java API method.
For this purpose, use a container information class &ldquo;ContainerInfo&rdquo; and a column information class &ldquo;ColumnInfo,&rdquo; both of which represent a schema.
The following lists the methods for creating a container using these classes.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Creating a collection</td>
<td>putCollection(String name, ContainerInfo info, boolean modifiable)</td>
</tr>
<tr>
<td>Creating a time-series container</td>
<td>putTimeSeries(String name, ContainerInfo info, boolean modifiable)</td>
</tr>
<tr>
<td>Creating a container (collection, or time-series container)</td>
<td>GridStore.putContainer(String name, ContainerInfo info, boolean modifiable)</td>
</tr>
</tbody>
</table>
<p>[Notes]</p>
<ul>
<li>The container creation method &ldquo;putContainer&rdquo; can create both collections and time-series containers.</li>
<li>If you specify the same name as another container that already exists, an error does not occur as long as a newly specified schema definition is the same as the schema definition of an existing container.
In this case, the behavior is identical to executing getContainer for retrieving a container.</li>
<li>However, if these schema definitions are different and the argument &ldquo;modifiable&rdquo; is set to true, existing schema definitions will be modified.
In contrast, if these schema definitions are different and the argument &ldquo;modifiable&rdquo; is set to false, an error will occur. Note that &ldquo;modifiable&rdquo; is an argument for specifying whether to permit modifying the schema of an existing container.
Set &ldquo;modifiable&rdquo; to false when creating a new container.</li>
</ul>
<h5 id="creating-a-collection-with-putcollection">Creating a collection with putCollection</h5>
<p>Below is the entire program to create a collection using putCollection for creating a collection.</p>
<!-- CreateCollectionByMethod.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.ArrayList</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.List</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Properties</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Collection</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.ContainerInfo</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GSType</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStore</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Row</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">CreateCollectionByMethod</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">try</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJava&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">GridStore</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getGridStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;dummyContainer&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">ContainerInfo</span> <span style="color:#000">containerInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ContainerInfo</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">columnList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;id&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">INTEGER</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;productName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">STRING</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">INTEGER</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setColumnInfoList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setRowKeyAssigned</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// (5)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>			<span style="color:#000">Collection</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Void</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">collection</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putCollection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_collection1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Create Collection name=SampleJava_collection1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">collection</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">catch</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">Exception</span> <span style="color:#000">e</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">e</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStackTrace</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>The following explains the part of the program where a collection is created; refer to the comments in the program.
(2) Sets column names and data types to column information &ldquo;ColumnInfo.&rdquo;
If there is more than one column, a multiple number of ColumnInfo will be created.
(3) Stores ColumnInfo in a list object and then sets it to container information &ldquo;ContainerInfo&rdquo;
(5) With this data, creates a collection using putCollection.</p>
<p>[Notes]</p>
<ul>
<li>
<p>If a row key is set using setRowKeyAssigned, the first column will be a row key.</p>
</li>
<li>
<p>The return value of putCollection is Collection&lt;K,R&gt;.
The generic type &lt;K,R&gt; is returned as &lt;data type of a row key, Row type&gt;.
In case of a collection without a row key, set Void type or wild card type (&rdquo;?&quot;) for the data type of a row key.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">Collection</span><span style="color:#ce5c00;font-weight:bold">&lt;?,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">collection</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putCollection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;collectionNotRowkey&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div></li>
</ul>
<p><a id="java_create_container_by_method"></a></p>
<h5 id="creating-a-time-series-container-with-puttimeseries">Creating a time-series container with putTimeSeries</h5>
<p>This section shows how to create a time-series container using putTimeseries for creating a time-series container.
The overall flow of the program is the same as the program for creating a collection; only the differences are shown below.</p>
<!-- CreateTimeSeriesByMethod.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ContainerInfo</span> <span style="color:#000">containerInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ContainerInfo</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">columnList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;date&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">TIMESTAMP</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;value&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">DOUBLE</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setColumnInfoList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setRowKeyAssigned</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">TimeSeries</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">timeseries</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putTimeSeries</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_timeseries1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Create TimeSeries name=SampleJava_timeseries1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>[Notes]</p>
<ul>
<li>In time-series containers, the first column should be a TIMESTAMP data type and a row key should be set.</li>
<li>The return value of putTimeseries is Timeseries. The generic type is returned as &lt;Row type&gt;.</li>
<li>For other settings specific to a time-series container , use the object &ldquo;TimeseriesProperties&rdquo;.</li>
</ul>
<h5 id="creating-a-container-with-putcontainer">Creating a container with putContainer</h5>
<p>The putContainer method for creating a container can create both a container and a time-series container.
Set a type of a container and a time-series container using Container.Info.setType.</p>
<ul>
<li>
<p>How to create a collection</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setType</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ContainerType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">COLLECTION</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;?,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">collection</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;collection3&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><pre tabindex="0"><code></code></pre></li>
<li>
<p>How to create a time-series container</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setType</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ContainerType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">TIME_SERIES</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;?,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">timeseries</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;timeseries3&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><pre tabindex="0"><code></code></pre></li>
</ul>
<p><a id="java_create_collection_by_class"></a></p>
<h4 id="how-to-specify-a-schema-using-a-class-definition">How to specify a schema using a class definition</h4>
<p>Here a schema of a container is specified using a Java class definition.
Java class variables will be mapped to the columns in a GridDB container.</p>
<p>ex.) mappings applied if the Java class is defined as below:</p>
<ul>
<li>
<p>mappings between column variables and columns</p>
<ul>
<li>Class variable: int id -&gt; Column name: id, Data type: INTEGER</li>
<li>Class variable: String productName -&gt; Column name: productName, Data type: STRING</li>
<li>Class variable: int count -&gt; Column name: count, Data type: INTEGER</li>
</ul>
<!-- CreateCollectionClass.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">Products</span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#5c35cc;font-weight:bold">@RowKey</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">String</span> <span style="color:#000">productName</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div></li>
</ul>
<p>Columns are created in the same order as a sequence of class variables.
For details about data type mappings, see the section &ldquo;Interface Container&lt;K,R&gt;&rdquo; in <a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java API Reference</a>.</p>
<p>To specify the schema of a container by using Java class definitions, use the following methods:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Creating a collection</td>
<td>putCollection(String name, java.lang.Class rowType)<br>putCollection(String name, java.lang.Class rowType, boolean modifiable)</td>
</tr>
<tr>
<td>Creating a time-series container</td>
<td>putTimeSeries(String name, java.lang.Class rowType)<br>putTimeSeries(String name, java.lang.Class rowType, TimeSeriesProperties props, boolean modifiable)</td>
</tr>
<tr>
<td>Creating a container (collection, or time-series container)</td>
<td>putContainer(String name, java.lang.Class rowType, ContainerInfo info, boolean modifiable)</td>
</tr>
</tbody>
</table>
<p>Below is the entire program for creating a collection with a row key, using putCollection for creating a collection. (Connection and termination procedures are the same as in previous programs.)</p>
<p>putTimeSeries for creating time-series containers and putContainer for creating containers follow the same program flow.</p>
<!-- CreateCollectionByClass.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Properties</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Collection</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStore</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.RowKey</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">CreateCollectionByClass</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">Product</span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#5c35cc;font-weight:bold">@RowKey</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">String</span> <span style="color:#000">productName</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">try</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJava&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">GridStore</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getGridStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;dummyContainer&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">Collection</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Product</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">collection</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putCollection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_collection2&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Product</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Create Collection name=SampleJava_collection2&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">collection</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">catch</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">Exception</span> <span style="color:#000">e</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">e</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStackTrace</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><ul>
<li>When using putCollection for creating collections, specify a Java class as an argument</li>
<li>The return value of putCollection is Collection&lt;K,R&gt;.
The generic type &lt;K,R&gt; is returned as &lt;data type of a row key, Row type&gt;.
In case of a collection without a row key, set Void type or wild card type (&quot;?&quot;) for the data type of a row key.</li>
<li>Java class definitions allow specification of annotations listed below:
<ul>
<li>Specify row keys using annotation@RowKey.</li>
<li>For container variables not to be created as container columns, specify @TransientRowField.</li>
<li>To specify different column names from class variable names, specify @RowField(name=&ldquo;column name&rdquo;).
<ul>
<li>
<p>To explicitly specify the order of columns, specify @RowField(columnNumber=column number) (where column number denotes values 0 and above but less than the number of columns)</p>
</li>
<li>
<p>ex.) class definition and annotation</p>
<ul>
<li>The class variable &ldquo;comment&rdquo; is not created in a container column.</li>
<li>The class variable&quot; tmp&quot; is not used as a container name; Instead the container is named &ldquo;value&rdquo;.</li>
<li>Columns are arranged in the order: id, value, status.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">Data</span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#5c35cc;font-weight:bold">@TransientRowField</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">String</span> <span style="color:#000">comment</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#5c35cc;font-weight:bold">@RowField</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">columnNumber</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">boolean</span> <span style="color:#000">status</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#5c35cc;font-weight:bold">@RowKey</span>
</span></span><span style="display:flex;"><span>	<span style="color:#5c35cc;font-weight:bold">@RowField</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">columnNumber</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#5c35cc;font-weight:bold">@RowField</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">name</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;value&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span><span style="color:#000">columnNumber</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">long</span> <span style="color:#000">tmp</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><pre tabindex="0"><code></code></pre></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>[Notes]</p>
<ul>
<li>If you specify the same name as another container that already exists, an error does not occur as long as a newly specified schema definition is the same as the schema definition of an existing container.
In this case, the behavior is identical to executing getContainer for retrieving a container.</li>
<li>However, if these schema definitions are different and the argument &ldquo;modifiable&rdquo; is set to true, existing schema definitions will be modified.
In contrast, if these schema definitions are different and the argument &ldquo;modifiable&rdquo; is set to false, an error will occur. Note that &ldquo;modifiable&rdquo; is an argument for specifying whether to permit modifying the schema of an existing container.
Set &ldquo;modifiable&rdquo; to false when creating a new container.</li>
</ul>
<h3 id="retrieving-a-container">Retrieving a container</h3>
<p>This section shows how to retrieve a container by specifying its name.
Retrieve a container first in order to register data and manipulate rows, such as TQL.</p>
<p>The following methods are available for container retrieval. These methods are categorized into the following two depending on the differences in the type of rows used in row manipulation.</p>
<p><strong>Row interface</strong></p>
<ul>
<li>The following methods retrieve container objects. Rows in the retrieved container object can be operated on using com.toshiba.mwcloud.gs.Row.
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>collection retrieval</td>
<td>&lt;K&gt; Collection&lt;K,Row&gt; getCollection(java.lang.String name)</td>
</tr>
<tr>
<td>time-series container retrieval</td>
<td>TimeSeries&lt;Row&gt; getTimeSeries(java.lang.String name)</td>
</tr>
<tr>
<td>container retrieval</td>
<td>&lt;K&gt; Container&lt;K,Row&gt; getContainer(java.lang.String name)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p><strong>user-defined class</strong></p>
<ul>
<li>The following methods retrieve container objects. Rows in the retrieved container object can be operated on by using a class that the user defined as a schema.
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>collection retrieval</td>
<td>&lt;K,R&gt; Collection&lt;K,R&gt; getCollection(java.lang.String name, java.lang.Class&lt;R&gt; rowType)</td>
</tr>
<tr>
<td>time-series container retrieval</td>
<td>&lt;R&gt; TimeSeries&lt;R&gt; getTimeSeries(java.lang.String name, java.lang.Class&lt;R&gt; rowType)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>ex.) container retrieval (manipulating rows with the Row interface)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">Collection</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">collection</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getCollection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;collection1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">collection</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>ex.) container retrieval (manipulating rows using a user-defined class)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">Product</span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span> <span style="color:#000">productName</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// :
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">Collection</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Product</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">collection</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getCollection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;collection1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Product</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">Product</span> <span style="color:#000">product</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">collection</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p><a id="java_put_row"></a></p>
<h3 id="registering-data">Registering data</h3>
<p>To register a row in a container, use the following methods:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>row registration</td>
<td>Container.put(R row)</td>
</tr>
</tbody>
</table>
<p>Below is the entire program for creating a collection and registering one row.
(Connection and termination procedures are the same as in previous programs.)</p>
<!-- PutRow.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.ArrayList</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.List</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Properties</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Container</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.ContainerInfo</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GSType</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStore</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Row</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">PutRow</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">try</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJava&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">GridStore</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getGridStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;dummyContainer&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">ContainerInfo</span> <span style="color:#000">containerInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ContainerInfo</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">columnList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;id&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">INTEGER</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;productName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">STRING</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">INTEGER</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setColumnInfoList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setRowKeyAssigned</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">containerName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SampleJava_PutRow&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putCollection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Create Collection name=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;?,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRow</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;display&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">150</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Put Row num=1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">catch</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">Exception</span> <span style="color:#000">e</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">e</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStackTrace</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>The following explains how to register rows, referring to the program above.
(1) Retrieves a container for registering rows. Null is returned if there is no container having the specified name.
(2) Creates an empty row object from a container object.
(3) Sets data to be registered in this empty row object.
(4) Registers the rows in the container in step (1).</p>
<p>For more about mappings between GridDB data types and Java data types, see the section<a href="#java_data_type">&ldquo;data type mappings.&rdquo;</a></p>
<p>[Notes]</p>
<ul>
<li>
<p>If you specify a row with the same value as an existing row key when performing a put operation on containers with a row key, the existing row will be updated.</p>
</li>
<li>
<p>For commit, two operating modes are available: auto-commit mode and manual commit mode.</p>
<ul>
<li>
<p>In auto-commit mode, executing put automatically commits rows. commit() is not necessary.</p>
</li>
<li>
<p>In manual commit mode, commit() is explicitly needed. commit is executed per container. Transaction operations will not be performed across containers.</p>
</li>
<li>
<p>The default is auto-commit mode.</p>
</li>
<li>
<p>ex.) manual commit mode</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setAutoCommit</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">commit</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span></code></pre></div><pre tabindex="0"><code></code></pre></li>
</ul>
</li>
<li>
<p>If column values are not set in a row object, the initial value of the column will be registered.
The initial value is defined by the data type of a column.
For details, see the section &ldquo;Interface Container&lt;K,R&gt;&rdquo; in <a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java API Reference</a>.</p>
</li>
</ul>
<p><a id="java_put_rows"></a>
<strong>Registering multiple rows in one container</strong></p>
<p>Multiple rows can be registered all at once. For this purpose, use the following method:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>row registration</td>
<td>Container.put(java.util.Collection rowCollection)</td>
</tr>
</tbody>
</table>
<p>Below is a program for registering multiple rows using a put operation.</p>
<!-- PutRows.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;?,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">nameList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#4e9a06">&#34;notebook PC&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;desktop PC&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;keyboard&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;mouse&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;printer&#34;</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">numberList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">108</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">72</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">25</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">45</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">62</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rowList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">length</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRow</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">numberList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Put Rows num=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">length</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>In this program, multiple row objects are created to set them in a list. Then the put operation is performed by specifying this list as an argument.</p>
<p>[Notes]</p>
<ul>
<li>If you specify a row with the same value as an existing row key when performing a put operation on containers with a row key, the existing row will be updated.</li>
</ul>
<p><a id="java_get_row"></a></p>
<h3 id="retrieving-data">Retrieving data</h3>
<p>Retrieving data means retrieving rows from a container.</p>
<p>In cases of containers with their row keys already set, rows can be retrieved by specifying row key values.
If, on the other hand, row keys are not set, retrieve a row using TQL, as will be described later.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>row retrieval</td>
<td>Container.get(K key)</td>
</tr>
</tbody>
</table>
<p>Below is a program for retrieving a row with a row key value &ldquo;0&rdquo; from a collection with a row key.</p>
<!-- GetRow.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Row not found&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Get Row id=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, count=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">count</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>The following explains the operation to retrieve rows in the program above.
(2) Specifies a row key in the get command to retrieve a row from a container.
(3) To fetch column values from the retrieved row, uses the get method so as to match the data type of the column.</p>
<h3 id="executing-a-tql">Executing a TQL</h3>
<p>This section shows how to execute a TQL.</p>
<p>In TQL execution, the class of run results and their processing method vary according to the type of SELECT selection formulas.</p>
<table>
<thead>
<tr>
<th>types of SELECT selection formulas</th>
<th>description</th>
<th>class type of execution results</th>
</tr>
</thead>
<tbody>
<tr>
<td>row (*)</td>
<td>retrieves rows stored in a container.<br>ex.) SELECT * FROM container1</td>
<td>row object type of a container<br>(type of R in Container&lt;K,R&gt;)</td>
</tr>
<tr>
<td>aggregation operations (including MAX, MIN, and COUNT)</td>
<td>retrieves the result of an aggregation operation.<br>ex.) SELECT COUNT(*) FROM container1</td>
<td>AggregationResult type</td>
</tr>
</tbody>
</table>
<p>[Notes]</p>
<ul>
<li>
<p>To specify containers and columns using TQL, enclose the names with double quotes if they contain any symbols.</p>
<pre tabindex="0"><code>select * from &#34;test.container&#34;;
</code></pre></li>
</ul>
<p><a id="java_tql_select"></a></p>
<h4 id="searching-for-a-row">Searching for a row</h4>
<p>To execute a TQL for searching for row values, use the methods below:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>query creation</td>
<td>Query&lt;R&gt; Container&lt;K,R&gt;.query(java.lang.String tql)</td>
</tr>
<tr>
<td>query execution</td>
<td>RowSet&lt;R&gt; Query&lt;R&gt;.fetch()</td>
</tr>
</tbody>
</table>
<p>The following is a TQL program for searching a collection for rows whose column count exceeds 50 and returning the search result sorted by ascending order of id.</p>
<!-- TQLSelect.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;?,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * WHERE count &gt;= 50 ORDER BY id&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetch</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;row id=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, count=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">count</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>The following explains the search operation in the program above. (2) Creates a query using a TQL to be executed and performs search using the fetch command.
(3) Retrieves search results; retrieves row values using the get method so as to match the data type of a column in a container.</p>
<p><a id="java_tql_aggregation"></a></p>
<h4 id="performing-an-aggregation-operation">Performing an aggregation operation</h4>
<p>To execute a TQL for an aggregation operation, use the following methods:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>query creation</td>
<td>Query&lt;S&gt; Container&lt;K,R&gt;.query(java.lang.String tql, java.lang.Class&lt;S&gt; rowType)</td>
</tr>
<tr>
<td>query execution</td>
<td>RowSet&lt;S&gt; Query&lt;S&gt;.fetch()</td>
</tr>
</tbody>
</table>
<p>The following is a program for retrieving the maximum column value from a collection.</p>
<!-- TQLAggregate.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">AggregationResult</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT MAX(value)&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">AggregationResult</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">AggregationResult</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetch</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">AggregationResult</span> <span style="color:#000">result</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">long</span> <span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">result</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getLong</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;max = &#34;</span><span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>(1) When creating queries, specifies AggretationResult which refers to the type of aggregation operation results as the second argument.
The results of query execution are returned by the object AggregationResult.
(2) The data type of values of the object AggregationResult varies according to the type of aggregation operations performed. Values are retrieved using getLong, getDouble, or getTimestamp, according to the data type.</p>
<p>Below is a list of aggregation operations in TQL</p>
<table>
<thead>
<tr>
<th>aggregation operations in TQL</th>
<th>description</th>
<th>operation arguments</th>
<th>value type of operation results (AggregationResult)</th>
</tr>
</thead>
<tbody>
<tr>
<td>MAX(column)</td>
<td>maximum value of the specified column</td>
<td>numerical or TIMESTAMP-type column</td>
<td>type identical to the specified column</td>
</tr>
<tr>
<td>MIN(column)</td>
<td>minimum value of the specified column</td>
<td>numerical or TIMESTAMP-type column</td>
<td>type identical to the specified column</td>
</tr>
<tr>
<td>COUNT(*)</td>
<td>number of rows to be aggregated</td>
<td>only &ldquo;*&rdquo;</td>
<td>LONG types</td>
</tr>
<tr>
<td>SUM(column)</td>
<td>sum of the specified columns</td>
<td>numerical column</td>
<td>LONG type if the specified column is of integer type<br>LONG type if the specified column is of floating-point type</td>
</tr>
<tr>
<td>AVG(column)</td>
<td>average of the specified columns</td>
<td>numerical column</td>
<td>DOUBLE types</td>
</tr>
<tr>
<td>VARIANCE(column)</td>
<td>variance of the specified columns</td>
<td>numerical column</td>
<td>DOUBLE types</td>
</tr>
<tr>
<td>STDDEV(column)</td>
<td>standard deviation of the specified columns</td>
<td>numerical column</td>
<td>DOUBLE types</td>
</tr>
</tbody>
</table>
<p>[Notes]</p>
<ul>
<li>Only one aggregation operation can be specified in one query.
<ul>
<li>ex.) The following TQL leads to an error.   SELECT MAX(value), MIN(value)</li>
</ul>
</li>
</ul>
<p><a id="java_batch_functions"></a></p>
<h3 id="performing-a-bulk-of-operations-on-multiple-containers">Performing a bulk of operations on multiple containers</h3>
<p>Data registration and search operations allow multiple operations to be performed at once. The following are the methods for multiple containers.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Registering a row in multiple containers</td>
<td>GridStore.multiPut(java.util.Map&lt;java.lang.String,java.util.List&gt; containerRowsMap)</td>
</tr>
<tr>
<td>Retrieving rows from multiple containers</td>
<td>GridStore.multiGet(java.util.Map&lt;java.lang.String,? extends RowKeyPredicate&lt;?&gt;&gt; containerPredicateMap)</td>
</tr>
<tr>
<td>Executing a TQL on multiple containers</td>
<td>GridStore.fetchAll(java.util.List&lt;? extends Query&lt;?&gt;&gt; queryList)</td>
</tr>
</tbody>
</table>
<p>Operations on one container and operations on multiple containers differ in methods, retrieval criteria, and other properties; use the one that best suits your purpose.
The table below shows the differences among them.
For explanations on each method, refer to the links in this document.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>container to be processed</th>
<th>method</th>
<th>retrieval criteria</th>
<th>links in this document</th>
</tr>
</thead>
<tbody>
<tr>
<td>row registration</td>
<td>one</td>
<td>Container.put(R row)<br>Container.put(java.util.Collection rowCollection)</td>
<td>-</td>
<td><a href="#java_put_row">Registering data</a></td>
</tr>
<tr>
<td></td>
<td>more than one</td>
<td>GridStore.multiPut(java.util.Map&lt;java.lang.String, java.util.List&gt; containerRowsMap)</td>
<td>-</td>
<td><a href="#java_multiput">Registering a row in multiple containers</a></td>
</tr>
<tr>
<td>row retrieval<br>(by specifying a row key)</td>
<td>one</td>
<td>Container.get(K key)</td>
<td>row key specified</td>
<td><a href="#java_get_row">Retrieving data</a></td>
</tr>
<tr>
<td></td>
<td>more than one</td>
<td>GridStore.multiGet(java.util.Map&lt;java.lang.String, ? extends RowKeyPredicate&lt;?&gt;&gt; containerPredicateMap)</td>
<td>Row key range specification or row key range specification, using the RowKeyPredicate class</td>
<td><a href="#java_multiget">Retrieving rows from multiple containers</a></td>
</tr>
<tr>
<td>Row retrieval<br>(TQL execution)</td>
<td>one</td>
<td>GridStore.query(java.lang.String tql)<br>Query.fetch()</td>
<td>TQL queries</td>
<td><a href="#java_tql_select">Executing a TQL</a></td>
</tr>
<tr>
<td></td>
<td>more than one</td>
<td>GridStore.fetchAll(java.util.List&lt;? extends Query&lt;?&gt;&gt; queryList)</td>
<td>TQL queries</td>
<td><a href="#java_fetchall">Executing a TQL on multiple containers</a></td>
</tr>
</tbody>
</table>
<p><a id="java_multiput"></a></p>
<h4 id="registering-a-row-in-multiple-containers">Registering a row in multiple containers</h4>
<p>Multiple rows are registered in multiple containers.
For this, you can register rows using multiPut by creating pairs of container names and a list of rows to be registered.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Registering a row in multiple containers</td>
<td>GridStore.multiPut(java.util.Map&lt;java.lang.String,java.util.List&gt; containerRowsMap)</td>
</tr>
</tbody>
</table>
<p>The following program shows how to register two rows in both collections and time-series containers.</p>
<!-- MultiPut.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;</span> <span style="color:#000">paramMap</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">HashMap</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span> <span style="color:#000">containerName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SampleJava_MultiPut1&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">nameList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#4e9a06">&#34;notebook PC&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;desktop PC&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;keyboard&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;mouse&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;printer&#34;</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">numberList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">55</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">81</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">39</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">72</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">14</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rowList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">length</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRow</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">numberList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">paramMap</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span> <span style="color:#000">containerName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SampleJava_MultiPut2&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">dateList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#4e9a06">&#34;2018/12/01 10:20:19.111+0900&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;2018/12/02 03:25:45.023+0900&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#4e9a06">&#34;2018/12/03 08:29:21.932+0900&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;2018/12/04 21:55:48.153+0900&#34;</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">double</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">valueList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span> <span style="color:#000">129</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">9</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">13</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">2</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">832</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">7</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">52</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">9</span> <span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">SimpleDateFormat</span> <span style="color:#000">format</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">SimpleDateFormat</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;yyyy/MM/dd hh:mm:ss.SSSZ&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rowList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">dateList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">length</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRow</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setTimestamp</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">format</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">parse</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">dateList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setDouble</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">valueList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">paramMap</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">multiPut</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">paramMap</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;MultiPut&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>Just like when registering a row in one container, create an empty row from a container object to create rows to be registered.
Then store pairs of containers and rows and register them together using multiPut.</p>
<p>[Notes]</p>
<ul>
<li>Only the existing containers can be specified.</li>
<li>Just like when registering a row in one container, commit is performed per container. This does not mean that all specified multiple containers will be committed together.</li>
</ul>
<p><a id="java_multiget"></a></p>
<h4 id="retrieving-rows-from-multiple-containers">Retrieving rows from multiple containers</h4>
<p>The following explains how to retrieve rows that meet the specified criteria from multiple containers.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Retrieving rows from multiple containers</td>
<td>GridStore.multiGet(java.util.Map&lt;java.lang.String,? extends RowKeyPredicate&lt;?&gt;&gt; containerPredicateMap)</td>
</tr>
</tbody>
</table>
<p>Criteria on row keys can be specified per container. There are two types of criteria: individual criteria, which specify specific values, and range criteria, which specify the value range. Specify criteria using a method in the RowKeyPredicate class.</p>
<table>
<thead>
<tr>
<th>criteria</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>individual criteria on row keys</td>
<td>RowKeyPredicate.add(K key)</td>
</tr>
<tr>
<td>range criteria on row keys</td>
<td>RowKeyPredicate.setStart(K startKey)<br>RowKeyPredicate.setFinish(K finishKey)</td>
</tr>
</tbody>
</table>
<p>[Notes]</p>
<ul>
<li>Do not use a mixture of both types of criteria: individual criteria and range criteria.</li>
<li>If none of the two criteria is set, all rows will be retrieved.</li>
<li>The RowKeyPredicate class can only be used in the multiGet method for retrieving rows in multiple containers. It is not allowed in other get methods for row retrieval.</li>
</ul>
<p>Below is a program for retrieving from a collection a row whose INTEGER-type row key value is equivalent to &ldquo;0&rdquo; and then retrieving from another collection a row whose INTEGER-type row key value is equivalent to &ldquo;2&rdquo; or &ldquo;4&rdquo;.</p>
<!-- MultiGet.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;</span> <span style="color:#000">predMap</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">HashMap</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;();</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">predicate</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">predMap</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_MultiGet1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">predicate</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">4</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">predMap</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_MultiGet2&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;</span> <span style="color:#000">outMap</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">multiGet</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">predMap</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;MultiGet&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Entry</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;</span> <span style="color:#000">entry</span> <span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">outMap</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">entrySet</span><span style="color:#ce5c00;font-weight:bold">())</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;containerName=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">entry</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getKey</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">entry</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getValue</span><span style="color:#ce5c00;font-weight:bold">())</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    id=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34; name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34; count=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">count</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>(1) Using the class RowKeyPredicate, creates conditions on rows to be retrieved and store pairs of container names and RowKeyPredicate in MAP.
(2) Performs search using multiGet.
(3) The results are returned as a combination of container names and row lists.</p>
<p><a id="java_fetchall"></a></p>
<h4 id="executing-a-tql-on-multiple-containers">Executing a TQL on multiple containers</h4>
<p>TQL is executed on multiple containers. TQL can be specified per container.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Executing a TQL on multiple containers</td>
<td>GridStore.fetchAll(java.util.List&lt;? extends Query&lt;?&gt;&gt; queryList)</td>
</tr>
</tbody>
</table>
<p>The following is a program for executing two TQLs together, each corresponding to a collection, to retrieve rows.</p>
<!-- FetchAll.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;</span> <span style="color:#000">queryList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_FetchAll1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">queryList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;select * where count &gt; 60&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_FetchAll2&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">queryList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;select * where count &gt; 100&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetchAll</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">queryList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">queryList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">size</span><span style="color:#ce5c00;font-weight:bold">();</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_FetchAll&#34;</span><span style="color:#ce5c00;font-weight:bold">+(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">queryList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getRowSet</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">while</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">())</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    row id=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, count=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">count</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>(1)(2) Creates TQL queries from container objects and stores them in a list.
(3) Specifies a list of queries and execute fetchAll to execute all TQLs together.
(4) Search results are stored in the query list specified in (3). .</p>
<p><a id="java_binary"></a></p>
<h3 id="handling-binary-data">Handling binary data</h3>
<p>This section shows how to register and retrieve binary data. The data type for binary data is Blob type. You can manipulate binary data like other data types.</p>
<p><strong>Registering binary data</strong></p>
<p>The program below loads binary data from a file and registers rows.</p>
<!-- BlobData.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.sql.Blob</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">FileInputStream</span> <span style="color:#000">blobFile</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">FileInputStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">File</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;BlobData.java&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">Blob</span> <span style="color:#000">blob</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createBlob</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">OutputStream</span> <span style="color:#000">blobBuffer</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">blob</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setBinaryStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">len</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#ce5c00;font-weight:bold">((</span><span style="color:#000">len</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">blobFile</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">read</span><span style="color:#ce5c00;font-weight:bold">())</span> <span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">blobBuffer</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">write</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">len</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">blobBuffer</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">flush</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRow</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setBlob</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">blob</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Put Row (Binary)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">blobFile</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span></code></pre></div><p>(1) Loads binary data from a file. The Blob for storing binary data can be created using the createBlob method in the Container class.
It is also possible to use instances in another class where Blob (eg. SerialBlob) has been implemented.
(2) Sets binary data using setBlob, and (3) registers rows.</p>
<p><strong>Retrieving binary data</strong></p>
<p>Use getBlob to retrieve binary data.</p>
<!-- BlobData.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">Blob</span> <span style="color:#000">blob</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getBlob</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p><a id="java_update"></a></p>
<h3 id="updating-data">Updating data</h3>
<p>Updating data means updating rows. There are two ways to update rows. One is to update them by specifying row keys, and the other is to update them using the execution results of a TQL.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Updating rows by specifying row keys</td>
<td>put(R row)<br>put(K key, R row)<br>put(java.util.Collection rowCollection)</td>
</tr>
<tr>
<td>Updating rows based on TQL run results</td>
<td>RowSet.update(R rowObj)</td>
</tr>
</tbody>
</table>
<p>In the first method, where rows are updated by specifying the corresponding row keys, data are only updated if data already exist that contain the same row key as the row specified by the put operation.
If there exist no row key data, or if row keys are not set in the collection, executing the command put will always register new rows.</p>
<p>Below is a program for updating rows based on TQL run results.</p>
<!-- UpdateRowByTQL.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setAutoCommit</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * WHERE id = 3&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetch</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">77</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">update</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">commit</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Update Row&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>[Notes]</p>
<ul>
<li>To update rows based on TQL search results &ldquo;RowSet&rdquo;, set the commit mode to manual commit mode and lock a set of rows in the search results by specifying true as an argument for the fetch method.</li>
</ul>
<h3 id="deleting-data">Deleting data</h3>
<p>Deleting data means deleting rows. There are two ways to delete rows. One is to delete them by specifying row keys, and the other is to delete them from the search results of a TQL.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>deleting rows by specifying row keys</td>
<td>Container.remove(K key)<br>TimeSeries.remove(java.util.Date key)</td>
</tr>
<tr>
<td>deleting rows from TQL search results</td>
<td>RowSet.remove()</td>
</tr>
</tbody>
</table>
<p><a id="java_remove_row"></a>
Below is a program for deleting rows whose row key value is &ldquo;3&rdquo; using the first method, namely, by specifying row keys to delete rows.</p>
<!-- RemoveRowByRowkey.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">remove</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">3</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p><a id="java_remove_rowset"></a>
Below is another program for deleting rows using the second method, namely, by deleting rows from TQL search results</p>
<!-- RemoveRowByTQL.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Integer</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87;font-weight:bold">null</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Exception</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found.&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setAutoCommit</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * WHERE id = 50&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetch</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">77</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">update</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">commit</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Update Row&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>[Notes]</p>
<ul>
<li>To delete rows based on TQL search results &ldquo;RowSet&rdquo;, set the commit mode to manual commit mode and lock a set of rows in the search results by specifying true as an argument for the fetch method.</li>
</ul>
<h3 id="deleting-a-container">Deleting a container</h3>
<p>The following shows how to delete containers by specifying their names. The following methods can be used to delete containers:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>collection deletion</td>
<td>GridStore.dropCollection(java.lang.String name)</td>
</tr>
<tr>
<td>time-series container deletion</td>
<td>GridStore.dropTimeSeries(java.lang.String name)</td>
</tr>
<tr>
<td>container deletion</td>
<td>GridStore.dropContainer(java.lang.String name)</td>
</tr>
</tbody>
</table>
<p>[Notes]</p>
<ul>
<li>
<p>In dropCollection for collection deletion and dropTimeSeries for time-series container deletion, an error occurs if the container type specified as an argument and the selected method type differ.</p>
<ul>
<li>ex.) An error occurs while attempting to delete the collection &ldquo;collection1&rdquo; using dropTimeSeries.</li>
</ul>
</li>
<li>
<p>In contrast, dropContainer for container deletion can delete either type: a collection and a time-series container.</p>
</li>
</ul>
<p>Below is a program for deleting the collection &ldquo;collection1&rdquo;.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">dropCollection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;collection1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p><a id="java_create_index"></a></p>
<h3 id="creating-an-index">Creating an index</h3>
<p>The following shows how to create an index in a column in a container.</p>
<p>Two types of indexes are available, as shown below: The index types that can be specified depend on the container type and the data type of columns.</p>
<table>
<thead>
<tr>
<th>index type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>tree index</td>
<td>- an index that uses B trees; <br>- suits search with equality condition (=) and range search (eg. &gt; and &lt;=); <br>- not applicable if the data type of columns is spatial-type, BLOB-type, or array-type. Also not applicable to the row key for a time-series container. <br>- allows to create composite indexes.</td>
</tr>
<tr>
<td>spatial index</td>
<td>- an index for spatial types; <br>- suits high-speed spatial search; <br>- only applicable to a collection, whose column data is of spatial type.</td>
</tr>
</tbody>
</table>
<p>The following three methods are available for index creation, which differ in how index types and columns are specified:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>index creation (specify a column name and number, an index type, and an index name)</td>
<td>Container.createIndex(IndexInfo info)</td>
</tr>
<tr>
<td>index creation (specify a column name)</td>
<td>Container.createIndex(java.lang.String columnName)</td>
</tr>
<tr>
<td>index creation (specify a column name and an index type)</td>
<td>Container.createIndex(java.lang.String columnName, IndexType type)</td>
</tr>
</tbody>
</table>
<p>[Notes]</p>
<ul>
<li>If an index type is not specified, a default index type as defined in the data type of a column will be created.
For more information on default index types, see the section &ldquo;createIndex(IndexInfo info)&rdquo; in <a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java API Reference</a>.</li>
<li>Specification of index names is optional. Whether specified or not, an index is created.</li>
<li>To create composite indexes, only &ldquo;createIndex(IndexInfo info)&rdquo; is applicable.</li>
</ul>
<p>The following is a program fro creating a tree index in the column count of a collection using createIndex(IndexInfo info) for creating an index.</p>
<!-- CreateIndex.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">IndexInfo</span> <span style="color:#000">indexInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">IndexInfo</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">indexInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setColumnName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">indexInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setType</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">IndexType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">TREE</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">indexInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;tree_index&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createIndex</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">indexInfo</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">IndexInfo</span> <span style="color:#000">compositeInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">IndexInfo</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">compositeInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setColumnNameList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Arrays</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">asList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span><span style="color:#4e9a06">&#34;productName&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">compositeInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setType</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">IndexType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">TREE</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">compositeInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;composite_index&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createIndex</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">compositeInfo</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>For the index information IndexInfo, specify the index type, the column to be created (column number or column name), and the index name.<br>
(2) Execute createIndex with IndexInfo as an argument.<br>
(3) In composite indexes, use the List form to specify the column to be created (column number or column name), that is specified in the index information IndexInfo.<br>
(4) Execute createIndex with IndexInfo as an argument.</p>
<h3 id="others">Others</h3>
<p><a id="java_data_type"></a></p>
<h4 id="data-type-mappings">Data type mappings</h4>
<p>The following shows mappings between GridDB data types and Java data types. When retrieving and setting values from a row, use the following data types:</p>
<table>
<thead>
<tr>
<th>GridDB data types</th>
<th>Java data types</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL types</td>
<td>boolean</td>
</tr>
<tr>
<td>STRING types</td>
<td>java.lang.String</td>
</tr>
<tr>
<td>BYTE types</td>
<td>byte</td>
</tr>
<tr>
<td>SHORT types</td>
<td>short</td>
</tr>
<tr>
<td>INTEGER types</td>
<td>int</td>
</tr>
<tr>
<td>LONG types</td>
<td>long</td>
</tr>
<tr>
<td>FLOAT types</td>
<td>float</td>
</tr>
<tr>
<td>DOUBLE types</td>
<td>double</td>
</tr>
<tr>
<td>TIMESTAMP types</td>
<td>java.util.Date</td>
</tr>
<tr>
<td>GEOMETRY types</td>
<td>Geometry</td>
</tr>
<tr>
<td>BLOB types</td>
<td>java.sql.Blob</td>
</tr>
</tbody>
</table>
<h4 id="error-handling">Error handling</h4>
<p>If an error occurs in the Java API method, GSException is thrown.</p>
<p>Errors are handled using getErrorCode() for retrieving error codes and printStackTrace() for displaying a stack trace.</p>
<h4 id="timestamp-type-utility-function">TIMESTAMP type utility function</h4>
<p>In Java API, TIMESTAMP type data is treated as java.util.Date type.
The following methods are available as utility functions for the TIMESTAMP type.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Retrieving the current time</td>
<td>TimestampUtils.current()<br>TimestampUtils.currentCalendar()</td>
</tr>
<tr>
<td>Adding time</td>
<td>TimestampUtils.add(java.util.Date timestamp, int amount, TimeUnit timeUnit)<br>TimestampUtils.add(java.util.Date timestamp, int amount, TimeUnit timeUnit, java.util.TimeZone zone)</td>
</tr>
<tr>
<td>Converting GSTimestamp type into a string representation</td>
<td>TimestampUtils.format(java.util.Date timestamp)<br>TimestampUtils.format(java.util.Date timestamp, java.util.TimeZone zone)</td>
</tr>
<tr>
<td>Converting a string representation into GSTimestamp type</td>
<td>TimestampUtils.parse(java.lang.String source)</td>
</tr>
<tr>
<td>Retrieving the notation format of TIMESTAMP values</td>
<td>TimestampUtils.getFormat()<br>TimestampUtils.getFormat(java.util.TimeZone zone)</td>
</tr>
</tbody>
</table>
<p>Below is an example to convert TIMESTAMP type values retrieved from rows into a string representation.</p>
<pre tabindex="0"><code>Date date = row.getTimestamp(0);
String dateStr = TimestampUtils.format(date)
</code></pre><h2 id="advanced-programming">Advanced programming</h2>
<p><a id="java_timeseries_function"></a></p>
<h3 id="handling-time-series-data">Handling time-series data</h3>
<p>Operations specific to time-series data can be executed on a time-series container.
This section explains operations specific to time-series data.</p>
<p>Such operations can be executed using TQL or the methods listed below:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>name</th>
<th>TQL operation</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Aggregation operation</td>
<td>weighted average</td>
<td>TIME_AVG</td>
<td>TimeSeries.aggregate<br>(Specify Aggregation.WEIGHTED_AVERAGE)</td>
</tr>
<tr>
<td>Selection operation</td>
<td>time immediately after</td>
<td>TIME_NEXT</td>
<td>TimeSeries.get<br>(Specify TimeOperator.NEXT)</td>
</tr>
<tr>
<td></td>
<td>time immediately after</td>
<td>TIME_NEXT_ONLY</td>
<td>TimeSeries.get<br>(Specify TimeOperator.NEXT_ONLY)</td>
</tr>
<tr>
<td></td>
<td>time immediately before</td>
<td>TIME_PREV</td>
<td>TimeSeries.get<br>(Specify TimeOperator.PREVIOUS)</td>
</tr>
<tr>
<td></td>
<td>time immediately before</td>
<td>TIME_PREV_ONLY</td>
<td>TimeSeries.get<br>(Specify TimeOperator.PREVIOUS_ONLY)</td>
</tr>
<tr>
<td>Interpolation operation</td>
<td>linear interpolation</td>
<td>TIME_INTERPOLATED</td>
<td>TimeSeries.interpolate</td>
</tr>
<tr>
<td></td>
<td>sampling</td>
<td>TIME_SAMPLING</td>
<td>TimeSeries.query<br>(Specify InterpolationMode)</td>
</tr>
</tbody>
</table>
<ul>
<li>In simple search and aggregation operations, slightly better performance may be achieved by using methods than TQL. By contrast, use TQL operations if a large number of hits are expected or if complex operations, such as aggregation after search, are needed.</li>
</ul>
<p>The following explains programming with TQL operations as an example.</p>
<h4 id="aggregation-operation">Aggregation operation</h4>
<p><a id="java_timeseries_time_avg"></a></p>
<h5 id="time_avg-weighted-time-average">TIME_AVG: weighted time average</h5>
<p>The operation TIME_AVG calculates the average weighted by time intervals for rows. The longer the time intervals, the greater the weights.
In other words, for the period in which no values are registered, the immediately preceding value is treated as remaining constant for the first half and the immediately following value is treated as if it remaining constant for the rest.</p>
<table>
<thead>
<tr>
<th>TQL operation</th>
<th>description</th>
<th>operation arguments</th>
<th>type of operation results</th>
</tr>
</thead>
<tbody>
<tr>
<td>TIME_AVG(column)</td>
<td>weighted average based on the time of a row in the specified column</td>
<td>numerical columns in a time-series container</td>
<td>DOUBLE types</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>ex.) using TIME_AVG for an aggregation operation in a TQL</p>
<figure>
  <img src="img/TIME_AVG.png" width="800" alt="example for TIME_AVG"/>
  <figcaption>example for TIME_AVG</figcaption>
</figure>
  <!-- TQLTimeseries.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">AggregationResult</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT TIME_AVG(value1)&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">AggregationResult</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">AggregationResult</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetch</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">AggregationResult</span> <span style="color:#000">result</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">double</span> <span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">result</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDouble</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TIME_AVG = &#34;</span><span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div></li>
</ul>
<p>[Notes]</p>
<ul>
<li>An error occurs if a TIME_AVG operation is executed on a collection using TQL.</li>
<li>It is also possible to execute operations equivalent to TIME_AVG operations in TQL, using the Java API method TimeSeries.aggregate(java.util.Date start, java.util.Date end, java.lang.String column, Aggregation aggregation).</li>
</ul>
<p><a id="java_timeseries_next_prev"></a></p>
<h4 id="tql-selection-operations">TQL selection operations</h4>
<p>A selection operation returns a row whose time of a row key in a time-series container matches the specified time (timestamp), based on the selection criteria on immediately before/after.</p>
<table>
<thead>
<tr>
<th>TQL selection operations</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>TIME_NEXT(*, timestamp)</td>
<td>returns a row whose time is immediately after the specified time (timestamp) <br>If a row with the identical timestamp exists, returns that row.</td>
</tr>
<tr>
<td>TIME_NEXT_ONLY(*, timestamp)</td>
<td>returns a row whose time is immediately after the specified time (timestamp)</td>
</tr>
<tr>
<td>TIME_PREV(*, timestamp)</td>
<td>returns a row whose time is immediately before the specified time (timestamp) <br>If a row with the identical timestamp exists, returns that row.</td>
</tr>
<tr>
<td>TIME_PREV_ONLY(*, timestamp)</td>
<td>returns a row whose time is immediately before the specified time (timestamp)</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>ex.) using a selection operation in a TQL</p>
<figure>
  <img src="img/TIME_NEXT_TIME_PREV.png" width="600" alt="example for TIME_NEXT and TIME_PREV"/>
  <figcaption>example for TIME_NEXT and TIME_PREV</figcaption>
</figure>
<!-- TQLTimeseries.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT TIME_NEXT(*, TIMESTAMP(&#39;2018-12-01T10:10:00.000Z&#39;))&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetch</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Date</span> <span style="color:#000">date</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getTimestamp</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">value1</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">double</span> <span style="color:#000">value2</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDouble</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TIME_NEXT row date=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">TimestampUtils</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">format</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">date</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, value1=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value1</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, value2=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div></li>
</ul>
<p>[Notes]</p>
<ul>
<li>An error occurs if an selection operation is executed on a collection using TQL.</li>
<li>It is also possible to execute operations equivalent to selection operations in TQL, using the Java API method TimeSeries.get(java.util.Date base, TimeOperator timeOP).</li>
</ul>
<p><a id="java_timeseries_sampling"></a></p>
<h4 id="tql-interpolation-operations">TQL interpolation operations</h4>
<p>This section shows how time-series data is interpolated.</p>
<table>
<thead>
<tr>
<th>TQL interpolation operations</th>
<th>description</th>
<th>operation arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td>TIME_INTERPOLATED(column, timestamp)</td>
<td>If a row with the specified time (timestamp) does not exist, returns interpolated values for column.</td>
<td>column: numerical column<br>timestamp: time</td>
</tr>
<tr>
<td>TIME_SAMPLING(*|column, timestamp_start, timestamp_end, interval, time_unit)</td>
<td>For the specified duration, returns the result of row sampling.</td>
<td>timestamp_start: start time<br>timestamp_end: end time<br>interval: sampling interval<br>time_unit: unit of sampling intervals (DAY|HOUR|MINUTE|SECOND|MILLISECOND)</td>
</tr>
</tbody>
</table>
<p><strong>TIME_INTERPOLATED(column, timestamp): interpolation of values</strong></p>
<ul>
<li>
<p>If a row with the specified time (timestamp) exists, that row is returned without any processing.</p>
</li>
<li>
<p>If a row with the specified time (timestamp) does not exist, rows that store interpolated values will be returned. The value of the column &ldquo;column&rdquo; will be equal to the value calculated by linearly interpolating the value of the previous and next rows The row key value will be equivalent to the timestamp value. The values of the columns other than these will be equal to the values of rows previous to the specified time &ldquo;timestamp&rdquo;.</p>
</li>
<li>
<p>In linearly interpolating the value of the previous and next rows, if one of the values is NULL, the interpolated value will be NULL.</p>
</li>
<li>
<p>ex.) executing an INTER_INTERPOLATED operation</p>
<figure>
  <img src="img/TIME_INTERPOLATED.png" width="900" alt="example for an execution of a TIME_INTERPOLATED operation"/>
  <figcaption>example for an execution of a TIME_INTERPOLATED operation</figcaption>
</figure>
<!-- TQLTimeseries.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT TIME_INTERPOLATED(value1, TIMESTAMP(&#39;2018-12-01T10:30:00.000Z&#39;))&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetch</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Date</span> <span style="color:#000">date</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getTimestamp</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">value1</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">double</span> <span style="color:#000">value2</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDouble</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TIME_INTERPOLATED row date=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">date</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, value1=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value1</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, value2=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div></li>
</ul>
<p><strong>TIME_SAMPLING(*|column, timestamp_start, timestamp_end, interval, time_unit): sampling of values</strong></p>
<ul>
<li>
<p>Values are sampled at sampling intervals &ldquo;interval&rdquo; for the duration between the start time timestamp_start and the end time timestamp_end.</p>
</li>
<li>
<p>If a row for the sampling time exists, that row will be returned without any processing.</p>
</li>
<li>
<p>If a row for the sampling time does not exist, returns rows that store interpolated values. The value of the column &ldquo;column&rdquo; (or if *, the values of all columns) will be equal to the value calculated by linearly interpolating the value of the previous and next rows The row key value will be equivalent to the timestamp value. The values of the columns other than these will be equal to the values of rows previous to the sampling time.</p>
</li>
<li>
<p>In linearly interpolating the value of the previous and next rows, if one of the values is NULL, the interpolated value will be NULL.</p>
</li>
<li>
<p>ex.) executing a TIME_SAMPLING operation</p>
<figure>
  <img src="img/TIME_SAMPLING.png" width="900" alt="example for an execution of a TIME_SAMPLING operation"/>
  <figcaption>example for an execution of a TIME_SAMPLING operation</figcaption>
</figure>
<!-- TQLTimeseries.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">Query</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">query</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">query</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT TIME_SAMPLING(value1, TIMESTAMP(&#39;2018-12-01T10:00:00.000Z&#39;),TIMESTAMP(&#39;2018-12-01T11:00:00.000Z&#39;), 15, MINUTE)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">RowSet</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">query</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">fetch</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">hasNext</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Date</span> <span style="color:#000">date</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getTimestamp</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">value1</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">double</span> <span style="color:#000">value2</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getDouble</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TIME_SAMPLING row date=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">date</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, value1=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value1</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, value2=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div></li>
</ul>
<p>[Notes]</p>
<ul>
<li>An error occurs if TIME_INTERPOLATED and/or TIME_SAMPLING are executed on a collection using TQL.</li>
<li>You cannot specify aggregation operations (including MAX, MIN, and COUNT), and TIME_INTERPOLATED and/or TIME_SAMPLING simultaneously.</li>
<li>It is also possible to execute operations equivalent to TIME_INTERPOLATED operations in TQL, using the Java API method TimeSeries.interpolate(java.util.Date base, java.lang.String column).</li>
<li>It is also possible to execute operations equivalent to TIME_SAMPLING operations in TQL, using the Java API method TimeSeries.query(java.util.Date start, java.util.Date end, java.util.Set&lt;java.lang.String&gt; columnSet, InterpolationMode mode, int interval, TimeUnit intervalUnit).</li>
</ul>
<p><a id="java_arraydata"></a></p>
<h3 id="handling-array-type-data">Handling array type data</h3>
<p>Array type data is mapped to Java arrays.
The Row class contains array type setter/getter methods for setting and retrieving array type data.
Use the setter/getter method appropriate for the array data type to register and retrieve data.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Boolean type array</td>
<td>void Row.setBoolArray(int column, boolean[] fieldValue)<br>boolean[] Row.getBoolArray(int column)</td>
</tr>
<tr>
<td>STRING type array</td>
<td>void Row.setStringArray(int column, java.lang.String[] fieldValue)<br>java.lang.String[] Row.getStringArray(int column)</td>
</tr>
<tr>
<td>BYTE type array</td>
<td>void Row.setByteArray(int column, byte[] fieldValue)<br>byte[] Row.getByteArray(int column)</td>
</tr>
<tr>
<td>SHORT type array</td>
<td>void Row.setShortArray(int column, short[] fieldValue)<br>short[] Row.getShortArray(int column)</td>
</tr>
<tr>
<td>INTEGER type array</td>
<td>void Row.setIntegerArray(int column, int[] fieldValue)<br>int[] Row.getIntegerArray(int column)</td>
</tr>
<tr>
<td>LONG type array</td>
<td>void Row.setLongArray(int column, long[] fieldValue)<br>long[] Row.getLongArray(int column)</td>
</tr>
<tr>
<td>FLOAT type array</td>
<td>void Row.setFloatArray(int column, float[] fieldValue)<br>float[] Row.getFloatArray(int column)</td>
</tr>
<tr>
<td>DOUBLE type array</td>
<td>void Row.setDoubleArray(int column, double[] fieldValue)<br>double[] Row.getDoubleArray(int column)</td>
</tr>
<tr>
<td>TIMESTAMP type array</td>
<td>void Row.setTimestampArray(int column, java.util.Date[] fieldValue)<br>java.util.Date[] Row.getTimestampArray(int column)</td>
</tr>
</tbody>
</table>
<p>Below is a program for registering array type data.</p>
<!-- ArrayData.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">stringArray</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#4e9a06">&#34;Sales&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;Development&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;Marketing&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;Research&#34;</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">integerArray</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">39</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">92</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">18</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">51</span> <span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRow</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setStringArray</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">stringArray</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setIntegerArray</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">integerArray</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>Below is a program for retrieving array type data.</p>
<!-- ArrayData.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">stringArray</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getStringArray</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">integerArray</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getIntegerArray</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>[Notes]</p>
<ul>
<li>Array type columns cannot be set in row keys.</li>
</ul>
<p><a id="java_geometry_data"></a></p>
<h3 id="handling-spatial-type-data">Handling spatial type data</h3>
<p>This section explains how to register and retrieve spatial type data.</p>
<p>Operations are performed by creating the Geometry object from values in Well-Known Text (WKT) format which represent spatial type data.
WKT format is an ISO standard used to represent spatial data in a textual format.</p>
<ul>
<li>ex.) spatial type data in WKT format
<ul>
<li>a point (2,3) on the two-dimensional spacePOINT (2 3)</li>
</ul>
</li>
</ul>
<p>The Row class includes array type setter/getter methods for setting and retrieving spatial type data.
Register/retrieve spatial type data using these setters/getters.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Setting of spatial type data</td>
<td>void Row.setGeometry(int column, Geometry fieldValue)</td>
</tr>
<tr>
<td>Extraction of spatial type data</td>
<td>Geometry getGeometry(int column)</td>
</tr>
</tbody>
</table>
<p>Below is a program for registering spatial type data.</p>
<!-- GeometryData.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Geometry</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">Geometry</span> <span style="color:#000">geometry</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Geometry</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">valueOf</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;POINT(2 3)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRow</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setGeometry</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">geometry</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>Below is a program for retrieving spatial type data.</p>
<!-- GeometryData.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">com.toshiba.mwcloud.gs.Geometry</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">get</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">Geometry</span> <span style="color:#000">geometry</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getGeometry</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>[Notes]</p>
<ul>
<li>Spatial type columns cannot be set for row keys.</li>
</ul>
<h3 id="retrieving-container-information">Retrieving container information</h3>
<p>This section explains the operation for retrieving information on containers.</p>
<ul>
<li>Retrieving a list of container names</li>
<li>Retrieving schema information of a container</li>
</ul>
<p><a id="java_containernames"></a></p>
<h4 id="retrieving-a-list-of-container-names">Retrieving a list of container names</h4>
<p>The following methods retrieve a list of the containers that have been created.</p>
<p>To retrieve a list of container names, use a controller &ldquo;PartitionController&rdquo; instance for retrieving partition information.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Retrieving partition controllers</td>
<td>GridStore.getPartitionController()</td>
</tr>
<tr>
<td>Retrieving the number of partitions</td>
<td>PartitionController.getPartitionCount()</td>
</tr>
<tr>
<td>Retrieving a list of container names</td>
<td>PartitionController.getContainerNames(int partitionIndex, long start, java.lang.Long limit)</td>
</tr>
</tbody>
</table>
<p>A list of container names can be retrieved for each partition via a partition controller.
Below is a program for retrieving a list of container names.</p>
<!-- ContainerNames.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">PartitionController</span> <span style="color:#000">partitionController</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getPartitionController</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">partitionCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">partitionController</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getPartitionCount</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">partitionCount</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">containerNames</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">partitionController</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainerNames</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">containerNames</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">size</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">0</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerNames</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>(2) If the second argument is specified as 0, and the third argument as NULL using the method getContainerName, all containers on the specified partition will be retrieved.
To limit the number of container names to retrieve, specify that number of limits as the third argument.</p>
<p>[Notes]</p>
<ul>
<li>
<p>Only a list of those containers on the databases specified while connecting to a cluster can be retrieved.
To obtain a list of container names for other databases, you need to connect to that particular database.</p>
</li>
<li>
<p>Such conditions as regular expressions cannot be specified on container names to be retrieved.</p>
</li>
</ul>
<p><a id="java_containerinfo"></a></p>
<h4 id="retrieving-schema-information-of-a-container">Retrieving schema information of a container</h4>
<p>Retrieve information about containers from the container information &ldquo;ContainerInfo.&rdquo;</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Retrieving container information</td>
<td>GridStore.getContainerInfo(java.lang.String name)</td>
</tr>
</tbody>
</table>
<p>ContainerInfo contains setter methods to retrieve various information. Use whichever method that retrieves information needed.
For details about methods, see <a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java API Reference</a>.</p>
<p>The following is a program for retrieving information on containers and indexes.</p>
<!-- ContainerInformation.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">ContainerInfo</span> <span style="color:#000">containerInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getContainerInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getName</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ContainerType</span> <span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getType</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;, type=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">type</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnCount</span><span style="color:#ce5c00;font-weight:bold">();</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">ColumnInfo</span> <span style="color:#000">info</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">String</span> <span style="color:#000">columnName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">info</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getName</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">GSType</span> <span style="color:#000">columnType</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">info</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getType</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">boolean</span> <span style="color:#000">columnNullable</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">info</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getNullable</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">Set</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">IndexType</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">indexTypes</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">info</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getIndexTypes</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;column name=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">columnName</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;, type=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">columnType</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;, nullable=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">columnNullable</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">indexTypes</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">size</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">0</span> <span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;       indexTypes=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">indexTypes</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p><a id="java_compositekey"></a></p>
<h3 id="handling-composite-row-keys">Handling composite row keys</h3>
<p>In processing for data registration and retrieval, operations can be performed by specifying composite row keys.</p>
<p>Below is a program for registering the data set with composite row keys. As composite row keys, specify the first INTEGER type and the second STRING type.</p>
<!-- CompositeKeyMultiGet.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ContainerInfo</span> <span style="color:#000">containerInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ContainerInfo</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setType</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ContainerType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">COLLECTION</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">columnList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;id&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">INTEGER</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;productName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">STRING</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ColumnInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">GSType</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">INTEGER</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setColumnInfoList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">columnList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setRowKeyColumnList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Arrays</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">asList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Container</span><span style="color:#ce5c00;font-weight:bold">&lt;?,</span> <span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">putContainer</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_CompositeKeyMultiGet1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">nameList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#4e9a06">&#34;notebook PC&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;desktop PC&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;keyboard&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;mouse&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;printer&#34;</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">numberList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">108</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">72</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">25</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">45</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">62</span><span style="color:#ce5c00;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">rowList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ArrayList</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">length</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRow</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">numberList</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">container</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">rowList</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>Below is a program for retrieving data that meets the criteria specified by composite row keys. It specifies individual criteria to retrieve from the first container a row whose INTEGER-type row key value is &ldquo;0&rdquo; and whose STRING-type row key value matches &ldquo;notebook PC,&rdquo; and from the second container a row whose INTEGER-type row key value is &ldquo;2&rdquo; and whose STRING-type row key value matches &ldquo;keyboard&rdquo; and a row whose INTEGER-type row key value is &ldquo;4&rdquo; and whose STRING-type row key value matches &ldquo;printer.&rdquo;</p>
<!-- CompositeKeyMultiGet.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Key</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;</span> <span style="color:#000">predMap</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">HashMap</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Key</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;();</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Key</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">predicate</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">Key</span> <span style="color:#000">rowKey</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRowKey</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span>  <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span>  <span style="color:#4e9a06">&#34;notebook PC&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">predMap</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_CompositeKeyMultiGet1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Key</span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">predicate</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">RowKeyPredicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">create</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">Key</span> <span style="color:#000">rowKey</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createRowKey</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">containerInfo</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span>  <span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span>  <span style="color:#4e9a06">&#34;keyboard&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">,</span>  <span style="color:#000">4</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span>  <span style="color:#4e9a06">&#34;printer&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">add</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">rowKey</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">predMap</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">put</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SampleJava_CompositeKeyMultiGet2&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">predicate</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;</span> <span style="color:#000">outMap</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">store</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">multiGet</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">predMap</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;CompositeKeyMultiGet&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Map</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Entry</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">List</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#000">Row</span><span style="color:#ce5c00;font-weight:bold">&gt;&gt;</span> <span style="color:#000">entry</span> <span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">outMap</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">entrySet</span><span style="color:#ce5c00;font-weight:bold">())</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;containerName=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">entry</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getKey</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Row</span> <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">entry</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getValue</span><span style="color:#ce5c00;font-weight:bold">())</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInteger</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    id=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34; name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34; count=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">count</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>[Notes]</p>
<ul>
<li>Do not use a mixture of both types of criteria: individual criteria and range criteria.</li>
<li>If none of the two criteria is set, all rows will be retrieved.</li>
<li>The RowKeyPredicate class can only be used in the multiGet method for retrieving rows in multiple containers. It is not allowed in other get methods for row retrieval.</li>
</ul>
<h2 id="----c-api-nosql-interface----">&mdash; C API (NoSQL interface) &mdash;</h2>
<h2 id="application-development-using-c-api-linux">Application development using C API (Linux)</h2>
<h3 id="building-a-developmentexecution-environment-1">Building a development/execution environment</h3>
<p>To develop a C API application, install the following packages first:</p>
<table>
<thead>
<tr>
<th>package name</th>
<th>file name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>griddb-ee-c-lib</td>
<td>griddb-ee-c-lib-X.X.X-linux.x86_64.rpm<br>griddb-ee-c-lib_X.X.X_amd64.deb</td>
<td>Includes a C header and library files.<br>(/usr/include/gridstore.h, /usr/lib64/libgridstore.so, libgridstore_advanced.so)</td>
</tr>
</tbody>
</table>
<p>Note: X.X.X. denotes the version of GridDB.</p>
<p>[Memo]
The header and the library path of RHEL and CentOS are:</p>
<ul>
<li>/usr/include/gridstore.h</li>
<li>/usr/lib64/libgridstore.so, libgridstore_advanced.so
The header and the library path of Ubuntu Server are:</li>
<li>/usr/include/gridstore.h</li>
<li>/usr/lib/x86_64-linux-gnu/libgridstore.so, libgridstore_advanced.so</li>
</ul>
<p>In developing or executing applications, set LD_LIBRARY_PATH to the path <code>/usr/lib64</code>.</p>
<p>Example for configuring RHEL and CentOS)</p>
<pre tabindex="0"><code>$ export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/usr/lib64
</code></pre><p>Example for configuring Ubuntu Server)</p>
<pre tabindex="0"><code>$ export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/usr/lib/x86_64-linux-gnu
</code></pre><h3 id="how-to-build-a-program">How to build a program</h3>
<p>This section explains how to compile and run a sample program.</p>
<p>To compile a program, specify the library &ldquo;gridstore&rdquo; with the -l option. Execute the created execution file.</p>
<ul>
<li>
<p>ex.) compiling and running Sample1.c</p>
<pre tabindex="0"><code>$ gcc sapmle1.c -lgridstore -o sample1
$ ./sample1
</code></pre></li>
</ul>
<h2 id="application-development-using-the-c-api-windows">Application development using the C API (Windows)</h2>
<h3 id="building-a-developmentexecution-environment-2">Building a development/execution environment</h3>
<p>C API libraries for Windows can be found in the &ldquo;\Windows \C-API&rdquo; directory in the installation media. (gridstore_c.lib, gridstore.h, gridstore_c.dll, msvcp140.dll, vcruntime140.dll, gridstore_advanced.dll, libssl-1_1-x64.dll, libcrypto-1_1-x64.dll)</p>
<p>The library is a 64-bit dll. There is no dedicated installer. Copy this DLL to a Windows client PC.
Copy gridstore_c.dll., gridstore_advanced.dll, libssl-1_1-x64.dll, and libcrypto-1_1-x64.dll to the directory specified by the environment variable &ldquo;PATH&rdquo;. These dlls have been created using Visual Studio 2019.
If the runtime library for Visual Studio 2019 has not been installed, copy msvcp140.dll and vcruntime140.dll.
(You can download the runtime library for Visual Studio 2019 &ldquo;Microsoft Visual C++ Redistributable for Visual Studio 2019&rdquo; from the Microsoft official page.)</p>
<h3 id="how-to-build-a-program-1">How to build a program</h3>
<p>This section explains how to compile a program.</p>
<p>&lt;How to create a VisualStudio project file&gt;</p>
<ol>
<li>Create an x64 project</li>
</ol>
<ul>
<li>Click Configuration Manager. In the Active solution platform box, select New to create a new platform; select a 64-bit target platform.</li>
</ul>
<ol start="2">
<li>Set the Include directory.</li>
</ol>
<ul>
<li>Select the Configuration Properties &gt; C/C++ &gt; General property page, and in the Additional Include Directories property, specify the directory where gridstore.h exists.</li>
</ul>
<ol start="3">
<li>Set an import library (gridstore_c.lib)</li>
</ol>
<ul>
<li>Under Linker, select Input and add the file to the Additional Dependencies field.</li>
</ul>
<p>list of sample programs</p>
<table>
<thead>
<tr>
<th>category</th>
<th>program name</th>
<th>description</th>
<th>container name to create</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#c_connect">Connecting to a cluster</a></td>
<td>Connect.c</td>
<td>connects to a cluster using the multicast method and then disconnects the connection.</td>
<td>-</td>
</tr>
<tr>
<td><a href="#c_create_collection_by_method">Creating a collection (method)</a></td>
<td>CreateCollectionByMethod.c</td>
<td>creates a collection using a class definition to specify a schema.</td>
<td>SampleC_collection1</td>
</tr>
<tr>
<td><a href="#c_create_collection_by_class">Creating a collection (class definition)</a></td>
<td>CreateCollectionByClass.c</td>
<td>creates a collection using a class definition to specify a schema.</td>
<td>SampleC_collection2</td>
</tr>
<tr>
<td><a href="#c_create_container_by_method">Creating a time-series container (method)</a></td>
<td>CreateTimeSeriesByMethod.c</td>
<td>creates a time-series container by specifying a schema using a method</td>
<td>SampleC_timeseries1</td>
</tr>
<tr>
<td><a href="#c_put_row">Registering a row</a></td>
<td>PutRow.c</td>
<td>registers one row per container</td>
<td>SampleC_PutRow</td>
</tr>
<tr>
<td><a href="#c_put_rows">Registering multiple rows</a></td>
<td>PutRows.c</td>
<td>registers multiple rows per container</td>
<td>SampleC_PutRows</td>
</tr>
<tr>
<td><a href="#c_get_row">Retrieving a row</a></td>
<td>GetRow.c</td>
<td>specifies a row key to retrieve a row from a container</td>
<td>SampleC_GetRow</td>
</tr>
<tr>
<td><a href="#c_tql_select">Searching for a row using a TQL</a></td>
<td>TQLSelect.c</td>
<td>retrieves a row using a TQL SELECT statement.</td>
<td>SampleC_TQLSelect</td>
</tr>
<tr>
<td><a href="#c_tql_aggregation">Executing the TQL aggregate function</a></td>
<td>TQLAggregation.c</td>
<td>Executes an aggregation operation using a TQL statement.</td>
<td>SampleC_TQLAggregation</td>
</tr>
<tr>
<td><a href="#c_multiput">Registering a row in multiple containers</a></td>
<td>MultiPut.c</td>
<td>registers a bulk of rows in multiple containers</td>
<td>SampleC_MultiPut1, SampleC_MultiPut2</td>
</tr>
<tr>
<td><a href="#c_multiget">Retrieving rows from multiple containers</a></td>
<td>MultiGet.c</td>
<td>retrieves a bulk of rows from multiple containers.</td>
<td>SampleC_MultiGet1, SampleC_MultiGet2</td>
</tr>
<tr>
<td><a href="#c_fetchall">Executing TQL on multiple containers</a></td>
<td>FetchAll.c</td>
<td>executes a bulk of TQLs on multiple containers.</td>
<td>SampleC_FetchAll1, SampleC_FetchAll2</td>
</tr>
<tr>
<td><a href="#c_binary">Registering/searching binary data</a></td>
<td>BlobData.c</td>
<td>registers binary data in a container and retrieves the data from a container</td>
<td>SampleC_BlobData</td>
</tr>
<tr>
<td><a href="#c_update">Updating a row</a></td>
<td>UpdateRowByTQL.c</td>
<td>updates a row using the RowSet retrieved by TQL</td>
<td>SampleC_UpdateRowByTQL</td>
</tr>
<tr>
<td><a href="#c_remove_row">Deleting a row (row key)</a></td>
<td>RemoveRowByRowkey.c</td>
<td>specifies a row key to delete a row</td>
<td>SampleC_RemoveRowByRowkey</td>
</tr>
<tr>
<td><a href="#c_remove_rowset">Deleting a row (TQL)</a></td>
<td>RemoveRowByTQL.c</td>
<td>deletes the row retrieved using TQL</td>
<td>SampleC_RemoveRowByTQL</td>
</tr>
<tr>
<td><a href="#c_create_index">Creating an index</a></td>
<td>CreateIndex.c</td>
<td>creates an index</td>
<td>SampleC_Index</td>
</tr>
<tr>
<td><a href="#c_timeseries_function">Performing time-series operations</a></td>
<td>TQLTimeseries.c</td>
<td>performs various operations for time-series data</td>
<td>SampleC_TQLTimeseries</td>
</tr>
<tr>
<td><a href="#c_array_data">Handling array type data</a></td>
<td>ArrayData.c</td>
<td>registers/searches array type data</td>
<td>SampleC_ArrayData</td>
</tr>
<tr>
<td><a href="#c_geometry_data">Handling spatial type data</a></td>
<td>GeometryData.c</td>
<td>registers/searches spatial type data</td>
<td>SampleC_GeometryData</td>
</tr>
<tr>
<td><a href="#c_containernames">Retrieving a list of container names</a></td>
<td>ContainerNames.c</td>
<td>retrieves a list of container names</td>
<td></td>
</tr>
<tr>
<td><a href="#c_containerinfo">Retrieving schema information of a container</a></td>
<td>ContainerInformation.c</td>
<td>Retrieves schema information of a container</td>
<td>SampleC_Info</td>
</tr>
<tr>
<td><a href="#c_compositekey">Using composite row keys to retrieve rows from multiple containers</a></td>
<td>CompositeKeyMultiGet.c</td>
<td>Uses composite row keys to retrieve a bulk of rows from multiple containers.</td>
<td>SampleC_CompositeKeyMultiGet1, SampleC_CompositeKeyMultiGet2</td>
</tr>
</tbody>
</table>
<h2 id="basic-programming-1">Basic programming</h2>
<p>This section explains basic programming using the C API.</p>
<p><a id="c_connect"></a></p>
<h3 id="connecting-to-a-cluster-1">Connecting to a cluster</h3>
<p>Connect to a cluster for data registration/search and other operations
In connection operation, use the following methods:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>GridStoreFactory instance retrieval</td>
<td>gsGetDefaultFactory()</td>
</tr>
<tr>
<td>GridStore instance retrieval</td>
<td>gsGetGridStore(GSGridStoreFactory *factory, const GSPropertyEntry *properties, size_t propertyCount, GSGridStore **store)</td>
</tr>
<tr>
<td>Resource releasing</td>
<td>gsCloseGridStore(GSGridStore **store, GSBool allRelated)</td>
</tr>
</tbody>
</table>
<p>Below is a sample program for connecting to a cluster:</p>
<!-- Connect.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&#34;gridstore.h&#34;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;stdlib.h&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;stdio.h&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">argc</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">char</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">argv</span><span style="color:#000;font-weight:bold">[]){</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSGridStore</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSContainer</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSResult</span> <span style="color:#000">ret</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">size_t</span> <span style="color:#000">stackSize</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSResult</span> <span style="color:#000">errorCode</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSChar</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1024</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1024</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">size_t</span> <span style="color:#000">propCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">props</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">props</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsGetDefaultFactory</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">propCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;gsGetGridStore error</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;containerName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;gsGetContainerGeneral error</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsCloseContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Connect to Cluster</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">gsCloseGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">return</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f57900">LABEL_ERROR</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">stackSize</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorStackSize</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">stackSize</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">errorCode</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorCode</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">gsFormatErrorMessage</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">gsFormatErrorLocation</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;[%d] %s (%s)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errorCode</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsCloseGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">return</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>The following explains the connection operation in the program above.</p>
<p>(1) Set connection information including user and password to GSPropertyEntry.
GSPropertyEntry is an array of combinations of property keys and values.
Calculate the number of specified properties using sizeof. This number will be needed to retrieve an instance in the next step (2).</p>
<p>(2) Retrieve a GridStore instance based on the properties in connection information.</p>
<p>(3) Once a container is created/retrieved using the GridStore object, a connection to the GridDB cluster will be enabled.</p>
<p>(4) Disconnect and release the resources. In the second argument, specify whether to release all the resources that have been retrieved using a GSGridStore instance. If GS_TRUE is specified, all resources will be released. If GS_FALSE is specified, each resource must be released individually elsewhere.</p>
<p>For more about error handling, see the section <a href="#c_error_handling">Error handling</a>.</p>
<h4 id="connection-methods-1">Connection methods</h4>
<p>Three methods are available to connect to a cluster: multicast method, fixed list method, and provider method.</p>
<table>
<thead>
<tr>
<th>Connection methods</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>multicast method</td>
<td>method using multicast communication</td>
</tr>
<tr>
<td>fixed list method</td>
<td>method where the addresses of all the nodes constituting the cluster are specified directly.</td>
</tr>
<tr>
<td>provider method</td>
<td>method where the addresses of all the nodes constituting the cluster are provided by the provider.</td>
</tr>
</tbody>
</table>
<p>In connecting to a cluster from an application, make sure to set the settings on the application side according to the connection method defined in the cluster definition file gs_cluster.json.</p>
<p>First, check which connection method is being used by referring to the cluster definition file gs_cluster.json. Then, enter the corresponding values in the Properties object according to the connection method.</p>
<table>
<thead>
<tr>
<th>Connection methods</th>
<th>Property keys to specify in the application</th>
<th>description</th>
<th>values to be specified</th>
</tr>
</thead>
<tbody>
<tr>
<td>multicast method</td>
<td>notificationAddress<br><br>notificationPort</td>
<td>multicast address<br><br>multicast port number</td>
<td>/values of /transaction/notificationAddress<br><br>values of /transaction/notificationPort</td>
</tr>
<tr>
<td>fixed list method</td>
<td>notificationMember</td>
<td>a list of addresses and port numbers of nodes constituting the cluster</td>
<td>list format values of /transaction/address and /transaction/port in /cluster/notificationMember</td>
</tr>
<tr>
<td>provider method</td>
<td>notificationProvider</td>
<td>provider&rsquo;s URL</td>
<td>values of /cluster/notificationProvider/url</td>
</tr>
</tbody>
</table>
<p>[Memo]
Connection pooling is enabled by default. The maximum number of connections can be specified in the property maxConnectionPoolSize in GridStoreFactory. The default value is 16. For details, see the &ldquo;<a href="../13.md_reference_c_api/md_reference_c_api.html">GridDB C API Reference</a>&rdquo;.</p>
<p>Below are the descriptions of the cluster definition file gs_cluster.json and examples of the corresponding connection programs for each of the three connection methods.</p>
<p><strong>example for the multicast method</strong></p>
<ul>
<li>
<p>If gs_cluster.json is represented as shown below (excerpt):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;transaction&#34;</span><span style="color:#000;font-weight:bold">:{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;notificationAddress&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;notificationInterval&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;1s&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;notificationPort&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">31999</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
<li>
<p>Specify the multicast address and the port number in the Property keys for the connection program, &ldquo;notificationAddress&rdquo; and &ldquo;notificationPort,&rdquo; respectively.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">};</span>
</span></span></code></pre></div></li>
</ul>
<p><strong>example for the fixed list method</strong></p>
<ul>
<li>
<p>Values entered in gs_cluster.json (excerpt)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;replicationNum&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;notificationMember&#34;</span><span style="color:#000;font-weight:bold">:[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.10&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10010</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;sync&#34;</span><span style="color:#000;font-weight:bold">:</span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.10&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10020</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;system&#34;</span><span style="color:#000;font-weight:bold">:</span>  <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.10&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10040</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;transaction&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.10&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10001</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.11&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10010</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;sync&#34;</span><span style="color:#000;font-weight:bold">:</span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.11&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10020</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;system&#34;</span><span style="color:#000;font-weight:bold">:</span>  <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.11&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10040</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;transaction&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.11&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10001</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.12&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10010</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;sync&#34;</span><span style="color:#000;font-weight:bold">:</span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.12&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10020</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;system&#34;</span><span style="color:#000;font-weight:bold">:</span>  <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.12&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10040</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;transaction&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;address&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;192.168.1.12&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">10001</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
<li>
<p>Enter a list of values of colon-separated address/port number pairs separated by a comma in the Property key for the connection program, &ldquo;notificationMember.&rdquo;</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationMember&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;192.168.1.10:10001,192.168.1.11:10001,192.168.1.12:10001&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">};</span>
</span></span></code></pre></div></li>
</ul>
<p><strong>example for the provider method</strong></p>
<ul>
<li>
<p>If gs_cluster.json is represented as shown below (excerpt):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">:{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;replicationNum&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;notificationProvider&#34;</span><span style="color:#000;font-weight:bold">:{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;url&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;http://example.com/notification/provider&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;updateInterval&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;30s&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
<li>
<p>Enter the url in the Property keys for the connection program, &ldquo;notificationProvider.&rdquo;</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationProvider&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;http://example.com/notification/provider&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">};</span>
</span></span></code></pre></div></li>
</ul>
<h4 id="properties-1">Properties</h4>
<p>Main properties other than connection methods include the following:
For details on the rest of the properties and their descriptions, see the section &ldquo;gsGetGridStore&rdquo; in <a href="../13.md_reference_c_api/md_reference_c_api.html">GridDB C API Reference</a>.</p>
<table>
<thead>
<tr>
<th>item</th>
<th>property key</th>
<th>required</th>
<th>values to be specified</th>
</tr>
</thead>
<tbody>
<tr>
<td>cluster name</td>
<td>clusterName</td>
<td>required</td>
<td>values specified in /cluster/clusterName in gs_cluster.json</td>
</tr>
<tr>
<td>database name</td>
<td>database</td>
<td>optional if connecting to a public database<br>If not, required.</td>
<td>name of the database to connect to</td>
</tr>
<tr>
<td>user name</td>
<td>user</td>
<td>required</td>
<td>name of a user who is connecting (both administrative and general users are allowed)</td>
</tr>
<tr>
<td>password</td>
<td>password</td>
<td>required</td>
<td>password of a user who is connecting</td>
</tr>
<tr>
<td>application name</td>
<td>applicationName</td>
<td>optional</td>
<td>name to be used to distinguish an application<br>(shown when checking connection information and events being run using the gs_sh operation tool)</td>
</tr>
<tr>
<td>time zone</td>
<td>timeZone</td>
<td>optional</td>
<td>Specify in hours and minutes using the pattern hh:mm or hhmm<br>time zone ID: supports only &ldquo;Z.&quot;<br>carry-over of a higher environment (JavaVM): auto<br>When omitted, equivalent to &ldquo;Z&rdquo;</td>
</tr>
<tr>
<td>authentication method</td>
<td>authentication</td>
<td>optional</td>
<td>Specify either INTERNAL (internal authentication) or LDAP (LDAP authentication) as an authentication method to be used. <br>* If omitted, the authentication method is automatically selected.</td>
</tr>
<tr>
<td>SSL communication</td>
<td>sslMode</td>
<td>optional</td>
<td>For SSL communication, <br>specify PREFERRED (follows the cluster settings), <br>VERIFY (SSL is valid, and server certificate validation is performed), <br>or DISABLED (SSL is invalid) <br>* If omitted, PREFERRED.</td>
</tr>
<tr>
<td>address of the interface to receive the multicast packets from</td>
<td>notificationInterfaceAddress</td>
<td>optional</td>
<td>To configure the cluster network in multicast mode when multiple network interfaces are available, specify the IP address of the interface to receive the multicast packets from.</td>
</tr>
</tbody>
</table>
<p>[Notes]
| failover timeout | failoverTimeout | optional | The number of seconds required for a client failover to start. <br>* When omitted, the value set for GridStoreFactory is used. |
| transaction timeout | transactionTimeout | optional | the transaction timeouts (in seconds). <br>* When omitted, the value 300 (seconds) is used. |</p>
<p>[Notes]</p>
<ul>
<li>
<p>Apart from the above, the following properties are available to be specified in GridStoreFactory. For details, see the &ldquo;<a href="../13.md_reference_c_api/md_reference_c_api.html">GridDB C API Reference</a>&rdquo;.</p>
<table>
<thead>
<tr>
<th>item</th>
<th>property key</th>
<th>required</th>
<th>values to be specified</th>
</tr>
</thead>
<tbody>
<tr>
<td>failover timeout</td>
<td>failoverTimeout</td>
<td>optional</td>
<td>The number of seconds required for a client failover to start.<br>* When omitted, the value 120 (seconds) is used.</td>
</tr>
<tr>
<td>maximum connection pool size</td>
<td>maxConnectionPoolSize</td>
<td>optional</td>
<td>The maximum number of connections retained in the connection pool. <br>* When omitted, the value 16 is used.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Specify a database while connecting. On that connection, only the data in the specified database can be accessed. To operate on other databases, restart a connection.</p>
<ul>
<li>ex). program for operating on the databases &ldquo;public&rdquo; and &ldquo;userDB1&rdquo;</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// public
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a40000"></span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsGetDefaultFactory</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">propCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store1</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;container1&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsCloseGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// userDB1
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;userDB1&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a40000"></span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsGetDefaultFactory</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">propCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;container2&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsCloseGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div></li>
<li>
<p>To accelerate container retrieval (getContainer), the functionality to cache container information is provided.
Users are recommended to increase the cache size if accessing a large number of containers.
Use the property key at the time of connection to specify the cache size.</p>
<ul>
<li>By default, the cache function is invalid.</li>
<li>Use the number of Container objects that store information in the cache to be stored in the cache as a value to be specified in the property key containerCacheSize.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;containerCacheSize&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;10000&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a40000"></span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
<li>
<p>Connection to clusters actually starts the first time data operation such as container creation and search is performed after creating a GridStore object.
If connection fails due to an error in the connection destination, or for other reasons, a connection error does not occur in the creation of a GridStore object, but in the subsequent data operation method.</p>
</li>
<li>
<p>The supported range of time zone is as follows:</p>
<ul>
<li>offset range: -23:59 - +23:59</li>
<li>summer time: not supported</li>
<li>time zone ID (eg. JST): supports only &ldquo;Z.&rdquo;</li>
</ul>
</li>
<li>
<p>To handle time zones within the date and time functions, see the section <a href="#date_function">Recommendations for applications in using the date and time functions</a> in the Appendix.</p>
</li>
<li>
<p>To specify VERIFY for the settings for SSL communications (sslMode), settings on the GridDB cluster side are also required. For detail, see the section on &ldquo;Communication encryption&rdquo; in the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>. Then, specify the path to the certificate by the Certificate Authority (CA) for the environment variable <code>SSL_CERT_FILE</code>.</p>
</li>
</ul>
<h3 id="creating-a-container-1">Creating a container</h3>
<p>This section shows how to create a container. Containers come in two types: collections and time-series containers.
To create a container, specify schemas, including column names and data types.
The following two methods are available to specify a schema:</p>
<ul>
<li>
<p>How to specify a schema using a method</p>
<ul>
<li>Specify a schema using the C API method.</li>
</ul>
</li>
<li>
<p>How to specify a schema using a struct</p>
<ul>
<li>Specify a schema using a C struct.</li>
</ul>
</li>
</ul>
<p>The following explains these two methods in turn.</p>
<p><a id="c_create_collection_by_method"></a></p>
<h4 id="how-to-specify-a-schema-using-a-method-1">How to specify a schema using a method</h4>
<p>A schema for a container is dynamically specified using the following methods:
For this purpose, use a container information class &ldquo;GSContainerInfo&rdquo; and a column information class &ldquo;GSColumnInfo,&rdquo; both of which represent a schema.
The following are the methods for creating containers using these setters/getters.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Creating a collection</td>
<td>gsPutCollectionGeneral(GSGridStore *store, const GSChar *name, const GSContainerInfo *info, GSBool modifiable, GSCollection **collection)</td>
</tr>
<tr>
<td>Creating a time-series container</td>
<td>gsPutTimeSeriesGeneral (GSGridStore *store, const GSChar *name, const GSContainerInfo *info, GSBool modifiable, GSTimeSeries **timeSeries)</td>
</tr>
<tr>
<td>Creating a container (collection, or time-series container)</td>
<td>gsPutContainerGeneral(GSGridStore *store, const GSChar *name, const GSContainerInfo *info, GSBool modifiable, GSContainer **container)</td>
</tr>
</tbody>
</table>
<p>gsPutContainerGeneral, which is a method for container creation, can create both types of container: collections and time-series containers.</p>
<h5 id="creating-a-collection-with-gsputcollectiongeneral">Creating a collection with gsPutCollectionGeneral</h5>
<p>Below is the entire program to create a collection using gsPutCollectionGeneral for creating a collection.</p>
<!-- CreateCollectionByMethod.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&#34;gridstore.h&#34;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;stdlib.h&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;stdio.h&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">argc</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">char</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">argv</span><span style="color:#000;font-weight:bold">[]){</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSGridStore</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSContainer</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSCollection</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSContainerInfo</span> <span style="color:#000">info</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_INFO_INITIALIZER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSColumnInfo</span> <span style="color:#000">columnInfo</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_COLUMN_INFO_INITIALIZER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSColumnInfo</span> <span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSResult</span> <span style="color:#000">ret</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">size_t</span> <span style="color:#000">stackSize</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSResult</span> <span style="color:#000">errorCode</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GSChar</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1024</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1024</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">size_t</span> <span style="color:#000">propCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">props</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">props</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsGetDefaultFactory</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">propCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetGridStore</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;containerName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsCloseContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Connect to Cluster</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_COLLECTION</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowKeyAssigned</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;id&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;productName&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_STRING</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnInfoList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// (5)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutCollectionGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_collection1&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutCollectionGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Create Collection name=SampleC_collection1</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsCloseGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">return</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f57900">LABEL_ERROR</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">stackSize</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorStackSize</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">stackSize</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">errorCode</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorCode</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">gsFormatErrorMessage</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">gsFormatErrorLocation</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;[%d] %s (%s)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errorCode</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsCloseGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">return</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>The following explains the part of the program where a collection is created; refer to the comments in the program.
(2) Sets column names and data types to column information &ldquo;GSColumnInfo.&rdquo;
If there are multiple columns, multiple GSColumnIinfo objects are created.
(2) Sets GSColumnInfo to container information &ldquo;GSContainterInfo&rdquo;.
(5) With this data, creates a collection using putCollection.</p>
<p>[Notes]</p>
<ul>
<li>
<p>If you specify the same name as another container that already exists, an error does not occur as long as a newly specified schema definition is the same as the schema definition of an existing container.
In this case, the behavior is identical to executing a statement for retrieving a container (eg. including GSGetContainerGeneral).</p>
<p>However, if these schema definitions are different and the argument &ldquo;modifiable&rdquo; is set to true, existing schema definitions will be modified.
In contrast, if these schema definitions are different and the argument &ldquo;modifiable&rdquo; is set to false, an error will occur. Note that &ldquo;modifiable&rdquo; is an argument for specifying whether to permit modifying the schema of an existing container.
Set &ldquo;modifiable&rdquo; to false when creating a new container.</p>
</li>
<li>
<p>If a row key is set, it will be set to the first column.</p>
</li>
</ul>
<p><a id="c_create_container_by_method"></a></p>
<h5 id="creating-a-time-series-container-with-gsputtimeseriesgeneral">Creating a time-series container with gsPutTimeSeriesGeneral</h5>
<p>This section shows how to create a time-series container using gsPutTimeseries for creating a time-series container.
The overall flow of the program is the same as the program for creating a collection; only the differences are shown below.</p>
<!-- CreateTimeseries.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_TIME_SERIES</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowKeyAssigned</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;date&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_TIMESTAMP</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;value&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_DOUBLE</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnInfoList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (5)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutTimeSeriesGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_timeseries1&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">timeseries</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutTimeSeriesGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Create TimeSeries name=SampleC_timeseries1</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>[Notes]</p>
<ul>
<li>In time-series containers, the first column should be a TIMESTAMP data type and a row key should be set.</li>
<li>For other settings specific to a time-series container , use the object &ldquo;GSTimeseriesProperties&rdquo;.</li>
</ul>
<h5 id="creating-a-container-with-gsputcontainergeneral">Creating a container with gsPutContainerGeneral</h5>
<p>gsPutContainerGeneral, which is a method for container creation, can create both types of container: collections and time-series containers.
Use GSContainerInfo.type to specify the types of a collection and a time-series container.</p>
<ul>
<li>
<p>How to create a collection</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_COLLECTION</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;collection3&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div></li>
<li>
<p>How to create a time-series container</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_TIME_SERIES</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;timeseries3&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">timeseries</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div></li>
</ul>
<p><a id="c_create_collection_by_class"></a></p>
<h4 id="how-to-specify-a-schema-using-a-struct">How to specify a schema using a struct</h4>
<p>This section shows how to define a container schema using a C struct. Member variables are mapped to the columns in a GridDB container.
Use the following methods to specify a schema using a struct.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Creating a collection</td>
<td>gsPutCollection(GSGridStore *store, const GSChar *name, const GSBinding *binding, const GSCollectionProperties *properties, GSBool modifiable, GSCollection **collection)</td>
</tr>
<tr>
<td>Creating a time-series container</td>
<td>gsPutTimeSeries(GSGridStore *store, const GSChar *name, const GSBinding *binding, const GSTimeSeriesProperties *properties, GSBool modifiable, GSTimeSeries **timeSeries)</td>
</tr>
<tr>
<td>Creating a container (collection, or time-series container)</td>
<td>gsPutContainer(GSGridStore *store, const GSChar *name, const GSBinding *binding, const GSContainerInfo *info, GSBool modifiable, GSContainer **container)</td>
</tr>
</tbody>
</table>
<p>gsPutContainer, which is a method for container creation, can create both types of container: collections and time-series containers.</p>
<p>Below is a program for creating a collection with a row key, using gsPutCollection for creating a collection.</p>
<p>gsPutTimeSeries for creating time-series containers and gsPutContainer for creating containers follow the same program flow.</p>
<!-- CreateCollectionByClass.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">typedef</span> <span style="color:#204a87;font-weight:bold">struct</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">uint64_t</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span> <span style="color:#000">Product</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">GS_STRUCT_BINDING</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">Product</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GS_STRUCT_BINDING_KEY</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GS_STRUCT_BINDING_ELEMENT</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_STRING</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GS_STRUCT_BINDING_ELEMENT</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">count</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">argc</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">char</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">argv</span><span style="color:#000;font-weight:bold">[]){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// :
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutCollection</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_collection2&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_GET_STRUCT_BINDING</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">Product</span><span style="color:#000;font-weight:bold">),</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutCollection</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stdout</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;Create Collection name=SampleC_collection2</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>(1) defines a collection using a C struct.</p>
<p>(2) defines the mapping between a struct and a collection schema, using GS_STRUCT_BINDING.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>macro</th>
</tr>
</thead>
<tbody>
<tr>
<td>Retrieving the mapping between a struct and a schema.</td>
<td>GS_GET_STRUCT_BINDING(type)</td>
</tr>
<tr>
<td>Defining the mapping between a struct and a schema.</td>
<td>GS_STRUCT_BINDING(type, entries)</td>
</tr>
<tr>
<td>Defining the mapping between a struct member and a row key.</td>
<td>GS_STRUCT_BINDING_KEY(member, memberType)</td>
</tr>
<tr>
<td>Defining the mapping between a struct member and a column (basic type).</td>
<td>GS_STRUCT_BINDING_ELEMENT(member, memberType)</td>
</tr>
<tr>
<td>Defining the mapping between a struct member and a column (array type).</td>
<td>GS_STRUCT_BINDING_ARRAY(member, sizeMember, elementType)</td>
</tr>
<tr>
<td>Defining the mapping between a struct member and a row key (by specifying a column name).</td>
<td>GS_STRUCT_BINDING_NAMED_KEY(name, member, memberType)</td>
</tr>
<tr>
<td>Defining the mapping between a struct member and a column (basic type) by specifying a column name.</td>
<td>GS_STRUCT_BINDING_NAMED_ELEMENT(name, member, memberType)</td>
</tr>
<tr>
<td>Defining the mapping between a struct member and a column (array type) by specifying a column name.</td>
<td>GS_STRUCT_BINDING_NAMED_ARRAY(name, member, sizeMember, elementType)</td>
</tr>
</tbody>
</table>
<ul>
<li>The columns are ordered as specified in the entries in GS_STRUCT_BINDING.</li>
<li>In array types, structs need to have variables for storing array size.</li>
</ul>
<p>ex.)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">typedef</span> <span style="color:#204a87;font-weight:bold">struct</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#204a87;font-weight:bold">int8_t</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">lob</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">size_t</span> <span style="color:#000">lobSize</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span> <span style="color:#000">Product</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">GS_STRUCT_BINDING</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">Product</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GS_STRUCT_BINDING_KEY</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">GS_STRUCT_BINDING_ARRAY</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">lob</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">lobSize</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_BYTE</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>[Notes]</p>
<ul>
<li>If you specify the same name as another container that already exists, an error does not occur as long as a newly specified schema definition is the same as the schema definition of an existing container.
In this case, the behavior is identical to executing a statement for retrieving a container (eg. including GSGetContainerGeneral).</li>
</ul>
<h3 id="retrieving-a-container-1">Retrieving a container</h3>
<p>This section shows how to retrieve a container by specifying its name.
Retrieve a container first in order to register data and manipulate rows, such as TQL.</p>
<p>The following methods are available for container retrieval. These methods are categorized into the following two depending on the differences in the type of rows (GS Row and user-defined structs) used in row manipulation.</p>
<p><strong>GSRow</strong></p>
<ul>
<li>The following methods retrieve container objects. Rows in the retrieved container object can be operated on using GSRow.
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>collection retrieval</td>
<td>gsGetCollectionGeneral(GSGridStore *store, const GSChar *name, GSCollection **collection)</td>
</tr>
<tr>
<td>time-series container retrieval</td>
<td>gsGetTimeSeriesGeneral(GSGridStore *store, const GSChar *name, GSTimeSeries **timeSeries)</td>
</tr>
<tr>
<td>container retrieval</td>
<td>gsGetContainerGeneral(GSGridStore *store, const GSChar *name, GSContainer **container)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p><strong>user-defined structs</strong></p>
<ul>
<li>The following methods retrieve container objects. Rows in the retrieved container object can be operated on by using a struct that the user defined as a schema.
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>collection retrieval</td>
<td>gsGetCollection(GSGridStore *store, const GSChar *name, const GSBinding *binding, GSCollection **collection)</td>
</tr>
<tr>
<td>time-series container retrieval</td>
<td>gsGetTimeSeries(GSGridStore *store, const GSChar *name, const GSBinding *binding, GSTimeSeries **timeSeries)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>ex.) container retrieval (manipulating rows with GSRow)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#000">Row</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsGetCollectionGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;collection1&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsGetRowByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetRowFieldAsString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>ex.) container retrieval (manipulating rows using a user-defined class)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">typedef</span> <span style="color:#204a87;font-weight:bold">struct</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">uint64_t</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span> <span style="color:#000">Product</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GS_STRUCT_BINDING</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">Product</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GS_STRUCT_BINDING_KEY</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GS_STRUCT_BINDING_ELEMENT</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_STRING</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">GS_STRUCT_BINDING_ELEMENT</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">count</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">argc</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">char</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">argv</span><span style="color:#000;font-weight:bold">[]){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">Product</span> <span style="color:#000">product</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// :
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">gsGetCollection</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;collection1&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_GET_STRUCT_BINDING</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">Product</span><span style="color:#000;font-weight:bold">),</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">gsGetRowByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">product</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">product</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// :
</span></span></span></code></pre></div><p><a id="c_put_row"></a></p>
<h3 id="registering-data-1">Registering data</h3>
<p>To register a row in a container, use the following methods:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Creating a row object (with a container specified)</td>
<td>gsCreateRowByContainer(GSContainer *container, GSRow **row)</td>
</tr>
<tr>
<td>Creating a row object (with container information specified)</td>
<td>gsCreateRowByStore(GSGridStore *store, const GSContainerInfo *info, GSRow **row)</td>
</tr>
<tr>
<td>storing a value in a row object</td>
<td>gsSetRowFieldByXXXXX (where XXXXX indicates a data type)</td>
</tr>
<tr>
<td>row registration</td>
<td>gsPutRow(GSContainer *container, const void *key, const void *rowObj, GSBool *exists)</td>
</tr>
</tbody>
</table>
<p>Below is a program for registering one row in a container.</p>
<!-- PutRow.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_PutRow&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87">NULL</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR Container not found. name=SampleC_PutRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCreateRowByContainer</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsSetRowFieldByString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;display&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">150</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>The following explains how to register rows, referring to the program above.
(1) Retrieves a container for registering rows.
(2) Creates an empty row object from a container object.
(3) Sets data to be registered in this empty row object.
(4) Registers the rows in the container in step (1).</p>
<p>For more about mappings between GridDB data types and C data types, see the section <a href="#c_data_type">data type mappings</a>.</p>
<p>[Notes]</p>
<ul>
<li>
<p>For commit, two operating modes are available: auto-commit mode and manual commit mode.</p>
<ul>
<li>In auto-commit mode, executing gsPutRow automatically commits rows.</li>
<li>In manual commit mode, execution of commit is explicitly needed. commit is executed per container. Transaction operations will not be performed across containers.</li>
<li>The default is auto-commit mode.</li>
</ul>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>commit mode settings</td>
<td>gsSetAutoCommit(GSContainer *container, GSBool enabled)</td>
</tr>
<tr>
<td>commit</td>
<td>gsCommit(GSContainer *container)</td>
</tr>
<tr>
<td>abort</td>
<td>gsAbort(GSContainer *container)</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>ex.) manual commit mode</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#000">gsSetAutoCommit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsPutRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsCommit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>If column values are not set in a row object, the initial value of the column will be registered.
The initial value is defined by the data type of a column.
For details, see the section &ldquo;gsCreateRowByStore&rdquo; in <a href="../13.md_reference_c_api/md_reference_c_api.html">GridDB C API Reference</a>.</p>
</li>
</ul>
<p><a id="c_put_rows"></a>
<strong>Registering multiple rows in one container</strong></p>
<p>Multiple rows can be registered all at once. For this purpose, use the following method:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>row registration</td>
<td>gsPutMultipleRows(GSContainer *container, const void *const *rowObjs, size_t rowCount, GSBool *exists)</td>
</tr>
</tbody>
</table>
<p>Below is a program registering multiple rows in one container, using gsPut MultipleRows.</p>
<!-- PutRows.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#000">GSRow</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">rowObj</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSRow</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">rowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// :
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_PutRows&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87">NULL</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR Container not found. name=SampleC_PutRows</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsSetRowFieldByString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;dvd&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">rowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">rowObj</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">void</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000;font-weight:bold">)</span><span style="color:#000">rowList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutMultipleRows</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">rowObj</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutMultipleRows</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>In this program, multiple row objects are created to execute gsPutMultipleRows.</p>
<p>[Notes]</p>
<ul>
<li>
<p>If you specify a row with the same value as an existing row key when performing a put operation on containers with a row key, the existing row will be updated.</p>
</li>
<li>
<p>In auto-commit mode (default), executing put automatically commits rows.</p>
</li>
</ul>
<p><a id="c_get_row"></a></p>
<h3 id="retrieving-data-1">Retrieving data</h3>
<p>Retrieving data means retrieving rows from a container.</p>
<p>In cases of containers with their row keys already set, rows can be retrieved by specifying row key values.
If, on the other hand, row keys are not set, retrieve a row using TQL, as will be described later.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>row retrieval</td>
<td>gsGetRow(GSContainer *container, const void *key, void *rowObj, GSBool *exists)</td>
</tr>
<tr>
<td>row retrieval</td>
<td>gsSetRowFieldByXXXXX (where XXXXX indicates the data type of a row key)</td>
</tr>
<tr>
<td>Retrieving column values from a row object</td>
<td>gsSetRowFieldByXXXXX (where XXXXX indicates the data type of a column)</td>
</tr>
</tbody>
</table>
<p>Below is a program for retrieving a row with a row key value &ldquo;0&rdquo; from a collection with a row key.</p>
<!-- GetRow.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87">NULL</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR Container not found. name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetRowByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetRowByInteger</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetRowFieldAsString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Get Row (id=%d, productName=%s, count=%d)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">productName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>The following explains the operation to retrieve rows in the program above.
(2) Creates an empty row object.
(3) Specifies a row key by performing a get operation on a container and retrieves the row.
(4) Fetches the value of the retrieved row using the get method so as to match the data type of a column.</p>
<h3 id="executing-a-tql-1">Executing a TQL</h3>
<p>This section shows how to execute a TQL.</p>
<p>In TQL execution, the class of run results and their processing method vary according to the type of SELECT selection formulas.</p>
<table>
<thead>
<tr>
<th>types of SELECT selection formulas</th>
<th>description</th>
<th>class type of execution results</th>
</tr>
</thead>
<tbody>
<tr>
<td>row (*)</td>
<td>retrieves rows stored in a container.<br>ex.) SELECT * FROM container1</td>
<td>row object type of a container<br>(type of R in Container&lt;K,R&gt;)</td>
</tr>
<tr>
<td>aggregation operations (including MAX, MIN, and COUNT)</td>
<td>retrieves the result of an aggregation operation.<br>ex.) SELECT COUNT(*) FROM container1</td>
<td>AggregationResult type</td>
</tr>
</tbody>
</table>
<p>[Notes]</p>
<ul>
<li>
<p>To specify containers and columns using TQL, enclose the names with double quotes if they contain any symbols.</p>
<pre tabindex="0"><code>select * from &#34;test.container&#34;;
</code></pre></li>
</ul>
<p><a id="c_tql_select"></a></p>
<h4 id="searching-for-a-row-1">Searching for a row</h4>
<p>To execute a TQL for searching for row values, use the methods below:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>query creation</td>
<td>gsQuery(GSContainer *container, const GSChar *queryString, GSQuery **query)</td>
</tr>
<tr>
<td>query execution</td>
<td>gsFetch(GSQuery *query, GSBool forUpdate, GSRowSet **rowSet)</td>
</tr>
<tr>
<td>whether rows exist in the result set</td>
<td>gsHasNextRow (GSRowSet *rowSet)</td>
</tr>
<tr>
<td>Retrieving row objects from result sets</td>
<td>gsGetNextRow(GSRowSet *rowSet, void *rowObj)</td>
</tr>
</tbody>
</table>
<p>The following is a TQL program for searching a collection for rows whose column count exceeds 50 and returning the search result sorted by ascending order of id.</p>
<!-- TQLSelect.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87">NULL</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR Container not found. name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">queryStr</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SELECT * WHERE count &gt;= 50 ORDER BY id&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TQL query : %s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">queryStr</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">queryStr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsQuery</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsFetch</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsFetch</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsHasNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// (5)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetNextRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetRowFieldAsString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TQL result: id=%d, productName=%s, count=%d</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">productName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>The following explains the search operation in the program above. (2) Creates a query object using a TQL to be executed and performs search using the fetch command.
(3) Creates an empty row object to retrieve results.
(4) Retrieves search results; retrieves row values using the get method so as to match the data type of a column in a container.</p>
<p><a id="c_tql_aggregation"></a></p>
<h4 id="performing-an-aggregation-operation-1">Performing an aggregation operation</h4>
<p>To execute a TQL for an aggregation operation, use the following methods:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>query creation</td>
<td>gsQuery(GSContainer *container, const GSChar *queryString, GSQuery **query)</td>
</tr>
<tr>
<td>query execution</td>
<td>gsFetch(GSQuery *query, GSBool forUpdate, GSRowSet **rowSet)</td>
</tr>
<tr>
<td>whether rows exist in the result set</td>
<td>gsHasNextRow (GSRowSet *rowSet)</td>
</tr>
<tr>
<td>Retrieving GSAggregationResult from result sets</td>
<td>gsGetNextAggregation (GSRowSet *rowSet, GSAggregationResult **aggregationResult)</td>
</tr>
<tr>
<td>retrieving values from GSAggregationResult</td>
<td>gsGetAggregationValueAsXXXXX (where XXXXX indicates a data type)</td>
</tr>
</tbody>
</table>
<p>The following is a program for retrieving the maximum column count from a collection.</p>
<!-- TQLAggregation.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SELECT MAX(count)&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsQuery</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsFetch</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsFetch</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsHasNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int64_t</span> <span style="color:#000">max</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetNextAggregation</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">aggregationResult</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetNextRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">gsGetAggregationValueAsLong</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">aggregationResult</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">max</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TQL result: max=%d</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">max</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(3) When fetching values from GSRowSet, uses gsGetNextAggregation for aggregation operation.
(4) The data type of values of the object GSAggregationResult varies according to the type of aggregation operations performed; retrieves values so as to match the data type.</p>
<p>For more about a list of aggregation operations in a TQL, refer to the section &ldquo;Performing an aggregation operation.&rdquo;</p>
<p>[Notes]</p>
<ul>
<li>Only one aggregation operation can be specified in one query.
<ul>
<li>ex.) The following TQL leads to an error.   SELECT MAX(value), MIN(value)</li>
</ul>
</li>
</ul>
<p><a id="c_batch_functions"></a></p>
<h3 id="performing-a-bulk-of-operations-on-multiple-containers-1">Performing a bulk of operations on multiple containers</h3>
<p>Data registration and search operations allow multiple operations to be performed at once. The following are the methods for multiple containers.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Registering a row in multiple containers</td>
<td>gsPutMultipleContainerRows(GSGridStore *store, const GSContainerRowEntry *entryList, size_t entryCount)</td>
</tr>
<tr>
<td>Retrieving rows from multiple containers</td>
<td>gsGetMultipleContainerRows(GSGridStore *store, const GSRowKeyPredicateEntry *const *predicateList, size_t predicateCount, const GSContainerRowEntry **entryList, size_t *entryCount)</td>
</tr>
<tr>
<td>Executing a TQL on multiple containers</td>
<td>gsFetchAll(GSGridStore *store, GSQuery *const *queryList, size_t queryCount)</td>
</tr>
</tbody>
</table>
<p>Operations on one container and operations on multiple containers differ in methods, retrieval criteria, and other properties; use the one that best suits your purpose.
The table below shows the differences among them.</p>
<p>For explanations on each method, refer to the links in this document.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>container to be processed</th>
<th>method</th>
<th>retrieval criteria</th>
<th>links in this document</th>
</tr>
</thead>
<tbody>
<tr>
<td>row registration</td>
<td>one</td>
<td>gsPutRow<br>gsPutMultipleRows</td>
<td>-</td>
<td><a href="#c_put_row">Registering data</a></td>
</tr>
<tr>
<td></td>
<td>more than one</td>
<td>gsPutMultipleContainerRows</td>
<td>-</td>
<td><a href="#c_put_rows">Registering a row in multiple containers</a></td>
</tr>
<tr>
<td>row retrieval<br>(by specifying a row key)</td>
<td>one</td>
<td>gsGetRow</td>
<td>row key specified</td>
<td><a href="#c_get_row">Retrieving data</a></td>
</tr>
<tr>
<td></td>
<td>more than one</td>
<td>gsGetMultipleContainerRows</td>
<td>Row key or row key range, as specified by the GSRowKeyPredicateEntry class</td>
<td><a href="#c_multiget">Retrieving rows from multiple containers</a></td>
</tr>
<tr>
<td>Row retrieval<br>(TQL execution)</td>
<td>one</td>
<td>gsQuery<br>gsFetch</td>
<td>TQL queries</td>
<td><a href="#c_tql_select">Executing a TQL</a></td>
</tr>
<tr>
<td></td>
<td>more than one</td>
<td>gsFetchAll</td>
<td>TQL queries</td>
<td><a href="#c_fetchall">Executing a TQL on multiple containers</a></td>
</tr>
</tbody>
</table>
<p><a id="c_multiput"></a></p>
<h4 id="registering-a-row-in-multiple-containers-1">Registering a row in multiple containers</h4>
<p>Multiple rows are registered in multiple containers.
For this, you can register rows using multiPut by creating pairs of container names and a list of rows to be registered.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Registering a row in multiple containers</td>
<td>gsPutMultipleContainerRows(GSGridStore *store, const GSContainerRowEntry *entryList, size_t entryCount)</td>
</tr>
</tbody>
</table>
<p>Below is a program for registering two rows in each of the two collections.</p>
<!-- MultiPut.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;SampleC_MultiPut1&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_MultiPut2&#34;</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">size_t</span> <span style="color:#000">containerCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">size_t</span> <span style="color:#000">rowCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">nameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notebook PC&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;desktop PC&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;keyboard&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;mouse&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;printer&#34;</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">numberList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">][</span><span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#0000cf;font-weight:bold">108</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">72</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">25</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">45</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">62</span> <span style="color:#000;font-weight:bold">},</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#0000cf;font-weight:bold">50</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">11</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">208</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">23</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">153</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// :
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">return</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87">NULL</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR Container not found. name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">j</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsSetRowFieldByString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">nameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">numberList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">][</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">allRowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">][</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">inEntry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">containerName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">inEntry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">allRowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">inEntry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">inEntryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">inEntry</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutMultipleContainerRows</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">inEntryList</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutMultipleContainerRows</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">return</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>Just like when registering a row in one container, create an empty row from a container object to create rows to be registered.
Set container information and rows to GSContainerRowEntry and register those rows together using gsPutMultipleContainerRows.</p>
<p>[Notes]</p>
<ul>
<li>Only the existing containers can be specified.</li>
<li>Just like when registering a row in one container, commit is performed per container. This does not mean that all specified multiple containers will be committed together.</li>
</ul>
<p><a id="c_multiget"></a></p>
<h4 id="retrieving-rows-from-multiple-containers-1">Retrieving rows from multiple containers</h4>
<p>The following explains how to retrieve rows that meet the specified criteria from multiple containers.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Retrieving rows from multiple containers</td>
<td>gsGetMultipleContainerRows(GSGridStore *store, const GSRowKeyPredicateEntry *const *predicateList, size_t predicateCount, const GSContainerRowEntry **entryList, size_t *entryCount)</td>
</tr>
</tbody>
</table>
<p>Criteria on row keys can be specified per container. There are two types of criteria: individual criteria, which specify specific values, and range criteria, which specify the value range. Specify these criteria using GSRowKeyPredicate.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Creating criteria</td>
<td>gsCreateRowKeyPredicate(GSGridStore *store, GSType keyType, GSRowKeyPredicate **predicate)</td>
</tr>
<tr>
<td>Setting individual criteria on row keys</td>
<td>gsAddPredicateKeyXXXXX (where XXXXX indicates a data type)</td>
</tr>
<tr>
<td>Setting range criteria on row keys</td>
<td>gsSetPredicateStartKeyXXXXX<br>gsSetPredicateFinishKeyXXXXX<br>(where XXXXX indicates a data type)</td>
</tr>
</tbody>
</table>
<p>[Notes]</p>
<ul>
<li>Do not use a mixture of both types of criteria: individual criteria and range criteria.</li>
<li>If none of the two criteria is set, all rows will be retrieved.</li>
<li>The GSRowKeyPredicate class can only be used in the gsGetMultipleContainerRow method for retrieving rows in multiple containers. It is not allowed in other get methods for row retrieval.</li>
</ul>
<p>Below is a program for retrieving a bulk of rows from collections by setting individual criteria.</p>
<!-- MultiGet.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;SampleC_MultiGet1&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_MultiGet2&#34;</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">size_t</span> <span style="color:#000">containerCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSRowKeyPredicate</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">predicate</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSRowKeyPredicateEntry</span> <span style="color:#000">predEntryValueList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSRowKeyPredicateEntry</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">predEntryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSContainerRowEntry</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">outEntryList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">size_t</span> <span style="color:#000">outEntryCount</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSContainerRowEntry</span> <span style="color:#000">outEntry</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_ROW_ENTRY_INITIALIZER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSChar</span> <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// :
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsCreateRowKeyPredicate</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">predicate</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsAddPredicateKeyByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">predicate</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsAddPredicateKeyByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">predicate</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">predEntryValueList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">].</span><span style="color:#000">containerName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">predEntryValueList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">].</span><span style="color:#000">predicate</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">predicate</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">predEntryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">predEntryValueList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetMultipleContainerRows</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">predEntryList</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">outEntryList</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">outEntryCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetMultipleContainerRows</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">outEntryCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">outEntry</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">outEntryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">outEntry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">GSRow</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000;font-weight:bold">)</span><span style="color:#000">outEntry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsGetRowFieldAsString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;MultiGet: container=%s, id=%d, productName=%s, count=%d</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">outEntry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">productName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(1) Using GSRowKeyPredicate, creates conditions on rows to be retrieved and stores pairs of container names and GSRowKeyPredicate in GSRowKeyPredicateEntry.
(2) Uses gsGetMultipleContainerRows to perform search.
(3) The results are returned as a combination of container names and row lists.</p>
<p><a id="c_fetchall"></a></p>
<h4 id="executing-a-tql-on-multiple-containers-1">Executing a TQL on multiple containers</h4>
<p>TQL is executed on multiple containers. TQL can be specified per container.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Executing a TQL on multiple containers</td>
<td>gsFetchAll(GSGridStore *store, GSQuery *const *queryList, size_t queryCount)</td>
</tr>
</tbody>
</table>
<p>The following is a program for executing two TQLs together, each corresponding to a collection, to retrieve rows.</p>
<!-- FetchAll.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;SampleC_FetchAll1&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_FetchAll2&#34;</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">size_t</span> <span style="color:#000">containerCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">tqlList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;select * where count &gt; 60&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>                  <span style="color:#4e9a06">&#34;select * where count &gt; 100&#34;</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSContainer</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">containerList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSQuery</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">queryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSRowSet</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSChar</span> <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// :
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">containerList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">containerList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87">NULL</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR Container not found. name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;FetchAll query : container=%s, tql=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#000">tqlList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">containerList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#000">tqlList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">queryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsQuery</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsFetchAll</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">queryList</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsFetchAll</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">containerList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetRowSet</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">queryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetRowSet</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsHasNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetNextRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsGetRowFieldAsString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;FetchAll result: container=%s, row=(%d, </span><span style="color:#4e9a06">\&#34;</span><span style="color:#4e9a06">%s</span><span style="color:#4e9a06">\&#34;</span><span style="color:#4e9a06">, %d)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">productName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsCloseRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsCloseRowSet</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsCloseQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">queryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(1) TQL queries are created from container objects and stored in a list.
(3) Executes gsfetchAll to execute all TQLs together.
(3) Search results are stored in the query list specified in (2).</p>
<p><a id="c_binary"></a></p>
<h3 id="handling-binary-data-1">Handling binary data</h3>
<p>This section shows how to register and retrieve binary data. The data type for binary data is Blob type. You can manipulate binary data like other data types.</p>
<p><strong>Registering binary data</strong></p>
<p>The program below loads binary data from a file and registers rows.</p>
<!-- BlobData.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">file</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">fopen</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;BlobData.c&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;rb&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// :
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCreateRowByContainer</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">blob</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">size</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">size</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">blob</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">data</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">data</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsSetRowFieldByBlob</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">blob</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsSetRowFieldByBlob</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(1) Loads binary data from a file. &ldquo;(2) (3) Set binary data in a row object.</p>
<p><strong>Retrieving binary data</strong></p>
<p>Use getBlob to retrieve binary data.</p>
<!-- BlobData.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetRowByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetRowByInteger</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">GSBlob</span> <span style="color:#000">blob</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetRowFieldAsBlob</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">blob</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p><a id="c_update"></a></p>
<h3 id="updating-data-1">Updating data</h3>
<p>Updating data means updating rows. There are two ways to update rows. One is to update them by specifying row keys, and the other is to update them using the execution results of a TQL.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Updating rows by specifying row keys</td>
<td>gsPutRow(GSContainer *container, const void *key, const void *rowObj, GSBool *exists)<br>gsPutMultipleRows(GSContainer *container, const void *const *rowObjs, size_t rowCount, GSBool *exists)</td>
</tr>
<tr>
<td>Updating rows based on TQL run results</td>
<td>gsUpdateCurrentRow (GSRowSet *rowSet, const void *rowObj)</td>
</tr>
</tbody>
</table>
<p>In the first method, where rows are updated by specifying the corresponding row keys, data are only updated if data already exist that contain the same row key as the row specified by the put operation.
If there exist no row key data, or if row keys are not set in the collection, executing the command put will always register new rows.</p>
<p>Below is a program for updating rows based on TQL run results.</p>
<!-- UpdateRowByTQL.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87">NULL</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR Container not found. name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsSetAutoCommit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SELECT * WHERE id = 4&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsQuery</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsFetch</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsFetch</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsHasNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetNextRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">325</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsUpdateCurrentRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsUpdateCurrentRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (5)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCommit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCommit</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Update row id=4</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>[Notes]</p>
<ul>
<li>To update rows based on TQL search results &ldquo;RowSet&rdquo;, set the commit mode to manual commit mode and lock a set of rows in the search results by specifying true as an argument for the gsFetch method.</li>
</ul>
<h3 id="deleting-data-1">Deleting data</h3>
<p>Deleting data means deleting rows. There are two ways to delete rows. One is to delete them by specifying row keys, and the other is to delete them from the search results of a TQL.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>deleting rows by specifying row keys</td>
<td>gsDeleteRow(GSContainer *container, const void *key, GSBool *exists)<br>gsDeleteRowByXXXXX (where XXXXX indicates the data type of a row key)</td>
</tr>
<tr>
<td>deleting rows from TQL search results</td>
<td>gsDeleteCurrentRow(GSRowSet *rowSet)</td>
</tr>
</tbody>
</table>
<p><a id="c_remove_row"></a>
Below is a program for deleting rows whose row key value is &ldquo;3&rdquo; using the first method, namely, by specifying row keys to delete rows.</p>
<!-- RemoveRowByRowkey.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#000">gsDeleteRowByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p><a id="c_remove_rowset"></a>
Below is a program for deleting rows whose column count is below 50, using the second method, namely, by deleting rows from TQL search results</p>
<!-- RemoveRowByTQL.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">container</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#204a87">NULL</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR Container not found. name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsSetAutoCommit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Delete query : %s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SELECT * WHERE count &lt; 50&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SELECT * WHERE count &lt; 50&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsQuery</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsFetch</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsFetch</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsHasNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetNextRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsDeleteCurrentRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsDeleteCurrentRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCommit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCommit</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Delete Row</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>[Notes]</p>
<ul>
<li>To delete rows based on TQL search results &ldquo;RowSet&rdquo;, set the commit mode to manual commit mode and lock a set of rows in the search results by specifying true as an argument for the gsFetch method.</li>
</ul>
<h3 id="deleting-a-container-1">Deleting a container</h3>
<p>The following shows how to delete containers by specifying their names. The following methods can be used to delete containers:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>collection deletion</td>
<td>gsDropCollection(GSGridStore *store, const GSChar *name)</td>
</tr>
<tr>
<td>time-series container deletion</td>
<td>gsDropTimeSeries(GSGridStore *store, const GSChar *name)</td>
</tr>
<tr>
<td>container deletion</td>
<td>gsDropContainer(GSGridStore *store, const GSChar *name)</td>
</tr>
</tbody>
</table>
<p>[Notes]</p>
<ul>
<li>
<p>In cases of gsDropCollection for collection deletion and gsDropTimeSeries for time-series container deletion, an error occurs if the container type specified as an argument and the selected method type differ.</p>
<ul>
<li>ex.) An error occurs while attempting to delete the collection &ldquo;collection1&rdquo; using gsdropTimeSeries.</li>
</ul>
</li>
<li>
<p>gsDropContainer for container deletion can delete both types of container: collections and time-series containers.</p>
</li>
</ul>
<p>Below is a program for deleting the collection &ldquo;collection1&rdquo;.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#000">gsDropCollection</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;collection1&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p><a id="c_create_index"></a></p>
<h3 id="creating-an-index-1">Creating an index</h3>
<p>The following shows how to create an index in a column in a container.</p>
<p>Two types of indexes are available: tree indexes and spatial indexes.
The index types that can be specified depend on the container type and the data type of columns.
For details on index types, see the section <a href="#java_create_index">Creating an index</a> in the previous Chapter on JavaAPI.</p>
<p>The following two methods are available for index creation, which differ in how index types and columns are specified:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>index creation (specify a column name and number, an index type, and an index name)</td>
<td>gsCreateIndexDetail(GSContainer *container, const GSIndexInfo *info)</td>
</tr>
<tr>
<td>index creation (specify a column name and an index type)</td>
<td>gsCreateIndex(GSContainer *container, const GSChar *columnName, GSIndexTypeFlags flags)</td>
</tr>
</tbody>
</table>
<p>[Notes]</p>
<ul>
<li>Specification of index names is optional. Whether specified or not, an index is created.</li>
</ul>
<p>The following is a program fro creating a tree index in the column &ldquo;count&rdquo; of a collection using gsCreateIndexDetail for creating an index.</p>
<!-- CreateIndex.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">GSIndexInfo</span> <span style="color:#000">info</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;tree_index&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_INDEX_FLAG_TREE</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">column</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCreateIndexDetail</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCreateIndexDetail</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">compositeInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;composite_index&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">compositeInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_INDEX_FLAG_TREE</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">compositeInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnNameList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">indexColumnNameList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">compositeInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnNameCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">indexColumnNameCount</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCreateIndexDetail</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">compositeInfo</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCreateIndexDetail</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(1) To GSIndexInfo (index information), sets index type, index name, and a column to create.<br>
(2) Execute gsCreateIndexDetail with GSIndexInfo as an argument.<br>
(3) In composite indexes, use the array form to specify the column to be created (column number or column name), that is specified in the index information GSIndexInfo.<br>
(4) Execute gsCreateIndexDetail with GSIndexInfo as an argument.</p>
<h3 id="others-1">Others</h3>
<p><a id="c_data_type"></a></p>
<h4 id="data-type-mappings-1">Data type mappings</h4>
<p>The following shows mappings between GridDB data types and C data types in the C API. When retrieving and setting values from a row, use the following data types:</p>
<table>
<thead>
<tr>
<th>GridDB data types</th>
<th>C data types</th>
<th>Additional notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL types</td>
<td>GSBool</td>
<td>The value is GS_TRUE or GS_FALSE.</td>
</tr>
<tr>
<td>STRING types</td>
<td>GSChar</td>
<td>GSChar is of char type</td>
</tr>
<tr>
<td>BYTE types</td>
<td>int8_t</td>
<td>-</td>
</tr>
<tr>
<td>SHORT types</td>
<td>int16_t</td>
<td>-</td>
</tr>
<tr>
<td>INTEGER types</td>
<td>int32_t</td>
<td>-</td>
</tr>
<tr>
<td>LONG types</td>
<td>int64_t</td>
<td>-</td>
</tr>
<tr>
<td>FLOAT types</td>
<td>float</td>
<td>-</td>
</tr>
<tr>
<td>DOUBLE types</td>
<td>double</td>
<td>-</td>
</tr>
<tr>
<td>TIMESTAMP types</td>
<td>GSTimestamp</td>
<td>GSTimestamp is an int64_t type. The value represents UNIX time in milliseconds.</td>
</tr>
<tr>
<td>GEOMETRY types</td>
<td>GSChar</td>
<td>The value represent strings in WKT format.</td>
</tr>
<tr>
<td>BLOB types</td>
<td>GSBlob</td>
<td>GSBlob is a struct that has data size &ldquo;size&rdquo; and a pointer to data &ldquo;data&rdquo; as members.</td>
</tr>
</tbody>
</table>
<p><a id="c_error_handling"></a></p>
<h4 id="error-handling-1">Error handling</h4>
<p>Many of the C API methods return an execution result code GSResult, which indicates the success/failure of a method, as a return value.
The success/failure of a method can be checked using the macro GS_SUCCEEDED as follows:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#000">GSResult</span> <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;containerName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">// :
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>If an error occurs, you can obtain error information using the following methods:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Retrieval of the stack size of error information</td>
<td>gsGetErrorStackSize(void *gsResource)</td>
</tr>
<tr>
<td>Retrieval of error codes</td>
<td>gsGetErrorCode(void *gsResource, size_t stackIndex)</td>
</tr>
<tr>
<td>Retrieval of error messages</td>
<td>gsFormatErrorMessage(void *gsResource, size_t stackIndex, GSChar *strBuf, size_t bufSize)</td>
</tr>
<tr>
<td>Retrieval of information on where an internal error occurred</td>
<td>gsFormatErrorLocation(void *gsResource, size_t stackIndex, GSChar *strBuf, size_t bufSize)</td>
</tr>
<tr>
<td>Determination of the error codes for timeout errors</td>
<td>gsIsTimeoutError(GSResult result)</td>
</tr>
</tbody>
</table>
<p>Below is a sample program for displaying error codes and error messages when an error occurs.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#000">size_t</span> <span style="color:#000">stackSize</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">size_t</span> <span style="color:#000">s</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSResult</span> <span style="color:#000">errorCode</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSChar</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1024</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1024</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">stackSize</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorStackSize</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">s</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">s</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">stackSize</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">s</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">errorCode</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorCode</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">s</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsFormatErrorMessage</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">s</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gsFormatErrorLocation</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">s</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[%d] %s (%s)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errorCode</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>In the argument gsResource, specify the object to operate on when an error occurs, or the parent object that created that object.</p>
<p>For example, if an error occurs while registering rows in a container, information on that error can be retrieved by both the container object and the GSGridStore that was used to retrieve this container object.</p>
<p>Depending on how to handle errors in a program, it is possible to handle errors for each method by specifying objects to be processed; it is also possible to group multiple operations into larger units and handle a large number of errors together by specifying GSGridStore.</p>
<p>ex.) handling errors per method</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">stackSize</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorStackSize</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">s</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">s</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">stackSize</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">s</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">errorCode</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetErrorCode</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">s</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">gsFormatErrorMessage</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">s</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">gsFormatErrorLocation</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">s</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[%d] %s (%s)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errorCode</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">errMsgBuf2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">return</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="timestamp-type-utility-function-1">TIMESTAMP type utility function</h4>
<p>TIMESTAMP type errors are treated as GSTimestamp type in the C API.
The following methods are available as utility functions for the GSTIMESTAMP type.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Retrieving the current time</td>
<td>gsCurrentTime()</td>
</tr>
<tr>
<td>Adding time</td>
<td>gsAddTime(GSTimestamp timestamp, int32_t amount, GSTimeUnit timeUnit)</td>
</tr>
<tr>
<td>Converting GSTimestamp type into a string representation</td>
<td>gsFormatTime(GSTimestamp timestamp, GSChar *strBuf, size_t bufSize)</td>
</tr>
<tr>
<td>Converting a string representation into GSTimestamp type</td>
<td>gsParseTime(const GSChar *str, GSTimestamp *timestamp)</td>
</tr>
</tbody>
</table>
<p>Below is an example to convert GSTimestamp type values retrieved from rows into a string representation.</p>
<pre tabindex="0"><code>GSTimestamp GSTimestamp date;
    GSChar buf[GS_TIME_STRING_SIZE_MAX];

    gsGetRowFieldAsTimestamp(row, 0, &amp;date);
    gsFormatTime(date, buf, GS_TIME_STRING_SIZE_MAX);
</code></pre><h2 id="advanced-programming-1">Advanced programming</h2>
<p><a id="c_timeseries_function"></a></p>
<h3 id="handling-time-series-data-1">Handling time-series data</h3>
<p>Operations specific to time-series data can be executed on a time-series container.
This section explains operations specific to time-series data.</p>
<p>Such operations can be executed using TQL or the methods listed below:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>name</th>
<th>TQL operation</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Aggregation operation</td>
<td>weighted average</td>
<td>TIME_AVG</td>
<td>gsAggregateTimeSeries<br>(Specify GS_AGGREGATION_WEIGHTED_AVERAGE)</td>
</tr>
<tr>
<td>Selection operation</td>
<td>time immediately after</td>
<td>TIME_NEXT</td>
<td>gsGetRowByBaseTime<br>(Specify GS_TIME_OPERATOR_NEXT)</td>
</tr>
<tr>
<td></td>
<td>time immediately after</td>
<td>TIME_NEXT_ONLY</td>
<td>gsGetRowByBaseTime<br>(Specify GS_TIME_OPERATOR_NEXT_ONLY)</td>
</tr>
<tr>
<td></td>
<td>time immediately before</td>
<td>TIME_PREV</td>
<td>gsGetRowByBaseTime<br>(Specify GS_TIME_OPERATOR_PREVIOUS)</td>
</tr>
<tr>
<td></td>
<td>time immediately before</td>
<td>TIME_PREV_ONLY</td>
<td>gsGetRowByBaseTime<br>(Specify GS_TIME_OPERATOR_PREVIOUS_ONLY)</td>
</tr>
<tr>
<td>Interpolation operation</td>
<td>linear interpolation</td>
<td>TIME_INTERPOLATED</td>
<td>gsInterpolateTimeSeriesRow</td>
</tr>
<tr>
<td></td>
<td>sampling</td>
<td>TIME_SAMPLING</td>
<td>gsQueryByTimeSeriesSampling</td>
</tr>
</tbody>
</table>
<ul>
<li>In simple search and aggregation operations, slightly better performance may be achieved by using methods than TQL. By contrast, use TQL operations if a large number of hits are expected or if complex operations, such as aggregation after search, are needed.</li>
</ul>
<p>The following explains programming with TQL operations as an example.</p>
<h4 id="aggregation-operation-1">Aggregation operation</h4>
<h5 id="time_avg-weighted-time-average-1">TIME_AVG: weighted time average</h5>
<p>For details on operations, see the section on <a href="#java_timeseries_time_avg">TIME_AVG: weighted time average</a> TIME_AVG: weighted time average&rdquo; in the previous chapter on Java API.</p>
<ul>
<li>
<p>ex.) using TIME_AVG for an aggregation operation in a TQL</p>
  <!-- TQLTimeseries.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TQL query : %s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SELECT TIME_AVG(value1)&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SELECT TIME_AVG(value1)&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsQuery</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsFetch</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsFetch</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsHasNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">double</span> <span style="color:#000">value</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetNextAggregation</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">aggregationResult</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetNextRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetAggregationValueAsDouble</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">aggregationResult</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">value</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TQL result: %lf</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">value</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
</ul>
<p>[Notes]</p>
<ul>
<li>An error occurs if a TIME_AVG operation is executed on a collection using TQL.</li>
<li>It is also possible to execute operations equivalent to TIME_AVG operations in TQL, using the method gsAggregateTimeSeries(GSTimeSeries *timeSeries, GSTimestamp start, GSTimestamp end, const GSChar *column, GSAggregation aggregation, GSAggregationResult **aggregationResult).</li>
</ul>
<h4 id="tql-selection-operations-1">TQL selection operations</h4>
<p>A selection operation returns a row whose time of a row key in a time-series container matches the specified time (timestamp), based on the selection criteria on immediately before/after.</p>
<p>For details on operations, see the section on &ldquo;selection operations&rdquo; in the previous chapter on Java API.</p>
<ul>
<li>
<p>ex.) using a selection operation in a TQL</p>
  <!-- TQLTimeseries.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SELECT TIME_NEXT(*, TIMESTAMP(&#39;2018-12-01T10:10:00.000Z&#39;))&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsQuery</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsFetch</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsFetch</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsHasNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetNextRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetRowFieldAsTimestamp</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">date</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">value1</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetRowFieldAsDouble</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">value2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsFormatTime</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">date</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">buf</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TIME_STRING_SIZE_MAX</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TQL result: row=(%s, %d, %lf)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">buf</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">value1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">value2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
</ul>
<p>[Notes]</p>
<ul>
<li>An error occurs if selection operations for time-series containers are executed on a collection using TQL.</li>
<li>It is also possible to execute operations equivalent to selection operations in TQL, using the method gsGetRowByBaseTime(GSTimeSeries *timeSeries, GSTimestamp base, GSTimeOperator timeOp, void *rowObj, GSBool *exists).</li>
</ul>
<h4 id="tql-interpolation-operations-1">TQL interpolation operations</h4>
<p>This section shows how time-series data is interpolated.</p>
<p>For details on operations, see the section on &ldquo;interpolation operations&rdquo; in the previous chapter on Java API.</p>
<ul>
<li>
<p>ex.) executing an INTER_INTERPOLATED operation</p>
<!-- TQLTimeseries.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SELECT TIME_INTERPOLATED(value1, TIMESTAMP(&#39;2018-12-01T10:30:00.000Z&#39;))&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsQuery</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsFetch</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">query</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsFetch</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsHasNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetNextRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetNextRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetRowFieldAsTimestamp</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">date</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">value1</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsGetRowFieldAsDouble</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">value2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">gsFormatTime</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">date</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">buf</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TIME_STRING_SIZE_MAX</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TQL result: row=(%s, %d, %lf)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">buf</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">value1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">value2</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
</ul>
<p>[Notes]</p>
<ul>
<li>An error occurs if TIME_INTERPOLATED and/or TIME_SAMPLING are executed on a collection using TQL.</li>
<li>You cannot specify aggregation operations (including MAX, MIN, and COUNT), and TIME_INTERPOLATED and/or TIME_SAMPLING simultaneously.</li>
<li>It is also possible to execute operations equivalent to TIME_INTERPOLATED operations in TQL, using the method gsInterpolateTimeSeriesRow(GSTimeSeries *timeSeries, GSTimestamp base, const GSChar *column, void *rowObj, GSBool *exists).</li>
<li>It is also possible to execute operations equivalent to TIME_SAMPLING operations in TQL, using the method gsQueryByTimeSeriesSampling(GSTimeSeries *timeSeries, GSTimestamp start, GSTimestamp end, const GSChar *const *columnSet, size_t columnCount, GSInterpolationMode mode, int32_t interval, GSTimeUnit intervalUnit, GSQuery **query).</li>
</ul>
<p><a id="c_array_data"></a></p>
<h3 id="handling-array-type-data-1">Handling array type data</h3>
<p>Array type setter/getter methods are available for setting and registering array type data.
Use the setter/getter method appropriate for the array data type to register and retrieve data.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Boolean type array</td>
<td>gsSetRowFieldByBoolArray(GSRow *row, int32_t column, const GSBool *fieldValue, size_t size)<br>gsGetRowFieldAsBoolArray(GSRow *row, int32_t column, const GSBool **fieldValue, size_t *size)</td>
</tr>
<tr>
<td>STRING type array</td>
<td>gsSetRowFieldByStringArray(GSRow *row, int32_t column, const GSChar *const *fieldValue, size_t size)<br>gsGetRowFieldAsStringArray(GSRow *row, int32_t column, const GSChar *const **fieldValue, size_t *size)</td>
</tr>
<tr>
<td>BYTE type array</td>
<td>gsSetRowFieldByByteArray(GSRow *row, int32_t column, const int8_t *fieldValue, size_t size)<br>gsGetRowFieldAsByteArray(GSRow *row, int32_t column, const int8_t **fieldValue, size_t *size)</td>
</tr>
<tr>
<td>SHORT type array</td>
<td>gsSetRowFieldByShortArray(GSRow *row, int32_t column, const int16_t *fieldValue, size_t size)<br>gsGetRowFieldAsShortArray(GSRow *row, int32_t column, const int16_t **fieldValue, size_t *size)</td>
</tr>
<tr>
<td>INTEGER type array</td>
<td>gsSetRowFieldByIntegerArray(GSRow *row, int32_t column, const int32_t *fieldValue, size_t size)<br>gsGetRowFieldAsIntegerArray(GSRow *row, int32_t column, const int32_t **fieldValue, size_t *size)</td>
</tr>
<tr>
<td>LONG type array</td>
<td>gsSetRowFieldByLongArray(GSRow *row, int32_t column, const int64_t *fieldValue, size_t size)<br>gsGetRowFieldAsLongArray(GSRow *row, int32_t column, const int64_t **fieldValue, size_t *size)</td>
</tr>
<tr>
<td>FLOAT type array</td>
<td>gsSetRowFieldByFloatArray(GSRow *row, int32_t column, const float *fieldValue, size_t size)<br>gsGetRowFieldAsFloatArray(GSRow *row, int32_t column, const float **fieldValue, size_t *size)</td>
</tr>
<tr>
<td>DOUBLE type array</td>
<td>gsSetRowFieldByDoubleArray(GSRow *row, int32_t column, const double *fieldValue, size_t size)<br>gsGetRowFieldAsDoubleArray(GSRow *row, int32_t column, const double **fieldValue, size_t *size)</td>
</tr>
<tr>
<td>TIMESTAMP type array</td>
<td>gsSetRowFieldByTimestampArray(GSRow *row, int32_t column, const GSTimestamp *fieldValue, size_t size)<br>gsGetRowFieldAsTimestampArray(GSRow *row, int32_t column, const GSTimestamp **fieldValue, size_t *size)</td>
</tr>
</tbody>
</table>
<p>Below is a program for registering array type data.</p>
<!-- ArrayData.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">stringArray</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;Sales&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;Development&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;Marketing&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;Research&#34;</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#204a87;font-weight:bold">int32_t</span> <span style="color:#000">integerArray</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#0000cf;font-weight:bold">39</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">92</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">18</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">51</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCreateRowByContainer</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsSetRowFieldByStringArray</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">stringArray</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsSetRowFieldByIntegerArray</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">integerArray</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsCloseRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><p>Below is a program for retrieving array type data.</p>
<!-- ArrayData.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int32_t</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">stringArray</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#204a87;font-weight:bold">int32_t</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">integerArray</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">size_t</span> <span style="color:#000">stringCount</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">size_t</span> <span style="color:#000">integerCount</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetRowByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetRowByInteger</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetRowFieldAsStringArray</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">stringArray</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">stringCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetRowFieldAsIntegerArray</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">integerArray</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">integerCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Get Row (id=%d,&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;[&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">for</span><span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">stringCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">)</span> <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;, &#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;%s&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">stringArray</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">stringArray</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;],[&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">for</span><span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">integerCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">)</span> <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;, &#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;%d&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">integerArray</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">integerArray</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;])</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsCloseRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>[Notes]</p>
<ul>
<li>Array type columns cannot be set in row keys.</li>
</ul>
<p><a id="c_geometry_data"></a></p>
<h3 id="handling-spatial-type-data-1">Handling spatial type data</h3>
<p>This section explains how to register and retrieve spatial type data.</p>
<p>Values are handled in Well-Known Text (WKT) format which represent spatial type data.
WKT format is an ISO standard used to represent spatial data in a textual format.</p>
<ul>
<li>ex.) spatial type data in WKT format
<ul>
<li>a point (2,3) on the two-dimensional spacePOINT (2 3)</li>
</ul>
</li>
</ul>
<p>Spatial type setter/getter methods are available for setting and registering spatial type data.
Register/retrieve spatial type data using these setters/getters.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Setting of spatial type data</td>
<td>gsSetRowFieldByGeometry(GSRow *row, int32_t column, const GSChar *fieldValue)</td>
</tr>
<tr>
<td>Extraction of spatial type data</td>
<td>gsGetRowFieldAsGeometry(GSRow *row, int32_t column, const GSChar **fieldValue)</td>
</tr>
</tbody>
</table>
<p>Below is a program for registering spatial type data.</p>
<!-- GeometryData.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCreateRowByContainer</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsSetRowFieldByGeometry</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;POINT(2 3)&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutRow</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Put Row (Geometry)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsCloseRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>Below is a program for retrieving spatial type data.</p>
<!-- GeometryData.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int32_t</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">geometry</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetRowByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetRowByInteger</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetRowFieldAsGeometry</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">geometry</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Get Row (id=%d, geometry=%s)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">geometry</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsCloseRow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>[Notes]</p>
<ul>
<li>Spatial type columns cannot be set for row keys.</li>
</ul>
<h3 id="retrieving-container-information-1">Retrieving container information</h3>
<p>This section explains the operation for retrieving information on containers.</p>
<ul>
<li>Retrieving a list of container names</li>
<li>Retrieving schema information of a container</li>
</ul>
<p><a id="c_containernames"></a></p>
<h4 id="retrieving-a-list-of-container-names-1">Retrieving a list of container names</h4>
<p>The following methods retrieve a list of the containers that have been created.</p>
<p>To retrieve a list of container names, use a controller &ldquo;GSPartitionController&rdquo; instance for retrieving partition information.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Retrieving partition controllers</td>
<td>gsGetPartitionController(GSGridStore *store, GSPartitionController **partitionController)</td>
</tr>
<tr>
<td>Retrieving the number of partitions</td>
<td>gsGetPartitionCount(GSPartitionController *controller, int32_t *partitionCount)</td>
</tr>
<tr>
<td>Retrieving a list of container names</td>
<td>gsGetPartitionContainerNames(GSPartitionController *controller, int32_t partitionIndex, int64_t start, const int64_t *limit, const GSChar *const **nameList, size_t *size)</td>
</tr>
</tbody>
</table>
<p>A list of container names can be retrieved for each partition via a partition controller.
Below is a program for retrieving a list of container names.</p>
<!-- ContainerNames.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#000">GSPartitionController</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">pc</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int32_t</span> <span style="color:#000">pcCount</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSChar</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000">nameList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">size_t</span> <span style="color:#000">nameCount</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetPartitionController</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">pc</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetPartitionController</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">gsGetPartitionCount</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">pc</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">pcCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span><span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">pcCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetPartitionContainerNames</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">pc</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">nameList</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">nameCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetPartitionContainerNames</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">for</span><span style="color:#000;font-weight:bold">(</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">nameCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">nameList</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">nameList</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(2) If the third argument &ldquo;start&rdquo; is specified as 0, and the fourth argument &ldquo;limit&rdquo; as NULL using the method gsGetPartitionContainerNames, all containers on the specified partition will be retrieved.
To limit the number of container names to retrieve, specify that number of limits to the fourth argument &ldquo;limit&rdquo;.</p>
<p>[Notes]</p>
<ul>
<li>
<p>Only a list of those containers on the databases specified while connecting to a cluster can be retrieved.
To obtain a list of container names for other databases, you need to connect to that particular database.</p>
</li>
<li>
<p>Such conditions as regular expressions cannot be specified on container names to be retrieved.</p>
</li>
</ul>
<p><a id="c_containerinfo"></a></p>
<h4 id="retrieving-schema-information-of-a-container-1">Retrieving schema information of a container</h4>
<p>Retrieve information about containers from the container information &ldquo;ContainerInfo.&rdquo;</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Retrieving container information</td>
<td>gsGetContainerInfo(GSGridStore *store, const GSChar *name, GSContainerInfo *info, GSBool *exists)</td>
</tr>
</tbody>
</table>
<p>ContainerInfo contains setter methods to retrieve various information. Use whichever method that retrieves information needed.
For details about methods, see <a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java API Reference</a>.</p>
<p>The following is a program for retrieving information on container columns.</p>
<!-- ContainerInformation.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#000">GSContainerInfo</span> <span style="color:#000">info</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_INFO_INITIALIZER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GSBool</span> <span style="color:#000">exist</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerInfo</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_Info&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">exist</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerInfo</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">exist</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Container not found</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Get ContainerInfo: </span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">    name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#000">GS_CONTAINER_COLLECTION</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    type=Collection</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    type=TimeSeries</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    rowKeyAssigned=%d</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowKeyAssigned</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    columnCount=%d</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;    column (%s, %d)</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">].</span><span style="color:#000">name</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">].</span><span style="color:#000">type</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p><a id="c_compositekey"></a></p>
<h3 id="handling-composite-row-keys-1">Handling composite row keys</h3>
<p>In processing for data registration and retrieval, operations can be performed by specifying composite row keys.</p>
<p>Below is a program for registering the data set with composite row keys. As composite row keys, specify the first INTEGER type and the second STRING type.</p>
<!-- CompositeKeyMultiGet.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">GSPropertyEntry</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationAddress&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;notificationPort&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;31999&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;clusterName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;database&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;public&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;admin&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">{</span> <span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">size_t</span> <span style="color:#000">propCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">props</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">props</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#204a87;font-weight:bold">int32_t</span> <span style="color:#000">rowKeyColumnList</span><span style="color:#000;font-weight:bold">[]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#000;font-weight:bold">};</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">size_t</span> <span style="color:#000">rowKeyColumnCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rowKeyColumnList</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">rowKeyColumnList</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">GSBool</span> <span style="color:#000">exists</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetGridStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">gsGetDefaultFactory</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#000">props</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">propCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetGridStore</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleC_CompositKey&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">collection</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetContainerGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">gsCloseContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Connect to Cluster</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">info0</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_CONTAINER_COLLECTION</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">info0</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowKeyColumnList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rowKeyColumnList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">info0</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowKeyColumnCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rowKeyColumnCount</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;id&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;productName&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_STRING</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GS_TYPE_INTEGER</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfo</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnCount</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#204a87;font-weight:bold">sizeof</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">info</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">columnInfoList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">columnInfoList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutContainerGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_FALSE</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutCollectionGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Sample data generation: Create Collection name=%s</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">gsCreateRowByContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">j</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">gsSetRowFieldByString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">nameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">numberList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">][</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">]);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">rowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">row</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">rowObj</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">void</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000;font-weight:bold">)</span><span style="color:#000">rowList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsPutMultipleRows</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">rowObj</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">NULL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsPutMultipleRows</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Sample data generation: Put Rows count=%d</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">gsCloseContainer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">container</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">GS_TRUE</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>Below is a program for retrieving data that meets the criteria specified by composite row keys. It specifies individual criteria to retrieve from the first container a row whose INTEGER-type row key value is &ldquo;0&rdquo; and whose STRING-type row key value matches &ldquo;notebook PC,&rdquo; and from the second container a row whose INTEGER-type row key value is &ldquo;0&rdquo; and whose STRING-type row key value matches &ldquo;notebook PC,&rdquo; in the same manner as the first container.</p>
<!-- CompositeKeyMultiGet.c -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCreateRowKeyByStore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">rowKey</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCreateRowKeyByStore</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsSetRowFieldByInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rowKey</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsSetRowFieldByInteger</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsSetRowFieldByString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">rowKey</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;notebook PC&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsSetRowFieldByInteger</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsCreateRowKeyPredicateGeneral</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">info0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">predicate</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsCreateRowKeyPredicateGeneral</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsAddPredicateGeneralKey</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">predicate</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">rowKey</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsAddPredicateGeneralKey</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">predEntryValueList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">].</span><span style="color:#000">containerName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">containerNameList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">predEntryValueList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">].</span><span style="color:#000">predicate</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">predicate</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">predEntryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">predEntryValueList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ret</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">gsGetMultipleContainerRows</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">store</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">predEntryList</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">containerCount</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">outEntryList</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">outEntryCount</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">!</span><span style="color:#000">GS_SUCCEEDED</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ret</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fprintf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stderr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;ERROR gsGetMultipleContainerRows</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">goto</span> <span style="color:#000">LABEL_ERROR</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">outEntryCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">outEntry</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">outEntryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">outEntry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">allRowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">][</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">GSRow</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000;font-weight:bold">)</span><span style="color:#000">outEntry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">rowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">outEntryCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">outEntryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">].</span><span style="color:#000">rowCount</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">j</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">allRowList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">][</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">gsGetRowFieldAsString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">productName</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">gsGetRowFieldAsInteger</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">row</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;MultiGet: container=%s, id=%d, productName=%s, count=%d</span><span style="color:#4e9a06">\n</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">outEntryList</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">].</span><span style="color:#000">containerName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">productName</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">count</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>[Notes]</p>
<ul>
<li>Do not use a mixture of both types of criteria: individual criteria and range criteria.</li>
<li>If none of the two criteria is set, all rows will be retrieved.</li>
<li>The GSRowKeyPredicate class can only be used in the gsGetMultipleContainerRows method for retrieving rows in multiple containers. It is not allowed in other gsGetRow methods for row retrieval.</li>
<li>Such functions as gsGetRowFieldAsString that retrieve the result gsGetRowFieldAsXXX and gsGetPredicateDistinctKeysAsString that retrieves values for the criteria gsGetPredicateXXX may modify the temporary memory area that stores the values of specified GSRow and GSRowKeyPredicate. For detail, see the description of a &quot; temporary memory area&rdquo; in each function in the <a href="../13.md_reference_c_api/md_reference_c_api.html">GridDB C API Reference</a>.</li>
</ul>
<h2 id="----jdbc-newsql-interface----">&mdash; JDBC (NewSQL interface) &mdash;</h2>
<h2 id="developing-applications-using-jdbc">Developing applications using JDBC</h2>
<h3 id="building-a-developmentexecution-environment-3">Building a development/execution environment</h3>
<p>To develop JDBC applications, the following packages need to be installed.</p>
<table>
<thead>
<tr>
<th>package name</th>
<th>file name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>griddb-ee-java-lib</td>
<td>griddb-ee-java-lib-X.X.X-linux.x86_64.rpm<br>griddb-ee-java-lib_X.X.X_amd64.deb</td>
<td>contains Java API libraries (gridstore.jar, gridstore-conf.jar, gridstore-advanced.jar, gridstore-jdbc.jar).</td>
</tr>
</tbody>
</table>
<p>Note: X.X.X. denotes the version of GridDB.</p>
<p>To develop or execute an application, specify the following library in the class path:</p>
<ul>
<li>/usr/share/java/gridstore-jdbc.jar</li>
</ul>
<p>To secure communication between the GridDB cluster and the client, using the SSL function, additionally specify the following library in the class path.</p>
<ul>
<li>/usr/share/java/gridstore-advanced.jar</li>
</ul>
<h3 id="log-functionality">Log functionality</h3>
<p>GridDB JDBC has a functionality to output logs for each method call. These logs record what operations have been performed using JDBC, which means they can be used as a source of information for analyzing the cause of a problem, should a problem occur in the application.
It is recommended to validate the log functionality.</p>
<p>To validate the log functionality, add the following library to the class path.</p>
<ul>
<li>/usr/share/java/gridstore-jdbc-call-logging.jar</li>
</ul>
<p>Second, place the SLF4J library on the class path; the log functionality uses SLF4J.</p>
<ul>
<li>ex.) In the case where the client package has been installed
<ul>
<li>/usr/griddb/lib/slf4j-api-1.7.5.jar</li>
</ul>
</li>
</ul>
<p>Third, add the logging library to the class path.
The example below assumes the logging library uses Logback.</p>
<ul>
<li>ex.) In the case where the client package has been installed
<ul>
<li>/usr/griddb/lib/logback-core-1.0.13.jar</li>
<li>/usr/griddb/lib/logback-classic-1.0.13.jar</li>
</ul>
</li>
</ul>
<p>Fourth, place the logback settings file (logback.xml) in the directory, which in turn is placed in the class path.</p>
<ul>
<li>ex.) copies a sample logback settings file (logback.xml) and place it in my_class_path/logback.xml
<ul>
<li>$ cp /usr/griddb-ae-newsql-4.X.X/lib/conf/logback-jdbc-sample.xml my_class_path/logback.xml</li>
</ul>
</li>
</ul>
<p>The configuration that needs to be defined in the Logback settings file will be explained later.</p>
<h4 id="log-output">log output</h4>
<p>JDBC outputs the following logs:</p>
<ul>
<li>log level: TRACE</li>
<li>log at the start of a method</li>
<li>log showing the arguments of a method</li>
<li>log showing the return values of a method</li>
<li>log at the end of a method</li>
</ul>
<p>Log outputs cover the following:</p>
<ul>
<li>Connection interface</li>
<li>DatabaseMetaData interface</li>
<li>ParameterMetaData interface</li>
<li>PreparedStatement interface</li>
<li>ResultSetMetaData interface</li>
<li>Statement interface</li>
</ul>
<h4 id="logback-settings-file">Logback settings file</h4>
<p>JDBC log starts with the logger name &ldquo;com.toshiba.mwcloud.gs.sql.Logger&rdquo;.
The output method of this logger is defined in the Logback settings file. A sample settings file is shown below:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&lt;configuration</span> <span style="color:#c4a000">scan=</span><span style="color:#4e9a06">&#34;true&#34;</span> <span style="color:#c4a000">scanPeriod=</span><span style="color:#4e9a06">&#34;10 minutes&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">&lt;property</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;logPath&#34;</span> <span style="color:#c4a000">value=</span><span style="color:#4e9a06">&#34;/var/lib/gridstore/log&#34;</span> <span style="color:#204a87;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">&lt;appender</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;FILEJDBCLOG&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#c4a000">class=</span><span style="color:#4e9a06">&#34;ch.qos.logback.core.rolling.RollingFileAppender&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">&lt;rollingPolicy</span> <span style="color:#c4a000">class=</span><span style="color:#4e9a06">&#34;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#204a87;font-weight:bold">&lt;fileNamePattern&gt;</span>${logPath}/gridstore-jdbc-%d{yyyyMMdd}-%i.log<span style="color:#204a87;font-weight:bold">&lt;/fileNamePattern&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#204a87;font-weight:bold">&lt;timeBasedFileNamingAndTriggeringPolicy</span> <span style="color:#c4a000">class=</span><span style="color:#4e9a06">&#34;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>				<span style="color:#204a87;font-weight:bold">&lt;maxFileSize&gt;</span>100MB<span style="color:#204a87;font-weight:bold">&lt;/maxFileSize&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#204a87;font-weight:bold">&lt;/timeBasedFileNamingAndTriggeringPolicy&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#204a87;font-weight:bold">&lt;maxHistory&gt;</span>30<span style="color:#204a87;font-weight:bold">&lt;/maxHistory&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">&lt;/rollingPolicy&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">&lt;encoder&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#204a87;font-weight:bold">&lt;pattern&gt;</span>%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] [%-5p] %m%n<span style="color:#204a87;font-weight:bold">&lt;/pattern&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">&lt;/encoder&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">&lt;/appender&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">&lt;logger</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;com.toshiba.mwcloud.gs.sql.Logger&#34;</span> <span style="color:#c4a000">level=</span><span style="color:#4e9a06">&#34;TRACE&#34;</span> <span style="color:#c4a000">additivity=</span><span style="color:#4e9a06">&#34;false&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">&lt;appender-ref</span> <span style="color:#c4a000">ref=</span><span style="color:#4e9a06">&#34;FILEJDBCLOG&#34;</span> <span style="color:#204a87;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">&lt;/logger&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">&lt;root</span> <span style="color:#c4a000">level=</span><span style="color:#4e9a06">&#34;info&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">&lt;/root&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&lt;/configuration&gt;</span>
</span></span></code></pre></div><p>The sample above outputs the JDBC log in the log file in the file with the following name:</p>
<ul>
<li>/var/lib/gridstore/log/griddb-jdbc.yyyymmdd.n.log
<ul>
<li>where yyyymmdd is the date (year, month, day).</li>
</ul>
</li>
</ul>
<p>Below is an example of log outputs.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">2019-03-08 11:32:13.008 [main] [TRACE] [Trace Start] pid=16112 SQLConnection::prepareStatement()
2019-03-08 11:32:13.011 [main] [TRACE]   [argument]  pid=16112 String=select * from Collection_NoPart_0001 where id = ? and integercol = ?
2019-03-08 11:32:13.049 [main] [TRACE]   [return]    pid=16112 $Proxy3=com.toshiba.mwcloud.gs.sql.internal.SQLPreparedStatement@37b79249
2019-03-08 11:32:13.049 [main] [TRACE] [Trace End]   pid=16112 SQLConnection::prepareStatement()
2019-03-08 11:32:13.049 [main] [TRACE] [Trace Start] pid=16112 SQLPreparedStatement::setString()
2019-03-08 11:32:13.049 [main] [TRACE]   [argument]  pid=16112 Integer=1
2019-03-08 11:32:13.049 [main] [TRACE]   [argument]  pid=16112 String=ID0005
2019-03-08 11:32:13.049 [main] [TRACE] [Trace End]   pid=16112 SQLPreparedStatement::setString()
2019-03-08 11:32:13.050 [main] [TRACE] [Trace Start] pid=16112 SQLPreparedStatement::setInt()
2019-03-08 11:32:13.050 [main] [TRACE]   [argument]  pid=16112 Integer=2
2019-03-08 11:32:13.050 [main] [TRACE]   [argument]  pid=16112 Integer=10006
2019-03-08 11:32:13.050 [main] [TRACE] [Trace End]   pid=16112 SQLPreparedStatement::setInt()
2019-03-08 11:32:13.050 [main] [TRACE] [Trace Start] pid=16112 SQLPreparedStatement::executeQuery()
2019-03-08 11:32:13.060 [main] [TRACE]   [return]    pid=16112 SQLResultSet=com.toshiba.mwcloud.gs.sql.internal.SQLResultSet@52e53663
2019-03-08 11:32:13.060 [main] [TRACE] [Trace End]   pid=16112 SQLPreparedStatement::executeQuery()
2019-03-08 11:32:13.061 [main] [TRACE] [Trace Start] pid=16112 SQLConnection::close()
2019-03-08 11:32:13.062 [main] [TRACE] [Trace End]   pid=16112 SQLConnection::close()
</code></pre><h3 id="executing-a-sample-program-1">Executing a sample program</h3>
<p>This section explains how to compile and run a sample program.</p>
<p>To compile and run a sample program, add the library gridstore-jdbc.jar to the class path.</p>
<ul>
<li>
<p>ex). compilation/execution of Sample.java</p>
<pre tabindex="0"><code>$ javac -classpath &#34;/usr/share/java/gridstore-jdbc.jar:.&#34; Sample.java
$ java -classpath &#34;/usr/share/java/gridstore-jdbc.jar:.&#34; Sample
</code></pre></li>
</ul>
<p>list of sample programs</p>
<table>
<thead>
<tr>
<th>category</th>
<th>program name</th>
<th>description</th>
<th>container name to create</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#jdbc_connect">Connecting to a cluster</a></td>
<td>JDBCConnect.java</td>
<td>connects to a cluster using the multicast method and then disconnects the connection.</td>
<td>-</td>
</tr>
<tr>
<td><a href="#jdbc_sql_create_insert">Executing an SQL (container creation and row registration)</a></td>
<td>JDBCCreateTableInsert.java</td>
<td>creates a container and registers a row using SQL</td>
<td>SampleJDBC_Create</td>
</tr>
<tr>
<td><a href="#jdbc_sql_select">Executing an SQL (search)</a></td>
<td>JDBCSelect.java</td>
<td>searches for rows in an SQL</td>
<td>SampleJDBC_Select</td>
</tr>
<tr>
<td><a href="#jdbc_prepared">Executing a prepared statement</a></td>
<td>JDBCPreparedStatement.java</td>
<td>creates a time-series container by specifying a schema using a method</td>
<td>SampleJDBC_Prepared</td>
</tr>
<tr>
<td><a href="#jdbc_blob">Handling binary data</a></td>
<td>JDBCBlobData.java</td>
<td>handles binary data</td>
<td>SampleJDBC_BlobData</td>
</tr>
<tr>
<td><a href="#jdbc_meta">Retrieving metadata</a></td>
<td>JDBCMetaData.java</td>
<td>retrieves metadata</td>
<td>-</td>
</tr>
</tbody>
</table>
<h2 id="basic-programming-2">Basic programming</h2>
<p>The JDBC provided by GridDB is compatible with the JDBC standard, but some features are not supported by the GridDB JDBC and some differences exist between the two.
For details, see <a href="../16.md_reference_jdbc/md_reference_jdbc.md">GridDB JDBC Driver User Guide</a>.</p>
<p><a id="jdbc_connect"></a></p>
<h3 id="connecting-to-a-cluster-2">Connecting to a cluster</h3>
<p>This section explains how to connect to a cluster using the JDBC DriverManaget interface.</p>
<p>To connect to a cluster, use one of the methods below:</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
<th>specification of the user and password</th>
</tr>
</thead>
<tbody>
<tr>
<td>connection</td>
<td>DriverManager.getConnection(String url)</td>
<td>Specify the user and password in the URL.<br>URL format: http://&hellip;&amp;user=(user name)&amp;password=(password)</td>
</tr>
<tr>
<td>connection</td>
<td>DriverManager.getConnection(String url, String user, String password)</td>
<td>Specify the user and password in the argument.</td>
</tr>
<tr>
<td>connection</td>
<td>DriverManager.getConnection(String url, Properties info)<br>or<br>Connection Driver.connect(String url, Properties info)</td>
<td>Specify the user, password, application names, and other necessary data in the Properties. <br>Property keys<br>user: user name (required)<br>password: password (required)<br>applicationName: application name (optional)<br>loginTimeout: login timeout (optional)</td>
</tr>
</tbody>
</table>
<p>Below is a connection program that uses DriverManager.getConnection to specify the user and password in the Properties.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.net.URLEncoder</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.sql.Connection</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.sql.DriverManager</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Properties</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">JDBCConnect</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">try</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">jdbcAddress</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">jdbcPort</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;41999&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">clusterName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">databaseName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">username</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">password</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">applicationName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SampleJDBC&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">String</span> <span style="color:#000">encodeClusterName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">clusterName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">encodeDatabaseName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">databaseName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">String</span> <span style="color:#000">jdbcUrl</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;jdbc:gs://&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">jdbcAddress</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;:&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">jdbcPort</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;/&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeClusterName</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;/&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeDatabaseName</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">username</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">password</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">applicationName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">Connection</span> <span style="color:#000">con</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">DriverManager</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getConnection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">jdbcUrl</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Connect to cluster&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// (4)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">catch</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">Exception</span> <span style="color:#000">e</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">e</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStackTrace</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="url-format-for-connection">URL format for connection</h4>
<p>This section explains the URL format to be specified during connection. The URL format varies depending on how to connect to clusters.
You need to specify the connection address of a cluster, a cluster name, database name, and other necessary data in the URL,
of which the cluster name and database name require URL encoding.</p>
<p><strong>multicast method</strong></p>
<ul>
<li>
<p>The connection URL for the multicast method has the following format:</p>
<table>
<thead>
<tr>
<th>Connection methods</th>
<th>URL format</th>
</tr>
</thead>
<tbody>
<tr>
<td>multicast method</td>
<td>jdbc:gs://(multicastAddress):(multicastPort)/(clusterName)/(databaseName)</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>variables in the URL format</th>
<th>description</th>
<th>values to be specified</th>
</tr>
</thead>
<tbody>
<tr>
<td>multicastAddress</td>
<td>multicast address</td>
<td>values specified in /sql/notificationAddress in gs_cluster.json</td>
</tr>
<tr>
<td>multicastPort</td>
<td>multicast port number</td>
<td>values specified in /sql/notificationPort in gs_cluster.json</td>
</tr>
<tr>
<td>clusterName</td>
<td>cluster name</td>
<td>values specified in /cluster/clusterName in gs_cluster.json</td>
</tr>
<tr>
<td>databaseName</td>
<td>database name</td>
<td>any name (optional, in case of public database)</td>
</tr>
<tr>
<td>authentication method</td>
<td>authentication</td>
<td>optional</td>
</tr>
<tr>
<td>sslMode</td>
<td>SSL communication</td>
<td>optional (For SSL communication, specify PREFERRED, VERIFY, or DISABLED.)</td>
</tr>
<tr>
<td>notificationInterfaceAddress</td>
<td>address of the interface to receive the multicast packets from</td>
<td>optional (address of the interface to receive the multicast packets from))</td>
</tr>
</tbody>
</table>
<p>[Notes]</p>
<ul>
<li>To specify VERIFY for the settings for SSL communications (sslMode), settings on the GridDB cluster side are also required. For detail, see the section on &ldquo;Communication encryption&rdquo; in the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>. If a certificate by the Certificate Authority (CA) is not in a truststore, import it using the keytool command. If necessary, specify a truststore (-Djavax.net.ssl.trustStore) and a password (-Djavax.net.ssl.trustStorePassword) as arguments upon launching java. Note that the Java API does not support the checking of the expiration date of a CA certificate to ensure it is valid.</li>
</ul>
</li>
<li>
<p>ex.)</p>
<ul>
<li>
<p>If gs_cluster.json is represented as shown below:</p>
<pre tabindex="0"><code>          :
&#34;cluster&#34;:{
    &#34;clusterName&#34;:&#34;myCluster&#34;,
          :
},
          :
&#34;sql&#34;:{
    &#34;notificationAddress&#34;:&#34;239.0.0.1&#34;,
    &#34;notificationPort&#34;:41999,
          :
}
          :
</code></pre></li>
<li>
<p>representation of the connection URL</p>
<pre tabindex="0"><code>jdbc:gs://239.0.0.1:41999/myCluster/public
</code></pre></li>
<li>
<p>program</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">jdbcAddress</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">jdbcPort</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;41999&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">clusterName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">databaseName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">encodeClusterName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">clusterName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">encodeDatabaseName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">databaseName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">jdbcUrl</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;jdbc:gs://&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">jdbcAddress</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;:&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">jdbcPort</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;/&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeClusterName</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;/&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeDatabaseName</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<p><strong>fixed list method</strong></p>
<ul>
<li>
<p>The connection URL for the fixed list method has the following format:</p>
<table>
<thead>
<tr>
<th>Connection methods</th>
<th>URL format</th>
</tr>
</thead>
<tbody>
<tr>
<td>fixed list method</td>
<td>jdbc:gs:///(clusterName)/(databaseName)?notificationMember=(notificationMember)</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>variables in the URL format</th>
<th>description</th>
<th>values to be specified</th>
</tr>
</thead>
<tbody>
<tr>
<td>notificationMember</td>
<td>a list of addresses and port numbers of nodes constituting the cluster</td>
<td>list format values converted of /sql/address and /sql/port in /cluster/notificationMember in gs_cluster.json (URL encoding required)</td>
</tr>
<tr>
<td>clusterName</td>
<td>cluster name</td>
<td>values specified in /cluster/clusterName in gs_cluster.json</td>
</tr>
<tr>
<td>databaseName</td>
<td>database name</td>
<td>any name (optional, in case of public database)</td>
</tr>
<tr>
<td>authentication method</td>
<td>authentication</td>
<td>optional</td>
</tr>
<tr>
<td>sslMode</td>
<td>SSL communication</td>
<td>optional (For SSL communication, specify PREFERRED, VERIFY, or DISABLED.)</td>
</tr>
</tbody>
</table>
<p>[Notes]</p>
<p>- Be sure that the URL has three slashes (///) before the cluster name.</p>
<ul>
<li>To specify VERIFY for the settings for SSL communications (sslMode), settings on the GridDB cluster side are also required. For detail, see the section on &ldquo;Communication encryption&rdquo; in the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>. If a certificate by the Certificate Authority (CA) is not in a truststore, import it using the keytool command. If necessary, specify a truststore (-Djavax.net.ssl.trustStore) and a password (-Djavax.net.ssl.trustStorePassword) as arguments upon launching java. Note that the Java API does not support the checking of the expiration date of a CA certificate to ensure it is valid.</li>
</ul>
</li>
<li>
<p>ex.)</p>
<ul>
<li>
<p>If gs_cluster.json is represented as shown below:</p>
<pre tabindex="0"><code>&#34;cluster&#34;:{
    &#34;clusterName&#34;:&#34;myCluster&#34;,
    &#34;replicationNum&#34;:2,
    &#34;notificationMember&#34;:[
        {
            &#34;cluster&#34;: {&#34;address&#34;:&#34;192.168.1.10&#34;, &#34;port&#34;:10010},
            &#34;sync&#34;:    {&#34;address&#34;:&#34;192.168.1.10&#34;, &#34;port&#34;:10020},
            &#34;system&#34;:  {&#34;address&#34;:&#34;192.168.1.10&#34;, &#34;port&#34;:10040},
            &#34;transaction&#34;: {&#34;address&#34;:&#34;192.168.1.10&#34;, &#34;port&#34;:10001},
            &#34;sql&#34;: {&#34;address&#34;:&#34;192.168.1.10&#34;, &#34;port&#34;:20001}
        },
        {
            &#34;cluster&#34;: {&#34;address&#34;:&#34;192.168.1.11&#34;, &#34;port&#34;:10010},
            &#34;sync&#34;:    {&#34;address&#34;:&#34;192.168.1.11&#34;, &#34;port&#34;:10020},
            &#34;system&#34;:  {&#34;address&#34;:&#34;192.168.1.11&#34;, &#34;port&#34;:10040},
            &#34;transaction&#34;: {&#34;address&#34;:&#34;192.168.1.11&#34;, &#34;port&#34;:10001},
            &#34;sql&#34;: {&#34;address&#34;:&#34;192.168.1.11&#34;, &#34;port&#34;:20001}
        },
        {
            &#34;cluster&#34;: {&#34;address&#34;:&#34;192.168.1.12&#34;, &#34;port&#34;:10010},
            &#34;sync&#34;:    {&#34;address&#34;:&#34;192.168.1.12&#34;, &#34;port&#34;:10020},
            &#34;system&#34;:  {&#34;address&#34;:&#34;192.168.1.12&#34;, &#34;port&#34;:10040},
            &#34;transaction&#34;: {&#34;address&#34;:&#34;192.168.1.12&#34;, &#34;port&#34;:10001},
            &#34;sql&#34;: {&#34;address&#34;:&#34;192.168.1.12&#34;, &#34;port&#34;:20001}
        }
    },
      .....
</code></pre></li>
<li>
<p>representation of the connection URL</p>
<ul>
<li>Enter values consisting of comma-separated address/port number pairs separated by a colon in the property key &ldquo;notificationMember&rdquo;.</li>
</ul>
<pre tabindex="0"><code>jdbc:gs:///myCluster/public/?notificationMember=192.168.1.10:20001,192.168.1.11:20001,192.168.1.12:20001
</code></pre></li>
<li>
<p>program</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">fixedList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;192.168.1.10:20001,192.168.1.11:20001,192.168.1.12:20001&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">encodeFixedList</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">fixedList</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// :
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">String</span> <span style="color:#000">jdbcUrl</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;jdbc:gs:///&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">encodeClusterName</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;/&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">encodeDatabaseName</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;?notificationMember=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeFixedList</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<p><strong>provider method</strong></p>
<ul>
<li>
<p>The connection URL for the provider method has the following format:</p>
<table>
<thead>
<tr>
<th>Connection methods</th>
<th>URL format</th>
</tr>
</thead>
<tbody>
<tr>
<td>provider method</td>
<td>jdbc:gs:///(clusterName)/(databaseName)?notificationProvider=(notificationProvider)</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>variables in the URL format</th>
<th>description</th>
<th>values to be specified</th>
</tr>
</thead>
<tbody>
<tr>
<td>notificationProvider</td>
<td>provider&rsquo;s URL</td>
<td>values specified in /cluster/notificationProvider/url in gs_cluster.json</td>
</tr>
<tr>
<td>clusterName</td>
<td>cluster name</td>
<td>values specified in /cluster/clusterName in gs_cluster.json</td>
</tr>
<tr>
<td>databaseName</td>
<td>database name</td>
<td>any name (optional, in case of public database)</td>
</tr>
<tr>
<td>authentication method</td>
<td>authentication</td>
<td>optional</td>
</tr>
<tr>
<td>sslMode</td>
<td>SSL communication</td>
<td>optional (For SSL communication, specify PREFERRED, VERIFY, or DISABLED.)</td>
</tr>
</tbody>
</table>
<p>[Notes]</p>
<p>- Be sure that the URL has three slashes (///) before the cluster name.</p>
<ul>
<li>To specify VERIFY for the settings for SSL communications (sslMode), settings on the GridDB cluster side are also required. For detail, see the section on &ldquo;Communication encryption&rdquo; in the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>. If a certificate by the Certificate Authority (CA) is not in a truststore, import it using the keytool command. If necessary, specify a truststore (-Djavax.net.ssl.trustStore) and a password (-Djavax.net.ssl.trustStorePassword) as arguments upon launching java. Note that the Java API does not support the checking of the expiration date of a CA certificate to ensure it is valid.</li>
</ul>
</li>
<li>
<p>ex.)</p>
<ul>
<li>
<p>If gs_cluster.json is represented as shown below:</p>
<pre tabindex="0"><code>&#34;cluster&#34;:{
    &#34;clusterName&#34;:&#34;myCluster&#34;,
    &#34;replicationNum&#34;:2,
    &#34;notificationProvider&#34;:{
        &#34;url&#34;:&#34;http://example.com/notification/provider&#34;,
        &#34;updateInterval&#34;:&#34;30s&#34;
    }
    .....
</code></pre></li>
<li>
<p>representation of the connection URL</p>
<ul>
<li>In the property key notificationProvider, enter the url value.</li>
</ul>
<pre tabindex="0"><code>jdbc:gs:///myCluster/public/?notificationProvider=http://example.com/notification/provider
</code></pre></li>
<li>
<p>program</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">providerUrl</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;http://example.com/notification/provider&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">encodeProviderUrl</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">providerUrl</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// :
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">String</span> <span style="color:#000">jdbcUrl</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;jdbc:gs:///&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">encodeClusterName</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;/&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">encodeDatabaseName</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;?notificationProvider=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeProviderUrl</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<h4 id="setting-login-timeout">Setting login timeout</h4>
<p>This section shows how to set login timeout during connection. Two methods are available for settings: one is to set the settings on an entire driver and the other is to set the settings while obtaining a connection.
In the latter case, information on login timeout is propagated only to the connection obtained at that particular time.</p>
<table>
<thead>
<tr>
<th>category</th>
<th>method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Settings on an entire driver</td>
<td>void DriverManager.setLoginTimeout(int seconds)</td>
</tr>
<tr>
<td>Settings on a connection</td>
<td>Connection DriverManager.getConnection(String url, Properties info)<br>Connection Driver.connect(String url, Properties info)</td>
</tr>
</tbody>
</table>
<ul>
<li>The property key for setting the settings using properties is &ldquo;loginTimeout&rdquo;.</li>
<li>The unit for values is in seconds; from 1 to Integer.MAX_VALUE. If values outside this range are specified, they will be ignored.</li>
<li>If the settings are applied to both an entire driver and a connection, settings on a connection will be prioritized.</li>
</ul>
<h3 id="transaction-control">Transaction control</h3>
<p>JDBC does not support transaction control.
In operations including INSERT for data registration, rows are automatically committed at the time of executing SQL statements.</p>
<ul>
<li>In transaction operations including INSERT and UPDATE, rows are automatically committed at the time of executing SQL statements.</li>
<li>If commit () and rollback () are executed, these requests will be ignored. This will not lead to an error.</li>
<li>If multiple rows are specified using INSERT and UPDATE, changes are automatically committed by row.</li>
</ul>
<p>ex.)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">Statement</span> <span style="color:#000">stmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createStatement</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;CREATE TABLE sqlCollection ( id integer, value string )&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">ret0</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;INSERT INTO sqlCollection values (0, &#39;test0&#39;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">ret1</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;INSERT INTO sqlCollection values &#34;</span><span style="color:#ce5c00;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#4e9a06">&#34;(1, &#39;test1&#39;),(2, &#39;test2&#39;),(3, &#39;test3&#39;),(4, &#39;test4&#39;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>[Notes]</p>
<ul>
<li>In some cases, transaction isolation level will not be READ_COMMITTED while executing search in SQL.
For details about data consistency during search consistency during search, see <a href="../16.md_reference_jdbc/md_reference_jdbc.md">GridDB JDBC Driver User Guide</a>.</li>
</ul>
<p><a id="jdbc_sql_create_insert"></a></p>
<h3 id="executing-an-sql-container-creation-and-row-registration">Executing an SQL (container creation and row registration)</h3>
<p>Below is a program for executing an SQL to create containers and register rows.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.net.URLEncoder</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.sql.Connection</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.sql.DriverManager</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.sql.Statement</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.util.Properties</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">JDBCCreateTableInsert</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">try</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">jdbcAddress</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">jdbcPort</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;41999&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">clusterName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;myCluster&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">databaseName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;public&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">username</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">password</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;admin&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">applicationName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SampleJDBC&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">encodeClusterName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">clusterName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">encodeDatabaseName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">URLEncoder</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">encode</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">databaseName</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;UTF-8&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">String</span> <span style="color:#000">jdbcUrl</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;jdbc:gs://&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">jdbcAddress</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;:&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">jdbcPort</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;/&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeClusterName</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;/&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">encodeDatabaseName</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;user&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">username</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;password&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">password</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setProperty</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;applicationName&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">applicationName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">Connection</span> <span style="color:#000">con</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">DriverManager</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getConnection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">jdbcUrl</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// (1)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">Statement</span> <span style="color:#000">stmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createStatement</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DROP TABLE IF EXISTS SampleJDBC_Create&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// (2)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;CREATE TABLE SampleJDBC_Create ( id integer PRIMARY KEY, value string )&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SQL Create Table name=SampleJDBC_Create&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">// (3)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>            <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">ret0</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;INSERT INTO SampleJDBC_Create values (0, &#39;test0&#39;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SQL Insert count=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">ret0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">ret1</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;INSERT INTO SampleJDBC_Create values &#34;</span><span style="color:#ce5c00;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>                                        <span style="color:#4e9a06">&#34;(1, &#39;test1&#39;),(2, &#39;test2&#39;),(3, &#39;test3&#39;),(4, &#39;test4&#39;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SQL Insert count=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">ret1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;success!&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">catch</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">Exception</span> <span style="color:#000">e</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">e</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">printStackTrace</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>&ldquo;(1) Creates a statement.
The return value for container creation is 0 if the execution is successful; the return value for row registration is the number of registered rows.</p>
<p><a id="jdbc_sql_select"></a></p>
<h3 id="executing-an-sql-search">Executing an SQL (search)</h3>
<p>To search using SQL, use the Statement.executeQuery method.</p>
<!-- JDBCSelect.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">Statement</span> <span style="color:#000">stmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createStatement</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">ResultSet</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeQuery</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * from SampleJDBC_Select where ID &gt; 2&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInt</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">String</span> <span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SQL row(id=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, value=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>The program above executes search using executeQuery and fetches the resulting rows using ResultSet.next.
It also obtains the row values using the getter that corresponds to the data type.</p>
<p>Use Statement.setFetchSize or ResultSet.setFetchSize to give the JDBC driver a hint about the number of rows to obtain, as below.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">ResultSet</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeQuery</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * from SampleJDBC_Select where ID &gt; 2&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setFetchSize</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1000</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>[Notes]</p>
<ul>
<li>
<p>When fetching row values from the search result (ResultSet), the columns are numbered consecutively starting from 1.</p>
</li>
<li>
<p>To specify containers and columns using SQL, enclose the names with double quotes if they contain symbols.</p>
<pre tabindex="0"><code>select * from &#34;test.container&#34;;
</code></pre></li>
</ul>
<p><a id="jdbc_prepared"></a></p>
<h3 id="executing-a-prepared-statement">Executing a prepared statement</h3>
<p>The following program performs search using a prepared statement.</p>
<!-- JDBCPreparedStatement.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">PreparedStatement</span> <span style="color:#000">pstmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">prepareStatement</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * from SampleJDBC_Prepared where ID &gt; ?&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">pstmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInt</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">3</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">ResultSet</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">pstmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeQuery</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInt</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">String</span> <span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SQL row(id=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, value=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p><a id="jdbc_blob"></a></p>
<h3 id="handling-binary-data-2">Handling binary data</h3>
<h4 id="registering-binary-data">Registering binary data</h4>
<p>Use the PreparedStatement interface to register binary data.</p>
<p>Create PreparedStatement in the INSERT statement for registering rows and set binary data using setBlob(int parameterIndex, Blob x) to register them.
The PreparedStatement interface contains a variety of methods to set binary data; however, GridDB JCBc only supports setBlob(int parameterIndex, Blob x).</p>
<p>A Blob object uses a class that contains Blob, such as SerialBlob. createBlob() in the Connection interface for creating a Blob object is yet to be supported.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;CREATE TABLE SampleJDBC_BlobData ( id integer PRIMARY KEY, data blob )&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">PreparedStatement</span> <span style="color:#000">pstmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">prepareStatement</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;INSERT INTO SampleJDBC_BlobData(id, data) VALUES(?, ?)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">File</span> <span style="color:#000">file</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">File</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;JDBCBlobData.class&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">FileInputStream</span> <span style="color:#000">fis</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">FileInputStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">file</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">byte</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">b</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#204a87;font-weight:bold">byte</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ByteArrayOutputStream</span> <span style="color:#000">baos</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">ByteArrayOutputStream</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">while</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">fis</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">read</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">b</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">baos</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">write</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">b</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">baos</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">fis</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">b</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">baos</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">toByteArray</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">SerialBlob</span> <span style="color:#000">serialBlob</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">SerialBlob</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">b</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">pstmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setBlob</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">,</span>  <span style="color:#000">serialBlob</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">pstmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInt</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">pstmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">pstmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span></code></pre></div><p>[Notes]</p>
<ul>
<li>The PreparedStatement interface does not support setBinaryStreamand setBytes(int parameterIndex, byte[] x), both of which set binary data using a stream.
Instead, use setBlob(int parameterIndex, Blob x).</li>
</ul>
<h4 id="retrieving-binary-data">Retrieving binary data</h4>
<p>Use getBinaryStream and getBlob in ResultSet to retrieve binary data.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">Statement</span> <span style="color:#000">stmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createStatement</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ResultSet</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeQuery</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * FROM SampleJDBC_BlobData WHERE id = 0&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">InputStream</span> <span style="color:#000">input</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getBinaryStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">FileOutputStream</span> <span style="color:#000">output</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">FileOutputStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;jdbc_output&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">((</span><span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">read</span><span style="color:#ce5c00;font-weight:bold">())!=-</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">output</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">write</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">output</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p><a id="jdbc_meta"></a></p>
<h3 id="retrieving-metadata">Retrieving metadata</h3>
<p>The DatabaseMetaData interface and the ResultSetMetaData interface allow you to retrieve a list of container names, schema information of a container, index information, and column information in search results.</p>
<p>For details about methods, see <a href="../16.md_reference_jdbc/md_reference_jdbc.md">GridDB JDBC Driver User Guide</a>.</p>
<h4 id="retrieving-a-list-of-container-names-2">Retrieving a list of container names</h4>
<p>The program blow uses DatabaseMetaData.getTables to retrieve a list of container names.
You can specify a filtering condition using wildcards to refine your search results for container names.</p>
<!-- JDBCMetaData.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">DatabaseMetaData</span> <span style="color:#000">meta</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getMetaData</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DatabaseMetadata.getTables  null&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">ResultSet</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">meta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getTables</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TABLE_NAME&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">String</span> <span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TABLE_TYPE&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  (name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, type=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DatabaseMetadata.getTables SampleJDBC\_%&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">meta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getTables</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJDBC\_%&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TABLE_NAME&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">String</span> <span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TABLE_TYPE&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  (name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, type=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span></code></pre></div><h4 id="retrieving-schema-information-of-a-container-2">Retrieving schema information of a container</h4>
<p>The program below uses DatabaseMetadata.getColumns to retrieve schema information of a container.
Information including column names, data types, and NOT NULL limitations can be retrieved.</p>
<!-- JDBCMetaData.java -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">DatabaseMetaData</span> <span style="color:#000">meta</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getMetaData</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DatabaseMetadata.getColumns  SampleJDBC_Meta1&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">meta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumns</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;SampleJDBC_Meta1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TABLE_NAME&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span> <span style="color:#000">columnName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;COLUMN_NAME&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">columnDataType</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInt</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DATA_TYPE&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span> <span style="color:#000">columnTypeName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;TYPE_NAME&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">nullable</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInt</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;NULLABLE&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span> <span style="color:#000">isNullable</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;IS_NULLABLE&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;  (name=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, columnName=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">columnName</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, dataType=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">columnDataType</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, typeName=&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">columnTypeName</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, nullable=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">nullable</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;, isNullable=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">isNullable</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span></code></pre></div><h4 id="retrieving-metadata-in-the-search-results">Retrieving metadata in the search results.</h4>
<p>Use the ResultSetMetaData interface to retrieve the metadata in the SQL search results ResultSet.
Metadata such as column names and data types can be retrieved.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">Statement</span> <span style="color:#000">stmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createStatement</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ResultSet</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeQuery</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * from sqlCollection where ID &gt; 2&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">ResultSetMetaData</span> <span style="color:#000">rsMeta</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getMetaData</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;=</span> <span style="color:#000">rsMeta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnCount</span><span style="color:#ce5c00;font-weight:bold">();</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span> <span style="color:#000">columnName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rsMeta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span> <span style="color:#000">columnLabelName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rsMeta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnLabel</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span> <span style="color:#000">columnTypeClassName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rsMeta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnClassName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">columnType</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rsMeta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnType</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">String</span> <span style="color:#000">columnTypeName</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rsMeta</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnTypeName</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;columnName=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">columnName</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;, columnLabelName=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">columnLabelName</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, columnTypeClassName=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">columnTypeClassName</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#4e9a06">&#34;, columnType=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">columnType</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;, columnTypeName=&#34;</span><span style="color:#ce5c00;font-weight:bold">+</span><span style="color:#000">columnTypeName</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="handling-containers-having-data-types-not-supported-by-jdbc">Handling containers having data types not supported by JDBC.</h3>
<p>JDBC does not support spatial types (Geometry type) and array types among GridDB data types.
This section explains how applications behave when accessing containers with these data types of columns using JDBC.</p>
<p>[Notes]</p>
<ul>
<li>Containers with spatial or array columns can be created using an API in the NoSQL interface.</li>
</ul>
<h4 id="executing-an-sql-row-registration">Executing an SQL (row registration)</h4>
<p>If containers have spatial or array columns, the rows cannot be registered.
Even if you specify in the INSERT statement for registering rows, only those column values of the data types that are within the supported range, you cannot register rows.</p>
<p>Below is a program for executing an INSERT statement that specifies only columns id and double for containers having the following four columns:
This program returns an error.</p>
<ul>
<li>column name: id, data type: Integer type</li>
<li>column name: double, data type: Double type</li>
<li>column name: geometry, data type: Geometry type</li>
<li>column name: string_array, data type: String-type array type</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">Statement</span> <span style="color:#000">stmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createStatement</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeUpdate</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;INSERT INTO collection_type (id, double) VALUES (1, 192.3)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// -&gt;SQLException
</span></span></span></code></pre></div><h4 id="executing-an-sql-search-1">Executing an SQL (search)</h4>
<p>If you search for containers having spatial or array columns, NULL is always returned as a result of retrieving the values of those columns.
The ResultSet interface does not have a getter exclusively for data types, but you can use getObject to retrieve the values.</p>
<p>Below is a program for searching for containers having the following four columns:</p>
<ul>
<li>column name: id, data type: Integer type</li>
<li>column name: double, data type: Double type</li>
<li>column name: geometry, data type: Geometry type</li>
<li>column name: string_array, data type: String-type array type</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">Statement</span> <span style="color:#000">stmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createStatement</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ResultSet</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">stmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeQuery</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * FROM collection_type&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">while</span><span style="color:#ce5c00;font-weight:bold">(</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInt</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">Object</span> <span style="color:#000">geometry</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getObject</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">);</span>  <span style="color:#8f5902;font-style:italic">// NULL
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">Object</span> <span style="color:#000">string_array</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getObject</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">3</span><span style="color:#ce5c00;font-weight:bold">);</span>  <span style="color:#8f5902;font-style:italic">// NULL
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>In Geometry type columns and String type array columns, NULL is returned as a column value.</p>
<h4 id="retrieving-metadata-1">Retrieving metadata</h4>
<p>If you retrieve column information in the DatabaseMetadata interface, the name of the data type UNKNOWN and the value of the data type Types.OTHER will be retuned spatial and array columns that are not currently supported.</p>
<h2 id="----appendix----">&mdash; Appendix &mdash;</h2>
<h2 id="detailed-features-within-the-support-range-of-the-apis">Detailed features within the support range of the APIs</h2>
<h3 id="connection-features">Connection features</h3>
<table>
<thead>
<tr>
<th>GridDB features</th>
<th>Java API</th>
<th>C API</th>
<th>JDBC</th>
</tr>
</thead>
<tbody>
<tr>
<td>Connection using the multicast method</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>connecting using the fixed list method</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>connection using the provider method</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>option settings during connection (database)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>option settings during connection (login timeout)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>option settings during connection (transaction timeout)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>option settings during connection (failover timeout)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>option settings during connection (query timeout)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>option settings during connection (data consistency)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>option settings during connection (container cache)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>option settings during connection (definition of data affinity patterns)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>option settings during connection (authentication method)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>option settings during connection (SSL communication)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>option settings during connection (address of the interface to receive the multicast packets from)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>loading of the client properties file</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>maximum connection pool size settings</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="container-features">container features</h3>
<p>The support coverage for the features of containers (not including partitioning containers) is given below:</p>
<table>
<thead>
<tr>
<th>GridDB features</th>
<th>Java API</th>
<th>C API</th>
<th>JDBC</th>
</tr>
</thead>
<tbody>
<tr>
<td>container creation (schema definition by method)</td>
<td> GridStore.putContainer</td>
<td> gsPutContainerGeneral</td>
<td>(SQL) CREATE TABLE</td>
</tr>
<tr>
<td>container creation (schema definition by class)</td>
<td> GridStore.putContainer</td>
<td> gsPutContainer</td>
<td></td>
</tr>
<tr>
<td>container deletion</td>
<td> GridStore.dropContainer</td>
<td> gsDropContainer</td>
<td>(SQL) DROP TABLE</td>
</tr>
<tr>
<td>column addition</td>
<td> GridStore.putContainer</td>
<td> gsPutContainer<br>gsPutContainerGeneral</td>
<td>(SQL) ALTER TABLE</td>
</tr>
<tr>
<td>column deletion</td>
<td> GridStore.putContainer</td>
<td> gsPutContainer<br>gsPutContainerGeneral</td>
<td></td>
</tr>
<tr>
<td>index (without name) creation</td>
<td> Container.createIndex</td>
<td> gsCreateIndex</td>
<td></td>
</tr>
<tr>
<td>index (with name) creation</td>
<td> Container.createIndex</td>
<td> gsCreateIndexDetail</td>
<td>(SQL) CREATE INDEX</td>
</tr>
<tr>
<td>index deletion</td>
<td> Container.dropIndex</td>
<td> gsDropIndex<br>gsDropIndexDetail</td>
<td>(SQL) DROP INDEX</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
</tr>
<tr>
<td>Option settings for container creation (data affinity)</td>
<td> ContainerInfo.setDataAffinity</td>
<td><br>GSContainerInfo.dataAffinity</td>
<td>(SQL) CREATE TABLE</td>
</tr>
<tr>
<td>Option settings for container creation (node affinity)</td>
<td> Specify by container name</td>
<td> Specify by container name</td>
<td>(SQL) Specify by container name</td>
</tr>
<tr>
<td>Option settings for container creation (NOT NULL limitations)</td>
<td> ColumnInfo</td>
<td> GSColumnInfo.options</td>
<td>(SQL)</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
</tr>
<tr>
<td>Retrieval of container objects</td>
<td> GridStore.getContainer</td>
<td> gsGetContainerGeneral</td>
<td></td>
</tr>
<tr>
<td>Retrieval of container column information</td>
<td> Container.getContainerInfo</td>
<td> gsGetContainerInfo</td>
<td></td>
</tr>
<tr>
<td>Retrieval of container index information</td>
<td> Container.getIndexInfo</td>
<td> gsGetContainerInfo</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
</tr>
<tr>
<td>row retrieval (by specifying a row key)</td>
<td> Container.get(K key)</td>
<td> gsGetRow</td>
<td>(SQL)</td>
</tr>
<tr>
<td>row retrieval (lock reference)</td>
<td> Container.get(K key, boolean forUpdate)</td>
<td> gsGetRowForUpdate</td>
<td></td>
</tr>
<tr>
<td>row registration</td>
<td> Container.put(R row)</td>
<td> gsPutRow</td>
<td>(SQL)</td>
</tr>
<tr>
<td>row registration (by specifying a row key)</td>
<td> Container.put(K key, R row)</td>
<td> gsPutRowGeneral</td>
<td>(SQL)</td>
</tr>
<tr>
<td>multiple row registration</td>
<td> Container.put(Collection rowCollection)</td>
<td> gsPutMultipleRows</td>
<td>(SQL)</td>
</tr>
<tr>
<td>row deletion</td>
<td> Container.remove</td>
<td> gsDeleteRow</td>
<td>(SQL)</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
</tr>
<tr>
<td>row object creation</td>
<td> Container.createRow</td>
<td> gsCreateRowByContainer<br>gsCreateRowByStore</td>
<td></td>
</tr>
<tr>
<td>initial value (whether or not to use NULL) settings of a row object</td>
<td> ColumnInfo(..,boolean defaultValueNull,..)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>NULL reference/settings for a row object</td>
<td> Row.setNull<br>Row.isNull</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
</tr>
<tr>
<td>TQL query creation</td>
<td> Container.query</td>
<td> gsQuery</td>
<td></td>
</tr>
<tr>
<td>TQL fetch (without lock)</td>
<td> Query.fetch</td>
<td> gsFetch</td>
<td></td>
</tr>
<tr>
<td>TQL fetch (with lock)</td>
<td> Query.fetch</td>
<td> gsFetch</td>
<td></td>
</tr>
<tr>
<td>Retrieval of the number of TQL results</td>
<td> RowSet.size</td>
<td> gsGetRowSetSize</td>
<td></td>
</tr>
<tr>
<td>TQL cursor check</td>
<td> RowSet.hasNext</td>
<td> gsHasNextRow</td>
<td></td>
</tr>
<tr>
<td>TQL cursor movement</td>
<td> RowSet.next</td>
<td> gsGetNextRow</td>
<td></td>
</tr>
<tr>
<td>updating of a row at the position a TQL cursor</td>
<td> RowSet.update</td>
<td> gsUpdateCurrentRow</td>
<td></td>
</tr>
<tr>
<td>deletion of a row at the position a TQL cursor</td>
<td> RowSet.remove</td>
<td> gsDeleteCurrentRow</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
</tr>
<tr>
<td>SQL execution</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
</tr>
<tr>
<td>commit mode settings</td>
<td> Container.setAutoCommit</td>
<td> gsSetAutoCommit</td>
<td></td>
</tr>
<tr>
<td>commit</td>
<td> Container.commit</td>
<td> gsCommit</td>
<td></td>
</tr>
<tr>
<td>abort</td>
<td> Container.abort</td>
<td> gsAbort</td>
<td></td>
</tr>
<tr>
<td>data flash</td>
<td> Container.flush</td>
<td> gsFlush</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
</tr>
<tr>
<td>Registering a row in multiple containers</td>
<td> GridStore.multiPut</td>
<td> gsPutMultipleContainerRows</td>
<td></td>
</tr>
<tr>
<td>Retrieving rows from multiple containers</td>
<td> GridStore.multiGet</td>
<td> gsGetMultipleContainerRows</td>
<td></td>
</tr>
<tr>
<td>Executing a TQL on multiple containers</td>
<td> GridStore.fetchAll</td>
<td> gsFetchAll</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Features specific to time-series containers</strong></p>
<table>
<thead>
<tr>
<th>GridDB features</th>
<th>Java API</th>
<th>C API</th>
<th>JDBC</th>
</tr>
</thead>
<tbody>
<tr>
<td>row retrieval (by specifying adjacent time)</td>
<td> TimeSeries.get</td>
<td> gsGetRowByBaseTime</td>
<td></td>
</tr>
<tr>
<td>row retrieval (aggregation operation)</td>
<td> TimeSeries.aggregate</td>
<td> gsAggregateTimeSeries</td>
<td></td>
</tr>
<tr>
<td>row retrieval (interpolation operation)</td>
<td> TimeSeries.interpolate</td>
<td> gsInterpolateTimeSeriesRow</td>
<td></td>
</tr>
<tr>
<td>sampling query creation</td>
<td> TimeSeries.query</td>
<td> gsQueryByTimeSeriesSampling</td>
<td></td>
</tr>
<tr>
<td>row registration (Add a new row with the current time)</td>
<td> TimeSeries.append</td>
<td> gsAppendTimeSeriesRow</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Features specific to collections</strong></p>
<table>
<thead>
<tr>
<th>GridDB features</th>
<th>Java API</th>
<th>C API</th>
<th>JDBC</th>
</tr>
</thead>
<tbody>
<tr>
<td>query creation for spatial type search criteria</td>
<td> Collection.query(java.lang.String column, Geometry geometry, GeometryOperator geometryOp)</td>
<td> gsQueryByGeometry</td>
<td></td>
</tr>
<tr>
<td>query creation for spatial type search criteria (with an exclusion range)</td>
<td> Collection.query(java.lang.String column, Geometry geometryIntersection, Geometry geometryDisjoint)</td>
<td> gsQueryByGeometryWithDisjointCondition</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="features-of-partitioning-containers">Features of partitioning containers</h3>
<p>The support coverage for the features of partitioning containers is given below:</p>
<table>
<thead>
<tr>
<th>GridDB features</th>
<th>Java API</th>
<th>C API</th>
<th>JDBC</th>
</tr>
</thead>
<tbody>
<tr>
<td>container creation (hash partitioning)</td>
<td></td>
<td></td>
<td>(SQL)</td>
</tr>
<tr>
<td>container creation (interval partitioning)</td>
<td></td>
<td></td>
<td>(SQL)</td>
</tr>
<tr>
<td>container creation (interval hash partitioning)</td>
<td></td>
<td></td>
<td>(SQL)</td>
</tr>
<tr>
<td>container deletion</td>
<td></td>
<td></td>
<td>(SQL)</td>
</tr>
<tr>
<td>column addition</td>
<td></td>
<td></td>
<td>(SQL)</td>
</tr>
<tr>
<td>column deletion</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>index (unnamed) creation/deletion</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>index (named) creation/deletion</td>
<td></td>
<td></td>
<td>(SQL)</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>Option settings for container creation (data affinity)</td>
<td></td>
<td></td>
<td>(SQL)</td>
</tr>
<tr>
<td>Option settings for container creation (node affinity)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Option settings for container creation (NOT NULL limitations)</td>
<td></td>
<td></td>
<td>(SQL)</td>
</tr>
<tr>
<td>Option settings for container creation (partitioning expiration)</td>
<td></td>
<td></td>
<td>(SQL)</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>Retrieval of container objects</td>
<td> GridStore.getContainer</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Retrieval of container column information</td>
<td> Container.getContainerInfo</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Retrieval of container index information</td>
<td> Container.getIndexInfo</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>row retrieval (by specifying a row key)</td>
<td> Container.get(K key)</td>
<td></td>
<td>(SQL)</td>
</tr>
<tr>
<td>row retrieval (lock reference)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>row registration</td>
<td> Container.put(R row)</td>
<td></td>
<td>(SQL)</td>
</tr>
<tr>
<td>row registration (by specifying a row key)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>multiple row registration</td>
<td> Container.put(Collection rowCollection)</td>
<td></td>
<td>(SQL)</td>
</tr>
<tr>
<td>row deletion</td>
<td> Container.remove(K key)</td>
<td></td>
<td>(SQL)</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>row object creation</td>
<td> Container.createRow</td>
<td></td>
<td></td>
</tr>
<tr>
<td>initial value (whether or not to use NULL) settings of a row object</td>
<td> ColumnInfo(..,boolean defaultValueNull,..)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>NULL reference/settings for a row object</td>
<td> Row.setNull<br>Row.isNull</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>TQL query creation</td>
<td> Container.query</td>
<td></td>
<td></td>
</tr>
<tr>
<td>TQL fetch (without lock)</td>
<td> Query.fetch</td>
<td></td>
<td></td>
</tr>
<tr>
<td>TQL fetch (with lock)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Retrieval of the number of TQL results</td>
<td> RowSet.size</td>
<td></td>
<td></td>
</tr>
<tr>
<td>TQL cursor check</td>
<td> RowSet.hasNext</td>
<td></td>
<td></td>
</tr>
<tr>
<td>TQL cursor movement</td>
<td> RowSet.next</td>
<td></td>
<td></td>
</tr>
<tr>
<td>updating of a row at the position a TQL cursor</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>deletion of a row at the position a TQL cursor</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>SQL execution</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>commit mode settings</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>commit</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>abort</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>data flash</td>
<td> Container.flush</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>Registering a row in multiple containers</td>
<td> GridStore.multiPut</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Retrieving rows from multiple containers</td>
<td> GridStore.multiGet</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Executing a TQL on multiple containers</td>
<td> GridStore.fetchAll</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Features specific to time-series containers</strong></p>
<table>
<thead>
<tr>
<th>GridDB features</th>
<th>Java API</th>
<th>C API</th>
<th>JDBC</th>
</tr>
</thead>
<tbody>
<tr>
<td>row retrieval (by specifying adjacent time)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>row retrieval (aggregation operation)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>row retrieval (interpolation operation)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>sampling query creation</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>row registration (Add a new row with the current time)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Features specific to collections</strong></p>
<table>
<thead>
<tr>
<th>GridDB features</th>
<th>Java API</th>
<th>C API</th>
<th>JDBC</th>
</tr>
</thead>
<tbody>
<tr>
<td>query creation for spatial type search criteria</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>query creation for spatial type search criteria (with an exclusion range)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="other-features">Other features</h3>
<table>
<thead>
<tr>
<th>GridDB features</th>
<th>Java API</th>
<th>C API</th>
<th>JDBC</th>
</tr>
</thead>
<tbody>
<tr>
<td>Retrieving partition controllers</td>
<td> GridStore.getPartitionController</td>
<td> gsGetPartitionController</td>
<td></td>
</tr>
<tr>
<td>Retrieving the number of partitions</td>
<td> PartitionController. getPartitionCount</td>
<td> gsGetPartitionCount</td>
<td></td>
</tr>
<tr>
<td>Retrieving the number of containers for each partition</td>
<td> PartitionController. getContainerCount</td>
<td> gsGetPartitionContainerCount</td>
<td></td>
</tr>
<tr>
<td>Retrieving container names for each partition</td>
<td> PartitionController. getContainerNames</td>
<td> gsGetPartitionContainerNames</td>
<td></td>
</tr>
<tr>
<td>Retrieving a list of node addresses</td>
<td> PartitionController. getHosts</td>
<td> gsGetPartitionHosts</td>
<td></td>
</tr>
<tr>
<td>Retrieving the owner address</td>
<td> PartitionController. getOwnerHost</td>
<td> gsGetPartitionOwnerHost</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>Retrieving the current time</td>
<td> TimestampUtils.current</td>
<td> gsCurrentTime</td>
<td></td>
</tr>
<tr>
<td>Adding time</td>
<td> TimestampUtils.add</td>
<td> gsAddTime</td>
<td></td>
</tr>
<tr>
<td>Converting strings into Timestamp type</td>
<td> TimestampUtils.parse</td>
<td> gsParseTime</td>
<td></td>
</tr>
<tr>
<td>Converting Timestamp type into strings</td>
<td> TimestampUtils.format</td>
<td> gsFormatTime</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</td>
<td>&mdash;&mdash;&ndash;</td>
</tr>
<tr>
<td>Setting individual criteria for retrieving rows in multiple containers</td>
<td> RowKeyPredicate.add</td>
<td> gsAddPredicateKeyXXXXX</td>
<td></td>
</tr>
<tr>
<td>Setting range criteria for retrieving rows in multiple containers</td>
<td> RowKeyPredicate.setStart<br>RowKeyPredicate.setFinish</td>
<td> gsSetPredicateStartKeyXXXXX<br>gsSetPredicateFinishKeyXXXXX</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="how-to-specify-property-java-api-properties-using-an-external-file">How to specify property Java API properties using an external file</h2>
<p>In Java API, there are two ways to specify properties for connecting to a cluster using external files, as shown below:</p>
<ul>
<li>Using file loading in Java Properties</li>
<li>Using the &ldquo;client properties file&rdquo; of Java API.</li>
</ul>
<p>If an external file is used to specify properties, properties, including where to connect to, can be modified without modifying the application source.</p>
<h3 id="using-file-loading-in-java-properties">Using file loading in Java Properties</h3>
<p>Load a property file using the Properties object.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">load</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">FileInputStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;connect.properties&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GridStore</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getGridStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><p>Enter properties in the property file.</p>
<pre tabindex="0"><code>notificationAddress=239.0.0.1
notificationPort=31999
clusterName=myCluster
database=public
user=admin
password=admin
</code></pre><h3 id="using-the-client-properties-file-of-java-api">Using the &ldquo;client properties file&rdquo; of Java API.</h3>
<p>Java API provides a functionality for automatically loading the &ldquo;client properties file,&rdquo; where properties on connection are entered.</p>
<p>Use the following library to establish a connection using this functionality.</p>
<ul>
<li>
<p>/usr/share/java/gridstore-conf.jar</p>
</li>
<li>
<p>procedures</p>
<ul>
<li>
<p>a) Create a client properties file and enter properties.</p>
<ul>
<li>
<p>Name the file as <code>gs_client.properties</code>.</p>
</li>
<li>
<p>Append &ldquo;store.&rdquo; before property keys as below:</p>
<pre tabindex="0"><code>store.notificationAddress=239.0.0.1
store.notificationPort=31999
store.clusterName=myCluster
store.user=admin
store.password=admin
</code></pre><pre tabindex="0"><code></code></pre></li>
</ul>
</li>
<li>
<p>b) Specify <code>gridstore-conf.jar</code> and <code>gs_client.properties</code> to the class path.</p>
<pre tabindex="0"><code>export CLASSPATH=${CLASSPATH}:/usr/share/java/gridstore.jar:/usr/share/java/gridstore-conf.jar:gs_client.properties
</code></pre><pre tabindex="0"><code></code></pre></li>
<li>
<p>c) Do not specify properties in the source. Pass an empty Property object to the getGridStore method. There is no need to specify the file name <code>gs_client.properties</code>. The file will automatically be loaded.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">Properties</span> <span style="color:#000">prop</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Properties</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000">GridStore</span> <span style="color:#000">store</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">GridStoreFactory</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getInstance</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">getGridStore</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">prop</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span></code></pre></div><pre tabindex="0"><code></code></pre></li>
</ul>
</li>
<li>
<p>If properties are specified in both the Property object and the client properties file, information in the client properties file is prioritized.</p>
</li>
</ul>
<p>[Notes]</p>
<ul>
<li>JDBC does not have a client properties file lading functionality.</li>
</ul>
<h2 id="tips-when-using-nosql-interfaces">Tips when using NoSQL interfaces</h2>
<h3 id="what-happens-if-you-create-a-container-with-a-name-that-already-exists">What happens if you create a container with a name that already exists?</h3>
<p>If you create a container with the same name using putContainer, the same behavior as getContainer (retrieving a container) occurs, provided that the existing container and a container to be created have the same schema information including columns and row keys.
However, if they have different schema information, an error occurs in container creation.</p>
<h3 id="what-happens-if-you-register-a-row-with-a-row-key-value-that-already-exists">What happens if you register a row with a row key value that already exists?</h3>
<p>If you register a row that has the same row key value as a row that already exists in a container with row keys, using the put operation, the existing row will be updated.</p>
<p>If you register a row in a container without row keys, using the put operation, a new row will be added.</p>
<h3 id="what-happens-if-you-register-a-row-which-has-a-different-definition-from-that-of-the-container-to-register-in">What happens if you register a row which has a different definition from that of the container to register in?</h3>
<p>An error occurs in row registration (put).</p>
<h3 id="what-happens-if-anomalies-occur-in-the-middle-of-multiple-row-registration">What happens if anomalies occur in the middle of multiple row registration?</h3>
<p>In auto-commit mode, if any anomalies occur in the middle of multiple row registration (put(Collection rowCollection), multiPut), only a subset of rows may be registered.</p>
<h3 id="points-to-remember-when-creating-a-time-series-container">Points to remember when creating a time-series container</h3>
<p>You need to set TIMESTAMP type row keys in a time-series container.</p>
<p>For this reason, specify the TIMESTAMP type as the data type in the first column and validate row key settings.</p>
<p>If these requirements are not met, an error will occur in creating a container.</p>
<h3 id="how-to-retrieve-the-latest-or-the-oldest-row-in-the-time-series-data">How to retrieve the latest or the oldest row in the time-series data</h3>
<p>To retrieve the latest or the oldest row in the time-series data, use a selection operation.</p>
<ul>
<li>
<p>Retrieving one row which is the oldest within a time-series container</p>
<ul>
<li>
<p>Specify the smallest TIMESTAMP type time allowed by the specification and execute the selection operation TIME_NEXT.</p>
<pre tabindex="0"><code>SELECT TIME_NEXT(*, TIMESTAMP(&#39;1970-01-01T00:00:00.000Z&#39;))
</code></pre></li>
</ul>
</li>
<li>
<p>Retrieving one row which is the newest within a time-series container</p>
<ul>
<li>
<p>Specify the greatest TIMESTAMP type time allowed by the specification and execute the selection operation TIME_PREV.</p>
<pre tabindex="0"><code>SELECT TIME_PREV(*, TIMESTAMP(&#39;9999-12-31T23:59:59.999Z&#39;))
</code></pre></li>
</ul>
</li>
</ul>
<p>This method minimizes the number of rows to access by refining row search using row key indexes for time-series containers, and thereby enables you to quickly retrieve rows.</p>
<p>In contrast, an ORDER BY statement in a TQL, namely, &ldquo;SELECT * ORDER BY time-series column DESC LIMIT 1&rdquo;, does not refine data and loads all row data, which leads to performance degradation.</p>
<p><a id="date_function"></a></p>
<h2 id="recommendations-for-applications-in-using-the-date-and-time-functions">Recommendations for applications in using the date and time functions.</h2>
<ul>
<li>
<p>To input/output date data in GridDB, It is strongly recommended to use a type-safe and time zone-independent type (TIMESTAMP).</p>
<ul>
<li>ex.) To register data using PreparedStatement and the INSERT statement in a JDBC application, do not use the String value of the date for interpreting within the SQL statement, but convert the date into the java.util.Date value within the application beforehand.</li>
</ul>
</li>
<li>
<p>It is strongly recommended to perform processing that is dependent on the time zone, date, time, and locale outside GridDB.</p>
<ul>
<li>ex.) To modify the date and time display format in a JDBC application, do not edit within the SQL, but use the existing Java library within the application.<br>
* This offers more functionality and reduces the cost for retrieval from GridDB.</li>
</ul>
</li>
<li>
<p>It is recommended to use the date and time, and time-zone dependent functions of GridDB, only when absolutely necessary.</p>
<ul>
<li>ex. 1) grouping operation by year, month, and day.</li>
<li>ex. 2) modification of the date and time display format for a BI tool.</li>
</ul>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-23a09595827e7960eb3de7d4f01d14c7">4 - TQL Reference</h1>
    <div class="lead">Explanation on how to use the NoSQL and NewSQL Interface in Java and C programming languages.</div>
	<h2 id="----type----">&mdash; Type &mdash;</h2>
<p>This section shows the definitions of types specifying the value constraints for fields and query operations.</p>
<h2 id="primitive-types">Primitive Types</h2>
<p>Here are shown the definitions of primitive types which cannot be represented by a combination of any other types.</p>
<h3 id="boolean-type-bool">Boolean type (BOOL)</h3>
<p>Represents the values: TRUE or FALSE.</p>
<h3 id="string-type-string">String type (STRING)</h3>
<p>Represents a sequence of zero or more Unicode code points (characters) excluding the NULL character (U+0000).</p>
<!--- gahoh
Refer to [GridDB Features Reference](../3.md_reference_feature/md_reference_feature.md) for the upper limit size.
--->
<p>Refer to <a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a> for the upper limit size.</p>
<h3 id="integer-type">Integer Type</h3>
<p>Represents integer values as follows:</p>
<ul>
<li>BYTE: -2<sup>7</sup> to 2<sup>7</sup>-1 (8-bit)</li>
<li>SHORT: -2<sup>15</sup> to 2<sup>15</sup>-1 (16-bit)</li>
<li>INTEGER: -2<sup>31</sup> to 2<sup>31</sup>-1 (32-bit)</li>
<li>LONG: -2<sup>63</sup> to 2<sup>63</sup>-1 (64-bit)</li>
</ul>
<h3 id="floating-point-type">Floating point type</h3>
<p>Represents the IEEE754 floating point numbers. The following types are available depending on the precision.</p>
<ul>
<li>FLOAT: Single-precision type (32-bit)</li>
<li>DOUBLE: Double-precision type (64-bit)</li>
</ul>
<p>Note. In principle, arithmetic precision conforms to the IEEE754 specifications; however, it might vary depending on the runtime environment.</p>
<h3 id="time-type-timestamp">Time type (TIMESTAMP)</h3>
<p>Represents the combination of a date consisting of year, month and day, and a time consisting of hour, minute and second. Refer to the Annex <a href="#label_range_of_values">Range of values</a> for the display range.</p>
<h3 id="spatial-type-geometry">Spatial type (GEOMETRY)</h3>
<p>Represents the spatial structure. Refer to <a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a> for the upper limit size.
It does not support non-numeric numbers (NAN) and positive and negative infinity (INF, -INF) as the number of coordinates represented by each structure.  In addition, it is capable of storing SRID (Spatial Reference System Identifier) as an integer value, but does not support coordinate range limit by the coordinate system represented by the SRID and the coordinate conversion by the conversion of SRID.</p>
<h3 id="blob-type">BLOB type</h3>
<p>Represents binary data, such as image and sound. Refer to <a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a> for the upper limit size.</p>
<h2 id="composite-types">Composite Types</h2>
<p>Here are shown the definitions of types which can be represented by a combination of primitive types.</p>
<h3 id="array-types">Array types</h3>
<p>Represent a sequence of values. The following types are available for array values. The length of an array indicates the number of array elements.
Refer to <a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a> for the upper limit size. The element of array cannot be set to NULL.</p>
<ul>
<li>Boolean type</li>
<li>String type</li>
<li>Integer type</li>
<li>Floating point type</li>
<li>Time type</li>
</ul>
<h2 id="-----tql-syntax-and-calculation-functions----">&mdash;  TQL Syntax and Calculation Functions &mdash;</h2>
<p>TQL supports a query corresponding to the SQL SELECT statement which is required to select data to be fetched, deleted or updated. It does not support other than a selection query, such as manipulation of selected data, management of data structure and transaction processing.</p>
<h2 id="basic-syntax">Basic Syntax</h2>
<p>All queries are expressed by the syntax below:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">[EXPLAIN [ANALYZE]] SELECT (select expression) [FROM (Collection or TimeSeries name)]  [WHERE (conditional expression)] ORDER BY (Column name) [ASC|DESC] [, (Column name) [ASC|DESC]]* [LIMIT (number) [OFFSET (number)]]
</code></pre><p>A SELECT statement is used to narrow down Rows in a Collection or TimeSeries specified in the FROM clause according to the conditional expression in the WHERE clause and process the result set according to the select expression specifying target Column(s), a calculation formula, etc.</p>
<p>If a target Collection or TimeSeries is already specified, you need to omit the FROM clause or specify the same name as the target in the FROM clause. You should note that the FROM clause is case-insensitive. If the WHERE clause is omitted, all the Rows of a target Collection or TimeSeries are selected.</p>
<p>You can place EXPLAIN or EXPLAIN ANALYZE before a SELECT statement to obtain execution plan information and analysis information on execution results in relation to the SELECT statement. See the later section for more information.</p>
<p>Unlike SQL, you cannot extract only specific Column(s) except for aggregation operations. Additionally, clauses corresponding to the following are not available.</p>
<ul>
<li>GROUP BY</li>
<li>HAVING</li>
<li>DISTINCT</li>
<li>FOR UPDATE (Note. can be specified using the API)</li>
<li>JOIN</li>
</ul>
<p>ASCII characters in the keywords of the basic syntax and the names of functions, operators and enumeration constants described in the later sections can be written in lower case.</p>
<h2 id="syntax-of-conditional-expressions-and-calculation-functions">Syntax of Conditional Expressions and Calculation Functions</h2>
<p>This section shows the definitions of the syntax of conditional expressions used in the WHERE clause and the operators and functions available in a conditional expression.  When NULL is included in operator or function, it returns NULL unless otherwise noted.</p>
<h3 id="values">Values</h3>
<p>A value can be either a constant literal or a field of a specified Column in a Row under operation.</p>
<h4 id="literal-values">Literal values</h4>
<p>A literal value can be either of the following:</p>
<ul>
<li>Numeric type: A character string of decimal numbers. The notation of floating point numbers conforms to IEEE754. A double-type non-number, positive infinity and negative infinity are written as NaN, INF and -INF, respectively.</li>
<li>String type: A character string enclosed in single quotation marks. In order to represent a single quotation mark within a character string, use two single quotation marks (the first single quotation mark is an escape character for the second). You cannot use a single quotation mark for any other purposes.</li>
<li>NULL: It is written as NULL.</li>
</ul>
<h4 id="field-values">Field values</h4>
<p>To specify a field value held by a row under evaluation, either describe directly the corresponding column name or describe the column name enclosed within quotation marks &ldquo;&rdquo;&quot;. By enclosing within quotation marks, columns with the same name as key words such as &ldquo;SELECT&rdquo; and &ldquo;WHERE&rdquo; can also be handled. You should note that Column names are case-insensitive. Additionally, you cannot join a Column name and a Collection or TimeSeries name by &ldquo;.&rdquo; etc.</p>
<h3 id="precedence-of-operators">Precedence of Operators</h3>
<p>Operators are evaluated in the order below: Operators with equal precedence are evaluated in the left-to-right order in which they appear.</p>
<ol>
<li>-(Unary)</li>
<li>*, /, %</li>
<li>-(Binary), +</li>
<li>=, &gt;=, &gt;, &lt;=, &lt;, &lt;&gt;, LIKE, IS, IS NOT</li>
<li>NOT</li>
<li>AND</li>
<li>OR, XOR</li>
</ol>
<p>Round parentheses can be used to override the order of precedence and force some parts of an expression to be evaluated before others.</p>
<h3 id="comparison-operations">Comparison Operations</h3>
<h4 id="type-constraints">Type Constraints</h4>
<p>A combination of left and right operand types can be only Boolean-Boolean, String-String, numeric-numeric, or time-time. With regard to numeric types, if left and right operand types are different in precision, the type with a lower precision or a narrower representable value range will be converted to the one with a higher precision or a wider range. Magnitude comparison cannot be made between Boolean and Boolean types or String and String types.</p>
<h4 id="-----">=, &gt;=, &gt;, &lt;=, &lt;, &lt;&gt;</h4>
<p>These operators produce a Boolean value representing the result of comparison; namely, &ldquo;Equal to,&rdquo; &ldquo;Greater than or equal to,&rdquo; &ldquo;Greater than,&rdquo; &ldquo;Less than or equal to,&rdquo; &ldquo;Less than&rdquo; and &ldquo;Not equal to,&rdquo; respectively.
However if either of operands is NULL, it returns NULL.  In principle, arithmetic precision conforms to the IEEE754 specifications; however, it might vary depending on the runtime environment. GridDB assumes that NaN is equal to NaN and that NaN is greater than any other values.</p>
<h4 id="is-is-not">IS, IS NOT</h4>
<p>These operators obtain the Boolean results of the comparison operations in which the value on the left side is equal to or not equal to NULL. The right side must be NULL.</p>
<h3 id="logical-operations">Logical Operations</h3>
<h4 id="not-and-or-xor">NOT, AND, OR, XOR</h4>
<p>These operators produce the result of negation, logical product, logical sum and exclusive logical sum, respectively. Operands of logical operations must be Boolean or NULL.</p>
<h5 id="not">NOT</h5>
<p>If an operand is TRUE, it returns FALSE. If an operand is FALSE, it returns TRUE. If an operand is NULL, it returns NULL.</p>
<h5 id="and">AND</h5>
<p>If both operands are TRUE, it returns TRUE. If either of the operands is FALSE, it returns FALSE. Otherwise, it returns NULL.</p>
<h5 id="or">OR</h5>
<p>If both operands are FALSE, it returns FALSE. If either of the operands is TRUE, it returns TRUE. Otherwise, it returns NULL.</p>
<h5 id="xor">XOR</h5>
<p>If both operands are TRUE or FALSE, it returns FALSE. If either of the operands is NULL, it returns NULL. Otherwise, it returns TRUE.</p>
<p>In addition, a short evaluation (or minimum evaluation) is carried out in an AND or OR operation. That is, if the evaluation can be confirmed with the formula described first, the evaluation of the formula described later will not be conducted.  For example,</p>
<pre tabindex="0"><code class="language-example" data-lang="example">WHERE A=1 AND B=1
</code></pre><p>In this case, if A is 1, then B is deemed to be equal to 1, and if A is not 1, then the evaluation of B=1 need not be carried out.</p>
<h3 id="string-operations">String Operations</h3>
<h4 id="char_lengthstr">CHAR_LENGTH(str)</h4>
<p>Returns the length of the specified string.</p>
<h4 id="concatstr1-str2-">CONCAT(str1, str2, ..@@)</h4>
<p>Returns a new string obtained by concatenating all given strings. If NULL is included in the input, NULL will be ignored and the rest will be concatenated.</p>
<h4 id="str-like-pattern-escape-esc">str LIKE pattern [ESCAPE esc]</h4>
<p>Checks if the whole target string matches the specified pattern. The string matching is case-sensitive. It returns TRUE only if the matching is successful.</p>
<p>The following wildcards can be used for specifying a pattern.</p>
<ul>
<li>%: Matches an arbitrary string, including an empty string.</li>
<li>_: Matches a single arbitrary character.</li>
</ul>
<p>For example, the expression below returns TRUE for &ldquo;RDB&rdquo; and &ldquo;RDBMS&rdquo; but FALSE for &ldquo;ORDB&rdquo; and &ldquo;DBMS&rdquo;.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">column LIKE &#39;_DB%&#39;
</code></pre><p>Wildcards can be placed at any arbitrary position(s) within a pattern.  FALSE is always returned if an empty string is specified as a pattern.</p>
<p>In order to search a wildcard character itself, specify an escape character in the ESCAPE clause.  For example, the expression below returns TRUE for &ldquo;10%&rdquo; but FALSE for &ldquo;10$%.&rdquo;</p>
<pre tabindex="0"><code class="language-example" data-lang="example">column LIKE &#39;10$%&#39; ESCAPE &#39;$&#39;
</code></pre><p>The escape character must be a single character.</p>
<p>You can specify either a Column name or a string literal as &ldquo;str,&rdquo; &ldquo;pattern&rdquo; and &ldquo;esc.&rdquo;</p>
<h4 id="substringstr-start-length">SUBSTRING(str, start[, length])</h4>
<p>Extracts parts of a string.</p>
<p>&ldquo;start&rdquo; is the position where to start extraction of characters. The first character is at index 1. &ldquo;length&rdquo; is the number of characters to extract (0 or positive number). If &ldquo;length&rdquo; is omitted, it extracts all the characters from the &ldquo;start&rdquo; position to the end of the string. If &ldquo;start&rdquo; or &ldquo;length&rdquo; is out of index, it returns an empty string. You should note that &ldquo;start&rdquo; must be a positive number and &ldquo;length&rdquo; must be 0 or a positive number.</p>
<h4 id="upperstr-lowerstr">UPPER(str), LOWER(str)</h4>
<p>Convert ASCII alphabetical characters within a string to upper-case and lower-case characters, respectively.</p>
<h3 id="numerical-operations">Numerical Operations</h3>
<h4 id="--unary--binary---">+, -(unary), -(binary), *, /, %</h4>
<p>Perform arithmetic operations; addition, negation, subtraction, multiplication, division and remainder, respectively. You should note that the remainder operator does not support floating point numbers. In floating point division,  if a number other than 0 is divided by 0, the result is INF, and if 0 is divided by 0, the result is NaN.  The operations on INF or NaN conform to IEEE754.</p>
<h4 id="roundnum-floornum-ceilingnum">ROUND(num), FLOOR(num), CEILING(num)</h4>
<p>Round a floating point number &ldquo;num&rdquo; off to the closest integer, down to the greatest integer that is less than &ldquo;num,&rdquo; and up to the least integer that is greater than or equal to &ldquo;num,&rdquo; respectively. The result is DOUBLE.  They round a number away from 0, toward negative infinity, and toward positive infinity, respectively.  Accordingly, if &ldquo;num&rdquo; is negative, the results are equal to -ROUND(abs(num)), -CEIL(abs(num)), and -FLOOR(abs(num)), respectively, where abs(num) is the absolute value of &ldquo;num.&rdquo;</p>
<p>The table below shows operation examples.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>ROUND</th>
<th>FLOOR</th>
<th>CEILING</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.34</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
</tr>
<tr>
<td>3.67</td>
<td>4.0</td>
<td>3.0</td>
<td>4.0</td>
</tr>
<tr>
<td>-0.23</td>
<td>0.0</td>
<td>-1.0</td>
<td>-0.0</td>
</tr>
<tr>
<td>-3.89</td>
<td>-4.0</td>
<td>-4.0</td>
<td>-3.0</td>
</tr>
</tbody>
</table>
<p>If you specify +0, -0, an integer, NaN, INF, or -INF as a parameter, they return the same value as the specified value.</p>
<h3 id="time-type-operations">Time-Type Operations</h3>
<h4 id="now">NOW()</h4>
<p>Returns the current date and time. It returns the constant result during a single query transaction.</p>
<p>Example) Searching for data with the date value of time-type column before the current time</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT * WHERE date &lt; NOW()
</code></pre><h4 id="timestampstr">TIMESTAMP(str)</h4>
<p>Returns a TIMESTAMP result converted from a timestamp expression.</p>
<p>The following format based on the Western calendar is only supported as a timestamp expression.</p>
<p>Example) Searching for data with the date value of time-type column newer than the time &ldquo;December 30, 2018 10:15:30 (UTC)&rdquo;</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT *  WHERE date &gt; TIMESTAMP(&#39;2018-12-30T10:15:30.000Z&#39;)
</code></pre><p>The following format based on the Western calendar is only supported as a timestamp expression. Time zone strings (Z|hh:mm|hhmm) are interpreted.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">YYYY-MM-DDThh:mm:ss.SSSZ
</code></pre><p>&ldquo;.SSS&rdquo; can be omitted.  In the format above, alphabetical characters stand for decimal integers, as follows:</p>
<ul>
<li>YYYY: Year. Four digits or more.</li>
<li>MM: Month. Must be two digits, from 1 to 12.</li>
<li>DD: Date. Must be two digits, from 1 to 31. If any other number is specified, it will not be accepted. Acceptable numbers depend on the month and the year.</li>
<li>hh: Hours in 24-hour format. Must be two digits, from 0 to 23.</li>
<li>mm: Minutes. Must be two digits, from 0 to 59.</li>
<li>ss: Seconds. Must be two digits, from 0 to 59.</li>
<li>SSS: Milliseconds. Must be three digits, from 0 to 999.</li>
</ul>
<p>Refer to the Annex <em>Range of values</em> for the display range.</p>
<h4 id="timestampaddtime_unit-timestamp-duration">TIMESTAMPADD(time_unit, timestamp, duration)</h4>
<p>Returns the result of adding the specified number (&ldquo;duration&rdquo;) of designated intervals (first parameter) to the specified &ldquo;timestamp&rdquo; value. Specify a numeric value as &ldquo;duration.&rdquo; If a negative value is specified as &ldquo;duration,&rdquo; it returns the time earlier than the specified time. The current version uses the UTC timezone for calculation.</p>
<p>For the first argument time_unit, specify one of the following identifiers.</p>
<ul>
<li>YEAR | MONTH | DAY | HOUR | MINUTE | SECOND | MILLISECOND</li>
</ul>
<p>Example) Searching for data with the date value of time-type column one hour before the current time</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT * WHERE date &lt; TIMESTAMPADD(HOUR, NOW(), -1)
</code></pre><h4 id="timestampdifftime_unit-timestamp1-timestamp2">TIMESTAMPDIFF(time_unit, timestamp1, timestamp2)</h4>
<p>Return the difference between two given timestamps for the designate interval (first parameter). The value returned is a numeric value. The current version uses the UTC timezone for calculation.</p>
<p>For the first argument time_unit, specify one of the following identifiers.</p>
<ul>
<li>YEAR | MONTH | DAY | HOUR | MINUTE | SECOND | MILLISECOND</li>
</ul>
<p>Example) Selecting tickets with three or more days of validity period among a list of tickets (tickets).</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT * WHERE TIMESTAMPDIFF(DAY, expired, issued) &gt;= 3
</code></pre><p>Example) Search for data where the difference between time column end and start (=end-start) is less than 10 hours</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT * WHERE TIMESTAMPDIFF(HOUR, end, start) &lt; 10
</code></pre><h4 id="to_timestamp_msnum">TO_TIMESTAMP_MS(num)</h4>
<p>Convert to a TIMESTAMP corresponding to the num in milliseconds of the time 1970-01-01T00:00:00Z. An error occurs if num is a floating-point number. In addition, an error occurs if the conversion results cannot be expressed as time data e.g. negative values or extremely large values, etc. As a result, if a query using this function on a numerical column is issued, an error occurs if the conversion results contain values that cannot be expressed as time data in the column value. For example, an error occurs if the container contains a row with a num=-1 in the query below.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT * WHERE TO_TIMESTAMP_MS(num) &gt; TIMESTAMP(&#39;2011-01-01T00:00:00Z&#39;)
</code></pre><p>In such a situation, avoid such errors by using the TO_EPOCHMS function as shown below to evaluate only the value in which the converted numerical data serves as the range of the time series data.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT * WHERE num &lt; TO_EPOCH_MS(TIMESTAMP(&#39;9999-12-31T23:59:59.999Z&#39;))
               AND num &gt;= 0
               AND TO_TIMESTAMP_MS(num) &gt; TIMESTAMP(&#39;2011-01-01T00:00:00Z&#39;)
</code></pre><h4 id="to_epoch_mstimestamp">TO_EPOCH_MS(timestamp)</h4>
<p>For time series value specified in a timestamp, the time passed in milliseconds starting from the time 1970-01-01T00:00:00Z is converted to a LONG value. An error occurs if a value which is not a time series data is specified. This function is the inverted conversion of the TO_TIMESTAMP_MS function.</p>
<p>Example) Comparing column value num of elapsed time from 1970-01-01T00:00:00Z with the current time</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT * WHERE num &gt; TO_EPOCH_MS(NOW())
</code></pre><h3 id="array-type-operations">Array-Type Operations</h3>
<h4 id="array_lengtharray">ARRAY_LENGTH(array)</h4>
<p>Returns the length of the specified array.</p>
<h4 id="elementn-array">ELEMENT(n, array)</h4>
<p>Extracts an array element at the specified position. An array of length 1 or more must be specified.  The parameter &ldquo;n&rdquo; is the number indicating the element position, starting from 0.  If &ldquo;n&rdquo; is Floating point type or a negative value or longer than the length of &ldquo;array,&rdquo; or if the length of &ldquo;array&rdquo; is 0, an error is returned.  Accordingly, if different lengths of arrays are contained in a Collection, and if a query specifying an array element as below cannot extract the specified array element, an error can be returned.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT * FROM arrays WHERE ELEMENT(1, array) = 1
</code></pre><p>Rewrite such a query to prevent the ELEMENT function from being evaluated, as below:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT * FROM arrays WHERE ARRAY_LENGTH(array)&gt;= 1 AND ELEMENT(1, array) = 1
</code></pre><h3 id="spatial-type-operations">Spatial-Type Operations</h3>
<p>Spatial-Type data are widely used in the GIS field, such as OpenGIS.  In TQL, it manages the two or three-dimensional spatial structure, and provides generating function and judgment function.</p>
<h4 id="st_geomfromtexttext">ST_GeomFromText(text)</h4>
<p>Generates a spatial-type data from a string of WKT representation.</p>
<p>The WKT is a standard for representing the spatial structure as a string.  In TQL, it supports only the following structure.</p>
<ul>
<li>POINT: Point represented by two or three-dimensional coordinate.</li>
<li>LINESTRING: Set of straight lines in two or three-dimensional space represented by two or more points.</li>
<li>POLYGON: Closed area in two or three-dimensional space represented by a set of straight lines.</li>
<li>POLYHEDRALSURFACE: Area in the three-dimensional space represented by a set of the specified area.</li>
<li>QUADRATICSURFACE: two-dimensional curved surface in a three-dimensional space represented by defining equation f(X) = &lt;AX, X&gt; + BX + c.</li>
</ul>
<p>However, it can not include the infinity or non-numeric numbers as a number that make up the coordinates.  In addition, it can not give unsupported spatial structures.</p>
<p>In the case of the rectangle having a diagonal line connecting points (0, 0) and (10, 10) on the two-dimensional space will be expressed as follows.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">POLYGON((0 0,10 0,10 10,0 10,0 0))
</code></pre><p>In addition, it can express the value that does not correspond with a particular spatial range called the empty geometry for each type of spatial structure data type. Express &ldquo;EMPTY&rdquo; instead of the coordinate values as the following example.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">LINESTRING(EMPTY)
</code></pre><p>In addition, you can specify the SRID by describing the integer after &ldquo;;&rdquo;.  In the following example, it indicates the rectangle is in the coordinate system of SRID:4326.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">POLYGON((0 0,10 0,10 10,0 10,0 0);4326)
</code></pre><p>However, it does not correspond to coordinate range limit by the coordinate system represented by this SRID or the coordinate transformation by changing the SRID.  If you do not specify a SRID, it is set to -1 as an invalid SRID.</p>
<h4 id="st_makerectp1-p2">ST_MakeRect(p1, p2)</h4>
<p>Generate a rectangle having a diagonal line connecting points p1 and p2 on the two-dimensional space. If p1 is equal to p2 or any of the y-coordinate or x-coordinate of p1 and p2 is equal, the result will be an error because it can not form a rectangle.</p>
<h4 id="st_makerectx1-y1-x2-y2">ST_MakeRect(x1, y1, x2, y2)</h4>
<p>Generate a rectangle having a diagonal line connecting points (x1, y1) and (x2, y2) on the two-dimensional space. If x1 is equal to x2 or y1 is equal to y2, the result will be an error because it can not form a rectangle.</p>
<h4 id="st_makeboxp1-p2">ST_MakeBox(p1, p2)</h4>
<p>Generate a rectangular parallelepiped having a diagonal line connecting points p1 and p2 in the three-dimensional space.  If p1 is equal to p2 or any of the coordinate y, x and z of p1 and p2 is equal, the result will be an error because it can not form a rectangular parallelepiped.</p>
<h4 id="st_makeboxx1-y1-z1-x2-y2-z2">ST_MakeBox(x1, y1, z1, x2, y2, z2)</h4>
<p>Generate a rectangular parallelepiped having a diagonal line connecting points (x1, y1, z1) and (x2, y2, z2) in the three-dimensional space.  If x1 is equal to x2, y1 is equal to y2 or z1 is equal to z2, the result will be an error because it can not form a rectangle parallelepiped.</p>
<h4 id="st_makeplanep0x-p0y-p0z-vx-vy-vz">ST_MakePlane(p0x, p0y, p0z, vx, vy, vz)</h4>
<p>Generate a plane from the normal vector v and point p0 in the three-dimensional space.  If the length of v is zero, it generate an undefined plane. This undefined plane does not intersect with any kind of spatial structure.</p>
<h4 id="st_makeconep0x-p0y-p0z-vx-vy-vz-deg">ST_MakeCone(p0x, p0y, p0z, vx, vy, vz, deg)</h4>
<p>Generate a cone from the angle deg of the axis and the bus, point p0 and vector v of the axis in the three-dimensional space.  Units of angle deg is a degree. An error occurs, if the length of v is 0.  Even if deg is not in the range from 0 to 90, it generates a cone with the remainder of dividing by 360 deg taking into account the reverse vector of the axis.</p>
<h4 id="st_makespherep0x-p0y-p0z-r">ST_MakeSphere(p0x, p0y, p0z, r)</h4>
<p>Generate a sphere from the point p0 and the radius r in the three-dimensional space.  An error occurs, if r is zero or negative value.</p>
<h4 id="st_makecylinderp0x-p0y-p0z-vx-vy-vz-r">ST_MakeCylinder(p0x, p0y, p0z, vx, vy, vz, r)</h4>
<p>Generate a cylinder from the point p0, vector v of the axis and the radius r in the three-dimensional space.  An error occurs, if the length of v is zero.  If r is 0, it will be a straight line. If r is a negative value, it will be the same as when specifying -r.</p>
<h4 id="st_makeqsfa00-a01-a02-a10-a11-a12-a20-a21-a22-b0-b1-b2-c">ST_MakeQSF(A00, A01, A02, A10, A11, A12, A20, A21, A22, B0, B1, B2, c)</h4>
<p>Generate a quadratic surface in the three-dimensional space represented by definition equation f(X) = &lt;AX, X&gt; + BX + c.  It does not determine whether the definition formula is completed as a two-dimensional curved surface.</p>
<h4 id="st_mbrintersectsg1-g2">ST_MBRIntersects(g1, g2)</h4>
<p>Determine whether the &ldquo;Minimum Bounding Box&rdquo; of the each spatial ranges intersect.  It returns TRUE only if they intersect.  &ldquo;intersect&rdquo; means &ldquo;there is a common region to the two regions.&rdquo;</p>
<p>Both g1 and g2 cannot be specified quadratic surface (QUADRATICSURFACE).  In addition, for POLYHEDRALSURFACE, the result will be undefined if specified the shapes other than rectangular parallelepipeds, the combination of POLYGON which do not share a side each other and the shape which is not closed as a spatial structure.</p>
<p>It use only x and y coordinates excluding z coordinate as a decision object when one is two-dimensional spatial structure consisting of x and y coordinate and the other is three-dimensional spatial structure consisting of x, y and z coordinates.  For example, the result of intersection determination of POINT (x0 y0) and LINESTRING (x1 y1 z1, x2 y2 z2) is true only if x1 &lt;= x0 &lt;= x2 and y1 &lt;= y0 &lt;= y2 are completed.</p>
<p>FALSE is always returned if either one or both is an empty geometry.</p>
<p>Circumscribed rectangular parallelepiped is defined according to the type of structure as follows.</p>
<ul>
<li>POINT Rectangular parallelepiped whose all vertices located on the same and length of each side is 0. If the structure is two-dimensional, the range of z coordinates of a rectangular parallelepiped is treated as (-, ).</li>
<li>LINESTRING, POLYGON, POLYHEDRALSURFACE: Rectangular parallelepiped consisting of the minimum and maximum value of x, y and z coordinates of the points which make up the structure. Rectangular parallelepiped whose all vertices located on the same and length of each side is 0. If the structure is two-dimensional, the range of z coordinates of a rectangular parallelepiped is treated as (-, ).</li>
</ul>
<p>Example) Selecting a Row such as spatial-type data on the column geom and the specified rectangular range intersect.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT * WHERE ST_MBRIntersects(geom, ST_GeomFromText(&#39;POLYGON((0 0,10 0,10 10,0 10,0 0))&#39;))
</code></pre><h4 id="st_qsfmbrintersectsq-g">ST_QSFMBRIntersects(q, g)</h4>
<p>Determine whether the quadratic curved surface q and the circumscribed rectangular parallelepiped of spatial structure g other than two-dimensional curved intersect. It returns TRUE only if they intersect.  It can not give other than quadratic curved surface to q and a quadratic curved surface to g.  Also, it can not give a two-dimensional spatial structure to g.  The condition of other determination of intersecting are the same as ST_MBRIntersects.</p>
<h4 id="st_getsridg">ST_GetSrId(g)</h4>
<p>Returns the SRID of the spatial structure g. If g does not have a SRID, it returns an invalid SRID (-1).</p>
<h2 id="selection-expressions">Selection Expressions</h2>
<h3 id="basic-syntax-1">Basic Syntax</h3>
<p>This section defines the selection expressions to specify target Column(s), a calculation formula, etc. Only the Rows satisfying the conditions specified in the FROM and WHERE clauses are to be processed.</p>
<h4 id="heading">\*</h4>
<p>Selects all the Rows satisfying the specified condition(s). By designating a ORDER BY section (to be described later), the data can be sorted by column value.</p>
<h4 id="operation-function">(Operation function)</h4>
<p>Any one of operation functions described in the following sections is available for aggregation, selection and other operations.</p>
<p>If an overflow occurs in an internal operation, -INF or INF is returned for floating point operation, and the value &ldquo;undefined&rdquo; is returned for integer operation. And if NaN is given as an operand for floating-point operation, NaN is returned.</p>
<p><a id="aggregation_gen"></a></p>
<h3 id="aggregation-operations---general">Aggregation Operations - General</h3>
<p>Here are described the aggregation operations which can be applied to a set of any Rows.</p>
<p>If no target field is found, the number of results returned is 0, except for the functions COUNT and SUM shown below. Otherwise, the number of results returned is always 1.  If the value of the specified column is NULL, it will not get evaluated unless otherwise noted.</p>
<h4 id="maxcolumn">MAX(column)</h4>
<p>Returns the largest value in the specified Column. Only numerical or time series columns can be specified. The type of a returned value is the same as that of the specified Column.</p>
<h4 id="mincolumn">MIN(column)</h4>
<p>Returns the smallest value in the specified Column. Only numerical or time series columns can be specified. The type of a returned value is the same as that of the specified Column.</p>
<h4 id="count">COUNT(*)</h4>
<p>Return the number of Rows satisfying a given condition(s). A Column cannot be specified. The type of a returned value is always LONG. If there is not a single row that can serve as a target, the value of the operation result is 0.  It also evaluates rows containing a NULL value.</p>
<h4 id="sumcolumn">SUM(column)</h4>
<p>Return the sum of values in the specified Column. Only a numeric-type Column can be specified. The type of a returned value is LONG if the specified Column is of integer type, and DOUBLE if it is of floating-point type.</p>
<h4 id="avgcolumn">AVG(column)</h4>
<p>Returns the average value of the specified Column. Only a numeric-type Column can be specified. The type of a returned value is always DOUBLE.</p>
<h4 id="variancecolumn">VARIANCE(column)</h4>
<p>Returns the variance of values in the specified Column. Only a numeric-type Column can be specified. The type of a returned value is always DOUBLE.</p>
<h4 id="stddevcolumn">STDDEV(column)</h4>
<p>Returns the standard deviation of values in the specified Column. Only a numeric-type Column can be specified. The type of a returned value is always DOUBLE.</p>
<p><a id="aggregation_ts"></a></p>
<h3 id="aggregation-operations---time-series">Aggregation Operations - Time Series</h3>
<p>Here are described the aggregation operations which can be applied to a set of Rows in a TimeSeries.</p>
<p>In aggregation operation weighted by a time-type key, for each Row satisfying a condition, a weighted value is obtained by calculating half the time span between the adjacent Rows before and after the Row in terms of seconds. However, if a Row has only one adjacent Row, the time span from the adjacent Row is considered, and if no adjacent Rows exist, 1 (sec.) is used as a weighted value.  If the value of the specified column is NULL, it will not get evaluated unless otherwise noted.</p>
<h4 id="time_avgcolumn">TIME_AVG(column)</h4>
<p>Returns the average weighted by a time-type key of values in the specified Column. The type of a returned value is always DOUBLE.</p>
<p>The weighted average is calculated by dividing the sum of products of sample values and their respective weighted values by the sum of weighted values. Only a numeric-type Column can be specified. The method for calculating a weighted value is as shown above.</p>
<p>Example) Obtaining the time-weighted average voltage at Point 103, plant1 in July 2011.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT TIME_AVG(voltage103) FROM plant1
  WHERE TIMESTAMP(&#39;2011-07-01T00:00:00Z&#39;) &lt;= timestamp AND timestamp &lt; TIMESTAMP(&#39;2011-08-01T00:00:00Z&#39;)
</code></pre><p>Here, you can see an example of the procedure for calculating a weighted average for the TimeSeries below.</p>
<table>
<thead>
<tr>
<th>Key (seconds from 00:00:00 on July 1, 2011)</th>
<th>Column to be aggregated</th>
</tr>
</thead>
<tbody>
<tr>
<td>0 sec.</td>
<td>4</td>
</tr>
<tr>
<td>10 sec.</td>
<td>3</td>
</tr>
<tr>
<td>20 sec.</td>
<td>2</td>
</tr>
<tr>
<td>40 sec.</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>This TimeSeries is extended as shown in the table below; starting from the left, a midpoint time between adjacent Row values, a weighted value, and a product of a sample value (a Column value) and the weighted value are calculated.</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Column to be aggregated</th>
<th>Midpoint (seconds)</th>
<th>Time span from (previous) midpoint</th>
<th>Time span from (following) midpoint</th>
<th>Weighted value</th>
<th>Product of sample and weighted values</th>
</tr>
</thead>
<tbody>
<tr>
<td>0 sec.</td>
<td>4</td>
<td>-</td>
<td>-</td>
<td>5 (=5-0)</td>
<td>5</td>
<td>20 (=4*5)</td>
</tr>
<tr>
<td>(Midpoint)</td>
<td>-</td>
<td>5 sec.(=(0+10)/2)</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>10 sec.</td>
<td>3</td>
<td>-</td>
<td>5 (=10-5)</td>
<td>5 (=15-10)</td>
<td>10 (=5+5)</td>
<td>30 (=3*10)</td>
</tr>
<tr>
<td>(Midpoint)</td>
<td>-</td>
<td>15 sec.(=(10+20)/2)</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>20 sec.</td>
<td>2</td>
<td>-</td>
<td>5 (=20-15)</td>
<td>10 (=30-20)</td>
<td>15 (=5+10)</td>
<td>30 (=2*15)</td>
</tr>
<tr>
<td>(Midpoint)</td>
<td>-</td>
<td>30 sec.(=(20+40)/2)</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>40 sec.</td>
<td>1</td>
<td>-</td>
<td>10 (=40-30)</td>
<td>-</td>
<td>10</td>
<td>10 (=1*10)</td>
</tr>
</tbody>
</table>
<p>Finally, all the products of sample values and their respective weighted values and all the weighted values are added up respectively, and then the quotient of both the sums is calculated. In the case of this TimeSeries, it is calculated as: (20+30+30+10)/(5+10+15+10) =90/40=2.25. This procedure is not necessarily the same as that for internal operations in GridDB.</p>
<p>The normal unweighted average is calculated as: (4+3+2+1)/4=10/4=2.5.</p>
<p><a id="ts_data_selection"></a></p>
<h3 id="selection-and-interpolation-operations-on-time-series-data">Selection and Interpolation Operations on Time-Series Data</h3>
<h4 id="time_next-timestamp">TIME_NEXT(*, timestamp)</h4>
<p>Selects a time-series Row whose timestamp is identical with or just after the specified timestamp.</p>
<p>Example) Obtaining the temperature at plant1 at the beginning of July 2011.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT TIME_NEXT(*, TIMESTAMP(&#39;2011-07-01T00:00:00Z&#39;)) FROM plant1
</code></pre><h4 id="time_next_only-timestamp">TIME_NEXT_ONLY(*, timestamp)</h4>
<p>Select a time-series Row whose timestamp is just after the specified timestamp.</p>
<h4 id="time_prev-timestamp">TIME_PREV(*, timestamp)</h4>
<p>Selects a time-series Row whose timestamp is identical with or just before the specified timestamp.</p>
<h4 id="time_prev_only-timestamp">TIME_PREV_ONLY(*, timestamp)</h4>
<p>Selects a time-series Row whose timestamp is just before the specified timestamp.</p>
<h4 id="time_interpolatedcolumn-timestamp">TIME_INTERPOLATED(column, timestamp)</h4>
<p>Returns a specified Column value of the time-series Row whose timestamp is identical with the specified timestamp, or a value obtained by linearly interpolating specified Column values of adjacent Rows whose timestamps are just before and after the specified timestamp, respectively. NULL is set if NULL is found in either of the previous or the next timestamp of the specified column value.  If no Row with the same timestamp nor no Row with an earlier or later timestamp is found, an intended Row is not generated and the number of Rows returned is 0. Only a numeric-type Column can be specified. The field values of the Row with the latest timestamp among those with the timestamp identical with or earlier than the specified timestamp are set on the specified Column and the fields other than a key.</p>
<h4 id="time_samplingcolumn-timestamp_start-timestamp_end-interval-dayhourminutesecondmillisecond">TIME_SAMPLING(*|column, timestamp_start, timestamp_end, interval, DAY|HOUR|MINUTE|SECOND|MILLISECOND)</h4>
<p>Takes a sampling of Rows in a specific range from a given start time to a given end time.</p>
<p>Each sampling time point is defined by adding a sampling interval multiplied by a non-negative integer to the start time, excluding the time points later than the end time.</p>
<p>If there is a Row whose timestamp is identical with each sampling time point, the values of the Row are used. Otherwise, interpolated values are used. Row field values in the specified Column to be interpolated are obtained by linearly interpolating the values of the Rows just before and after a sampling time point. NULL is set if NULL is found in either of the previous or the next timestamp of the specified column value. For other fields, the values of the Row with the latest timestamp among those with earlier timestamps than a sampling time point are used as interpolated values. Columns to be linearly interpolated must be of numeric type. If &ldquo;*&rdquo; is specified instead of a specific Column name, the latter method of interpolation is applied to all field.</p>
<p>If there is no Rows to be referenced for interpolation at a specific sampling time point, a corresponding Row is not generated, and thus the number of results returned is reduced by the number of such time points. A shorter sampling interval increases the likelihood that identical Row field values will be used for the Columns with no need for linear interpolation even at different sampling time points. The sampling interval parameter &ldquo;interval&rdquo; must be a positive value.</p>
<p>Example) Obtaining hourly voltage information at Point 103, plant1 on July 1, 2011.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT TIME_SAMPLING(
  voltage103, TIMESTAMP(&#39;2011-07-01T00:00:00Z&#39;), TIMESTAMP(&#39;2011-07-02T00:00:00Z&#39;), 1, HOUR)
FROM plant1
</code></pre><p>In addition, regarding this sampling result, the ORDER BY section (to be described later) can be described and sorted in column sequence.  Example) Determine the hourly voltage at Plant 1, Point 103 on July 1, 2011 and sort the data in voltage sequence.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT TIME_SAMPLING(
  voltage103, TIMESTAMP(&#39;2011-07-01T00:00:00Z&#39;), TIMESTAMP(&#39;2011-07-02T00:00:00Z&#39;), 1, HOUR)
FROM plant1 ORDER BY voltage103
</code></pre><h3 id="row-group-selection-operation-with-the-maximum-valueminimum-value">Row group selection operation with the maximum value/minimum value</h3>
<p>Return any row group that has either the maximum or minimum specified column value.  If the value of the specified column is NULL, it will not get evaluated unless otherwise noted.</p>
<h4 id="max_rowscolumn">MAX_ROWS(column)</h4>
<p>Find the row group with the maximum specified column value. Only numerical or time series columns can be specified.</p>
<h4 id="min_rowscolumn">MIN_ROWS(column)</h4>
<p>Find the row group with the minimum specified column value. Only numerical or time series columns can be specified.</p>
<h2 id="sorting-of-search-results-order-by">Sorting of search results (ORDER BY)</h2>
<p>The sorting sequence of the search results can be specified by the description in the ORDER BY section.  The description in the ORDER BY section is defined as follows.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">ORDER BY (Column name) [ASC|DESC] [, (Column name) [ASC|DESC]]*
</code></pre><p>However, an &lsquo;*&rsquo; means that the previous component is repeated 0 or more times.</p>
<p>ASC means to sort in ascending order and DES means to sort in descending order. If the sorting sequence is not specified, it will remain as ascendant.  If multiple sorting conditions are specified, the results will be sorted in order starting from the top-most condition.  NULL is sorted as the max value.</p>
<p>Example) Conduct a search with a in descending order as the first sorting condition, b in ascending order as the second sorting condition, and c in ascending order as the third sorting condition.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT * ORDER BY a DESC, b ASC, c
</code></pre><p>Unlike SQL, functions and formulas cannot be specified in the sorting conditions.</p>
<h2 id="number-of-search-results-found-relative-position-specification-limit-offset">Number of search results found, relative position specification (LIMIT, OFFSET)</h2>
<p>The number of search results found can be limited by the description stated in the LIMIT section.  In addition, the start position for locating the search results can be specified by the OFFSET.  The syntax of the LIMIT and OFFSET specifications are defined as follows.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">LIMIT (number) [OFFSET (number)]
</code></pre><p>OFFSET is always used together with LIMIT. If omitted, the meaning is the same as OFFSET 0.  Negative values and floating point decimals cannot be specified for the LIMIT and OFFSET figures.</p>
<p>Formulas and functions cannot be specified for the LIMIT and OFFSET figures.</p>
<h2 id="obtaining-execution-plans-and-analyzing-execution-results">Obtaining Execution Plans and Analyzing Execution Results</h2>
<p>You can obtain execution plan information and analysis information on execution results by adding EXPLAIN or EXPLAIN ANALYZE before a SELECT statement.</p>
<p>A obtained result set is composed of an array of entries with the same structure as a Row.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ID</td>
<td>INTEGER</td>
<td>An ID indicating the position of an entry in an array of entries.</td>
</tr>
<tr>
<td>DEPTH</td>
<td>INTEGER</td>
<td>Indicates a depth for representing the relation with other entries. If there is found an entry whose depth is smaller than that of a target entry by one, through checking entries one by one whose IDs are smaller than that of the target entry, it means that the target entry describes the content of the found entry in more detail.</td>
</tr>
<tr>
<td>TYPE</td>
<td>String type</td>
<td>Indicates classification of information indicated by an entry; namely, classification of analysis results, such as execution time, classification of components of a query plan, etc.</td>
</tr>
<tr>
<td>VALUE_TYPE</td>
<td>STRING</td>
<td>Indicates the type of a value assigned to the information indicated by an entry. The type of a value assigned to execution time or other analysis results, for example, is returned. Type names are the same as the primitive types defined in TQL. An empty string is set as VALUE if no value is assigned.</td>
</tr>
<tr>
<td>VALUE</td>
<td>String type</td>
<td>Indicates a character string representing a value assigned to the information indicated by an entry. An empty string is set as VALUE if no value is assigned.</td>
</tr>
<tr>
<td>STATEMENT</td>
<td>String type</td>
<td>Returns a part of a TQL statement corresponding to the information indicated by an entry. An empty string is set if no correspondence is found.</td>
</tr>
</tbody>
</table>
<h3 id="explain">EXPLAIN</h3>
<p>EXPLAIN is placed before a SELECT statement to obtain execution plan information about the SELECT statement. The SELECT statement itself will not be executed.</p>
<p>Even a single identical query might return different results depending on the indexing settings or other conditions.</p>
<h3 id="explain-analyze">EXPLAIN ANALYZE</h3>
<p>EXPLAIN ANALYZE is placed before a SELECT statement to execute the SELECT statement and obtain analysis information, such as execution time, as well as obtain execution plan information about the SELECT statement.</p>
<h2 id="----annex----">&mdash; Annex &mdash;</h2>
<p><a id="label_range_of_values"></a></p>
<h2 id="range-of-values">Range of values</h2>
<p>Describe the range of values such as the upper limit of the value, etc.
Refer to <a href="../../3.md_reference_feature/md_reference_feature">GridDB Features Reference</a> for the restriction values of the system.</p>
<h3 id="values-that-may-be-adopted-by-basic-datatypes">Values that may be adopted by basic datatypes</h3>
<p>The values that may be adopted by the basic datatypes below are as follows.</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Representable values</th>
</tr>
</thead>
<tbody>
<tr>
<td>Boolean (BOOL)</td>
<td>TRUE/FALSE</td>
</tr>
<tr>
<td>BYTE</td>
<td>-2<sup>7</sup> to 2<sup>7</sup>-1</td>
</tr>
<tr>
<td>SHORT</td>
<td>-2<sup>15</sup> to 2<sup>15</sup>-1</td>
</tr>
<tr>
<td>INTEGER</td>
<td>-2<sup>31</sup> to 2<sup>31</sup>-1</td>
</tr>
<tr>
<td>LONG</td>
<td>-2<sup>63</sup> to 2<sup>63</sup>-1</td>
</tr>
<tr>
<td>FLOAT</td>
<td>Conforming to IEEE754</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>Conforming to IEEE754</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>1970/1/1 to 9999/12/31(UTC). Accuracy is in milliseconds. Leap seconds are not handled.</td>
</tr>
</tbody>
</table>
<p>Value that can be used to TQL operation in spatial (GEOMETRY) type is any arbitrary value returned by the ST_GeomFromText function. Among these values, the value that can be stored containers is excluding the QUADRATICSURFACE structure.</p>
<p>The range of values of objects mapped onto the basic types through API may be different from those of the above basic types. The value out of the described range cannot be registered into containers. But the value may be used in the other operations, such as constructing a search condition. For example, a java.util.Date object to be mapped onto TIMESTAMP by Java API can have a value before the year 1970 that cannot be stored in containers, and the value can be used as a RowKey condition of a RowKeyPredicate object or in a sampling query. However, in that case, it is possible that an error occurs when obtaining rows by the condition. For the representation range of the object itself to be mapped onto the above basic types, see the definition of the object type.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-80efa059a971693431b3c8ac16868b64">5 - SQL Reference</h1>
    <div class="lead">Describes how to use GridDB&rsquo;s NewSQL interface</div>
	<h2 id="----sql-description-format----">&mdash; SQL description format &mdash;</h2>
<p>This chapter shows the descriptive format of the SQL that can be used in the NewSQL interface.</p>
<h2 id="usable-operations">Usable operations</h2>
<p>Besides the SELECT command, DDL command (Data Definition Language) such as CREATE TABLE, and INSERT/DELETE are also supported. See <a href="#sql_commands_supported_by_griddb">SQL commands supported by GridDB</a> for details.</p>
<h2 id="data-types">Data types</h2>
<p><a id="data_types_used_in_data_storage"></a></p>
<h3 id="data-types-used-in-data-storage">Data types used in data storage</h3>
<p>The data types used for data storage in the NewSQL interface are shown in the table below. These data type names can be specified as a column data type when creating a table.</p>
<table>
<thead>
<tr>
<th>Data types</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL</td>
<td>True/False</td>
</tr>
<tr>
<td>BYTE</td>
<td>Integer value from -2<sup>7</sup> to 2<sup>7</sup>-1 (8 bit)</td>
</tr>
<tr>
<td>SHORT</td>
<td>Integer value from -2<sup>15</sup> to 2<sup>15</sup>-1 (16 bit)</td>
</tr>
<tr>
<td>INTEGER</td>
<td>Integer value from -2<sup>31</sup> to 2<sup>31</sup>-1 (32 bit)</td>
</tr>
<tr>
<td>LONG</td>
<td>Integer value from -2<sup>63</sup> to 2<sup>63</sup>-1 (64 bit)</td>
</tr>
<tr>
<td>FLOAT</td>
<td>Single-precision data type (32 bits), floating-point number defined in IEEE754</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>Double-precision data type (64 bits), floating-point number defined in IEEE754</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>Data type expressing the date and time.</td>
</tr>
<tr>
<td>STRING</td>
<td>Text that is composed of an arbitrary number of characters using the unicode code point.</td>
</tr>
<tr>
<td>BLOB</td>
<td>Data type for binary data such as images and voice, etc.<br>Large objects to be saved directly in the input format.<br>The character x or X can also be added to create a hexadecimal expression such as X'23AB'.</td>
</tr>
</tbody>
</table>
<p>A NULL value can be registered to table. The results of operators that is related to NULL value such as &ldquo;IS NULL&rdquo; are SQL-compliant.</p>
<h3 id="expression-that-can-be-specified-as-a-column-data-type-when-creating-a-table">Expression that can be specified as a column data type when creating a table</h3>
<p>In the NewSQL interface, for data type names that are described as column data types when the table was created, even if the name does not match the data type name given in <a href="#data_types_used_in_data_storage">Data types used in data storage</a>, follow the rules to interpret and determine the data type to use for data storage.</p>
<p>Check the following rules in sequence starting from the top and determine the data type to use for data storage based on the applicable rule.  The data type name described when checking the rules and the strings to check using the rules are not case sensitive.
If multiple rules apply, the rule ranked higher will be prioritized.
If no rules are applicable, an error will occur and table creation will fail.</p>
<table>
<thead>
<tr>
<th>Rule no.</th>
<th>Data type names, that were described as column data types when the table was created</th>
<th>Column type of the table to be created</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Type names listed in <a href="#data_types_used_in_data_storage">Data types used in data storage</a></td>
<td>Same as specified type</td>
</tr>
<tr>
<td>2</td>
<td>REAL</td>
<td>DOUBLE</td>
</tr>
<tr>
<td>3</td>
<td>TINYINT</td>
<td>BYTE</td>
</tr>
<tr>
<td>4</td>
<td>SMALLINT</td>
<td>SHORT</td>
</tr>
<tr>
<td>5</td>
<td>BIGINT</td>
<td>LONG</td>
</tr>
<tr>
<td>6</td>
<td>Type name including &ldquo;INT&rdquo;</td>
<td>INTEGER</td>
</tr>
<tr>
<td>7</td>
<td>Type name including any of &ldquo;CHAR&rdquo;, &ldquo;CLOB&rdquo;, &ldquo;TEXT&rdquo;</td>
<td>STRING</td>
</tr>
<tr>
<td>8</td>
<td>Type name including &ldquo;BLOB&rdquo;</td>
<td>BLOB</td>
</tr>
<tr>
<td>9</td>
<td>Type name including any of &ldquo;REAL&rdquo;, &ldquo;DOUB&rdquo;</td>
<td>DOUBLE</td>
</tr>
<tr>
<td>10</td>
<td>Type name including &ldquo;FLOA&rdquo;</td>
<td>FLOAT</td>
</tr>
</tbody>
</table>
<p>An example to determine the data type using this rule is shown.</p>
<ul>
<li>Name of specified data type is &ldquo;BIGINTEGER&rdquo; -&gt; INTEGER (Rule 6)</li>
<li>Name of specified data type is &ldquo;LONG&rdquo; -&gt; LONG (Rule 1)</li>
<li>Name of specified data type is &ldquo;TINYINT&rdquo; -&gt; BYTE (Rule 3)</li>
<li>Name of specified data type is &ldquo;FLOAT&rdquo; -&gt; FLOAT (Rule 1)</li>
<li>Name of specified data type is &ldquo;VARCHAR&rdquo; -&gt; STRING (Rule 7)</li>
<li>Name of specified data type is &ldquo;CHARINT&rdquo; -&gt; INTEGER (Rule 6)</li>
<li>Name of specified data type is &ldquo;BIGBLOB&rdquo; -&gt; BLOB (Rule 8)</li>
<li>Name of specified data type is &ldquo;FLOATDOUB&rdquo; -&gt; DOUBLE (Rule 9)</li>
<li>Name of specified data type is &ldquo;INTREAL&rdquo; -&gt; INTEGER (Rule 6)</li>
<li>Name of specified data type is &ldquo;FLOATINGPOINT&rdquo; -&gt; INTEGER (Rule 6)</li>
<li>Name of specified data type is &ldquo;DECIMAL&rdquo; -&gt; error</li>
</ul>
<p>Describe the data type as follows in the NewSQL interface when using the data type equivalent to the one used in the clients of the NoSQL interface. However, some data types may not be used as the equivalent type do not exist.</p>
<table>
<thead>
<tr>
<th>Data type in the NoSQL interface in the client</th>
<th>Equivalent column data type descriptions in NewSQL interface</th>
</tr>
</thead>
<tbody>
<tr>
<td>STRING (string data type)</td>
<td>STRING or &ldquo;Expression to be STRING&rdquo;</td>
</tr>
<tr>
<td>BOOL (Boolean)</td>
<td>BOOL</td>
</tr>
<tr>
<td>BYTE (8-bit integer)</td>
<td>BYTE or &ldquo;Expression to be BYTE&rdquo;</td>
</tr>
<tr>
<td>SHORT (16-bit integer)</td>
<td>SHORT or &ldquo;Expression to be SHORT&rdquo;</td>
</tr>
<tr>
<td>INTEGER (32-bit integer)</td>
<td>INTEGER or &ldquo;Expression to be INTEGER&rdquo;</td>
</tr>
<tr>
<td>LONG (64-bit integer)</td>
<td>LONG or &ldquo;Expression to be LONG&rdquo;</td>
</tr>
<tr>
<td>FLOAT (32 bitwise floating point number)</td>
<td>FLOAT or &ldquo;Expression to be FLOAT&rdquo;</td>
</tr>
<tr>
<td>DOUBLE (64 bitwise floating point number)</td>
<td>DOUBLE or &ldquo;Expression to be DOUBLE&rdquo;</td>
</tr>
<tr>
<td>TIMESTAMP (time data type)</td>
<td>TIMESTAMP</td>
</tr>
<tr>
<td>GEOMETRY (spatial data type)</td>
<td>Cannot be specified as a data type of the column when creating a table</td>
</tr>
<tr>
<td>BLOB</td>
<td>BLOB or &ldquo;Expression to be BLOB&rdquo;</td>
</tr>
<tr>
<td>ARRAY</td>
<td>Cannot be specified as a data type of the column when creating a table</td>
</tr>
</tbody>
</table>
<h3 id="data-type-when-accessing-a-container-as-a-table-and-the-treatment-of-the-values">Data type when accessing a container as a table and the treatment of the values</h3>
<p>The container created with the NoSQL interface client is handled as follows using the container&rsquo;s column type and value when accessing it with the NewSQL interface:</p>
<table>
<thead>
<tr>
<th>Column type of container</th>
<th>Data type mapped in NewSQL</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>STRING</td>
<td>STRING</td>
<td>Same as original value</td>
</tr>
<tr>
<td>BOOL</td>
<td>BOOL</td>
<td>Same as original value</td>
</tr>
<tr>
<td>BYTE</td>
<td>BYTE</td>
<td>Same as original value</td>
</tr>
<tr>
<td>SHORT</td>
<td>SHORT</td>
<td>Same as original value</td>
</tr>
<tr>
<td>INTEGER</td>
<td>INTEGER</td>
<td>Same as original value</td>
</tr>
<tr>
<td>LONG</td>
<td>LONG</td>
<td>Same as original value</td>
</tr>
<tr>
<td>FLOAT</td>
<td>FLOAT</td>
<td>Same as original value</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>DOUBLE</td>
<td>Same as original value</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>TIMESTAMP</td>
<td>Same as original value</td>
</tr>
<tr>
<td>GEOMETRY</td>
<td>Same data type as NULL constant (Types.UNKNOWN)</td>
<td>All the values are NULL</td>
</tr>
<tr>
<td>BLOB</td>
<td>BLOB</td>
<td>Same as original value</td>
</tr>
<tr>
<td>ARRAY</td>
<td>Same data type as NULL constant (Types.UNKNOWN)</td>
<td>All the values are NULL</td>
</tr>
</tbody>
</table>
<h3 id="treatment-of-the-data-type-not-supported-by-sql">Treatment of the data type not supported by SQL</h3>
<p>The data types which are supported by the NoSQL interface, but not by the NewSQL interface are as follows.</p>
<ul>
<li>GEOMETRY</li>
<li>ARRAY</li>
</ul>
<p>This section explains how to handle the data of these data types when accessed using the NewSQL interface.</p>
<ul>
<li>
<p>Creating a table using CREATE TABLE</p>
<ul>
<li>These data types cannot be specified as a data type of the column when creating a table. An error occurs.</li>
</ul>
</li>
<li>
<p>Deleting a table using DROP TABLE</p>
<ul>
<li>The table, which has any columns of these data types, can be deleted.</li>
</ul>
</li>
<li>
<p>Registration/updating/deleting using INSERT/UPDATE/DELETE</p>
<ul>
<li>
<p>For a table with the column of these data types, INSERT/UPDATE/DELETE causes an error.</p>
</li>
<li>
<p>Rows can not be registered or updated even by specifying only the column values of the supported data types, without specifying any column values of these data types.</p>
<pre tabindex="0"><code>// The table created using the NoSQL interface
  name: sample1
  Column: id INTEGER
          value DOUBLE
          geometry GEOMETRY

// Register rows by specifying only INTEGER and DOUBLE columns. -&gt; An error occurs because the table has a GEOMETRY type column.
INSERT INTO sample1 (id, value) VALUES (1, 192.3)
</code></pre></li>
</ul>
</li>
<li>
<p>Searching using SELECT</p>
<ul>
<li>Whenever a table with the column of these data types are searched, NULL returns from these columns.</li>
</ul>
</li>
<li>
<p>Creating/deleting an index using CREATE INDEX/DROP INDEX</p>
<ul>
<li>Creating/deleting an index on a GEOMETRY type column is possible.</li>
<li>Creating/deleting an index on an array type column is not allowed. An error occurs. (In the NoSQL interface, creating/deleting an index on an array type column is not allowed.)</li>
</ul>
</li>
</ul>
<h2 id="user-and-database">User and database</h2>
<p>There are 2 types of GridDB user, an administrator user and a general user, which differ in terms of the functions which can be used.  In addition, access can be separated on a user basis by creating a database.
See &ldquo;<a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a>&rdquo; for the details of users and a database.</p>
<h2 id="naming-rules">Naming rules</h2>
<p>The naming rules are as follows:</p>
<ul>
<li>A database name, table name, view name, column name, index name and general user name is a string composed of one or more ASCII alphanumeric characters, the underscore &ldquo;_&rdquo; , the hyphen &ldquo;-&rdquo; , the dot &ldquo;.&rdquo; , the slash &ldquo;/&rdquo; and the equal &ldquo;=&rdquo;.</li>
<li>For table name, the &ldquo;@&rdquo; character can also be specified for the node affinity function.</li>
</ul>
<p>See &ldquo;<a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a>&rdquo; for the details about the node affinity function, and the rules and the restrictions of naming.</p>
<p>[Notice]</p>
<ul>
<li>
<p>If the name of a table or a column contains characters other than ASCII alphanumeric characters and underscore, or if the first character of the name is a number in a SQL statement, enclose the name with double quotation marks.</p>
<pre tabindex="0"><code>SELECT &#34;column.a1&#34; FROM &#34;Table-5&#34;
</code></pre></li>
</ul>
<p><a id="sql_commands_supported_by_griddb"></a></p>
<h2 id="----sql-commands-supported-by-griddb----">&mdash; SQL commands supported by GridDB &mdash;</h2>
<p>Supported SQL commands are in the table as follows.</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Overview</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#create-database">CREATE DATABASE</a></td>
<td>Create a database.</td>
</tr>
<tr>
<td><a href="#create-table">CREATE TABLE</a></td>
<td>Create a table.</td>
</tr>
<tr>
<td><a href="#create-index">CREATE INDEX</a></td>
<td>Create an index.</td>
</tr>
<tr>
<td><a href="#create-view">CREATE VIEW</a></td>
<td>Create a view.</td>
</tr>
<tr>
<td><a href="#create-user">CREATE USER</a></td>
<td>Create a general user.</td>
</tr>
<tr>
<td><a href="#create-role">CREATE ROLE</a></td>
<td>Create a role.</td>
</tr>
<tr>
<td><a href="#drop-database">DROP DATABASE</a></td>
<td>Delete a database.</td>
</tr>
<tr>
<td><a href="#drop-table">DROP TABLE</a></td>
<td>Delete a table.</td>
</tr>
<tr>
<td><a href="#drop-index">DROP INDEX</a></td>
<td>Delete an index.</td>
</tr>
<tr>
<td><a href="#drop-view">DROP VIEW</a></td>
<td>Delete a view.</td>
</tr>
<tr>
<td><a href="#drop-user">DROP USER</a></td>
<td>Delete a general user.</td>
</tr>
<tr>
<td><a href="#drop-role">DROP ROLE</a></td>
<td>Delete a role.</td>
</tr>
<tr>
<td><a href="#alter-table">ALTER TABLE</a></td>
<td>Change the structure of a table.</td>
</tr>
<tr>
<td><a href="#grant">GRANT</a></td>
<td>Assign database access rights to a general user.</td>
</tr>
<tr>
<td><a href="#revoke">REVOKE</a></td>
<td>Revoke database access rights from a general user.</td>
</tr>
<tr>
<td><a href="#set-password">SET PASSWORD</a></td>
<td>Change the password of a general user.</td>
</tr>
<tr>
<td><a href="#select">SELECT</a></td>
<td>Select data.</td>
</tr>
<tr>
<td><a href="#insert">INSERT</a></td>
<td>Insert rows into a table.</td>
</tr>
<tr>
<td><a href="#delete">DELETE</a></td>
<td>Delete rows from a table.</td>
</tr>
<tr>
<td><a href="#update">UPDATE</a></td>
<td>Update rows in a table.</td>
</tr>
<tr>
<td><a href="#comment">Comment</a></td>
<td>Add a comment.</td>
</tr>
<tr>
<td><a href="#hint">Hints</a></td>
<td>Control an execution plan.</td>
</tr>
</tbody>
</table>
<p>An explanation for each category of SQL command is given in this chapter.</p>
<h2 id="data-definition-language-ddl">Data definition language (DDL)</h2>
<h3 id="create-database">CREATE DATABASE</h3>
<p>Create a database.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CREATE DATABASE database_name;</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>This command can only be executed by the administrative user.</li>
<li>Databases with the same name as &ldquo;public&rdquo;, &ldquo;information_schema&rdquo; cannot be created as these are reserved for internal use in GridDB.</li>
<li>Nothing will be changed if a database with the same name already exists.</li>
<li>See &ldquo;<a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a>&rdquo; for the rules of a database name.</li>
</ul>
<h3 id="create-table">CREATE TABLE</h3>
<h4 id="creating-a-table">Creating a table</h4>
<p>Create a table.</p>
<p><strong>Syntax</strong></p>
<ul>
<li>
<p>Table (collection)</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CREATE TABLE [IF NOT EXISTS] table name (column definition [, column definition &hellip;] [, PRIMARY KEY (column name [, &hellip;])])<br>[WITH (property key = property value)];</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Timeseries table (timeseries container)</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CREATE TABLE [IF NOT EXISTS] table_name ( column_name TIMESTAMP PRIMARY KEY [, column definition &hellip;] )<br>USING TIMESERIES [WITH (property_key=property_value [, property_key=property_value &hellip;])];</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>column definition</strong></p>
<ul>
<li>column_name data_type [ column_constraint ]</li>
</ul>
</li>
<li>
<p><strong>column_constraint</strong></p>
<ul>
<li>PRIMARY KEY (only the 1st column can be specified)</li>
<li>NULL</li>
<li>NOT NULL</li>
</ul>
</li>
</ul>
<p><strong>Specifications</strong></p>
<ul>
<li>
<p>See &ldquo;<a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a>&rdquo;  for the rule of a table name and a column name.</p>
</li>
<li>
<p>If &ldquo;IF NOT EXISTS&rdquo; is specified, the specified table can be created only if another table with the same name does not exist.</p>
</li>
<li>
<p>The column name and data type name need to be specified in column definition. See <a href="#data_types_used_in_data_storage">Data types used in data storage</a> for the data types that can be specified.</p>
</li>
<li>
<p>Composite primary key can be set to a table (collection) by setting the primary key after describing the column definition. The composite primary key must be set to the columns which are continuous from the first column and can be set up to 16 columns. It cannot be set together with the PRIMARY KEY as a column constraint, cannot be set to a time series table (time series container).</p>
</li>
<li>
<p>See &ldquo;<a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a>&rdquo;  for details of time series table (Time series container).</p>
</li>
<li>
<p>Options related to data affinity can be specified in the format &ldquo;WITH (property key = property value, &hellip;)&rdquo;.
<a id="label_data_affinity_property"></a></p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Item</th>
<th>Property key</th>
<th>Property value type</th>
</tr>
</thead>
<tbody>
<tr>
<td>Data affinity</td>
<td>hint<br>(Character string indicating similarity between containers)</td>
<td>data_affinity</td>
<td>STRING</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>See &ldquo;<a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a>&rdquo; for the details of each item.</p>
</li>
</ul>
<p><strong>Examples</strong></p>
<ul>
<li>
<p>Creating a table</p>
<pre tabindex="0"><code class="language-example" data-lang="example">CREATE TABLE myTable (
  key INTEGER PRIMARY KEY,
  value1 DOUBLE NOT NULL,
  value2 DOUBLE NOT NULL
);
</code></pre></li>
</ul>
<h4 id="creating-a-partitioned-table">Creating a partitioned table</h4>
<p>Creating a partitioned table</p>
<p>See &ldquo;<a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a>&rdquo; for details of each partitioning function.</p>
<p><strong>(1) Creating a hash partitioned table</strong></p>
<p><strong>Syntax</strong></p>
<ul>
<li>
<p>Table (collection)</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CREATE TABLE [IF NOT EXISTS] table_name ( column definition [, column definition &hellip;] [, PRIMARY KEY(column name [, &hellip;])] )<br>[WITH (property_key=property_value)]<br>PARTITION BY HASH (column_name_of_partitioning_key) PARTITIONS division_count;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Timeseries table (timeseries container)</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CREATE TABLE [IF NOT EXISTS] table_name ( column definition [, column definition &hellip;] )<br>USING TIMESERIES [WITH (property_key=property_value, &hellip;)]]<br>PARTITION BY HASH (column_name_of_partitioning_key) PARTITIONS division_count ;</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p><strong>Specifications</strong></p>
<ul>
<li>Create a hash partitioned table usng the column name of the partitioning key and the value of division count.</li>
<li>Specify the value from 1 to 1024 for &ldquo;division_count&rdquo;.</li>
<li>The partitioning key requires the primary key. To set a key other than the primary key, the restriction in the configuration file need to be removed. For details, refer to the cluster definition file settings in <a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a>.</li>
<li>The column specified as partitioning key cannot be updated.</li>
<li>Options related to data affinity can be specified in the format &ldquo;WITH (property key = property value, &hellip;)&rdquo;.
The options that can be specified are same as <a href="#label_data_affinity_property">normal table</a>.</li>
</ul>
<p><strong>Examples</strong></p>
<ul>
<li>
<p>Creating a hash partitioned table</p>
<pre tabindex="0"><code class="language-example" data-lang="example">CREATE TABLE myHashPartition (
  id INTEGER PRIMARY KEY,
  value STRING
) PARTITION BY HASH (id) PARTITIONS 128;
</code></pre></li>
</ul>
<p><strong>(2) Creating an interval partitioned table</strong></p>
<p><strong>Syntax</strong></p>
<ul>
<li>
<p>Table (collection)</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CREATE TABLE [IF NOT EXISTS] table_name ( column definition [, column definition &hellip;] [, PRIMARY KEY(column name [, &hellip;])])<br>[WITH (property_key=property_value, &hellip;)]<br>PARTITION BY RANGE(column_name_of_partitioning_key) EVERY(interval_value [, interval_unit ]);</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Timeseries table (timeseries container)</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CREATE TABLE [IF NOT EXISTS] table_name ( column definition [, column definition &hellip;] )<br>USING TIMESERIES [WITH (property_key=property_value, &hellip;)]<br>PARTITION BY RANGE(column_name_of_partitioning_key) EVERY(interval_value [, interval_unit ]) ;</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p><strong>Specifications</strong></p>
<ul>
<li>
<p>Specify the column which type is BYTE, SHORT, INTEGER, LONG or TIMESTAMP for &ldquo;column_name_of_partitioning_key&rdquo;.</p>
</li>
<li>
<p>The partitioning key requires the primary key. To set a key other than the primary key, the restriction in the configuration file need to be removed. For details, refer to the cluster definition file settings in <a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a>.</p>
</li>
<li>
<p>The column specified as partitioning key cannot be updated.</p>
</li>
<li>
<p>The following values can be specified as the &ldquo;interval_value&rdquo;.</p>
<table>
<thead>
<tr>
<th>Partitioning key type</th>
<th>Possible interval value</th>
</tr>
</thead>
<tbody>
<tr>
<td>BYTE</td>
<td>from 1 to 2<sup>7</sup>-1</td>
</tr>
<tr>
<td>SHORT</td>
<td>from 1 to 2<sup>15</sup>-1</td>
</tr>
<tr>
<td>INTEGER</td>
<td>from 1 to 2<sup>31</sup>-1</td>
</tr>
<tr>
<td>LONG</td>
<td>from 1000 to 2<sup>63</sup>-1</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>1 or more</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>If the column of TIMESTAMP is specified, it is also required to specify the interval unit. DAY is the only value that can be specified as the interval unit.</p>
</li>
<li>
<p>The interval unit cannot be specified for any types other than TIMESTAMP.</p>
</li>
<li>
<p>Options related to data affinity can be specified in the format &ldquo;WITH (property key = property value, &hellip;)&rdquo;.
The options that can be specified are same as <a href="#label_data_affinity_property">normal table</a>.</p>
</li>
<li>
<p>The options about expiry release can be specified by the format &quot; WITH (property_key=property_value, &hellip;)&quot;.</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Item</th>
<th>Property key</th>
<th>Property value type</th>
<th>Required or optional when setting expiry release</th>
</tr>
</thead>
<tbody>
<tr>
<td>Expiry release function</td>
<td>Type</td>
<td>expiration_type</td>
<td>STRING<br>(Only the following type can be specified. <br>PARTITION: Partition expiry release)</td>
<td>Optional (default: PARTITION)</td>
</tr>
<tr>
<td></td>
<td>Expiration time</td>
<td>expiration_time</td>
<td>INTEGER</td>
<td>Required</td>
</tr>
<tr>
<td></td>
<td>Expiration time unit</td>
<td>expiration_time_unit</td>
<td>STRING <br>(The following five types can be specified. <br>DAY / HOUR / MINUTE / SECOND / MILLISECOND )</td>
<td>Optional (default: DAY)</td>
</tr>
<tr>
<td></td>
<td>Expiration division count</td>
<td>expiration_division_count</td>
<td>INTEGER</td>
<td>Optional (default: 8)</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>The partition expiry release can only be specified for followings:</p>
<ul>
<li>Timeseries table (timeseries container)</li>
<li>Table (collection) whose partitioning key is TIMESTAMP type.</li>
</ul>
</li>
<li>
<p>See &ldquo;<a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a>&rdquo; for the details of each item.</p>
</li>
</ul>
<p><strong>Examples</strong></p>
<ul>
<li>
<p>Creating an interval partitioned table.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">CREATE TABLE myIntervalPartition (
  date TIMESTAMP PRIMARY KEY,
  value STRING
) PARTITION BY RANGE (date) EVERY (30, DAY);
</code></pre></li>
<li>
<p>Creating an interval partitioned table (timeseries table) using the partition expiry release function.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">CREATE TABLE myIntervalPartition2 (
  date TIMESTAMP PRIMARY KEY,
  value STRING
) USING TIMESERIES WITH (
  expiration_type=&#39;PARTITION&#39;,
  expiration_time=90,
  expiration_time_unit=&#39;DAY&#39;
) PARTITION BY RANGE (date) EVERY (30, DAY);
</code></pre></li>
</ul>
<p><strong>(3) Creating an interval hash partitioned table</strong></p>
<p><strong>Syntax</strong></p>
<ul>
<li>
<p>Table (collection)</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CREATE TABLE [IF NOT EXISTS] table_name ( column definition [, column definition &hellip;] [, PRIMARY KEY((column_name [, &hellip;])] )<br>[WITH (property_key=property_value, &hellip;) ]<br>PARTITION BY RANGE(column_name_of_interval_partitioning_key) EVERY(interval_value [, interval_unit ])<br>SUBPARTITION BY HASH(column_name_of_hash_partitioning_key) SUBPARTITIONS division_count;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Timeseries table (timeseries container)</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CREATE TABLE [IF NOT EXISTS] table_name ( column definition [, column definition &hellip;] ) USING TIMESERIES [WITH (property_key=property_value, &hellip;)] PARTITION BY RANGE(column_name_of_partitioning_key) EVERY(interval_value [, interval_unit ]) SUBPARTITION BY HASH(column_name_of_hashpartitioning_key) SUBPARTITIONS division_count ;</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p><strong>Specifications</strong></p>
<ul>
<li>
<p>Specify the column which type is BYTE, SHORT, INTEGER, LONG or TIMESTAMP for &ldquo;column_name_of_interval_partitioning_key&rdquo;.</p>
</li>
<li>
<p>The following values can be specified as the &ldquo;interval_value&rdquo;.</p>
<table>
<thead>
<tr>
<th>Partitioning key type</th>
<th>Possible interval value</th>
</tr>
</thead>
<tbody>
<tr>
<td>BYTE</td>
<td>from 1 to 2<sup>7</sup>-1</td>
</tr>
<tr>
<td>SHORT</td>
<td>from 1 to 2<sup>15</sup>-1</td>
</tr>
<tr>
<td>INTEGER</td>
<td>from 1 to 2<sup>31</sup>-1</td>
</tr>
<tr>
<td>LONG</td>
<td>from 1000 * division_count to -2<sup>63</sup>-1</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>1 or more</td>
</tr>
</tbody>
</table>
<ul>
<li>If the column of TIMESTAMP is specified, it is also required to specify the interval unit. DAY is the only value that can be specified as the interval unit.</li>
<li>The interval unit cannot be specified for any types other than TIMESTAMP.</li>
</ul>
</li>
<li>
<p>Specify the value from 1 to 1024 for &ldquo;division_count&rdquo;.</p>
</li>
<li>
<p>The partitioning key requires the primary key. To set a key other than the primary key, the restriction in the configuration file need to be removed. For details, refer to the cluster definition file settings in <a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a>.</p>
</li>
<li>
<p>The column specified as partitioning key cannot be updated.</p>
</li>
<li>
<p>Options related to data affinity can be specified in the format &ldquo;WITH (property key = property value, &hellip;)&rdquo;.
The options that can be specified are same as <a href="#label_data_affinity_property">normal table</a>.</p>
</li>
<li>
<p>The options about expiry release can be specified by the format &quot; WITH (property_key=property_value, &hellip;)&quot;.</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Item</th>
<th>Property key</th>
<th>Property value type</th>
<th>Required or optional when setting expiry release</th>
</tr>
</thead>
<tbody>
<tr>
<td>Expiry release function</td>
<td>Type</td>
<td>expiration_type</td>
<td>STRING<br>(Any of the followings. If omitted, PARTITION. <br>PARTITION: Partition expiry release<br>ROW: Row expiry release)</td>
<td>Optional</td>
</tr>
<tr>
<td></td>
<td>Expiration time</td>
<td>expiration_time</td>
<td>INTEGER</td>
<td>Required</td>
</tr>
<tr>
<td></td>
<td>Expiration time unit</td>
<td>expiration_time_unit</td>
<td>STRING <br>(The following five types can be specified. <br>DAY / HOUR / MINUTE / SECOND / MILLISECOND )</td>
<td>Optional (default: DAY)</td>
</tr>
<tr>
<td></td>
<td>Expiration division count</td>
<td>expiration_division_count</td>
<td>INTEGER</td>
<td>Optional (default: 8)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p><strong>Examples</strong></p>
<ul>
<li>
<p>Creating an interval-hash partitioned table</p>
<pre tabindex="0"><code class="language-example" data-lang="example">CREATE TABLE myIntervalHashPartition (
  date TIMESTAMP,
  value STRING,
  PRIMARY KEY (date, value)
) PARTITION BY RANGE (date) EVERY (60, DAY)
SUBPARTITION BY HASH (value) SUBPARTITIONS 64;
</code></pre></li>
<li>
<p>Creating an interval-hash partitioned table (timeseries table) using the partition expiry release function.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">CREATE TABLE myIntervalHashPartition2 (
  date TIMESTAMP PRIMARY KEY,
  value STRING
) USING TIMESERIES WITH (
  expiration_type=&#39;PARTITION&#39;,
  expiration_time=90,
  expiration_time_unit=&#39;DAY&#39;
) PARTITION BY RANGE (date) EVERY (60, DAY)
SUBPARTITION BY HASH (date) SUBPARTITIONS 64;
</code></pre></li>
</ul>
<h3 id="create-index">CREATE INDEX</h3>
<p>Create an index.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CREATE INDEX [IF NOT EXISTS] index_name ON table_name ( column_name_to_be_indexed );</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>See &ldquo;<a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a>&rdquo; for the rules of an index name.</li>
<li>For a table, an index with the same name as an existing index in the table cannot be created.</li>
<li>If a transaction under execution exists in a table subject to processing, the system will wait for these to be completed before creating the data.</li>
<li>An index cannot be created on a column of BLOB type and ARRAY type.</li>
<li>An index with multiple columns can be created. This is called a composite index.</li>
<li>The maximum number of columns that can be specified in one composite index is 16, and the same column cannot be specified more than one time.</li>
<li>Time series table does not allow a primary key in a composite index.</li>
</ul>
<h3 id="create-view">CREATE VIEW</h3>
<p>Create a view.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CREATE [FORCE] VIEW view_name AS SELECT statement;</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>See &ldquo;<a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a>&rdquo; for the rules of a view name.</li>
<li>Whether the result from the SELECT statement is available or not is checked. If the result is not available, a view cannot be created.</li>
<li>When FORCE is specified, the result from the SELECT statement is not checked, while a syntactic check is done.</li>
<li>The SELECT statement can include other view names. If other view names in the SELECT statement cause circular reference, the view cannot be created even if FORCE is specified.</li>
</ul>
<h3 id="create-user">CREATE USER</h3>
<p>Create a general user.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CREATE USER user_name IDENTIFIED BY &lsquo;password_string&rsquo; ;</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>See &ldquo;<a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a>&rdquo; for the rules of a user name.</li>
<li>Can be executed by an administrator user only.</li>
<li>A user with the same name as an administrator user (admin and system) registered during installation cannot be created.</li>
<li>The password must consist of ASCII characters. It is case-sensitive.</li>
</ul>
<h3 id="create-role">CREATE ROLE</h3>
<p>Create a role required for LDAP authentication.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CREATE ROLE <em>role name</em> ;</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>For the argument role name, specify either an LDAP user name or an LDAP group name. For details, see the <a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a>.</li>
<li>This command can only be executed by the administrative user.</li>
<li>A user with the same name as an administrator user (admin and system) registered during installation cannot be created.</li>
<li>The password must consist of ASCII characters. It is case-sensitive.</li>
</ul>
<h3 id="drop-database">DROP DATABASE</h3>
<p>Delete a database.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>DROP DATABASE database_name;</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>This command can only be executed by the administrative user.</li>
<li>The database with the following names are reserved for internal use and thus cannot be deleted: &ldquo;public&rdquo;, &ldquo;information_schema&rdquo;, and any names starting with &ldquo;gs#&rdquo;.</li>
<li>A database containing tables created by a user cannot be deleted.</li>
</ul>
<h3 id="drop-table">DROP TABLE</h3>
<p>Delete a table.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>DROP TABLE [IF EXISTS] table_name;</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>If &ldquo;IF EXISTS&rdquo; is specified, nothing will change if no table with the specified name exists.</li>
<li>If there is an active transaction involving the table, the table will be deleted only after the transaction is completed.</li>
</ul>
<h3 id="drop-index">DROP INDEX</h3>
<p>Delete the specified index.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>DROP INDEX [IF EXISTS] index_name ON table_name;</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>If &ldquo;IF EXISTS&rdquo; is specified, nothing will change if no index with the specified name exists.</li>
<li>If there is an active transaction involving the table, the table will be deleted only after the transaction is completed.</li>
<li>The unnamed index creating through NoSQL I/F can not be deleted by &ldquo;DROP INDEX&rdquo;.</li>
</ul>
<h3 id="drop-view">DROP VIEW</h3>
<p>Delete a view.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>DROP VIEW [IF EXISTS] view name ;</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>If &ldquo;IF EXISTS&rdquo; is specified, nothing will be changed if a view with the specified name does not exist.</li>
</ul>
<h3 id="drop-user">DROP USER</h3>
<p>Delete a general user.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>DROP USER user_name;</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>This command can only be executed by the administrative user.</li>
</ul>
<h3 id="drop-role">DROP ROLE</h3>
<p>Delete a role required for LDAP authentication.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>DROP ROLE <em>role name</em> ;</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>This command can only be executed by the administrative user.</li>
</ul>
<h3 id="alter-table">ALTER TABLE</h3>
<p>Change the structure of a table.</p>
<h4 id="adding-columns-to-a-table">Adding columns to a table</h4>
<p>Add columns to the end of the table.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>ALTER TABLE table_name ADD [COLUMN] column definition [,ADD [COLUMN] column definition &hellip;];</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p><strong>column definition</strong></p>
<ul>
<li>column_name data_type [ column_constraint ]</li>
</ul>
</li>
<li>
<p><strong>column_constraint</strong></p>
<ul>
<li>NULL</li>
<li>NOT NULL</li>
</ul>
</li>
</ul>
<p><strong>Specifications</strong></p>
<ul>
<li>The added column is located in the end of the table. If multiple columns are specified, they are located in their order.</li>
<li>PRIMARY KEY can not be specified to the column constraint.</li>
<li>If the same name column exists, an error occurs.</li>
</ul>
<p><strong>Examples</strong></p>
<ul>
<li>
<p>Adding multiple columns to the table</p>
<pre tabindex="0"><code class="language-example" data-lang="example">ALTER TABLE myTable1
ADD COLUMN col111 STRING NOT NULL,
ADD COLUMN col112 INTEGER;
</code></pre></li>
</ul>
<h4 id="deleting-data-partitions">Deleting data partitions</h4>
<p>Delete data partitions created by table partitioning.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>ALTER TABLE table_name DROP PARTITION FOR ( value_included_in_the_data_partition );</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>Data partitions can be deleted only for interval and interval-hash partitioning.</li>
<li>Specify the value included in the data partition to be deleted.</li>
<li>Data in the range of the once deleted data partition (from the lower limit value to the upper limit value of the data partition) cannot be registered.</li>
<li>The lower limit value of a data partition can be checked by metatable. In many cases, the upper limit of a data partition is the lower limit value plus division width value.</li>
<li>For interval-hash partitioned tables, there are multiple data partitions which have the same lower limit value, and the maximum number of those partitions is equal to the hash division count.
Those data partitions are deleted simultaneously. Deleted partitions are checked by metatable.</li>
</ul>
<p>See <a href="#label_metatables">Metatables</a> for the details on the metatable.</p>
<p><strong>Examples</strong></p>
<p><strong>Interval partitioned table</strong></p>
<ul>
<li>
<p>Check the lower limit value of the interval partitioned table &ldquo;myIntervalPartition1&rdquo; (partitioning key type: TIMESTAMP, interval: 30 DAY)</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT PARTITION_BOUNDARY_VALUE FROM &#34;#table_partitions&#34;
WHERE TABLE_NAME=&#39;myIntervalPartition1&#39; ORDER BY PARTITION_BOUNDARY_VALUE;

PARTITION_BOUNDARY_VALUE
-----------------------------------
 2017-01-10T13:00:00.000Z
 2017-02-09T13:00:00.000Z
 2017-03-11T13:00:00.000Z
       :
</code></pre></li>
<li>
<p>Delete unnecessary data partitions</p>
<pre tabindex="0"><code class="language-example" data-lang="example">ALTER TABLE myIntervalPartition1 DROP PARTITION FOR (&#39;2017-01-10T13:00:00Z&#39;);
</code></pre></li>
</ul>
<p><strong>Interval hash partitioned table</strong></p>
<ul>
<li>
<p>Check the lower limit value of each data partitions on the interval hash partitioned table &ldquo;myIntervalHashPartition&rdquo; (partitioning key type: TIMESTAMP, interval value: 90 DAY, division count 3)</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT PARTITION_BOUNDARY_VALUE FROM &#34;#table_partitions&#34;
WHERE TABLE_NAME=&#39;myIntervalHashPartition&#39; ORDER BY PARTITION_BOUNDARY_VALUE;

PARTITION_BOUNDARY_VALUE
-----------------------------------
2016-08-01T10:00:00.000Z    The data of the same lower limit is hashed and
2016-08-01T10:00:00.000Z    is divided into three data partitions.
2016-08-01T10:00:00.000Z
2016-10-30T10:00:00.000Z
2016-10-30T10:00:00.000Z
2016-10-30T10:00:00.000Z
2017-01-29T10:00:00.000Z
       :
</code></pre></li>
<li>
<p>Delete unnecessary data partitions</p>
<pre tabindex="0"><code class="language-example" data-lang="example">ALTER TABLE myIntervalHashPartition DROP PARTITION FOR (&#39;2016-09-15T10:00:00Z&#39;);
</code></pre></li>
<li>
<p>Data partitions that have same boundary value will be deleted</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT PARTITION_BOUNDARY_VALUE FROM &#34;#table_partitions&#34;
WHERE TABLE_NAME=&#39;myIntervalHashPartition&#39; ORDER BY PARTITION_BOUNDARY_VALUE;

PARTITION_BOUNDARY_VALUE
-----------------------------------
2016-10-30T10:00:00.000Z    For the section (lower limit &#39;2016-08-01T10: 00: 00Z&#39;) including &#39;2016-09-15T10: 00: 00Z&#39;
2016-10-30T10:00:00.000Z    three data partitions are deleted.
2016-10-30T10:00:00.000Z
2017-01-29T10:00:00.000Z
       :
</code></pre></li>
</ul>
<h4 id="rename-column">RENAME COLUMN</h4>
<p>Change an existing specified column.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>ALTER TABLE <em>table name</em> RENAME COLUMN <em>column name before renaming</em> TO <em>column name after renaming</em>;</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>An error will occur if the column name before renaming is not in the specified table.</li>
<li>An error will occur if the column name after renaming is already  in the specified table.</li>
</ul>
<p><strong>Examples</strong></p>
<ul>
<li>
<p>Renaming a column</p>
<pre tabindex="0"><code class="language-example" data-lang="example">ALTER TABLE myTable1 RENAME COLUMN col112 TO col121;
</code></pre></li>
</ul>
<h2 id="data-control-language-dcl">Data control language (DCL)</h2>
<h3 id="grant">GRANT</h3>
<p>Assign database access rights to a general user or a role.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>GRANT {SELECT|ALL} ON database_name TO {user_name|role name};</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>This command can only be executed by the administrative user.</li>
<li>SELECT indicates reference authority and ALL indicates reference authority and update authority.</li>
</ul>
<h3 id="revoke">REVOKE</h3>
<p>Revoke database access rights from a general user or a role.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>REVOKE {SELECT|ALL} ON database_name FROM {user_name|role name};</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>This command can only be executed by the administrative user.</li>
<li>SELECT indicates reference authority and ALL indicates reference authority and update authority.</li>
</ul>
<h3 id="set-password">SET PASSWORD</h3>
<p>Change the password of a general user.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>SET PASSWORD [FOR user_name ] = &lsquo;password_string&rsquo;;</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>An administrator user can change the passwords of all general users.</li>
<li>A general user can change its own password only.</li>
</ul>
<h2 id="data-management-language-dml">Data management language (DML)</h2>
<h3 id="select">SELECT</h3>
<p>Select data. Made up of a variety of <a href="#label_clauses">Clauses</a> such as FROM, WHERE, etc.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>SELECT [{ALL|DISTINCT}] * | column_name_1 [, column_name_2 &hellip;]<br>[FROM clause]<br>[WHERE clause]<br>[GROUP BY clause [HAVING clause]]<br>[{UNION [ALL] |INTERSECT|EXCEPT} SELECT statement]<br>[ORDER BY clause]<br>[LIMIT clause [OFFSET clause]] ;</td>
</tr>
</tbody>
</table>
<h3 id="insert">INSERT</h3>
<p>Register rows in a table. INSERT only registers rows, while INSERT OR REPLACE and REPLACE overwrite the existing data, when the data with the same primary key as that of the existing data is given. REPLACE is an alias of INSERT OR REPLACE and they are the same in their functions.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>{INSERT|INSERT OR REPLACE|REPLACE} INTO table_name<br>{VALUES ( { number_1 | string_<em>1</em> } [, { number_2 | string_<em>2</em> } &hellip;] )|SELECT statement} ;</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>If a SELECT statement is specified instead of VALUES, the execution result will be registered. Except that the inquiry result including UNION/INTERSECT/EXCEPT cannot be registered.</li>
</ul>
<pre tabindex="0"><code class="language-example" data-lang="example">INSERT INTO myTable1 VALUES(1, 100);

REPLACE INTO myTable1 VALUES(1, 200);

INSERT INTO myTable1 SELECT * FROM myTable2;
</code></pre><h3 id="delete">DELETE</h3>
<p>Delete rows from a table.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>DELETE FROM table_name [ WHERE clause ];</td>
</tr>
</tbody>
</table>
<h3 id="update">UPDATE</h3>
<p>Update the rows existing in a table.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>UPDATE table_name SET column_name_1 = expression_1 [, column_name_2 = expression_2 &hellip;] [ WHERE clause ];</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>
<p>The value of the PRIMARY KEY column can not be updated.</p>
</li>
<li>
<p>For a partitioned table, a column , set as a partitioning key, can not be updated to a different value using the UPDATE statement. In such a case, INSERT after DELETE.</p>
<ul>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">CREATE TABLE tab (a INTEGER, b STRING) PARTITION BY HASH a PARTITIONS 5;

-- NG
UPDATE tab SET a = a * 2;
[240016:SQL_COMPILE_PARTITIONING_KEY_NOT_UPDATABLE] Partitioning column=&#39;a&#39; is not updatable

-- OK
UPDATE tab SET b = &#39;XXX&#39;;
</code></pre></li>
</ul>
</li>
<li>
<p>A column name specified with SET cannot be qualified with a table name.</p>
<ul>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">CREATE TABLE myTable1 (key INTEGER, value INTEGER);

-- NG
UPDATE myTable1 SET myTable1.value = 999 WHERE myTable1.key = 8;

-- OK
UPDATE myTable1 SET value = 999 WHERE myTable1.key = 8;
</code></pre></li>
</ul>
</li>
<li>
<p>Subqueries cannot be used for update values, while it can be used for conditional statements such as WHERE.</p>
<ul>
<li>Example:
<pre tabindex="0"><code class="language-example" data-lang="example">CREATE TABLE myTable1 (key INTEGER, value INTEGER);

-- NG
UPDATE myTable1 SET value = (SELECT 999) WHERE key = 8;

-- OK
UPDATE myTable1 SET value = 999 WHERE key = (SELECT 8);
</code></pre></li>
</ul>
</li>
</ul>
<p><a id="label_clauses"></a></p>
<h2 id="clauses">Clauses</h2>
<h3 id="from">FROM</h3>
<p>Specify the table name, view name, and subquery on which to execute data operations.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>FROM table_name_1 [, table_name_2 &hellip; ]</td>
</tr>
<tr>
<td>FROM (sub_query) [AS] Alias [, &hellip;]</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>A sub query must be enclosed with () and requires an alias.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT a.ID, b.ID FROM mytable a, (SELECT ID FROM mytable2) b;

ID     ID
---+-----
 1    100
 1    200
 2    100
 2    200
   :
</code></pre><h3 id="group-by">GROUP BY</h3>
<p>Among the results of the clauses specified earlier, rows having the same value in the specified column will be grouped together.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>GROUP BY column_name_1 [, column_name_2 &hellip;]</td>
</tr>
</tbody>
</table>
<h3 id="having">HAVING</h3>
<p>Perform filtering using the search condition on data grouped by the GROUP BY clause. GROUP BY clause cannot be omitted.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>HAVING search_conditions</td>
</tr>
</tbody>
</table>
<h3 id="order-by">ORDER BY</h3>
<p>Sort search results.</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>ORDER BY column_name_1 [{ASC|DESC}] [, column_name_2 [{ASC|DESC}] &hellip;]</td>
</tr>
</tbody>
</table>
<h3 id="where">WHERE</h3>
<p>Apply a search condition on the result of the preceding FROM clause.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>WHERE search_conditions</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>Search conditions can be described using an expression, a function, a subquery, etc.</li>
</ul>
<h3 id="limitoffset">LIMIT/OFFSET</h3>
<p>Extract the specified number of data from the specified location.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>LIMIT value_1 [OFFSET value_2 ]</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>Value_1 represents the number of data to extract while value_2 represents the position of the data to extract.</li>
</ul>
<h3 id="join">JOIN</h3>
<p>Join a table.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th>Type of join</th>
<th>Syntax</th>
</tr>
</thead>
<tbody>
<tr>
<td>Inner join</td>
<td>Table 1 [INNER] JOIN table 2 [ON condition | USING(Column name [, column name &hellip;])]</td>
</tr>
<tr>
<td>Left outer join</td>
<td>Table 1 LEFT [OUTER] JOIN table 2 [ON type | USING (column name [, column name &hellip;])]</td>
</tr>
<tr>
<td>Cross join</td>
<td>Table 1 CROSS JOIN table 2 [ON condition | USING (column name [, column name &hellip;])]</td>
</tr>
</tbody>
</table>
<ul>
<li>Inner join returns records that have matching values in both tables in the specified row.</li>
<li>Left outer join returns records that have matching values in both tables in the specified row, as well as the records only exist in the table 1.</li>
<li>A cross join is equivalent to an inner join (INNER JOIN).</li>
</ul>
<p>Specify join conditions with ON or USING.</p>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">name: employees

 id   first_name   department_id
----+------------+----------------
  0   John         0
  1   William      1
  2   Richard      0
  3   Mary         4
  4   Lisa         3
  5   James        1

name: departments

 department_id   department   
---------------+------------
  0              Sales
  1              Development
  2              Research
  3              Marketing

Inner join
SELECT * FROM employees e INNER JOIN departments d ON e.department_id=d.department_id;

 id    first_name  department_id  department_id  department
------+-----------+--------------+--------------+-----------
  0    John         0              0             Sales
  1    William      1              1             Development
  2    Richard      0              0             Sales
  4    Lisa         3              3             Marketing
  5    James        1              1             Development


Left outer join
SELECT * FROM employees e LEFT JOIN departments d  ON e.department_id=d.department_id;

 id    first_name  department_id  department_id  department
------+-----------+--------------+--------------+-----------
  0    John         0              0             Sales
  1    William      1              1             Development
  2    Richard      0              0             Sales
  3    Mary         4              (NULL)        (NULL)
  4    Lisa         3              3             Marketing
  5    James        1              1             Development
</code></pre><p>Natural join (NATURAL JOIN) joins tables that have matching values in the rows under the same name.</p>
<table>
<thead>
<tr>
<th>Type of join</th>
<th>Syntax</th>
</tr>
</thead>
<tbody>
<tr>
<td>Inner join</td>
<td>Table 1 NATURAL [INNER] JOIN table 2</td>
</tr>
<tr>
<td>Left outer join</td>
<td>Table 1 NATURAL LEFT [OUTER] JOIN table 2</td>
</tr>
<tr>
<td>Cross join</td>
<td>Table 1 NATURAL CROSS JOIN table 2</td>
</tr>
</tbody>
</table>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT * FROM employees NATURAL INNER JOIN departments;

 department_id   id    first_name     department
---------------+-----+--------------+--------------
  0              0     John           Sales
  1              1     William        Development
  0              2     Richard        Sales
  3              4     Lisa           Marketing
  1              5     James          Development
</code></pre><h3 id="unionintersectexcept">UNION/INTERSECT/EXCEPT</h3>
<p>Calculate on a set of two query results.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Inquiry 1 UNION inquiry 2</td>
<td>Returns all the results of two queries. (duplication is not included)</td>
</tr>
<tr>
<td>Query 1 UNION ALL query 2</td>
<td>Returns all the results of two queries. (duplication is included)</td>
</tr>
<tr>
<td>Query 1 INTERSECT query 2</td>
<td>Returns the results common to the results of two queries.</td>
</tr>
<tr>
<td>Query 1 EXCEPT query 2</td>
<td>Returns the difference of two queries (result included in the query 1, not in the query 2).</td>
</tr>
</tbody>
</table>
<h3 id="over">OVER</h3>
<p>Split and sort query results. Use with a WINDOW function.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Function OVER ([PARTITION BY expression 1] [ORDER BY expression 2])</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>Can be used in the SELECT clause.</li>
<li>The supported functions are as follows:
<ul>
<li>ROW_NUMBER()</li>
<li>LAG()</li>
<li>LEAD()</li>
<li>AVG()</li>
<li>COUNT()</li>
<li>MAX()</li>
<li>MIN()</li>
<li>SUM()/TOTAL()</li>
<li>STDDEV_SAMP()</li>
<li>STDDEV()/STDDEV0()</li>
<li>STDDEV_POP()</li>
<li>VAR_SAMP()</li>
<li>VARIANCE()/VARIANCE0()</li>
<li>VAR_POP()</li>
</ul>
</li>
<li>DISTINCT cannot be specified as the first argument of the function.</li>
<li>Split the query result with PARTITION BY clause. Sort rows by ORDER BY clause.</li>
<li>Multiple use of the WINDOW function/OVER clause in the same SELECT clause, and simultaneous use of the WINDOW function/OVER clause and the MEDIAN function are not allowed.</li>
<li>The following expressions cannot be specified in the PARTITION BY clause.
<ul>
<li>Expression containing OVER clause</li>
<li>Expression containing aggregate function</li>
<li>Expression containing column aliases</li>
<li>Subquery</li>
</ul>
</li>
<li>The following expressions cannot be specified in the ORDER BY clause.
<ul>
<li>Expression containing OVER clause</li>
<li>Expression containing aggregate function</li>
<li>Expression containing column aliases</li>
<li>Subquery</li>
</ul>
</li>
</ul>
<h2 id="operator">Operator</h2>
<p>This section explains the operators used in SQL statements.</p>
<h3 id="list-of-operators">List of Operators</h3>
<p>The list of operators is as follows.</p>
<table>
<thead>
<tr>
<th>Class</th>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Arithmetic</td>
<td>+</td>
<td>Add</td>
</tr>
<tr>
<td></td>
<td>-</td>
<td>Subtract</td>
</tr>
<tr>
<td></td>
<td>*</td>
<td>Multiply</td>
</tr>
<tr>
<td></td>
<td>/</td>
<td>Divide</td>
</tr>
<tr>
<td></td>
<td>%</td>
<td>Modulo</td>
</tr>
<tr>
<td>Character</td>
<td>||</td>
<td>Connect the value of arbitrary types as a character string. <br>If any one of the values is NULL, NULL is returned.</td>
</tr>
<tr>
<td>Compare</td>
<td>=, ==</td>
<td>Compare whether both sides are equal.</td>
</tr>
<tr>
<td></td>
<td>!=, &lt;&gt;</td>
<td>Compare whether both sides are not equal.</td>
</tr>
<tr>
<td></td>
<td>&gt;</td>
<td>Compare whether the left side is larger than the right side.</td>
</tr>
<tr>
<td></td>
<td>&gt;=</td>
<td>Compare whether the left side is larger than or equal to the right one.</td>
</tr>
<tr>
<td></td>
<td>&lt;</td>
<td>Compare whether the left side is smaller than the right side.</td>
</tr>
<tr>
<td></td>
<td>&lt;=</td>
<td>Compare whether the left side is smaller than or equal to the right side.</td>
</tr>
<tr>
<td></td>
<td>IS</td>
<td>Compare whether both sides are equal. <br>Return true, when both sides are NULLs. <br>Return false, when either side is NULL.</td>
</tr>
<tr>
<td></td>
<td>IS NOT</td>
<td>Compare whether both sides are not equal. <br>Return false, when both sides are NULLs. <br>Return true, when either side is NULL.</td>
</tr>
<tr>
<td></td>
<td>ISNULL</td>
<td>Determine whether the left side is NULL.</td>
</tr>
<tr>
<td></td>
<td>NOTNULL</td>
<td>Determine whether the left side is not NULL.</td>
</tr>
<tr>
<td></td>
<td><a href="#op_like">LIKE</a></td>
<td>Search the character string on the right.</td>
</tr>
<tr>
<td></td>
<td><a href="#op_glob">GLOB</a></td>
<td>Search the character string on the right.</td>
</tr>
<tr>
<td></td>
<td><a href="#op_between">BETWEEN</a></td>
<td>Extract values of the specified range.</td>
</tr>
<tr>
<td></td>
<td><a href="#op_in">IN</a></td>
<td>Return whether the specified value is included in the set of values.</td>
</tr>
<tr>
<td>Bit</td>
<td>&amp;</td>
<td>A &amp; B : Bitwise AND of A and B</td>
</tr>
<tr>
<td></td>
<td>|</td>
<td>A | B : Bitwise OR of A and B</td>
</tr>
<tr>
<td></td>
<td>~</td>
<td>~A : Bitwise NOT of A</td>
</tr>
<tr>
<td></td>
<td>&lt;&lt;</td>
<td>A &lt;&lt; B : Shift A to the left by B bit.</td>
</tr>
<tr>
<td></td>
<td>&gt;&gt;</td>
<td>A &gt;&gt; B : Shift A to the right by B bit.</td>
</tr>
<tr>
<td>Logic</td>
<td>AND</td>
<td>Return true, when both sides are true. <br>Return false, when either side is false. <br>Otherwise return NULL.</td>
</tr>
<tr>
<td></td>
<td>OR</td>
<td>Return true, when the expression on either side is true. <br>Return false, when the expressions on both sides are false. <br>Otherwise return NULL.</td>
</tr>
<tr>
<td></td>
<td>NOT</td>
<td>Return false, when the expression on the right is true. <br>Return true, when the expression on the right is false. <br>Otherwise return NULL.</td>
</tr>
</tbody>
</table>
<p><a id="op_like"></a></p>
<h3 id="like">LIKE</h3>
<p>Search the character string on the right.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><em>str</em> [NOT] LIKE <em>pattern_str</em> [ESCAPE <em>escape_str</em> ]</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>See <a href="#like-1">LIKE function</a>.</li>
</ul>
<p><a id="op_glob"></a></p>
<h3 id="glob">GLOB</h3>
<p><strong>Syntax</strong></p>
<p>Search the character string on the right.</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><em>str</em> GLOB <em>pattern_str</em></td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>See <a href="#glob-1">GLOB function</a>.</li>
</ul>
<p><a id="op_between"></a></p>
<h3 id="between">BETWEEN</h3>
<p>Extract values of the specified range.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>expression_1 [NOT] BETWEEN expression_2 AND expression_3</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>
<p>Return true if the following conditions are met</p>
<pre tabindex="0"><code class="language-example" data-lang="example">expression_2 &lt;= expression_1 &lt;= expression_3
</code></pre></li>
<li>
<p>Return true if the following conditions are not met when NOT is specified.</p>
</li>
</ul>
<p><a id="op_in"></a></p>
<h3 id="in">IN</h3>
<p>Return whether the specified value is included in the set of values.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>expression_1 [NOT] IN ( expression_2 [, expression_3 &hellip;] )</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>Return true when the value of expression_1 is included in the result of expression_N.</li>
<li>IN can be used in a <a href="#in_sub_query">sub query</a>.</li>
</ul>
<p><a id="label_function"></a></p>
<h2 id="functions">Functions</h2>
<p>This section explains the functions used in SQL statements.</p>
<h3 id="list-of-functions">List of Functions</h3>
<p>The following functions are available for SQL statements.</p>
<table>
<thead>
<tr>
<th>Class</th>
<th>Function name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#aggregation">Aggregation</a></td>
<td><a href="#avg">AVG</a></td>
<td>Return the average value.</td>
</tr>
<tr>
<td></td>
<td><a href="#count">COUNT</a></td>
<td>Return the number of rows.</td>
</tr>
<tr>
<td></td>
<td><a href="#Aggregate_MAX">MAX</a></td>
<td>Return the maximum.</td>
</tr>
<tr>
<td></td>
<td><a href="#Aggregate_MIN">MIN</a></td>
<td>Return the minimum.</td>
</tr>
<tr>
<td></td>
<td><a href="#sumtotal">SUM</a></td>
<td>Return a sum of values.</td>
</tr>
<tr>
<td></td>
<td><a href="#sumtotal">TOTAL</a></td>
<td>Return a sum of values.</td>
</tr>
<tr>
<td></td>
<td><a href="#group_concat">GROUP_CONCAT</a></td>
<td>Connect values.</td>
</tr>
<tr>
<td></td>
<td><a href="#stddev_samp">STDDEV_SAMP</a></td>
<td>Returns the sample standard deviation</td>
</tr>
<tr>
<td></td>
<td><a href="#stddevstddev0">STDDEV</a></td>
<td>Returns the sample standard deviation</td>
</tr>
<tr>
<td></td>
<td><a href="#stddevstddev0">STDDEV0</a></td>
<td>Returns the sample standard deviation</td>
</tr>
<tr>
<td></td>
<td><a href="#stddev_pop">STDDEV_POP</a></td>
<td>Returns the population standard deviation</td>
</tr>
<tr>
<td></td>
<td><a href="#var_samp">VAR_SAMP</a></td>
<td>Returns the sample variance</td>
</tr>
<tr>
<td></td>
<td><a href="#variancevariance0">VARIANCE</a></td>
<td>Returns the sample variance</td>
</tr>
<tr>
<td></td>
<td><a href="#variancevariance0">VARIANCE0</a></td>
<td>Returns the sample variance</td>
</tr>
<tr>
<td></td>
<td><a href="#var_pop">VAR_POP</a></td>
<td>Returns the population variance</td>
</tr>
<tr>
<td></td>
<td><a href="#MEDIAN">MEDIAN</a></td>
<td>Returns the median</td>
</tr>
<tr>
<td><a href="#mathematical-functions">Mathematical</a></td>
<td><a href="#abs">ABS</a></td>
<td>Return an absolute value.</td>
</tr>
<tr>
<td></td>
<td><a href="#round">ROUND</a></td>
<td>Round off.</td>
</tr>
<tr>
<td></td>
<td><a href="#random">RANDOM</a></td>
<td>Return a random number.</td>
</tr>
<tr>
<td></td>
<td><a href="#Arithmetic_MAX">MAX</a></td>
<td>Return the maximum.</td>
</tr>
<tr>
<td></td>
<td><a href="#Arithmetic_MIN">MIN</a></td>
<td>Return the minimum.</td>
</tr>
<tr>
<td></td>
<td><a href="#Arithmetic_LOG">LOG</a></td>
<td>Return the logarithm.</td>
</tr>
<tr>
<td></td>
<td><a href="#Arithmetic_SQRT">SQRT</a></td>
<td>Return the square root.</td>
</tr>
<tr>
<td></td>
<td><a href="#Arithmetic_TRUNC">TRUNC</a></td>
<td>Round down numbers.</td>
</tr>
<tr>
<td></td>
<td><a href="#Arithmetic_HEX_TO_DEC">HEX_TO_DEC</a></td>
<td>Converts a hexadecimal string to a decimal number</td>
</tr>
<tr>
<td><a href="#character-functions">Character</a></td>
<td><a href="#length">LENGTH</a></td>
<td>Return the length of a character string.</td>
</tr>
<tr>
<td></td>
<td><a href="#lower">LOWER</a></td>
<td>Convert a character string to a lowercase.</td>
</tr>
<tr>
<td></td>
<td><a href="#upper">UPPER</a></td>
<td>Convert a character string to an uppercase.</td>
</tr>
<tr>
<td></td>
<td><a href="#substr">SUBSTR</a></td>
<td>Cut out part of a character string.</td>
</tr>
<tr>
<td></td>
<td><a href="#replace">REPLACE</a></td>
<td>Replace a character string.</td>
</tr>
<tr>
<td></td>
<td><a href="#instr">INSTR</a></td>
<td>Return the position of a specified character string in a character string.</td>
</tr>
<tr>
<td></td>
<td><a href="#like-1">LIKE</a></td>
<td>Search a character string.</td>
</tr>
<tr>
<td></td>
<td><a href="#glob-1">GLOB</a></td>
<td>Search a character string.</td>
</tr>
<tr>
<td></td>
<td><a href="#trim">TRIM</a></td>
<td>Remove a specified character(s) from the both ends of a character string.</td>
</tr>
<tr>
<td></td>
<td><a href="#ltrim">LTRIM</a></td>
<td>Remove a specified character(s) from the left end of a character string.</td>
</tr>
<tr>
<td></td>
<td><a href="#rtrim">RTRIM</a></td>
<td>Remove a specified character(s) from the right end of a character string.</td>
</tr>
<tr>
<td></td>
<td><a href="#quote">QUOTE</a></td>
<td>Enclose a character string with single quotes.</td>
</tr>
<tr>
<td></td>
<td><a href="#unicode">UNICODE</a></td>
<td>Return the Unicode code point of a character.</td>
</tr>
<tr>
<td></td>
<td><a href="#char">CHAR</a></td>
<td>A Unicode code point is converted to characters and connected.</td>
</tr>
<tr>
<td></td>
<td><a href="#printf">PRINTF</a></td>
<td>Return the converted character string</td>
</tr>
<tr>
<td></td>
<td><a href="#translate">TRANSLATE</a></td>
<td>Replace a character string.</td>
</tr>
<tr>
<td><a href="#time_function">Time</a></td>
<td><a href="#now">NOW</a></td>
<td>Return the present time.</td>
</tr>
<tr>
<td></td>
<td><a href="#timestamp">TIMESTAMP</a></td>
<td>Convert the string representation of time to TIMESTAMP type.</td>
</tr>
<tr>
<td></td>
<td><a href="#timestamp_add">TIMESTAMP_ADD</a></td>
<td>Add a duration to a time.</td>
</tr>
<tr>
<td></td>
<td><a href="#timestamp_diff">TIMESTAMP_DIFF</a></td>
<td>Return the difference of times.</td>
</tr>
<tr>
<td></td>
<td><a href="#to_timestamp_ms">TO_TIMESTAMP_MS</a></td>
<td>Add lapsed time to the time point &lsquo;1970-01-01T00:00:00.000Z&rsquo;.</td>
</tr>
<tr>
<td></td>
<td><a href="#to_epoch_ms">TO_EPOCH_MS</a></td>
<td>Return the lapsed time from the time point &lsquo;1970-01-01T00:00:00.000Z&rsquo;.</td>
</tr>
<tr>
<td></td>
<td><a href="#extract">EXTRACT</a></td>
<td>Take out the value of the specific field from time.</td>
</tr>
<tr>
<td></td>
<td><a href="#strftime">STRFTIME</a></td>
<td>Return a character string with the time converted.</td>
</tr>
<tr>
<td></td>
<td><a href="#make_timestamp">MAKE_TIMESTAMP</a></td>
<td>Generate time.</td>
</tr>
<tr>
<td></td>
<td><a href="#timestamp_trunc">TIMESTAMP_TRUNC</a></td>
<td>Truncate time.</td>
</tr>
<tr>
<td><a href="#window_function">WINDOW</a></td>
<td><a href="#row_number">ROW_NUMBER</a></td>
<td>Assign a unique sequential value to the resulting Row</td>
</tr>
<tr>
<td><a href="#other_function">Other</a></td>
<td><a href="#coalesce">COALESCE</a></td>
<td>Return the first argument that is not NULL.</td>
</tr>
<tr>
<td></td>
<td><a href="#ifnull">IFNULL</a></td>
<td>Return the first argument that is not NULL.</td>
</tr>
<tr>
<td></td>
<td><a href="#nullif">NULLIF</a></td>
<td>Return NULL when two arguments are the same, return the first argument when the arguments are different.</td>
</tr>
<tr>
<td></td>
<td><a href="#randomblob">RANDOMBLOB</a></td>
<td>Return a BLOB type value (random number).</td>
</tr>
<tr>
<td></td>
<td><a href="#zeroblob">ZEROBLOB</a></td>
<td>Return a BLOB type value (0x00).</td>
</tr>
<tr>
<td></td>
<td><a href="#hex">HEX</a></td>
<td>Convert a BLOB type value to a hexadecimal type.</td>
</tr>
<tr>
<td></td>
<td><a href="#typeof">TYPEOF</a></td>
<td>Return the data type of a value.</td>
</tr>
</tbody>
</table>
<p>These functions are described using the data in the following table as an example.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">table: employees

 id   first_name   last_name   age     department    enrollment_period
----+------------+-----------+-------+-------------+-------------------
  0   John         Smith       43      Sales         15.5
  1   William      Jones       59      Development   23.2
  2   Richard      Brown       (NULL)  Sales          7.0
  3   Mary         Taylor      31      Research      (NULL)
  4   Lisa         (NULL)      29      (NULL)         4.9
  5   James        Smith       43      Development   10.3

table: departments

 id   department   
----+------------
  0   Sales
  1   Development
  2   Research

table: travelexpenses

 id    date         empId   amount
-----+------------+-------+--------
  101  2020/02/01   0       200
  102  2020/02/03   2       2500
  103  2020/02/03   3       60
  104  2020/02/04   0       200
  105  2020/02/05   0       150
  106  2020/02/06   3       80
</code></pre><p>[Notice]</p>
<ul>
<li>NULL value is expressed as (NULL).</li>
</ul>
<p><a id="aggregation"></a></p>
<h3 id="aggregate-functions">Aggregate functions</h3>
<p>Functions to aggregate values
DISTINCT or ALL can be specified as the argument of an aggregate function.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>function( [DISTINCT | ALL] <em>argument</em>)</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Point</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>DISTINCT</td>
<td>Rows of duplicate values are excluded and aggregated</td>
</tr>
<tr>
<td>ALL</td>
<td>All the rows including the duplicate values are aggregated.</td>
</tr>
</tbody>
</table>
<p>When no argument is specified, the resut will be the same as ALL is specified.</p>
<p>[Notice]</p>
<ul>
<li>An aggregate function can be used only for a SELECT phrase.</li>
<li>If there are no rows to be calculated, the result of COUNT is 0. Other aggregate functions result in NULL.</li>
</ul>
<p>Aggregate functions are also available with the OVER clause as analytic functions. See OVER clause for details.</p>
<p>Example) Example using aggregate function SUM and OVER clause</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT id, date, empId, amount, SUM(amount) OVER(PARTITION BY empID ORDER BY id) as accumulated FROM travelexpenses;
Result:
 id    date         empId   amount   accumulated
-----+------------+-------+--------+-------------
  101  2020/02/01   0       200      200
  104  2020/02/04   0       200      400
  105  2020/02/05   0       150      550
  102  2020/02/03   2       2500     2500
  103  2020/02/03   3       60       60
  106  2020/02/06   3       80       140
</code></pre><p>[Points to note]</p>
<ul>
<li>GROUP_CONCAT and MEDIAN cannot be used with the OVER clause.</li>
</ul>
<h4 id="avg">AVG</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>AVG( [DISTINCT | ALL] <em>n</em>)</td>
</tr>
</tbody>
</table>
<p>Return the average value of n.</p>
<ul>
<li>Specify a numeric value as the argument n.</li>
<li>Rows with n of NULL value are excluded from the calculation.</li>
<li>The result is of a DOUBLE type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT AVG(age) FROM employees;
Result: 41.0

SELECT AVG(DISTINCT age) FROM employees;
Result: 40.5

SELECT department, AVG(age) avg FROM employees GROUP BY department;
Result:
  department   avg
  ------------+-----
  Development  51.0
  Research     31.0
  Sales        43.0
  (NULL)       29.0
</code></pre><h4 id="count">COUNT</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>COUNT(* | [DISTINCT | ALL] <em>x</em>)</td>
</tr>
</tbody>
</table>
<p>Return the number of rows.</p>
<ul>
<li>Rows with x of NULL value are excluded from the calculation. They are not included in the number of rows.</li>
<li>The result is of a LONG type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT COUNT(*) FROM employees;
Result: 6

// Count the rows ignoring the ones with NULL value.
SELECT COUNT(department) FROM employees;
Result: 5

SELECT COUNT(DISTINCT department) FROM employees;
Result: 3
</code></pre><p><a id="Aggregate_MAX"></a></p>
<h4 id="max">MAX</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>MAX( [DISTINCT | ALL] <em>x</em>)</td>
</tr>
</tbody>
</table>
<p>Return the maximum.</p>
<ul>
<li>Specify the value of arbitrary types as the argument x.
<ul>
<li>For the argument of character string type, the character string started with the largest character code is returned.</li>
<li>For the argument of TIMESTAMP type, return the newest time.</li>
</ul>
</li>
<li>Rows with x of NULL value are excluded from the calculation.</li>
<li>The type of the result is the same as that of the argument x.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT MAX(age) FROM employees;
Result: 59

SELECT MAX(first_name) FROM employees;
Result: William
</code></pre><p><a id="Aggregate_MIN"></a></p>
<h4 id="min">MIN</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>MIN( [DISTINCT | ALL] <em>x</em>)</td>
</tr>
</tbody>
</table>
<p>Return the minimum.</p>
<ul>
<li>Specify the value of arbitrary types as the argument x.
<ul>
<li>For the argument of character string type, the character string started with the smallest character code is returned.</li>
<li>For the argument of TIMESTAMP type, return the oldest time.</li>
</ul>
</li>
<li>Rows with x of NULL value are excluded from the calculation.</li>
<li>The type of the result is the same as that of the argument x.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT MIN(age) FROM employees;
Result: 29

SELECT MIN(first_name) FROM employees;
Result: James
</code></pre><h4 id="sumtotal">SUM/TOTAL</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>SUM( [DISTINCT | ALL] <em>n</em>)</td>
</tr>
<tr>
<td>Format</td>
<td>TOTAL( [DISTINCT | ALL] <em>n</em>)</td>
</tr>
</tbody>
</table>
<p>Return a sum of values.</p>
<ul>
<li>
<p>Specify a numeric value as the argument n.</p>
</li>
<li>
<p>Rows with n of NULL value are excluded from the calculation.</p>
</li>
<li>
<p>The difference between SUM and TOTAL is as follows.</p>
<ul>
<li>When n includes integer type values only, SUM returns a value of integer (LONG) type, while TOTAL returns a value of floating point number (DOUBLE).</li>
<li>When n includes a floating point number type value, both of them return a value of floating point number (DOUBLE).</li>
<li>When n includes NULL only, SUM returns NULL, while TOTAL returns 0. while TOTAL returns 0.</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT SUM(age) FROM employees;
Result: 205

SELECT TOTAL(age) FROM employees;
Result: 205.0

SELECT department, SUM(age) sum FROM employees GROUP BY department;
Result:
  department   sum
  ------------+-----
  Development  102
  Research      31
  Sales         43
  (NULL)        29
</code></pre><h4 id="group_concat">GROUP_CONCAT</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>GROUP_CONCAT( [DISTINCT | ALL] <em>x</em> [, <em>separator</em>] )</td>
</tr>
</tbody>
</table>
<p>Return the character string in which the values of x are concatenated.
Specify the separator to be concatenated as &ldquo;separator&rdquo;. When not specified, &ldquo;, &quot; is used.</p>
<ul>
<li>Specify the value of arbitrary types as the argument x.
<ul>
<li>A TIMESTAMP type argument is converted to the string representation of time &lsquo;YYYY-MM-DDThh:mm:ss.SSS(Z|hh:mm)&rsquo; (see <a href="#timestamp">TIMESTAMP function</a>) and connected.</li>
</ul>
</li>
<li>Rows with x of NULL value are excluded from the calculation.</li>
<li>The result is of a STRING type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">// Concatenate the name last_name with &#39;/&#39;
SELECT GROUP_CONCAT(last_name, &#39;/&#39;) from employees;
Result:  Smith/Jones/Brown/Taylor/Smith

// Concatenate the name &#34;first_name&#34; for each department &#34;department&#34;
SELECT department, GROUP_CONCAT(first_name) group_concat from employees GROUP BY(department);
Result:
   department    group_concat
  -------------+--------------
   Development  William,James
   Research     Mary
   Sales        John,Richard
   (NULL)       Lisa

SELECT GROUP_CONCAT(age, &#39; + &#39;) FROM employees;
Result: 43 + 59 + 31 + 29 + 43
</code></pre><h4 id="stddev_samp">STDDEV_SAMP</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>STDDEV_SAMP( [DISTINCT | ALL] <em>x</em>)</td>
</tr>
</tbody>
</table>
<p>Returns the sample standard deviation.</p>
<ul>
<li>Specify a numeric value for the argument x.
<ul>
<li>Expressions cannot contain aggregate functions or WINDOW functions/OVER clauses.</li>
</ul>
</li>
<li>Rows with x of NULL value are excluded from the calculation.</li>
<li>If x is one, returns NULL.</li>
<li>The result is of a DOUBLE type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT department, STDDEV_SAMP(enrollment_period) enrollment_period_stddev from employees GROUP BY department;
Result:
   department    enrollment_period_stddev
  -------------+--------------------------
   Development  9.121677477306465
   Research     (NULL)
   Sales        6.010407640085654
   (NULL)       (NULL)
</code></pre><h4 id="stddevstddev0">STDDEV/STDDEV0</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>STDDEV( [DISTINCT | ALL] <em>x</em>)</td>
</tr>
<tr>
<td>Format</td>
<td>STDDEV0( [DISTINCT | ALL] <em>x</em>)</td>
</tr>
</tbody>
</table>
<p>Returns the sample standard deviation. Returns the sample standard deviation. STDDEV is an alias of the STDDEV_SAMP function.</p>
<ul>
<li>Specify a numeric value for the argument x.
<ul>
<li>Expressions cannot contain aggregate functions or WINDOW functions/OVER clauses.</li>
</ul>
</li>
<li>Rows with x of NULL value are excluded from the calculation.</li>
<li>The result is of a DOUBLE type.</li>
<li>The differences between STDDEV and STDDEV0 are as follows:
<ul>
<li>STDDEV returns NULL if x is 1,</li>
<li>while STDDEV0 returns 0 when x is 1.</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT department, STDDEV(enrollment_period) enrollment_period_stddev from employees GROUP BY department;
Result:
   department    enrollment_period_stddev
  -------------+--------------------------
   Development  9.121677477306465
   Research     (NULL)
   Sales        6.010407640085654
   (NULL)       (NULL)

SELECT department, STDDEV0(enrollment_period) enrollment_period_stddev from employees GROUP BY department;
Result:
   department    enrollment_period_stddev
  -------------+--------------------------
   Development  9.121677477306465
   Research     (NULL)
   Sales        6.010407640085654
   (NULL)       0.0

SELECT STDDEV(enrollment_period) enrollment_period_stddev from employees WHERE age &gt;= 55;
Result:
   enrollment_period_stddev
  --------------------------
   (NULL)

SELECT STDDEV0(enrollment_period) enrollment_period_stddev from employees WHERE age &gt;= 55;
Result:
   enrollment_period_stddev
  --------------------------
   0.0
</code></pre><h4 id="stddev_pop">STDDEV_POP</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>STDDEV_POP( [DISTINCT | ALL] <em>x</em>)</td>
</tr>
</tbody>
</table>
<p>Returns the population standard deviation.</p>
<ul>
<li>Specify a numeric value for the argument x.
<ul>
<li>Expressions cannot contain aggregate functions or WINDOW functions/OVER clauses.</li>
</ul>
</li>
<li>Rows with x of NULL value are excluded from the calculation.</li>
<li>The result is of a DOUBLE type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT department, STDDEV_POP(enrollment_period) enrollment_period_stddev from employees GROUP BY department;
Result:
   department    enrollment_period_stddev
  -------------+--------------------------
   Development  6.450000000000002
   Research     (NULL)
   Sales        4.25
   (NULL)       0.0
</code></pre><h4 id="var_samp">VAR_SAMP</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>VAR_SAMP( [DISTINCT | ALL] <em>x</em>)</td>
</tr>
</tbody>
</table>
<p>Returns the sample variance.</p>
<ul>
<li>Specify a numeric value for the argument x.
<ul>
<li>Expressions cannot contain aggregate functions or WINDOW functions/OVER clauses.</li>
</ul>
</li>
<li>Rows with x of NULL value are excluded from the calculation.</li>
<li>If x is one, returns NULL.</li>
<li>The result is of a DOUBLE type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT department, VAR_SAMP(enrollment_period) enrollment_period_variance from employees GROUP BY department;
Result:
   department    enrollment_period_variance
  -------------+----------------------------
   Development  83.20500000000004
   Research     (NULL)
   Sales        36.125
   (NULL)       (NULL)
</code></pre><h4 id="variancevariance0">VARIANCE/VARIANCE0</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>VARIANCE( [DISTINCT | ALL] <em>x</em>)</td>
</tr>
<tr>
<td>Format</td>
<td>VARIANCE0( [DISTINCT | ALL] <em>x</em>)</td>
</tr>
</tbody>
</table>
<p>Returns the sample variance. Returns the sample variance. VARIANCE is an alias of the VAR_SAMP function.</p>
<ul>
<li>Specify a numeric value for the argument x.
<ul>
<li>Expressions cannot contain aggregate functions or WINDOW functions/OVER clauses.</li>
</ul>
</li>
<li>Rows with x of NULL value are excluded from the calculation.</li>
<li>The result is of a DOUBLE type.</li>
<li>The differences between VARIANCE and VARIANCE0 are as follows:
<ul>
<li>VARIANCE returns NULL if x is 1,</li>
<li>while VARIANCE0 returns 0 if x is 1.</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT department, VARIANCE(enrollment_period) enrollment_period_variance from employees GROUP BY department;
Result:
   department    enrollment_period_variance
  -------------+----------------------------
   Development  83.20500000000004
   Research     (NULL)
   Sales        36.125
   (NULL)       (NULL)

SELECT department, VARIANCE0(enrollment_period) enrollment_period_variance from employees GROUP BY department;
Result:
   department    enrollment_period_variance
  -------------+----------------------------
   Development  83.20500000000004
   Research     (NULL)
   Sales        36.125
   (NULL)       0.0

SELECT VARIANCE(enrollment_period) enrollment_period_variance from employees WHERE age &gt;= 55;
Result:
   enrollment_period_variance
  ----------------------------
   (NULL)

SELECT VARIANCE0(enrollment_period) enrollment_period_variance from employees WHERE age &gt;= 55;
Result:
   enrollment_period_variance
  ----------------------------
   0.0
</code></pre><h4 id="var_pop">VAR_POP</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>VAR_POP( [DISTINCT | ALL] <em>x</em>)</td>
</tr>
</tbody>
</table>
<p>Returns the population variance.</p>
<ul>
<li>Specify a numeric value for the argument x.
<ul>
<li>Expressions cannot contain aggregate functions or WINDOW functions/OVER clauses.</li>
</ul>
</li>
<li>Rows with x of NULL value are excluded from the calculation.</li>
<li>The result is of a DOUBLE type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT department, VAR_POP(enrollment_period) enrollment_period_variance from employees GROUP BY department;
Result:
   department    enrollment_period_variance
  -------------+----------------------------
   Development  41.60250000000002
   Research     (NULL)
   Sales        18.0625
   (NULL)       0.0
</code></pre><h4 id="median">MEDIAN</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>MEDIAN(<em>n</em>)</td>
</tr>
</tbody>
</table>
<p>Returns the median of n. If the number of rows to be calculated is even, returns the average value of the two rows near the center.</p>
<ul>
<li>Specify a numeric value as the argument n.
<ul>
<li>Subqueries cannot be specified.</li>
</ul>
</li>
<li>Rows with n of NULL value are excluded from the calculation.</li>
<li>The type of the result is a LONG type when n includes only integers, a DOUBLE type when n includes a floating point number.</li>
<li>Multiple use of the WINDOW function/OVER clause in the same SELECT clause, and simultaneous use of the WINDOW function/OVER clause and the MEDIAN function are not allowed.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT MEDIAN(age) FROM employees;
Result: 43

SELECT department, MEDIAN(age) mn FROM employees GROUP BY department ORDER BY mn DESC;
Result:
  department   mn
  ------------+-----
  Development  51
  Sales        43
  Research     31
  (NULL)       29
</code></pre><h3 id="mathematical-functions">Mathematical functions</h3>
<h4 id="abs">ABS</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>ABS(<em>n</em>)</td>
</tr>
</tbody>
</table>
<p>Return the absolute value of n. For a positive number, the value as it is is returned and for a negative number, the value multiplied by -1 is returned.</p>
<ul>
<li>Specify a numeric value as the argument n.</li>
<li>Return NULL, when the result value is NULL.</li>
<li>Cause an overflow error, when the value is an integer of -2<sup>63</sup>.</li>
<li>The type of the result is a LONG type when n includes only integers, a DOUBLE type when n includes a floating point number.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT first_name, ABS(age) abs FROM employees;
Result:
  first_name    abs
  ------------+-------
  John          43
  William       59
  Richard       (NULL)
  Mary          31
  Lisa          29
  James         43
</code></pre><h4 id="round">ROUND</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>ROUND(<em>n</em> [, <em>m</em>])</td>
</tr>
</tbody>
</table>
<p>Round off. Returns the value of n rounded to m decimal places.</p>
<ul>
<li>Specify a row of a numeric type as the argument n.</li>
<li>Specify an integer greater than or equal to 0 as the argument m. When no value is specified for m, the default value 0 is specified.</li>
<li>Return NULL, when the result value is NULL.</li>
<li>The type of the result is a LONG type when n includes only integers, a DOUBLE type when n includes a floating point number.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT first_name, ROUND(enrollment_period, 0) round FROM employees;
Result:
  first_name    round
  ------------+-------
  John          16.0
  William       23.0
  Richard        7.0
  Mary          (NULL)
  Lisa           5.0
  James         10.0
</code></pre><h4 id="random">RANDOM</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>RANDOM()</td>
</tr>
</tbody>
</table>
<p>Return a random number. A random number is an integer of the range from -2<sup>63</sup> to 2<sup>63</sup>-1.</p>
<ul>
<li>The result is of a LONG type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT first_name, RANDOM() random FROM employees;
Result
  first_name    random
  ------------+----------------------
  John          -3382931580741820003
  William       -7362300487836647182
  Richard        8834368641333737477
  Mary          -8544493602797564288
  Lisa          -7727163797274657674
  James          6751560427268247384
</code></pre><p><a id="Arithmetic_MAX"></a>
<a id="Arithmetic_MIN"></a></p>
<h4 id="maxmin">MAX/MIN</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>MAX(<em>x1</em>, <em>x2</em> [,&hellip;])</td>
</tr>
</tbody>
</table>
<p>Return the greatest value among the values xN.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>MIN(<em>x1</em>, <em>x2</em> [,&hellip;])</td>
</tr>
</tbody>
</table>
<p>Return the smallest value among the values xN.</p>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT first_name, age, enrollment_period, MAX(age, enrollment_period) max FROM employees;
Result:
  first_name    age    enrollment_period   max
  ------------+-------+------------------+--------
  John          43      15.5               43.0
  William       59      23.2               59.0
  Richard       (NULL)   7.0               (NULL)
  Mary          31      (NULL)             (NULL)
  Lisa          29       4.9               29.0
  James         43      10.3               43.0
</code></pre><p><a id="Arithmetic_LOG"></a></p>
<h4 id="log">LOG</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>LOG(<em>n</em>, <em>m</em>)</td>
</tr>
</tbody>
</table>
<p>Returns the logarithm of m with base n.</p>
<ul>
<li>For the argument n, specify a numeric value greater than 0 and other than 1.</li>
<li>For the argument m, specify a numeric value greater than 0.</li>
<li>Return NULL, when the result value is NULL.</li>
<li>The result is of a DOUBLE type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT LOG(2, 8);
Result: 3.0

SELECT LOG(0.5, 2.0);
Result: -1.0
</code></pre><p><a id="Arithmetic_SQRT"></a></p>
<h4 id="sqrt">SQRT</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>SQRT(<em>n</em>)</td>
</tr>
</tbody>
</table>
<p>Returns the positive square root of n.</p>
<ul>
<li>Specify a numeric value of 0 or greater as the argument n.</li>
<li>Return NULL, when the result value is NULL.</li>
<li>The result is of a DOUBLE type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT SQRT(4);
Result: 2.0

SELECT SQRT(16.0);
Result: 4.0
</code></pre><p><a id="Arithmetic_TRUNC"></a></p>
<h4 id="trunc">TRUNC</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>TRUNC(<em>n</em> [,<em>m</em>])</td>
</tr>
</tbody>
</table>
<p>In the case of m&gt;=0, return the value of n, rounded down to the nearest m digits.</p>
<p>In the case of m&lt; 0, return the value of n, rounded down to the nearest -m digits.</p>
<ul>
<li>Specify a numeric value as the argument n.</li>
<li>Specify an integer as the argument m. When no value is specified for m, the default value 0 is specified. A value greater than 309 or less than -308 cannot be specified.</li>
<li>Return NULL, when the result value is NULL.</li>
<li>The result type is LONG if an integer is specified for the argument n and DOUBLE if a decimal is specified.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT TRUNC(123.4567);
Result: 123.0

SELECT TRUNC(123.4567, 2);
Result: 123.45

SELECT TRUNC(123.4567, -1);
Result: 120.0

SELECT TRUNC(123.4567, -3);
Result: 0.0

SELECT TRUNC(1234567, -2);
Result: 1234500
</code></pre><p><a id="Arithmetic_HEX_TO_DEC"></a></p>
<h4 id="hex_to_dec">HEX_TO_DEC</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>HEX_TO_DEC(<em>str</em>)</td>
</tr>
</tbody>
</table>
<p>Converts hexadecimal string str to decimal number type.</p>
<ul>
<li>Specify a character string type value (0-9, a-f, A-F) that can be converted to hexadecimal for the argument str.</li>
<li>Return NULL, when the result value is NULL.</li>
<li>The result is of a LONG type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT HEX_TO_DEC(&#39;FF&#39;);
Result: 255

SELECT HEX_TO_DEC(&#39;10&#39;);
Result: 16
</code></pre><h3 id="character-functions">Character functions</h3>
<h4 id="length">LENGTH</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>LENGTH(<em>str</em>)</td>
</tr>
</tbody>
</table>
<p>Return the length of the character string str.</p>
<ul>
<li>Specify character string type values for the argument str.
<ul>
<li>Unicode code point of a character string is used.</li>
</ul>
</li>
<li>Return NULL, when the result value is NULL.</li>
<li>The result is of a LONG type.</li>
<li>A BLOB type can also be specified for an argument.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT last_name, LENGTH(last_name) length FROM employees;
Result:
  last_name     length
  ------------+----------------------
  Smith         5
  Jones         5
  Brown         5
  Taylor        6
  (NULL)        (NULL)
  Smith         5
</code></pre><h4 id="lower">LOWER</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>LOWER(<em>str</em>)</td>
</tr>
</tbody>
</table>
<p>Convert all the alphabet of the character string str to lowercases.</p>
<ul>
<li>Specify character string type values for the argument str.</li>
<li>Return NULL, when the result value is NULL.</li>
<li>The result is of a character string type.</li>
<li>Unicode characters other than ASCII alphabetic characters are not converted.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT last_name, LOWER(last_name) lower FROM employees;
Result:
  last_name     lower
  ------------+----------------------
  Smith         smith
  Jones         jones
  Brown         brown
  Taylor        taylor
  (NULL)        (NULL)
  Smith         smith
</code></pre><h4 id="upper">UPPER</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>UPPER(<em>str</em>)</td>
</tr>
</tbody>
</table>
<p>Convert all the alphabet of the character string str to uppercases.</p>
<ul>
<li>Specify character string type values for the argument str.</li>
<li>Return NULL, when the result value is NULL.</li>
<li>The result is of a character string type.</li>
<li>Unicode characters, such as Cyrille characters, other than ASCII alphabetic characters are not converted.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT last_name, UPPER(last_name) upper FROM employees;
Result:
  last_name     upper
  ------------+----------------------
  Smith         SMITH
  Jones         JONES
  Brown         BROWN
  Taylor        TAYLOR
  (NULL)        (NULL)
  Smith         SMITH
</code></pre><h4 id="substr">SUBSTR</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>SUBSTR(<em>str</em>, <em>index</em> [, <em>length</em>])</td>
</tr>
</tbody>
</table>
<p>Cut out a part of a character string. from the character on the starting position, indicated by &ldquo;index&rdquo; up to the length specified by &ldquo;length&rdquo;.</p>
<ul>
<li>Specify character string type values for the argument str.</li>
<li>Specify an integer, 1 or larger, as the argument index. The starting position at the beginning of a character string is 1.</li>
<li>When the argument length is not specified, the character strings up to the end of str is cut out.</li>
<li>Return NULL, when the str value is NULL.</li>
<li>The result is of a character string type.</li>
<li>A BLOB type can also be specified for an argument.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT SUBSTR(&#39;abcdefg&#39;, 3);
Result: cdefg

SELECT SUBSTR(&#39;abcdefg&#39;, 3, 2);
Result: cd
</code></pre><h4 id="replace">REPLACE</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>REPLACE(<em>str</em>, <em>search_str</em>, <em>replacement_str</em>)</td>
</tr>
</tbody>
</table>
<p>Replace a character string.
In the character string str, replace all the parts matching the character string search_str with replacement_str.</p>
<ul>
<li>Specify character string type values for the argument search_str, replacement_str.</li>
<li>Return NULL, when the str value is NULL.</li>
<li>The result is of a character string type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT REPLACE(&#39;abcdefabc&#39;, &#39;abc&#39;, &#39;123&#39;);
Result: 123def123
</code></pre><h4 id="instr">INSTR</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>INSTR(<em>str</em>, <em>search_str</em> [, offset] [, occurrence])</td>
</tr>
</tbody>
</table>
<p>Search for character string search_str in the character string str, and return its starting position. Return 0, when not found. Return 0, when not found.</p>
<ul>
<li>Specify a string type or BLOB type value for the arguments str and search_str. The values of the same data type must be specified for str and search_str. For the offset and occurrence arguments, specify a LONG value.</li>
<li>For string type, it is calculated in Unicode code point unit, and for BLOB type, it is calculated in byte unit.</li>
<li>offset indicates the position where the search starts: for a positive value, the search starts from the front; for a negative value, the search starts from the rear end; when 0 is specified, 0 is returned meaning no match.</li>
<li>occurrence indicates the number of matches: the search is repeated the specified number of times and the last matched position is returned. when 0 is specified, 0 is returned meaning no match.</li>
<li>Return NULL, when either of the value of the arguments is NULL.</li>
<li>The result is of a LONG type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT INSTR(&#39;abcdef&#39;, &#39;cd&#39;);
Result: 3

SELECT INSTR(&#39;abcdef&#39;, &#39;gh&#39;);
Result: 0

SELECT INSTR(&#39;abcabcabcde&#39;, &#39;ab&#39;, 2, 2);
Result: 7

SELECT INSTR(&#39;abcabcabcde&#39;, &#39;ab&#39;, -1, 2);
Result: 4
</code></pre><h4 id="like-1">LIKE</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>LIKE(<em>pattern_str</em>, <em>str</em> [, <em>escape_str</em>])</td>
</tr>
</tbody>
</table>
<p>Search the character string on the right.
Return true, when the character string str matches the match pattern pattern_str. Return false, when no match was found.
The following two wild cards are available for a match pattern.</p>
<table>
<thead>
<tr>
<th>Wild card</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>_</td>
<td>Any one character</td>
</tr>
<tr>
<td>%</td>
<td>Any character with zero or more character strings</td>
</tr>
</tbody>
</table>
<p>Specify the escape character escape_str when searching for the character _ or % in str containing the wildcard character _ or %.
If a escape character is specified before the wild card character, it will no longer be interpreted as a wild card.</p>
<ul>
<li>Specify character string type values for the argument str, pattern_str ,escape_str.</li>
<li>Return NULL, when either of the value of the arguments is NULL.</li>
<li>Uppercase and lowercase characters are not distinguished.</li>
<li>The result is of a BOOL type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT last_name, LIKE(&#39;%mi%&#39;, last_name) like_name FROM employees;
Result:
  last_name     like_name
  ------------+----------------------
  Smith         true
  Jones         false
  Brown         false
  Taylor        false
  (NULL)        (NULL)
  Smith         true


SELECT LIKE(&#39;%C%E%&#39;,  &#39;ABC%DEF&#39;);
Result: true

SELECT LIKE(&#39;%C@%E%&#39;, &#39;ABC%DEF&#39;, &#39;@&#39;);
Result: false

SELECT LIKE(&#39;%C@%D%&#39;, &#39;ABC%DEF&#39;, &#39;@&#39;);
Result: true
</code></pre><h4 id="glob-1">GLOB</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>GLOB(<em>pattern_str</em>, <em>str</em>)</td>
</tr>
</tbody>
</table>
<p>Search the character string on the right.
Return true, when the character string str matches the match pattern pattern_str. Return false, when no match was found.
The following wild cards are available for a match pattern.</p>
<table>
<thead>
<tr>
<th>Wild card</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>?</td>
<td>Any one character</td>
</tr>
<tr>
<td>*</td>
<td>Any character with zero or more character strings</td>
</tr>
<tr>
<td>[abc]</td>
<td>Match any of the letters a, b or c</td>
</tr>
<tr>
<td>[a-e]</td>
<td>Match any of the letters from a to e</td>
</tr>
</tbody>
</table>
<ul>
<li>Specify character string type values for the argument str, pattern_str.</li>
<li>Return NULL, when either of the value of the arguments is NULL.</li>
<li>Uppercase and lowercase characters are distinguished.</li>
<li>The result is of a BOOL type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT GLOB(&#39;*[BA]AB?D&#39;, &#39;AABCD&#39;);
Result: true
</code></pre><h4 id="trim">TRIM</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>TRIM(<em>str</em> [, <em>trim_str</em>])</td>
</tr>
</tbody>
</table>
<p>Delete all the characters of character string trim_str from both ends of the character string str.</p>
<ul>
<li>Specify character string type values for the argument str and trim_str.</li>
<li>Delete all the characters contained in the argument trim_str. When no value is specified, spaces are deleted from both ends of str.</li>
<li>The result is of a character string type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT TRIM(&#39; ABC &#39;);
Result: ABC (no space at both ends)

SELECT TRIM(&#39;ABCAA&#39;, &#39;BA&#39;);
Result: C
</code></pre><h4 id="ltrim">LTRIM</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>LTRIM(<em>str</em> [, <em>trim_str</em>])</td>
</tr>
</tbody>
</table>
<p>Delete all the characters of character string trim_str from the left end of the character string str.</p>
<ul>
<li>Specify character string type values for the argument str and trim_str.</li>
<li>Delete all the characters contained in the argument trim_str. When no value is specified, spaces are deleted from the left end of str.</li>
<li>The result is of a character string type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT TRIM(&#39; ABC &#39;);
Result: ABC (no space at the left end)

SELECT TRIM(&#39;ABCAA&#39;, &#39;BA&#39;);
Result: BCAA
</code></pre><h4 id="rtrim">RTRIM</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>RTRIM(<em>str</em> [, <em>trim_str</em>])</td>
</tr>
</tbody>
</table>
<p>Delete all the characters of character string trim_str from the right end of the character string str.</p>
<ul>
<li>Specify character string type values for the argument str and trim_str.</li>
<li>Delete all the characters contained in the argument trim_str. When no value is specified, spaces are deleted from the right end of str.</li>
<li>The result is of a character string type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT RTRIM(&#39; ABC &#39;);
Result: ABC (no space at the right end)

SELECT RTRIM(&#39;ABCAA&#39;, &#39;A&#39;);
Result: ABC
</code></pre><h4 id="quote">QUOTE</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>QUOTE(<em>x</em>)</td>
</tr>
</tbody>
</table>
<p>Returns a character string containing the value of x enclosed in single quotes.</p>
<ul>
<li>For the argument x, specify a value of a character string type, a numeric type, a TIMESTAMP type, and a BLOB type value.
<ul>
<li>For the string type, single quotes contained in the string are escaped into two single quotes &lsquo;&rsquo;.</li>
<li>For the numeric type, a numeric value is returns as it is. It is not enclosed in single quotes.</li>
<li>A TIMESTAMP type argument is converted to the string representation of time &lsquo;YYYY-MM-DDThh:mm:ss.SSS(Z|hh:mm)&rsquo; (see <a href="#timestamp">TIMESTAMP function</a>). It is not enclosed in single quotes.</li>
<li>For the BLOB type, return the character string X&rsquo;BLOB type value&rsquo;.</li>
</ul>
</li>
<li>The result is of a character string type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT QUOTE(last_name) last_name, QUOTE(age) age FROM employees;
Result:
  last_name     age
  ------------+-------
  &#39;Smith&#39;       43
  &#39;Jones&#39;       59
  &#39;Brown&#39;       (NULL)
  &#39;Taylor&#39;      31
  (NULL)        29
  &#39;Smith&#39;       43

SELECT QUOTE(RANDOMBLOB(4));
Result: X&#39;A45EA28D&#39;

// The value of column &#34;value&#34; is a character string &#34;Today&#39;s news.&#34;
SELECT value, QUOTE(value) FROM testcontainer;
Result:
   value            QUOTE(value)
  ---------------+-------------------
   Today&#39;s news     &#39;Today&#39;&#39;s news&#39;
</code></pre><h4 id="unicode">UNICODE</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>UNICODE(<em>str</em>)</td>
</tr>
</tbody>
</table>
<p>Returns the UNICODE code point of the first character of the string str.</p>
<ul>
<li>Specify character string type values for the argument str.</li>
<li>The result is of a LONG type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT last_name, UNICODE(last_name) unicode FROM employees;
Result:
  last_name     unicode
  ------------+----------------------
  Smith         83
  Jones         74
  Brown         66
  Taylor        84
  (NULL)        (NULL)
  Smith         83
</code></pre><h4 id="char">CHAR</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>CHAR(<em>x1</em> [, <em>x2</em>, &hellip; , <em>xn</em>])</td>
</tr>
</tbody>
</table>
<p>Returns a concatenated character string of characters with Unicode code point value xn.</p>
<ul>
<li>Specify a Unicode code point value for an argument xn.</li>
<li>The result is of a STRING type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT CHAR(83, 84, 85);
Result: STU
</code></pre><h4 id="printf">PRINTF</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>PRINTF(<em>format</em> [, <em>x1</em>, <em>x2</em>, &hellip;, <em>xn</em>])</td>
</tr>
</tbody>
</table>
<p>Return the converted character string according to the specified format &ldquo;format&rdquo;.
A format equivalent to the printf function of the standard C libraries can be used.
There are two other formats as below.</p>
<table>
<thead>
<tr>
<th>Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>%q</td>
<td>A single quote in a character string is escaped to two single quotes &lsquo;&rsquo;.</td>
</tr>
<tr>
<td>%Q</td>
<td>A single quote in a character string is escaped to two single quotes &lsquo;&rsquo;. <br>Enclose both ends of the character string by single quotes.</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT enrollment_period, PRINTF(&#39;%.2f&#39;, enrollment_period) printf FROM employees;
Result:
  enrollment_period   printf
  ------------------+-----------
  15.5                15.50
  23.2                23.20
   7.0                 7.00
  (NULL)               0.00
   4.9                 4.90
  10.3                10.30
</code></pre><h4 id="translate">TRANSLATE</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>TRANSLATE(<em>str</em>, <em>search_str</em>, <em>replacement_str</em>)</td>
</tr>
</tbody>
</table>
<p>Replace a character string. Among the character string str, the characters matched the character string search_str is replaced by the characters of character string replacement_str in the same position as search_str. When replacement_str is shorter than search_str, thus having no characters to substitute in the part longer than replacement_str, the characters to be replaced will be deleted.</p>
<ul>
<li>Specify character string type values for the argument search_str, replacement_str.</li>
<li>Return NULL, when the result value is NULL.</li>
<li>The result is of a character string type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT TRANSLATE(&#39;abcde&#39;, &#39;ace&#39;, &#39;123&#39;);
Result:1b2d3

SELECT TRANSLATE(&#39;abcdeca&#39;, &#39;ace&#39;, &#39;123&#39;);
Result: 1b2d321

SELECT TRANSLATE(&#39;abcde&#39;, &#39;ac&#39;, &#39;123&#39;);
Result: 1b2de

SELECT TRANSLATE(&#39;abcde&#39;, &#39;ace&#39;, &#39;12&#39;);
Result: 1b2d

SELECT TRANSLATE(&#39;abcde&#39;, &#39;AB&#39;, &#39;123&#39;);
Result: abcde

SELECT TRANSLATE(&#39;abcde&#39;, &#39;abc&#39;, &#39;&#39;);
Result: de
</code></pre><p><a id="time_function"></a></p>
<h3 id="time-functions">Time functions</h3>
<h4 id="now">NOW</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>NOW()</td>
</tr>
</tbody>
</table>
<p>Returns the current time value.</p>
<ul>
<li>If the time zone is specified at the time of connection, the offset calculated value is returned.</li>
<li>The result is of a TIMESTAMP type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT NOW();
Result: 2019-09-17T04:07:31.825Z

SELECT NOW();
Result: 2019-09-17T13:09:20.918+09:00
</code></pre><h4 id="timestamp">TIMESTAMP</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>TIMESTAMP(<em>timestamp_string</em> [, timezone])</td>
</tr>
</tbody>
</table>
<p>Convert the string representation of time to TIMESTAMP type.</p>
<ul>
<li>
<p>In the argument timestamp_string, specify a character string in the following format as a character string representation of time.</p>
<ul>
<li>YYYY-MM-DDThh:mm:ssZ</li>
<li>YYYY-MM-DDThh:mm:ss.SSSZ</li>
<li>YYYY-MM-DD</li>
<li>hh:mm:ss</li>
</ul>
<table>
<thead>
<tr>
<th>Notation</th>
<th>Item</th>
<th>The range of value</th>
</tr>
</thead>
<tbody>
<tr>
<td>YYYY</td>
<td>Year (A.D.)</td>
<td>1970-</td>
</tr>
<tr>
<td>MM</td>
<td>Month</td>
<td>1 to 12</td>
</tr>
<tr>
<td>DD</td>
<td>Day</td>
<td>1 to 31</td>
</tr>
<tr>
<td>hh</td>
<td>Time (24-hour notation)</td>
<td>0 to 23</td>
</tr>
<tr>
<td>mm</td>
<td>Minute</td>
<td>0 to 59</td>
</tr>
<tr>
<td>ss</td>
<td>Second</td>
<td>0 to 59</td>
</tr>
<tr>
<td>SSS</td>
<td>Millisecond</td>
<td>0 to 999</td>
</tr>
<tr>
<td>Z</td>
<td>Time zone</td>
<td>Z</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>For the timezone argument, specify the time zone (Z|hh:mm|hhmm), not required when time zone information is included in timestamp_string. An error is returned if the specified values are inconsistent.</p>
</li>
<li>
<p>If the time zone is specified at the time of connection, the offset calculated value is returned.</p>
</li>
<li>
<p>The result is of a TIMESTAMP type.</p>
</li>
<li>
<p>Use <a href="#cast">CAST</a> for the inverse conversion of TIMESTAMP function (conversion from TIMESTAMP type to string type).</p>
<ul>
<li>CAST(<em>timestamp</em> AS STRING)</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">// Search for a row with the value of column date (TIMESTAMP type) newer than time &#39;2018-12-01T10: 30: 00Z&#39;
SELECT * FROM timeseries WHERE date &gt; TIMESTAMP(&#39;2018-12-01T10:30:00Z&#39;);
</code></pre><h4 id="timestamp_add">TIMESTAMP_ADD</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>TIMESTAMP_ADD(<em>time_unit</em>, <em>timestamp</em>, <em>duration</em> [, timezone])</td>
</tr>
</tbody>
</table>
<p>The value obtained by adding the period &ldquo;duration&rdquo; (unit: time_umit) to time period &ldquo;timestamp&rdquo; is returned.</p>
<ul>
<li>Specify a TIMESTAMP type value for the argument timestamp.</li>
<li>Specify an integer for an argument duration. Subtract from the time point, when a negative number is specified.</li>
<li>Specify one of the following identifiers for the argument time_unit:
<ul>
<li>YEAR | MONTH | DAY | HOUR | MINUTE | SECOND | MILLISECOND</li>
</ul>
</li>
<li>For the timezone argument, specify the time zone (Z|hh:mm|hhmm),</li>
<li>If the calculated day of the month does not exist as a result of adding a year or a month, the day is rounded to the last day of the month. For example, if one month is added to May 31, the result will be rounded to June 30 because June 31 does not exist.</li>
<li>If the time zone is specified at the time of connection, the offset calculated value is returned.</li>
<li>The result is of a TIMESTAMP type.</li>
<li>TIMESTAMPADD can also be used as a function alias.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">Add ten days to time period &#39;2018-12-01T11:22:33.444Z&#39;.
SELECT TIMESTAMP_ADD(DAY, TIMESTAMP(&#39;2018-12-01T11:22:33.444Z&#39;), 10);
Result: 2018-12-11T11:22:33.444Z

SELECT TIMESTAMP_ADD(MONTH, TIMESTAMP(&#39;2019-05-31T01:23:45.678Z&#39;), 1);
Result: 2019-06-30T01:23:45.678Z

SELECT TIMESTAMP_ADD(MONTH, TIMESTAMP(&#39;2019-05-31T01:23:45.678Z&#39;), 1, &#39;-02:00&#39;);
Result: 2019-07-01T01:23:45.678Z
</code></pre><h4 id="timestamp_diff">TIMESTAMP_DIFF</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>TIMESTAMP_DIFF(<em>time_unit</em>, <em>timestamp1</em>, <em>timestamp2</em> [, timezone])</td>
</tr>
</tbody>
</table>
<p>Returns the difference of timestamp1 and timestamp2 (timestamp1-timestamp2) as a value expressed in the time unit &ldquo;time_unit&rdquo;.
When a time difference is represented in time units, the decimal places are rounded off.</p>
<ul>
<li>Specify a TIMESTAMP type value for the argument timestamp1 and timestamp2.</li>
<li>Specify one of the following identifiers for the argument time_unit: Instead of calculating the difference only in the unit specified by the identifier, the unit less than the identifier is also used in the calculation. For example, if MONTH is specified and 2019/09/30 is compared with 2019/10/02, the output will be 0 instead of 1 because 2 days of 0 months will be the difference.
<ul>
<li>YEAR | MONTH | DAY | HOUR | MINUTE | SECOND | MILLISECOND</li>
</ul>
</li>
<li>For the timezone argument, specify the time zone (Z|hh:mm|hhmm),</li>
<li>If the time zone is specified at the time of connection, the offset calculated value is used for the calculation of the difference.</li>
<li>The result is of a LONG type.</li>
<li>TIMESTAMPDIFF can also be used as a function alias.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">
// Time unit: Month
SELECT TIMESTAMP_DIFF(MONTH, TIMESTAMP(&#39;2018-12-11T10:30:15.555Z&#39;), TIMESTAMP(&#39;2018-12-01T10:00:00.000Z&#39;));
Result: 0

// Time unit: Day
SELECT TIMESTAMP_DIFF(DAY,   TIMESTAMP(&#39;2018-12-11T10:30:15.555Z&#39;), TIMESTAMP(&#39;2018-12-01T10:00:00.000Z&#39;));
Result: 10
SELECT TIMESTAMP_DIFF(DAY,   TIMESTAMP(&#39;2018-12-01T11:00:00.000Z&#39;), TIMESTAMP(&#39;2018-12-11T10:30:15.555Z&#39;));
Result:-9

// Time unit: Time point
SELECT TIMESTAMP_DIFF(HOUR,  TIMESTAMP(&#39;2018-12-11T10:30:15.555Z&#39;), TIMESTAMP(&#39;2018-12-01T10:00:00.000Z&#39;));
Result: 240

// Time unit: Minute
SELECT TIMESTAMP_DIFF(MINUTE, TIMESTAMP(&#39;2018-12-11T10:30:15.555Z&#39;), TIMESTAMP(&#39;2018-12-01T10:00:00.000Z&#39;));
Result: 14430

// Here is an example where the result changes depending on the time zone.
SELECT TIMESTAMP_DIFF(MONTH, MAKE_TIMESTAMP(2019, 8, 1), MAKE_TIMESTAMP(2019, 6, 30), &#39;Z&#39;);
Result: 2

SELECT TIMESTAMP_DIFF(MONTH, MAKE_TIMESTAMP(2019, 8, 1), MAKE_TIMESTAMP(2019, 6, 30), &#39;-01:00&#39;);
Result: 1
</code></pre><h4 id="to_timestamp_ms">TO_TIMESTAMP_MS</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>TO_TIMESTAMP_MS(<em>milliseconds</em>)</td>
</tr>
</tbody>
</table>
<p>Return the time point obtained by adding the value of argument &ldquo;milliseconds&rdquo; as millisecond, to the time point'1970-01-01T00:00:00.000Z&rsquo;.</p>
<p>This function is an inverse conversion of TO_EPOCH_MS function.</p>
<ul>
<li>Specify an integer for the argument &ldquo;milliseconds&rdquo;.</li>
<li>If the time zone is specified at the time of connection, the offset calculated value is returned.</li>
<li>The result is of a TIMESTAMP type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT TO_TIMESTAMP_MS(1609459199999);
Result: 2020-12-31T23:59:59.999Z
</code></pre><h4 id="to_epoch_ms">TO_EPOCH_MS</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>TO_EPOCH_MS(<em>timestamp</em>)</td>
</tr>
</tbody>
</table>
<p>Return the lapsed time (in milliseconds) from the time &lsquo;1970-01-01T00:00:00.000Z&rsquo; to the time &ldquo;timestamp&rdquo;.</p>
<p>This function is an inverse conversion of TO_EPOCH_MS function.</p>
<ul>
<li>Specify a TIMESTAMP type value for the argument timestamp.</li>
<li>The result is of a LONG type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT TO_EPOCH_MS(TIMESTAMP(&#39;2020-12-31T23:59:59.999Z&#39;));
Result: 1609459199999

SELECT TO_EPOCH_MS(TIMESTAMP(&#39;2020-12-31T23:59:59.999+09:00&#39;));
Result: 1609426799999
</code></pre><h4 id="extract">EXTRACT</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>EXTRACT(<em>time_field</em>, <em>timestamp</em> [, timezone])</td>
</tr>
</tbody>
</table>
<p>Retrieve the value of time field &ldquo;time_field&rdquo; from the time &ldquo;timestamp&rdquo;. The time will be the value of UTC.</p>
<ul>
<li>Specify a TIMESTAMP type value for the argument timestamp.</li>
<li>Specify one of the following identifiers for the argument time_field:
<ul>
<li>YEAR | MONTH | DAY | HOUR | MINUTE | SECOND | MILLISECOND | DAY_OF_WEEK | DAY_OF_YEAR
<ul>
<li>DAY_OF_WEEK is from Sunday, as 0, to Saturday, as 6.</li>
<li>DAY_OF_YEAR is from January first, as 1, to December 31th, as 365 or 366.</li>
</ul>
</li>
</ul>
</li>
<li>For the timezone argument, specify the time zone (Z|hh:mm|hhmm),</li>
<li>If the time zone is specified at the time of connection, the offset calculated value is returned. If it is also specified in the argument timezone, the one specified in the argument will be used.</li>
<li>The result is of a LONG type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">// Calculate the value of the year, the day, and the millisecond of time point &#39;2018-12-01T10:30:02.392Z&#39;.

// The value of the year
SELECT EXTRACT(YEAR, TIMESTAMP(&#39;2018-12-01T10:30:02.392Z&#39;));
Result: 2018

SELECT EXTRACT(DAY, TIMESTAMP(&#39;2018-12-01T10:30:02.392Z&#39;));
// The value of the day
Result: 1

// The value of the millisecond
SELECT EXTRACT(MILLISECOND, TIMESTAMP(&#39;2018-12-01T10:30:02.392Z&#39;));
Result: 392


// Consider the time zone.
SELECT EXTRACT(HOUR, TIMESTAMP(&#39;2018-12-01T10:30:02.392Z&#39;), &#39;+09:00&#39;);
Result: 19
</code></pre><h4 id="strftime">STRFTIME</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>STRFTIME(<em>format</em>, <em>timestamp</em> [, <em>modifier</em>,&hellip;])</td>
</tr>
</tbody>
</table>
<p>Return a time converted to a string according to the specified format.</p>
<ul>
<li>Specify the following in the format argument to extract time information.</li>
</ul>
<table>
<thead>
<tr>
<th>Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>%Y</td>
<td>Extract the year in YYYY format.</td>
</tr>
<tr>
<td>%m</td>
<td>Extract the month in MM format.</td>
</tr>
<tr>
<td>%d</td>
<td>Extract the day in DD format.</td>
</tr>
<tr>
<td>%H</td>
<td>Extract the time in hh format.</td>
</tr>
<tr>
<td>%M</td>
<td>Extract the minute in mm format.</td>
</tr>
<tr>
<td>%S</td>
<td>Extract the second in ss format.</td>
</tr>
<tr>
<td>%3f</td>
<td>Extract millisecond in SSS format.</td>
</tr>
<tr>
<td>%z</td>
<td>Extract the time zone in  hh:mm format.</td>
</tr>
<tr>
<td>%w</td>
<td>Extracts the day of the week in D format (0 to 6): from Sunday, as 0, to Saturday, as 6.</td>
</tr>
<tr>
<td>%W</td>
<td>Extracts the number of the week of the year in DD format (from 00 to 53). The first Monday is considered to be in the first week, and days before that are considered to be in the 0th week.</td>
</tr>
<tr>
<td>%j</td>
<td>Extract the number of days from January first in DDD format (001 to 366).</td>
</tr>
<tr>
<td>%c</td>
<td>Extract the time in the format YYYY-MM-DDThh:mm:ss[.SSS](Z</td>
</tr>
<tr>
<td>%%</td>
<td>Output % as a character.</td>
</tr>
</tbody>
</table>
<ul>
<li>Specify a TIMESTAMP type value for the argument timestamp.</li>
<li>For the timezone argument, specify the time zone (Z|hh:mm|hhmm),</li>
<li>The result is of a STRING type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">
SELECT STRFTIME(&#39;%c&#39;, TIMESTAMP(&#39;2019-06-19T14:15:01.123Z&#39;));
Result: 2019-06-19T14:15:01.123Z

SELECT STRFTIME(&#39;%H:%M:%S%z&#39;, TIMESTAMP(&#39;2019-06-19T14:15:01.123Z&#39;), &#39;+09:00&#39;);
Result: 23:15:01+09:00

SELECT STRFTIME(&#39;%W&#39;, TIMESTAMP(&#39;2019-01-19T14:15:01.123Z&#39;));
Result: 02
</code></pre><h4 id="make_timestamp">MAKE_TIMESTAMP</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>MAKE_TIMESTAMP(year, month, day [, timezone])<br>MAKE_TIMESTAMP(year, month, day, hour, min, sec [, timezone])</td>
</tr>
</tbody>
</table>
<p>Generate and return a TIMESTAMP type value.</p>
<ul>
<li>If the hour, min, and sec arguments are not specified, it is assumed that all 0 have been specified.</li>
<li>The argument sec can be specified in milliseconds. The value less than a millisecond is rounded, possibly causing a floating point calculation error.</li>
<li>For the timezone argument, specify the time zone (Z|hh:mm|hhmm),</li>
<li>The result is of a TIMESTAMP type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">
SELECT MAKE_TIMESTAMP(2019, 9, 19);
Result: 2019-09-19T00:00:00.000Z

SELECT MAKE_TIMESTAMP(2019, 9, 19, 10, 30, 15.123, &#39;+09:00&#39;);
Result: 2019-09-19T01:30:15.123Z
</code></pre><h4 id="timestamp_trunc">TIMESTAMP_TRUNC</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>TIMESTAMP_TRUNC(field, timestamp [, timezone])</td>
</tr>
</tbody>
</table>
<p>Truncates the time information.</p>
<ul>
<li>Specify one of the following identifiers for the argument field:
<ul>
<li>YEAR | MONTH | DAY | HOUR | MINUTE | SECOND | MILLISECOND</li>
</ul>
</li>
<li>Specify a TIMESTAMP type value for the argument timestamp.</li>
<li>For the timezone argument, specify the time zone (Z|hh:mm|hhmm),</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">
SELECT TIMESTAMP_TRUNC(HOUR, MAKE_TIMESTAMP(2019, 9, 19, 10, 30, 15.123));
Result: 2019-09-19T10:00:00.000Z

SELECT TIMESTAMP_TRUNC(DAY, MAKE_TIMESTAMP(2019, 5, 15), &#39;-01:00&#39;);
Result: 2019-05-14T01:00:00.000Z
</code></pre><p><a id="window_function"></a></p>
<h3 id="window-function">WINDOW function</h3>
<ul>
<li>Use the WINDOW function with the OVER clause. See <a href="#over">OVER clause</a> for details.</li>
</ul>
<h4 id="row_number">ROW_NUMBER</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>ROW_NUMBER()</td>
</tr>
</tbody>
</table>
<p>Assign a unique serial number to the resulting rows.</p>
<ul>
<li>Use the function ROW_NUMBER with the clause OVER. For details, see <a href="#over">OVER clause</a>.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT ROW_NUMBER() OVER(PARTITION BY department ORDER BY age) no, first_name, age, department FROM employees;
Result:
  no   first_name   age      department
  ----+------------+--------+-------------
  1    James        43       Development
  2    William      59       Development
  1    Mary         31       Research
  1    John         43       Sales
  2    Richard      (NULL)   Sales
  1    Lisa         29       (NULL)
</code></pre><h4 id="lag">LAG</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>Format LAG( x [, offset [, default ] ] )</td>
</tr>
</tbody>
</table>
<p>Returns x ahead of the current row by offset rows.</p>
<ul>
<li>Specify the value of arbitrary types as the argument x.</li>
<li>For the argument offset, specify a LONG type value:<br>
0 for the current position, a positive number for the forward position, a negative number for the backward position.<br>
When no value is specified, offset will be 1.</li>
<li>Specify the value of arbitrary types as the argument x.<br>
If the expected row does not exist, default will be returned.<br>
When no value is specified, default will be NULL.</li>
<li>The type of the result is the same as that of the argument x.</li>
<li>Specify the value of the same type for the arguments x and default. There are some different types that can be specified. Refer to <a href="#case">CASE</a> for the allowed combination of types.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT id, date, empId, amount, LAG(amount) OVER(PARTITION BY empID ORDER BY id) as lag_amount FROM travelexpenses;
Result
 id    date         empId   amount   lag_amount   
-----+------------+-------+--------+------------
  101  2020/02/01   0       200      (NULL)     
  104  2020/02/04   0       200      200        
  105  2020/02/05   0       150      200        
  102  2020/02/03   2       2500     (NULL)     
  103  2020/02/03   3       60       (NULL)     
  106  2020/02/06   3       80       60         
</code></pre><h4 id="lead">LEAD</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>Format LEAD( x [, offset [, default ] ] )</td>
</tr>
</tbody>
</table>
<p>Returns x behind the current row by offset rows.</p>
<ul>
<li>Specify the value of arbitrary types as the argument x.</li>
<li>For the argument offset, specify a LONG type value:<br>
0 for the current position, a positive number for the forward position, a negative number for the backward position.<br>
When no value is specified, offset will be 1.</li>
<li>Specify the value of arbitrary types as the argument x.<br>
If the expected row does not exist, default will be returned.<br>
When no value is specified, default will be NULL.</li>
<li>The type of the result is the same as that of the argument x.</li>
<li>Specify the value of the same type for the arguments x and default. There are some different types that can be specified. Refer to <a href="#case">CASE</a> for the allowed combination of types.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT id, date, empId, amount, LEAD(amount) OVER(PARTITION BY empID ORDER BY id) as lead_amount FROM travelexpenses;
Result
 id    date         empId   amount   lead_amount
-----+------------+-------+--------+-------------
  101  2020/02/01   0       200      200         
  104  2020/02/04   0       200      150         
  105  2020/02/05   0       150      (NULL)      
  102  2020/02/03   2       2500     (NULL)      
  103  2020/02/03   3       60       80          
  106  2020/02/06   3       80       (NULL)      
</code></pre><p><a id="other_function"></a></p>
<h3 id="other-functions">Other functions</h3>
<h4 id="coalesce">COALESCE</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>COALESCE(<em>x1</em>, <em>x2</em> [,&hellip;, <em>xn</em>])</td>
</tr>
</tbody>
</table>
<p>Return the value of the first argument that is not NULL in the specified argument xn.</p>
<ul>
<li>
<p>Specify the same type value for the argument xn. There are some different types that can be specified. Refer to <a href="#case">CASE</a> for the allowed combination of types.</p>
</li>
<li>
<p>Return NULL, when all argument values are NULL.</p>
</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT last_name, COALESCE(last_name, &#39;XXX&#39;) coalesce FROM employees;
Result:
  last_name     coalesce
  ------------+----------------------
  Smith         Smith
  Jones         Jones
  Brown         Brown
  Taylor        Taylor
  (NULL)        XXX
  Smith         Smith

SELECT age, COALESCE(age, -1) coalesce FROM employees;
Result:
  age       coalesce
  --------+-----------
  43         43
  59         59
  (NULL)     -1
  31         31
  29         29
  43         43
</code></pre><h4 id="ifnull">IFNULL</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>IFNULL(<em>x</em>, <em>y</em>)</td>
</tr>
</tbody>
</table>
<p>Return the value of the first argument that is not NULL among the specified arguments x and y. The IFNULL function is equivalent to the COALESCE function with two arguments.</p>
<ul>
<li>Specify the value of the same type for the arguments x and y. There are some different types that can be specified. Refer to <a href="#case">CASE</a> for the allowed combination of types.</li>
<li>Return NULL, when all argument values are NULL.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT last_name, IFNULL(last_name, &#39;XXX&#39;) ifnull FROM employees;
Result
  last_name     ifnull
  ------------+----------------------
  Smith         Smith
  Jones         Jones
  Brown         Brown
  Taylor        Taylor
  (NULL)        XXX
  Smith         Smith

SELECT age, IFNULL(age, -1) ifnull FROM employees;
Result
  age       coalesce
  --------+-----------
  43         43
  59         59
  (NULL)     -1
  31         31
  29         29
  43         43
</code></pre><h4 id="nullif">NULLIF</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>NULLIF(<em>x</em>, <em>y</em>)</td>
</tr>
</tbody>
</table>
<p>Return NULL when two arguments are the same, return the first argument when the arguments are different.</p>
<ul>
<li>Specify the value of the same type for the arguments x and y. There are some different types that can be specified. Refer to <a href="#case">CASE</a> for the allowed combination of types.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">// Execute NULLIF with the value of value1 and value2.
SELECT value1, value2, NULLIF(value1, value2) nullif FROM container_sample;
Result:
   value1   value2   nullif
  --------+--------+--------
      10       10    (NULL)
       5        0      5
   (NULL)       4    (NULL)
       3    (NULL)     3
   (NULL)   (NULL)   (NULL)


// Convert 0 to NULL to prevent division by zero errors in the calculation of value1 / value2
SELECT value1, value2, value1/NULLIF(value2, 0) division FROM container_sample;
Result:
   value1   value2   division
  --------+--------+--------
      10       10      1
       5        0    (NULL)
   (NULL)       4    (NULL)
       3    (NULL)   (NULL)
   (NULL)   (NULL)   (NULL)
</code></pre><h4 id="randomblob">RANDOMBLOB</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>RANDOMBLOB(<em>size</em>)</td>
</tr>
</tbody>
</table>
<p>Return a BLOB type value (random number).</p>
<ul>
<li>Specify the size (number of bytes) of a BLOB type value as an integer for the argument size.</li>
<li>The result is of a BLOB type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">// Generate a 10-byte blob value (random number)
SELECT HEX(RANDOMBLOB(10));
Result: 7C8C893C8087F07883AF
</code></pre><h4 id="zeroblob">ZEROBLOB</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>ZEROBLOB(<em>size</em>)</td>
</tr>
</tbody>
</table>
<p>Return a BLOB type value (0x00).</p>
<ul>
<li>Specify the size (number of bytes) of a BLOB type value as an integer for the argument size.</li>
<li>The result is of a BLOB type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">// Generate a 10-byte blob value (0x00).
SELECT HEX(ZEROBLOB(10));
Result: 00000000000000000000
</code></pre><h4 id="hex">HEX</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>HEX(<em>x</em>)</td>
</tr>
</tbody>
</table>
<p>Convert a BLOB type value to a hexadecimal type.
Interpret the argument x as a BLOB type value, and return the character string (uppercase) converted into the hexadecimal.</p>
<ul>
<li>Specify a BLOB type and a character string type for the argument x.
<ul>
<li>For a character string type argument, return the character string in which the Unicode code point of all the characters converted to hexadecimal.</li>
</ul>
</li>
<li>The result is of a character string type.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT HEX(RANDOMBLOB(2));
Result: E18D

SELECT first_name, HEX(first_name) hex FROM employees;
Result:
  first_name    hex
  ------------+----------------------
  John          4A6F686E
  William       57696C6C69616D
  Richard       52696368617264
  Mary          4D617279
  Lisa          4C697361
  James         4A616D6573
</code></pre><h4 id="typeof">TYPEOF</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>TYPEOF(<em>x</em>)</td>
</tr>
</tbody>
</table>
<p>Return the character string indicating the data type of the value of x.</p>
<ul>
<li>
<p>The correspondence between the data type and the string returned by the TYPEOF function is shown below.</p>
<table>
<thead>
<tr>
<th>Data types</th>
<th>Character string which TYPEOF function returns</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL</td>
<td>BOOL</td>
</tr>
<tr>
<td>STRING</td>
<td>STRING</td>
</tr>
<tr>
<td>BYTE</td>
<td>BYTE</td>
</tr>
<tr>
<td>SHORT</td>
<td>SHORT</td>
</tr>
<tr>
<td>INTEGER</td>
<td>INTEGER</td>
</tr>
<tr>
<td>LONG</td>
<td>LONG</td>
</tr>
<tr>
<td>FLOAT</td>
<td>FLOAT</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>DOUBLE</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>TIMESTAMP</td>
</tr>
<tr>
<td>GEOMETRY</td>
<td>NULL</td>
</tr>
<tr>
<td>BLOB</td>
<td>BLOB</td>
</tr>
<tr>
<td>ARRAY</td>
<td>NULL</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>The result is of a character string type.</p>
</li>
<li>
<p>When a NULL value is specified, &lsquo;NULL&rsquo; is returned.</p>
</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT TYPEOF(ABS(-10)) abs, TYPEOF(RANDOMBLOB(10)) randomblob,
    TYPEOF(TIMESTAMP(&#39;2018-12-01T10:30:02.392Z&#39;)) timestamp;
Result
   abs    randomblob   timestamp
  ------+------------+-----------
   LONG   BLOB         TIMESTAMP
</code></pre><h2 id="other-syntaxes">Other syntaxes</h2>
<h3 id="cast">CAST</h3>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>CAST(<em>x</em> AS <em>data_type</em>)</td>
</tr>
</tbody>
</table>
<p>Convert the value x into the data type &ldquo;data_type&rdquo;.</p>
<ul>
<li>Specify the following values for argument &ldquo;data_type&rdquo; according to the converted data type.
<table>
<thead>
<tr>
<th>Converted data type</th>
<th>Value for data_type</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL</td>
<td>BOOL</td>
</tr>
<tr>
<td>STRING</td>
<td>STRING</td>
</tr>
<tr>
<td>BYTE</td>
<td>BYTE</td>
</tr>
<tr>
<td>SHORT</td>
<td>SHORT</td>
</tr>
<tr>
<td>INTEGER</td>
<td>INTEGER</td>
</tr>
<tr>
<td>LONG</td>
<td>LONG</td>
</tr>
<tr>
<td>FLOAT</td>
<td>FLOAT</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>DOUBLE</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>TIMESTAMP</td>
</tr>
<tr>
<td>BLOB</td>
<td>BLOB</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h4 id="convert-to-string-type">Convert to string type</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>CAST(<em>x</em> AS STRING)</td>
</tr>
</tbody>
</table>
<p>Convert the argument x to a character string type.</p>
<p>The data types of the value which can be specified for x, and the converted values are as follows.</p>
<table>
<thead>
<tr>
<th>Data type of x</th>
<th>Value converted to character string type</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL</td>
<td>&rsquo;true&rsquo; if true, &lsquo;false&rsquo; if false</td>
</tr>
<tr>
<td>STRING</td>
<td>Original value</td>
</tr>
<tr>
<td>BYTE<br>SHORT<br>INTEGER<br>LONG<br>FLOAT<br>DOUBLE</td>
<td>Value converted from a number to a character string</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>Character string notation of time point &lsquo;YYYY-MM-DDThh:mm:ss.SSS(Z| hh:mm)&rsquo;<br>The time zone setting at the time of connection is used.</td>
</tr>
<tr>
<td>BLOB</td>
<td>A character string equivalent to the converted character string using <a href="#hex">HEX function</a></td>
</tr>
</tbody>
</table>
<h4 id="convert-to-numeric-type">Convert to numeric type</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>CAST(<em>x</em> AS BYTE|SHORT|INTEGER|LONG|FLOAT|DOUBLE)</td>
</tr>
</tbody>
</table>
<p>Convert the argument x into a numeric type.</p>
<p>The data types of the value which can be specified for x, and the converted values are as follows.</p>
<table>
<thead>
<tr>
<th>Data type of x</th>
<th>Value converted to numeric type</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL</td>
<td>1 if true, 0 if false</td>
</tr>
<tr>
<td>STRING</td>
<td>The value converted from the character string to numerical value</td>
</tr>
<tr>
<td>BYTE<br>SHORT<br>INTEGER<br>LONG<br>FLOAT<br>DOUBLE</td>
<td>The numerical value converted to the specified numeric type</td>
</tr>
</tbody>
</table>
<ul>
<li>An error will occur if the converted number exceeds the range of numeric values specified in data_type.</li>
</ul>
<pre tabindex="0"><code class="language-example" data-lang="example">// An error occurs if exceeding BYTE type range (-128 to 127)
SELECT CAST(128 AS BYTE);
Result: error

// An error occurs if exceeding INTEGER type range (-2147483648-2147483647).
SELECT CAST(&#39;2147483648&#39; AS INTEGER);
Result: error
</code></pre><ul>
<li>When converted from floating-point type (FLOAT, DOUBLE) to integer type (BYTE, SHORT, INTEGER, LONG), the number of significant digits in the result may be reduced.</li>
</ul>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT CAST(10.5 AS INTEGER);
Result: 10
</code></pre><ul>
<li>The following character strings can be specified in the conversion from a character string type to a numeric type (case insensitive). An error will occur when character strings other than these are specified.
<ul>
<li>The character string containing a number, a sign (&rdquo;. &ldquo;,&rdquo; - &ldquo;, &ldquo;+&rdquo;), or &ldquo;E&rdquo;</li>
<li>&ldquo;Inf&rdquo; (signed data acceptable)</li>
<li>&ldquo;Infinity&rdquo; (signed data acceptable)</li>
<li>&ldquo;NaN&rdquo;</li>
</ul>
</li>
</ul>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT CAST(&#39;abc&#39; AS INTEGER);
Result: error

SELECT CAST(&#39;-1.09E+10&#39; AS DOUBLE);
Result: -1.09E10
</code></pre><h4 id="convert-to-time-type">Convert to time type</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>CAST(<em>x</em> AS TIMESTAMP)</td>
</tr>
</tbody>
</table>
<p>Convert the argument x to a time type. If the time zone is specified at the time of connection, that value is used for offset calculation.</p>
<p>The data types of the value which can be specified for x, and the converted values are as follows.</p>
<table>
<thead>
<tr>
<th>Data type of x</th>
<th>Value converted to time type</th>
</tr>
</thead>
<tbody>
<tr>
<td>STRING (character string notation of time &lsquo;YYYY-MM-DDThh:mm:ss.SSSZ&rsquo;)</td>
<td>Equivalent to the value converted using the <a href="#timestamp">TIMESTAMP function</a></td>
</tr>
</tbody>
</table>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT CAST(&#39;2018-12-01T10:30:00Z&#39; AS TIMESTAMP);
Result: 2018-12-01T10:30:00.000Z

SELECT CAST(&#39;2018-12-01T10:30:00+09:00&#39; AS TIMESTAMP);
Result: 2018-12-01T01:30:00.000Z
</code></pre><h4 id="convert-to-bool-type">Convert to BOOL type</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>CAST(<em>x</em> AS BOOL)</td>
</tr>
</tbody>
</table>
<p>Convert the argument x to a BOOL type.</p>
<p>The data types of the value which can be specified for x, and the converted values are as follows.</p>
<table>
<thead>
<tr>
<th>Data type of x</th>
<th>Value converted to time type</th>
</tr>
</thead>
<tbody>
<tr>
<td>STRING</td>
<td>True if &rsquo;true&rsquo;, false if &lsquo;false&rsquo; (case insensitive)</td>
</tr>
<tr>
<td>BYTE<br>SHORT<br>INTEGER<br>LONG</td>
<td>False if 0, otherwise true</td>
</tr>
</tbody>
</table>
<h4 id="convert-to-blob-type">Convert to BLOB type</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>CAST(<em>x</em> AS BLOB)</td>
</tr>
</tbody>
</table>
<p>Convert the argument x to a BLOB type.</p>
<p>The data types of the value which can be specified for x, and the converted values are as follows.</p>
<table>
<thead>
<tr>
<th>Data type of x</th>
<th>Value converted to BLOB type</th>
</tr>
</thead>
<tbody>
<tr>
<td>STRING</td>
<td>The value converted from character string as hexadecimal data to BLOB type</td>
</tr>
</tbody>
</table>
<h3 id="case">CASE</h3>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>CASE <br>WHEN <em>condition1</em> THEN <em>result1</em> <br>[WHEN <em>condition2</em> THEN <em>result2</em>]<br>&hellip; <br>[ELSE <em>resultElse</em>] <br>END</td>
</tr>
</tbody>
</table>
<p>When the conditional expression conditionN is true, the value of corresponding resultN is returned.
When all the conditional expressions are false or NULL, and if ELSE is specified, the value of resultElse will be returned. When ELSE is not specified, NULL is returned.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Format</td>
<td>CASE x <br>WHEN <em>value1</em> THEN <em>result1</em> <br>[WHEN <em>value2</em> THEN <em>result2</em>]<br>&hellip; <br>[ELSE <em>resultElse</em>] <br>END</td>
</tr>
</tbody>
</table>
<p>When the value of x is valueN, the value of corresponding resultN is returned.
When the value of x is not equal to all values, and if ELSE is specified, the value of resultElse will be returned. When ELSE is not specified, NULL is returned.</p>
<p>Specify the same type value for resultN. There are some different types that can be specified.</p>
<ul>
<li>If the arguments are of different types, only the combination of the following types can be calculated. Any other combinations will result in an error.
<table>
<thead>
<tr>
<th>Type of argument</th>
<th>Type of argument</th>
<th>Type of argument when calculating the two arguments</th>
</tr>
</thead>
<tbody>
<tr>
<td>SHORT</td>
<td>BYTE</td>
<td>LONG</td>
</tr>
<tr>
<td>INTEGER</td>
<td>BYTE, SHORT</td>
<td>LONG</td>
</tr>
<tr>
<td>LONG</td>
<td>BYTE, SHORT, INTEGER</td>
<td>LONG</td>
</tr>
<tr>
<td>FLOAT</td>
<td>BYTE, SHORT, INTEGER, LONG</td>
<td>DOUBLE</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>BYTE, SHORT, INTEGER, LONG, FLOAT</td>
<td>DOUBLE</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">// Display the employee&#39;s age (30&#39;s, 40&#39;s, 50&#39;s, other than these)
SELECT id, first_name, age,
  CASE
    WHEN age &gt; 50 THEN &#39;50s&#39;
    WHEN age &gt; 40 THEN &#39;40s&#39;
    WHEN age &gt; 30 THEN &#39;30s&#39;
    ELSE &#39;other&#39;
  END AS period
FROM employees;

Result:
  id   first_name   age     period
  ----+------------+-------+--------
  0    John          43      40s
  1    William       59      50s
  2    Richard      (NULL)   other
  3    Mary          31      30s
  4    Lisa          29      other
  5    James         43      40s


// Display a location according to their departments.
SELECT id, first_name, department,
  CASE department
    WHEN &#39;Sales&#39; THEN &#39;Tokyo&#39;
    WHEN &#39;Development&#39; THEN &#39;Osaka&#39;
    ELSE &#39;Nagoya&#39;
  END AS location
FROM employees;

Result:
  id   first_name   department    location
  ----+------------+-------------+---------
  0    John         Sales         Tokyo
  1    William      Development   Osaka
  2    Richard      Sales         Tokyo
  3    Mary         Research      Nagoya
  4    Lisa         (NULL)        Nagoya
  5    James        Development   Osaka
</code></pre><p><a id="sub_query"></a></p>
<h3 id="subquery">Subquery</h3>
<p>Subqueries can be specified in various parts of an SQL statemnt other than FROM and WHERE clauses.
Some operation types for subqueries are also provided, which are explained in this section.</p>
<p><a id="in_sub_query"></a></p>
<h4 id="in-1">IN</h4>
<p>Return whether the specified value is included in the sub query execution result.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Expression 1 [NOT] IN ( sub_query )</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>Return true when the value of expression_1 is included in the result of the sub query.</li>
<li>The result of a sub query must be data of one row.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">// Display the information of the employee who belongs to the department of id=1 in the departments table from the employees table.
SELECT * FROM employees
WHERE department IN(
  SELECT department FROM departments
  WHERE id = 1
);
Result:
  id   first_name   last_name   age     department    enrollment_period
  ----+------------+-----------+-------+-------------+-------------------
   1   William      Jones       59      Development   23.2
   5   James        Smith       43      Development   10.3
</code></pre><h4 id="exists">EXISTS</h4>
<p>Return whether the execution result of the sub query exists.</p>
<p><strong>Syntax</strong></p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>[NOT] EXISTS( <em>sub_query</em> )</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>
<p>Check whether the execution result of the sub query exists. Return true if the number of execution result is 1 or more, false if it is 0.</p>
</li>
<li>
<p>The result is of a BOOL type.</p>
</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">// Display the information of the employee who belongs to the department of id=1 in the departments table from the employees table.
SELECT * FROM employees
WHERE EXISTS(
   SELECT * FROM departments
   WHERE employees.department=departments.department AND departments.id=1
);

  id   first_name   last_name   age     department    enrollment_period
  ----+------------+-----------+-------+-------------+-------------------
   1   William      Jones       59      Development   23.2
   5   James        Smith       43      Development   10.3
</code></pre><h4 id="scalar-sub-query">Scalar sub query</h4>
<p>Subquery which returns one result, which can be used for the result of a SELECT statement or for an expression.</p>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT id, first_name,
       (SELECT department FROM departments WHERE department_id=employees.department_id)
FROM employees;

Result:
  id  first_name  department
  ---+-----------+-------------
   0  John        Sales
   1  William     Development
   2  Richard     Sales
   3  Mary        (NULL)
   4  Lisa        Marketing
   5  James       Development
</code></pre><h3 id="placeholder">Placeholder</h3>
<p>A prepared statement can describe a placeholder in SQL statements.
A placeholder indicates the position of the parameter to be substituted when the statement is executed.
The parameter number starts from 1.</p>
<p>The placeholder can use several forms for compatibility with other databases.
However, the parameter number will be the already assigned parameter number + 1, regardless of which format is specified.</p>
<table>
<thead>
<tr>
<th>Format</th>
<th>Description</th>
<th>Example of description</th>
</tr>
</thead>
<tbody>
<tr>
<td>?</td>
<td>Format of a standard placeholder</td>
<td>?</td>
</tr>
<tr>
<td>?NNN</td>
<td>NNN indicates a number.</td>
<td>?56</td>
</tr>
<tr>
<td>:AAAA</td>
<td>AAAA indicates a character string.</td>
<td>:name</td>
</tr>
<tr>
<td>@AAAA</td>
<td>AAAA indicates a character string.</td>
<td>@name</td>
</tr>
</tbody>
</table>
<p>The placeholder must not start with $.</p>
<p>Example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">String</span> <span style="color:#000">sql</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SELECT * FROM users WHERE id &gt; ? AND id != :exclude_id;&#34;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">PreparedStatement</span> <span style="color:#000">pstmt</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">prepareStatement</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">sql</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">pstmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInt</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">100</span><span style="color:#ce5c00;font-weight:bold">);</span>  <span style="color:#8f5902;font-style:italic">// 1: ?
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">pstmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setInt</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">253</span><span style="color:#ce5c00;font-weight:bold">);</span>  <span style="color:#8f5902;font-style:italic">// 2: :exclude_id
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">ResultSet</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">pstmt</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeQuery</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span></code></pre></div><p><a id="comment"></a></p>
<h2 id="comment">Comment</h2>
<p>Comments can be written in a SQL command.  Format: Description at the back of &ndash; (2 hyphens) or enclose with /* */.
A new line needs to be returned at the end of the comment.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT * -- comment
FROM employees;

SELECT *
/*
  comment
*/
FROM employees;
</code></pre><p><a id="hint"></a></p>
<h2 id="hints">Hints</h2>
<p>In GridDB, specifying the hints indicating the execution plan in the query makes it possible to control the execution plan without changing the SQL statement.</p>
<p>See &ldquo;<a href="../15.md_sql_tuning_guide/md_sql_tuning_guide.md">GridDB SQL Tuning Guide</a>&rdquo; to tune with hint clauses.</p>
<h3 id="error-handling">Error handling</h3>
<p>In the following cases, a syntax error occurs.</p>
<ul>
<li>Multiple block comments for hints are described</li>
<li>The hint is described in the wrong position</li>
<li>There is a syntax error in the description of the hint phrase</li>
<li>Duplicate hint of the same class are specified for the same table</li>
</ul>
<p>In the following case, a table specification error occurs:</p>
<ul>
<li>The table specification of the hint phrase is incorrect</li>
</ul>
<p>[Memo]</p>
<ul>
<li>When a table specification error occurs, ignore the error hint phrase and execute the query using the others.</li>
<li>When a syntax error and a table specification error occur at the same time, a syntax error occurs.</li>
</ul>
<p><a id="label_metatables"></a></p>
<h2 id="----metatables----">&mdash; Metatables &mdash;</h2>
<h2 id="about-metatables">About metatables</h2>
<p>The metatables are tables that are used for checking metadata of data management in GridDB.</p>
<p>[Memo]</p>
<ul>
<li>Metatables can only be referred. It is not allowed to register or delete data in the metatables.</li>
<li>When <a href="#select">SELECT</a> data from the metatables, it is necessary to enclose the table name with double quotation marks.</li>
</ul>
<p>[Points to note]</p>
<ul>
<li>The schema of metatables may be changed in future version.</li>
</ul>
<h2 id="table-information">Table information</h2>
<p>Table information can be obtained.</p>
<p><strong>Table name</strong></p>
<p>#tables</p>
<p><strong>Schema</strong></p>
<table>
<thead>
<tr>
<th>Column name</th>
<th>Item</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>DATABASE_NAME</td>
<td>Database name</td>
<td>STRING</td>
</tr>
<tr>
<td>TABLE_NAME</td>
<td>Table name</td>
<td>STRING</td>
</tr>
<tr>
<td>TABLE_OPTIONAL_TYPE</td>
<td>Table type<br>COLLECTION / TIMESERIES</td>
<td>STRING</td>
</tr>
<tr>
<td>DATA_AFFINITY</td>
<td>Data affinity</td>
<td>STRING</td>
</tr>
<tr>
<td>EXPIRATION_TIME</td>
<td>Expiry release elapsed time</td>
<td>INTEGER</td>
</tr>
<tr>
<td>EXPIRATION_TIME_UNIT</td>
<td>Expiry release elapsed time unit</td>
<td>STRING</td>
</tr>
<tr>
<td>EXPIRATION_DIVISION_COUNT</td>
<td>Expiry release division count</td>
<td>INTEGER</td>
</tr>
<tr>
<td>PARTITION_TYPE</td>
<td>Partitioning type</td>
<td>STRING</td>
</tr>
<tr>
<td>PARTITION_COLUMN</td>
<td>Partitioning key</td>
<td>STRING</td>
</tr>
<tr>
<td>PARTITION_INTERVAL_VALUE</td>
<td>Interval value (For interval or interval hash)</td>
<td>STRING</td>
</tr>
<tr>
<td>PARTITION_INTERVAL_UNIT</td>
<td>Interval unit (For interval of interval hash)</td>
<td>STRING</td>
</tr>
<tr>
<td>PARTITION_DIVISION_COUNT</td>
<td>Division count (For hash)</td>
<td>INTEGER</td>
</tr>
<tr>
<td>SUBPARTITION_TYPE</td>
<td>Partitioning type<br>(&ldquo;Hash&rdquo; for interval hash)</td>
<td>STRING</td>
</tr>
<tr>
<td>SUBPARTITION_COLUMN</td>
<td>Partitioning key<br>(for interval hash)</td>
<td>STRING</td>
</tr>
<tr>
<td>SUBPARTITION_INTERVAL_VALUE</td>
<td>Interval value</td>
<td>STRING</td>
</tr>
<tr>
<td>SUBPARTITION_INTERVAL_UNIT</td>
<td>Interval unit</td>
<td>STRING</td>
</tr>
<tr>
<td>SUBPARTITION_DIVISION_COUNT</td>
<td>Division count<br>(For interval hash)</td>
<td>INTEGER</td>
</tr>
<tr>
<td>EXPIRATION_TYPE</td>
<td>Expiration type <br>PARTITION</td>
<td>STRING</td>
</tr>
</tbody>
</table>
<h2 id="index-information">Index information</h2>
<p>Index information can be obtained.</p>
<p><strong>Table name</strong></p>
<p>#index_info</p>
<p><strong>Schema</strong></p>
<table>
<thead>
<tr>
<th>Column name</th>
<th>Item</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>DATABASE_NAME</td>
<td>Database name</td>
<td>STRING</td>
</tr>
<tr>
<td>TABLE_NAME</td>
<td>Table name</td>
<td>STRING</td>
</tr>
<tr>
<td>INDEX_NAME</td>
<td>Index name</td>
<td>STRING</td>
</tr>
<tr>
<td>INDEX_TYPE</td>
<td>Index type <br>TREE / SPATIAL</td>
<td>STRING</td>
</tr>
<tr>
<td>ORDINAL_POSITION</td>
<td>Column order in index (sequential number from 1)</td>
<td>SHORT</td>
</tr>
<tr>
<td>COLUMN_NAME</td>
<td>Column name</td>
<td>STRING</td>
</tr>
</tbody>
</table>
<h2 id="partitioning-information">Partitioning information</h2>
<p>Data about partitioned tables can be obtained from this metatable.</p>
<p><strong>Table name</strong></p>
<p>#table_partitions</p>
<p><strong>Schema</strong></p>
<table>
<thead>
<tr>
<th>Column name</th>
<th>Item</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>DATABASE_NAME</td>
<td>Database name</td>
<td>STRING</td>
</tr>
<tr>
<td>TABLE_NAME</td>
<td>Partitioned table name</td>
<td>STRING</td>
</tr>
<tr>
<td>PARTITION_BOUNDARY_VALUE</td>
<td>The lower limit value of each data partition</td>
<td>STRING</td>
</tr>
</tbody>
</table>
<p><strong>Specifications</strong></p>
<ul>
<li>Each row represents the information of a data partition.
<ul>
<li>For example, when searching rows of a hash partitioned table in which the division count is 128, the number of rows displayed will be 128.</li>
</ul>
</li>
<li>In the metatable &ldquo;#table_partitions&rdquo;, the other columns may be displayed besides the above columns.</li>
<li>It is required to cast the lower limit value to the partitioning key type for sorting by the lower limit value.</li>
</ul>
<p><strong>Examples</strong></p>
<ul>
<li>
<p>Check the number of data partitions</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT COUNT(*) FROM &#34;#table_partitions&#34; WHERE TABLE_NAME=&#39;myIntervalPartition&#39;;

COUNT(*)
-----------------------------------
 8703
</code></pre></li>
<li>
<p>Check the lower limit value of each data partition</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT PARTITION_BOUNDARY_VALUE FROM &#34;#table_partitions&#34; WHERE TABLE_NAME=&#39;myIntervalPartition&#39;
ORDER BY PARTITION_BOUNDARY_VALUE;

PARTITION_BOUNDARY_VALUE
-----------------------------------
2016-10-30T10:00:00Z
2017-01-29T10:00:00Z
        :
</code></pre></li>
<li>
<p>Check the lower limit value of each data partitions on the interval partitioned table &ldquo;myIntervalPartition2&rdquo; (partitioning key type: INTEGER, interval value: 20000)</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT CAST(PARTITION_BOUNDARY_VALUE AS INTEGER) V FROM &#34;#table_partitions&#34;
WHERE TABLE_NAME=&#39;myIntervalPartition2&#39; ORDER BY V;

PARTITION_BOUNDARY_VALUE
-----------------------------------
-5000
15000
35000
55000
  :
</code></pre></li>
</ul>
<h2 id="view-information">View information</h2>
<p>View information can be obtained.</p>
<p><strong>Table name</strong></p>
<p>#views</p>
<p><strong>Schema</strong></p>
<table>
<thead>
<tr>
<th>Column name</th>
<th>Item</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>DATABASE_NAME</td>
<td>Database name</td>
<td>STRING</td>
</tr>
<tr>
<td>VIEW_NAME</td>
<td>View name</td>
<td>STRING</td>
</tr>
<tr>
<td>VIEW_DEFINITION</td>
<td>View defining character string</td>
<td>STRING</td>
</tr>
</tbody>
</table>
<h2 id="information-about-an-sql-in-execution">Information about an SQL in execution</h2>
<p>The information about SQL , a query or a job, under execution can be obtained.</p>
<p><strong>Table name</strong></p>
<p>#sqls</p>
<p><strong>Schema</strong></p>
<table>
<thead>
<tr>
<th>Column name</th>
<th>Item</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>DATABASE_NAME</td>
<td>Database name</td>
<td>STRING</td>
</tr>
<tr>
<td>NODE_ADDRESS</td>
<td>address of the node being processed (system)</td>
<td>STRING</td>
</tr>
<tr>
<td>NODE_PORT</td>
<td>The port of the node being processed (system)</td>
<td>INTEGER</td>
</tr>
<tr>
<td>START_TIME</td>
<td>Processing start time</td>
<td>TIMESTAMP</td>
</tr>
<tr>
<td>APPLICATION_NAME</td>
<td>Application name</td>
<td>STRING</td>
</tr>
<tr>
<td>SQL</td>
<td>Query character string</td>
<td>STRING</td>
</tr>
<tr>
<td>QUERY_ID</td>
<td>Query ID</td>
<td>STRING</td>
</tr>
<tr>
<td>JOB_ID</td>
<td>Job ID</td>
<td>STRING</td>
</tr>
</tbody>
</table>
<h2 id="information-about-an-event-in-execution">Information about an event in execution</h2>
<p>The information about the event under execution can be obtained.</p>
<p><strong>Table name</strong></p>
<p>#events</p>
<p><strong>Schema</strong></p>
<table>
<thead>
<tr>
<th>Column name</th>
<th>Item</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>NODE_ADDRESS</td>
<td>address of the node being processed (system)</td>
<td>STRING</td>
</tr>
<tr>
<td>NODE_PORT</td>
<td>The port of the node being processed (system)</td>
<td>INTEGER</td>
</tr>
<tr>
<td>START_TIME</td>
<td>Processing start time</td>
<td>TIMESTAMP</td>
</tr>
<tr>
<td>APPLICATION_NAME</td>
<td>Application name</td>
<td>STRING</td>
</tr>
<tr>
<td>SERVICE_TYPE</td>
<td>Service type (SQL/TRANSACTION/CHECKPOINT/SYNC)</td>
<td>STRING</td>
</tr>
<tr>
<td>EVENT_TYPE</td>
<td>Event types (PUT/CP_START/SYNC_START etc.)</td>
<td>STRING</td>
</tr>
<tr>
<td>WORKER_INDEX</td>
<td>Thread number of a worker</td>
<td>INTEGER</td>
</tr>
<tr>
<td>CLUSTER_PARTITION_INDEX</td>
<td>Cluster partition number</td>
<td>INTEGER</td>
</tr>
</tbody>
</table>
<h2 id="connection-information">Connection information</h2>
<p>The information about the connected connection can be obtained.</p>
<p><strong>Table name</strong></p>
<p>#sockets</p>
<p><strong>Schema</strong></p>
<table>
<thead>
<tr>
<th>Column name</th>
<th>Item</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>SERVICE_TYPE</td>
<td>Service type (SQL/TRANSACTION)</td>
<td>STRING</td>
</tr>
<tr>
<td>SOCKET_TYPE</td>
<td>Socket type</td>
<td>STRING</td>
</tr>
<tr>
<td>NODE_ADDRESS</td>
<td>Connection source node address (viewed from a node)</td>
<td>STRING</td>
</tr>
<tr>
<td>NODE_PORT</td>
<td>Connection source node port (viewed from a node)</td>
<td>INTEGER</td>
</tr>
<tr>
<td>REMOTE_ADDRESS</td>
<td>Connection destination node address (viewed from a node)</td>
<td>STRING</td>
</tr>
<tr>
<td>REMOTE_PORT</td>
<td>Connection destination node port (viewed from a node)</td>
<td>INTEGER</td>
</tr>
<tr>
<td>APPLICATION_NAME</td>
<td>Application name</td>
<td>STRING</td>
</tr>
<tr>
<td>CREATION_TIME</td>
<td>Connection time</td>
<td>TIMESTAMP</td>
</tr>
<tr>
<td>DISPATCHING_EVENT_COUNT</td>
<td>Total number of times to start request for event handling</td>
<td>LONG</td>
</tr>
<tr>
<td>SENDING_EVENT_COUNT</td>
<td>Total number of times to start event transmission</td>
<td>LONG</td>
</tr>
</tbody>
</table>
<p>The following three are available for SOCKET_TYPE (socket type) above:</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>SERVER</td>
<td>TCP connection between servers</td>
</tr>
<tr>
<td>CLIENT</td>
<td>TCP connection with a client</td>
</tr>
<tr>
<td>MULTICAST</td>
<td>Multicasting socket</td>
</tr>
<tr>
<td>NULL</td>
<td>In case currently unidentified during the cases such as connection attempt</td>
</tr>
</tbody>
</table>
<p>CREATION_TIME (connection time) in the table above is defined as follows according to each case:</p>
<ul>
<li>If SERVICE_TYPE is SQL, CREATION_TIME refers to the time a JDBC connection has started.</li>
<li>If SERVICE_TYPE is TRANSACTION, CREATION_TIME refers to the time a NoSQL connection has started.</li>
</ul>
<p><strong>Examples</strong></p>
<p>Only in case of TCP connection with a client (socket type: CLIENT), it can be determined whether the connection is waiting for execution.</p>
<p>Specifically, if DISPATCHING_EVENT_COUNT is larger than SENDING_EVENT_COUNT, it can be determine that the possibility is relatively high that the time waiting for execution existed.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SELECT CREATION_TIME, NODE_ADDRESS, NODE_PORT, APPLICATION_NAME FROM &#34;#sockets&#34;
WHERE SOCKET_TYPE=&#39;CLIENT&#39; AND DISPATCHING_EVENT_COUNT &gt; SENDING_EVENT_COUNT;

CREATION_TIME             NODE_ADDRESS   NODE_PORT  APPLICATION_NAME
--------------------------------------------------------------------
2019-03-27T11:30:57.147Z  192.168.56.71  20001      myapp
2019-03-27T11:36:37.352Z  192.168.56.71  20001      myapp
          :
</code></pre><h2 id="----reserved-words----">&mdash; Reserved words &mdash;</h2>
<p>The following terms are defined as keywords in the SQL of GridDB.</p>
<p>ABORT ACTION AFTER ALL ANALYZE AND AS ASC BEGIN BETWEEN BY CASE CAST COLLATE COLUMN COMMIT CONFLICT CREATE CROSS DATABASE DAY DELETE DESC DISTINCT DROP ELSE END ESCAPE EXCEPT EXCLUSIVE EXISTS EXPLAIN EXTRACT FALSE FOR FROM GLOB GRANT GROUP HASH HAVING HOUR IDENTIFIED IF IN INDEX INITIALLY INNER INSERT INSTEAD INTERSECT INTO IS ISNULL JOIN KEY LEFT LIKE LIMIT MATCH MILLISECOND MINUTE MONTH NATURAL NO NOT NOTNULL NULL OF OFFSET ON OR ORDER OUTER PARTITION PARTITIONS PASSWORD PLAN PRAGMA PRIMARY QUERY RAISE REGEXP RELEASE REPLACE RESTRICT REVOKE RIGHT ROLLBACK ROW SECOND SELECT SET TABLE THEN TIMESTAMPADD TIMESTAMPDIFF TO TRANSACTION TRUE UNION UPDATE USER USING VALUES VIEW VIRTUAL WHEN WHERE WITHOUT XOR YEAR</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f1903c91bf2d8200a65a712a0c959f61">6 - Tuning Guide</h1>
    <div class="lead">Describes how to perform SQL tuning procedures and SQL optimization</div>
	<h2 id="----introduction----">&mdash; Introduction &mdash;</h2>
<h2 id="aim--configuration-of-this-manual">Aim &amp; configuration of this manual</h2>
<p><strong>This manual describes GridDB SQL tuning.</strong></p>
<p>This document is intended for developers who develop systems using SQL with GridDB.</p>
<p>The contents of this manual are as follows.</p>
<ul>
<li>
<p>Tuning steps</p>
<ul>
<li>The steps for tuning SQL are described.</li>
</ul>
</li>
<li>
<p>Optimize SQL</p>
<ul>
<li>Optimization rules in SQL scan and join processing are described.</li>
</ul>
</li>
<li>
<p>SQL plan (execution plan)</p>
<ul>
<li>SQL plan, the result of SQL optimization, is described.</li>
</ul>
</li>
</ul>
<p>For optimization rules and tuning, the distinctive features of GridDB are mainly descried.</p>
<h2 id="----tuning-steps----">&mdash; Tuning steps &mdash;</h2>
<p>SQL tuning is performed in the following procedure, similar to the case of a general database system.</p>
<ul>
<li>
<p>STEP 1 Check a slow query</p>
<ul>
<li>If there is a problem with SQL performance on the system, identify slow queries that take a long time to execute.</li>
</ul>
</li>
<li>
<p>STEP 2 Obtain the plan</p>
<ul>
<li>Get the plan of the slow query.</li>
</ul>
</li>
<li>
<p>STEP 3 Tune the query</p>
<ul>
<li>Analyze the plan to see whether it works as intended and which part of the query is taking longer time than expected.</li>
<li>Depending on the problem, tune the query by, such as, rewriting and indexing the query.</li>
</ul>
</li>
<li>
<p>STEP 4 Re-execute the query</p>
<ul>
<li>Execute the tuned query to check the performance. If the problem is not solved, execute the procedure from STEP 2 again.</li>
</ul>
</li>
</ul>
<p>Details about STEP 1 to STEP 3 are explained below.</p>
<h2 id="check-a-slow-query">Check a slow query</h2>
<p>Among the queries running on the system, identify slow queries that are taking a long time.</p>
<p>A slow query that takes a long execution time can be set to output information about the query and the execution time to the event log.
Thereby, the bottleneck can be identified among the queries executed from an application.</p>
<p>The procedure to check the slow query is as follows.</p>
<ol>
<li>Output setting of a slow query</li>
</ol>
<ul>
<li>
<p>GridDB node has parameters for the threshold of slow query execution time and the upper limit of the query character string size output to the event log.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td>/sql/traceLimitExecutionTime</td>
<td>Lower limit of execution time (unit: second) for the event logging as a slow query.</td>
<td>300s</td>
</tr>
<tr>
<td>/sql/traceLimitQuerySize</td>
<td>Size upper limit of the query character string for logging as a slow query. (unit: byte)</td>
<td>1000</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>To change from the default value, use either of the following two methods.</p>
<ul>
<li>Stop the node and set parameters in the node definition file (gs_node.json)</li>
<li>Change the setting online using the operating command gs_paramconf. Note that, the setting changed online is reset by restarting the node. To make the change permanent, set also the node definition file (gs_node.json) after changing the setting online.</li>
</ul>
<p>[Memo]</p>
<ul>
<li>Since SQL is executed on any node of the cluster configuration, be sure to set the output setting of the slow query for all nodes.</li>
<li>See the &ldquo;<a href="../5.md_reference_operation_tool/md_reference_operation_tool.md">GridDB Operation Tools Reference</a>&rdquo; for the details about gs_paramconf.</li>
</ul>
</li>
</ul>
<ol start="2">
<li>Execute a query.</li>
</ol>
<ul>
<li>Execute a query. The query exceeding the execution time set in 1 is output to the event log.</li>
</ul>
<ol start="3">
<li>Check for slow queries</li>
</ol>
<ul>
<li>
<p>Check the log of a slow query. There are following two ways for checking. Identify the slow query using any one of these ways.</p>
<table>
<thead>
<tr>
<th>The ways for checking</th>
<th>Item</th>
</tr>
</thead>
<tbody>
<tr>
<td>Check the latest information online</td>
<td>Execute the option &ndash;slowlogs of operation tool gs_logs to display the information of a slow log. <br><br>- Only the information of the latest event log file is displayed. <br>The event log file is rotated when the file size exceeds the threshold or when the date changes. Once rotated, gs_logs will not show the contents of the old event log file.</td>
</tr>
<tr>
<td>Check an event log file directly.</td>
<td>Check the event log file of a node directly. <br>Get the slow query log from the log file using &ldquo;SQL_LONG_QUERY&rdquo; as a keyword.</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>Since SQL is executed on any node of the cluster configuration, be sure to check the slow query log in all nodes.</li>
<li>See &ldquo;<a href="../5.md_reference_operation_tool/md_reference_operation_tool.md">GridDB Operation Tools Reference</a>&rdquo; about how to use gs_logs.</li>
</ul>
</li>
</ul>
<h2 id="obtain-the-plan">Obtain the plan</h2>
<p>Execute the slow query identified in STEP 1 and get the query plan (global plan).</p>
<p>Use the operation tool gs_sh to get a plan. Execute the query with EXPLAIN ANALYZE syntax and get the plan with the sub-command getplantxt.</p>
<p>(1) Execute the query in the &ldquo;EXPLAIN ANALYZE&rdquo; syntax.</p>
<pre tabindex="0"><code>gs[public]&gt; sql EXPLAIN ANALYZE select * from table1, table2 where table1.value=1 and table1.id=table2.id ;
A search was executed.  (19 ms)
</code></pre><p>(2) Get the plan.</p>
<pre tabindex="0"><code>gs[public]&gt; getplantxt
Id Type       Input Rows Lead time Actual time Node                 And more..
--------------------------------------------------------------------------------------------------------------------
 0 SCAN       -     -           30          30 192.168.15.161:10001 table: {table1}
 1   SCAN     0     3000        21          21 192.168.15.161:10001 table: {table1, table2} INDEX SCAN JOIN_EQ_HASH
 2     RESULT 1     14           0           0 192.168.15.161:20001
</code></pre><p>GridDB processes SQL as follows:
A node parses queries and generate a plan. The plan consists of plans for each task, a unit of execution, which are executed by each node to which the task was assigned.</p>
<figure>
  <img src="img/plan_process.png" alt="SQL plan and the flow of processing" width="950"/>
  <figcaption>SQL plan and the flow of processing</figcaption>
</figure>
<p>The sub-command getplantxt for showing a plan displays a plan for each task line by line. An output of a task becomes the input of the next task.</p>
<p>Using the execution example of &ldquo;(2) Get the plan&rdquo; the way to display the plan is explained specifically.</p>
<ul>
<li>&ldquo;Input&rdquo; of plan ID1 is &ldquo;0&rdquo;, this means that the input of Plan ID1 is the result of plan ID0.</li>
<li>&ldquo;Rows&rdquo; of plan ID1 is &ldquo;3000&rdquo;, this means that the number of rows input from Plan ID0 is 3000.</li>
<li>&ldquo;Node&rdquo; of plan ID1 is &ldquo;192.168.15.161:10001&rdquo;, this means that this task was executed on the node &ldquo;192.168.15.161.&rdquo;</li>
</ul>
<h2 id="tune-the-query">Tune the query</h2>
<p>In the scan processing under a search condition in a WHERE clause and in the scan processing for joining a table, the performance may greatly change depending on whether the index is used or not.
As for joining a table, the performance depends greatly on the join order.
Note these points when tuning a query.</p>
<p>(1) Analyze a plan</p>
<p>Analyze a plan to check whether the index is used and the queries are executed as intended.
See the <a href="#label_plan">SQL plan</a> for the details of a plan.</p>
<ul>
<li>
<p>How to check whether the index is used or not</p>
<ul>
<li>In the scan processing under a search condition in a WHERE clause and in the scan processing for joining a table, the performance may greatly change depending on whether the index is used or not.</li>
<li>When &ldquo;Type&rdquo; of the slow task is &ldquo;SCAN&rdquo;, check whether the index is used in the scan processing.</li>
<li>When the index is used, &ldquo;INDEX SCAN&rdquo; will be displayed under &ldquo;And mode ..&rdquo;. If not, the index is not used.</li>
</ul>
</li>
</ul>
<p>(2) Tuning</p>
<p>Tune using the following methods depending on the problem identified from the analysis of a plan.</p>
<ul>
<li>
<p>Create an index</p>
<ul>
<li>If a column that needs an index is not indexed yet, create an index.</li>
<li>Provided that, it is recommended not to create an index in the following cases, because the index is less effective.
<ul>
<li>When the index has almost no effect to narrow down values in query execution, because, for example, the cardinality of the column is low (the number of types of column value is smaller than the number of rows).</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Rewre a query</p>
<ul>
<li>Rewrite statements such as WHERE clause search conditions and join order based on the result of <a href="#label_sql_optimization">SQL optimization</a>.</li>
<li>Use a hint phrase. For example, when the index is left unused or when the index should not be used for a certain query, modify the plan using a hint phrase.</li>
</ul>
</li>
</ul>
<p>Example)
A query for joining tables is explained as a tuning example.</p>
<p>Get a plan for a query which joins table1 and table2 with the value of the column value.</p>
<pre tabindex="0"><code>gs[public]&gt; EXPLAIN ANALYZE select * from table1, table2 where table1.value=0 and table1.value=table2.value;
A search was executed.  (13 ms)
gs[public]&gt; getplantxt
Id Type       Input Rows  Lead time Actual time Node                 And more..
-------------------------------------------------------------------------------------
 0 SCAN       -     -            20          20 192.168.15.161:10001 table: {table1}
 1 SCAN       -     -             9           9 192.168.15.161:10001 table: {table2}
 2   JOIN     0,1   10000,3000  891         891 192.168.15.161:20001 JOIN_EQ_HASH
 3     RESULT 2     32            2           2 192.168.15.161:20001
</code></pre><p>In this plan, table1 and table2 are scanned respectively, and join is processed without using an index.</p>
<p>Checking the index information of the table showed that the column value was not indexed, so an index is created.</p>
<p>Execute the same query to get a plan.</p>
<pre tabindex="0"><code>gs[public]&gt; EXPLAIN ANALYZE select * from table1, table2 where table1.value=0 and table1.value=table2.value;
A search was executed.  (7 ms)
gs[public]&gt; getplantxt
Id Type       Input Rows Lead time Actual time Node                 And more..
--------------------------------------------------------------------------------------------------------------------
 0 SCAN       -     -           20          20 192.168.15.161:10001 table: {table1}
 1   SCAN     0     10000       80          80 192.168.15.161:10001 table: {table1, table2} INDEX SCAN JOIN_EQ_HASH
 2     RESULT 1     32           3           3 192.168.15.161:20001
</code></pre><p>&ldquo;INDEX SCAN&rdquo; is displayed for plan ID2, and the plan has changed to use an index in join processing.</p>
<p><a id="label_sql_optimization"></a></p>
<h2 id="----optimize-sql----">&mdash; Optimize SQL &mdash;</h2>
<h2 id="scan-using-an-index">Scan using an index</h2>
<p>In a scan processing to find data that matches the search condition of WHERE clause, the &ldquo;index scan&rdquo; using the table index is often faster than the &ldquo;full scan&rdquo; which accesses all the rows of the table.</p>
<p>The index scan is more effective when the search condition of a WHERE clause can narrow down the data by reducing the hit ratio to the number of rows of a table.</p>
<p><a id="scan_index_selection_rule"></a></p>
<h3 id="index-selection-rules">Index selection rules</h3>
<p>This section explains rules to select an index for scan processing when optimizing GridDB SQL.</p>
<p>Rules are different depending on the operator or expression specified in the search condition.</p>
<p><strong>AND</strong></p>
<p>Basically, when indexes are set on the columns used as search conditions, the first index is used.</p>
<p>Example:</p>
<pre tabindex="0"><code>a&gt;1 AND b=2 (both a and b are indexed)
</code></pre><ul>
<li>The index of a is used.</li>
</ul>
<p>Provided that, in exceptional cases, the first index is not used. An example of such cases is shown below.</p>
<ul>
<li>
<p>If a constant false is added as an OR condition, &ldquo;OR false&rdquo;, the index is not used.</p>
<p>Specify this syntax not to use an index in a scan.</p>
<p>Example) In order not to use the index of a in &ldquo;a&gt;1 AND b=2&rdquo;</p>
<pre tabindex="0"><code>(a&gt;1 OR false) AND b=2 (both a and b are indexed)
</code></pre><ul>
<li>The index of a is not used. The index of b is used.</li>
</ul>
<p>Example) In order not to use the indexes of both a and b in &ldquo;a&gt;1 AND b=2&rdquo;</p>
<pre tabindex="0"><code>(a&gt;1 AND b=2) OR false    (both a and b are indexed)
a&gt;1 AND b=2 OR false      (both a and b are indexed)
</code></pre><ul>
<li>The indexes of a and b are not used.</li>
</ul>
</li>
<li>
<p>If an AND condition contains OR or IN, the index is used only in the first expression (the leftmost expression) for which an index is available.</p>
<p>Example:</p>
<pre tabindex="0"><code>(a=1 OR a=3) AND b=2   (both a and b are indexed)
a IN (1,3) AND b=2     (both a and b are indexed)
</code></pre><ul>
<li>The index of a is used. The index of b is not used.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code>(a=1 OR a=3 OR false) AND b=2   (both a and b are indexed)
(a IN (1,3) OR false) AND b=2   (both a and b are indexed)
</code></pre><ul>
<li>Since the expression on the left side of AND includes a constant false as an OR condition, the index of &ldquo;a&rdquo; cannot be used, and the index of b on the right side is used.</li>
</ul>
</li>
</ul>
<p>If conditions for the same column overlap, merge the conditions before using the index</p>
<p>Example:</p>
<pre tabindex="0"><code>a&gt;1 AND a&lt;=4 AND a&lt;=3 (&#34;a&#34; is indexed)
</code></pre><ul>
<li>The conditions are merged into a condition &ldquo;1&lt;a&lt;=3&rdquo; before using the index of &ldquo;a&rdquo;.</li>
</ul>
<p><strong>OR</strong></p>
<p>In the case of OR, the index is used only when all the columns specified as search conditions are indexed.</p>
<p>Example:</p>
<pre tabindex="0"><code>a&gt;1 OR b=2 (both a and b are indexed)
</code></pre><ul>
<li>The indexes of a and b are used.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code>a&gt;1 OR b=2 (b is indexed)
</code></pre><ul>
<li>Since a is not indexed, indexed of both a and b are not used.</li>
</ul>
<p><strong>Expressions for a comparison operator</strong></p>
<p>The index is used only when the expressions for a comparison operator consist of a single column value and a constant expression.</p>
<p>Example:</p>
<pre tabindex="0"><code>a&gt; 10*1000-1 (&#34;a&#34; has an index)
</code></pre><ul>
<li>The index of a is used.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code>a+1&gt;10*1000-1 (&#34;a&#34; has an index)
</code></pre><ul>
<li>The index of a is not used.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code>a&gt;b (both a and b are indexed)
</code></pre><ul>
<li>The indexes of a and b are not used.</li>
</ul>
<p><strong>IN, BETWEEN</strong></p>
<p>IN and BETWEEN, expressions combining AND, OR, and a comparison operators, the rules mentioned above are applied to.</p>
<p>Example:</p>
<pre tabindex="0"><code>a IN (1,2)         a=1 OR a=2     (&#34;a&#34; is indexed)
a BETWEEN 1 AND 2  a&gt;=1 AND a&lt;=2   (&#34;a&#34; is indexed)
</code></pre><ul>
<li>The index of a is used.</li>
</ul>
<p>[Memo]</p>
<ul>
<li>
<p>Indexes used for index scan are only TREE indexes created with NoSQL or NewSQL interface, or those automatically set for a primary key.
HASH indexes or spatial indexes created with the NoSQL interface are not used</p>
</li>
<li>
<p>Using the SQL syntax hint &ldquo;NoIndexScan&rdquo;, a scan without using an index can be specified. Refer to &ldquo;<a href="#label_hint">Hint phrases</a>&rdquo; for the details of a hint.</p>
</li>
</ul>
<h3 id="composite-index-selection-rules">Composite index selection rules</h3>
<p>This section explains rules to select a composite index for scan processing when optimizing GridDB SQL.</p>
<p>The range that uses an index differs depending on the column or the operator specified in the search condition.
The part from the beginning of a column that comprises a composite index to the end of consecutive column conditions joined by the AND condition is used as the composite index.</p>
<p>[Memo]</p>
<ul>
<li>Once the OR condition is added, the subsequent conditions are not used as the composite index.</li>
<li>The order of SQL column description does not affect whether the composite index is used or not.</li>
<li>If the values processed by a function are used as values to be compared against comparison criteria, indexes are not used.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code>where col1 = 1 and col2 = 1 and col3 = 2 (with a composite index of col1, col2, col3)
</code></pre><ul>
<li>Use a composite index with the conditions of col1, col2, col3.</li>
</ul>
<pre tabindex="0"><code>where col1 = 1 and col2&gt; 1 and col3 &lt;2 (with a composite index of col1, col2, col3)
</code></pre><ul>
<li>Use a composite index with the conditions of col1, col2, col3.</li>
</ul>
<pre tabindex="0"><code>where col1 = 1 and col2 = 1 (with a composite index of col1, col2, col3)
</code></pre><ul>
<li>Use composite index up to col1, col2 conditions.</li>
</ul>
<pre tabindex="0"><code>where col1 = 1 and col3 = 2 (with a composite index of col1, col2, col3)
</code></pre><ul>
<li>The composite index is used up to the condition col1 because the second column col2 is not specified.</li>
</ul>
<pre tabindex="0"><code>where col2 = 1 (with a composite index consisting of col1, col2, and col3)
</code></pre><ul>
<li>The composite index is not used  because the first column col1 is not specified.</li>
</ul>
<pre tabindex="0"><code>where col1 = 1 and (col3 &gt;= 0 and col3 &lt; 10) and col2 = 1  (with a composite index consisting of col1, col2, and col3)
</code></pre><ul>
<li>Use a composite index with the conditions of col1, col2, col3.</li>
</ul>
<pre tabindex="0"><code>where col1 = 1 and (col3 = 0 or col3 = 1) and col2 = 1 (with a composite index consisting of col1, col2, and col3)
</code></pre><ul>
<li>The composite index is under the conditions starting from col1 up to col2.</li>
</ul>
<pre tabindex="0"><code>where (col1 = 0 or col1 = 1) and col2 = 1 (with a composite index consisting of col1, col2, and col3)
</code></pre><ul>
<li>Use composite index up to col1 condition.</li>
</ul>
<pre tabindex="0"><code>where col1 = 1 and (col3 &gt;= 0 and col3 &lt; 10) (with a composite index consisting of col1, col2, and col3)
</code></pre><ul>
<li>Use composite index up to col1 condition.</li>
</ul>
<pre tabindex="0"><code>where col1 = 1 and (col3 &gt;= 0 and col3 &lt; 10) and ABS(col2) = 1 (with a composite index consisting of col1, col2, and col3)
</code></pre><ul>
<li>Use composite index up to col1 condition.</li>
</ul>
<h2 id="join">Join</h2>
<p>This section explains the rules for joining tables to optimize GridDB SQL.</p>
<ul>
<li>
<p><a href="#join_order_selection_rule">Join order selection rules</a></p>
<ul>
<li>Rules to determine the order of joining tables.</li>
</ul>
</li>
<li>
<p><a href="#join_index_adaption_rule">Rules for using an index</a></p>
<ul>
<li>Rules to determine whether to use an index for join processing.</li>
</ul>
</li>
<li>
<p><a href="#join_index_selection_rule">Index selection rules</a></p>
<ul>
<li>Rules to choose an index after it is determined to use an index following the rules for using an index.</li>
</ul>
</li>
<li>
<p><a href="#join_calculation_method_selection_rule">Selection rules for join operation methods</a></p>
<ul>
<li>Rules to choose operation methods for join processing.</li>
</ul>
</li>
</ul>
<p>For join processing without using indexes, the join order and the join operation method greatly influence the performance.</p>
<p><a id="join_order_selection_rule"></a></p>
<h3 id="join-order-selection-rules">Join order selection rules</h3>
<p>In join processing, the table accessed first is called the driving table, and the table accessed next and joined is called the internal table.</p>
<p>The order of joins (driving table and inner table) is determined by the following rules.</p>
<p>When joining two tables, a table which has a conditional expression which is equal to a constant becomes a drive table.</p>
<p>Example:</p>
<pre tabindex="0"><code>t1.a=t2.x AND t2.y=1
</code></pre><ul>
<li>t2, which has a search condition with an expression including a constant 1, is the driving table, and t1 is the internal table.</li>
</ul>
<p>For joining three or more tables, the join order is determined by the strength of coupling or the strength of the search condition.</p>
<ul>
<li>
<p>Tables with a strong degree of coupling are joined consecutively.</p>
<p>Example:</p>
<pre tabindex="0"><code>FROM A, B, C
</code></pre><ul>
<li>Without any conditions specified, the tables are joined in the order described. (A and B are joined, and the joined result and C are joined)</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code>FROM A, B, C WHERE A.x=C.z AND C.z=B.y
</code></pre><ul>
<li>Since the degree of coupling between A and C is strong, A, C, B are joined in this order. (A and C are joined, and the joined result and B are joined)</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code>FROM A, B, C WHERE A.x&gt;=C.z AND C.z&gt;=B.y AND B.y=A.x
</code></pre><ul>
<li>Since the degree of coupling between A and B is strong, A, B, C are joined in this order. (A and B are joined, and the joined result and C are joined)</li>
</ul>
</li>
<li>
<p>The tables with a stronger condition to narrow down the data, which is presumed to filter out fewer data, are joined earlier.</p>
<p>Example:</p>
<pre tabindex="0"><code>FROM A, B, C WHERE A.x=C.z AND C.z=B.y AND B.x=1
</code></pre><ul>
<li>B has a stronger condition to narrow down the data, the join order will become B, C, and A.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code>FROM A, B, C WHERE A.x=C.z AND C.z=B.y AND A.x IN (1, 2) AND B.x IN (1, 2, 3)
</code></pre><ul>
<li>A has a stronger condition to narrow down the data, the join order will become A, C, and B.</li>
</ul>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>The order of join can be changed using the SQL syntax hint &ldquo;Leading&rdquo;. See the <a href="#label_hint">hint phrase</a> for the details of the hint.</li>
</ul>
<p><a id="join_index_adaption_rule"></a></p>
<h3 id="rules-for-using-an-index">Rules for using an index</h3>
<p>This section explains the rules for using indexes in join processing.</p>
<p>An index is used, when all five of the following rules are true:</p>
<ul>
<li>
<p>The driving table has an equivalent condition.</p>
<p>Example:</p>
<pre tabindex="0"><code>t1.a=t2.x AND t2.y=1   (&#34;a&#34; is indexed, the driving table is t2 and the internal table is t1)
</code></pre><ul>
<li>The driving table has an equivalent condition (t2.y=1), so the index is used to join processing.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code>t1.a=t2.x AND t2.y&gt;1 (&#34;a&#34; is indexed, the driving table is t2 and the internal table is t1)
</code></pre><ul>
<li>The driving table does not have an equivalent condition (t2.y&gt;1), so the index is not used to join processing.</li>
</ul>
</li>
<li>
<p>The first join condition is an equivalent condition.</p>
<p>Example:</p>
<pre tabindex="0"><code>t1.a&gt;t2.x AND t1.b=t2.y AND t2.z=1 (&#34;a&#34; is indexed, the driving table is t2 and the internal table is t1)
</code></pre><ul>
<li>The first join condition is not an equivalent condition (t1.a&gt;t2.x), so the index is not used to join processing.</li>
</ul>
</li>
<li>
<p>The column of the internal table, which has an equivalent condition, of the first join condition is indexed.</p>
<p>Example:</p>
<pre tabindex="0"><code>t1.a=t2.x AND t2.y=1 (&#34;a&#34; is not indexed, the driving table is t2 and the internal table is t1)
</code></pre><ul>
<li>The column of the internal table, which has an equivalent condition, of the first join condition is not indexed, so the index is not used to join processing.</li>
</ul>
</li>
<li>
<p>INNER JOIN</p>
</li>
<li>
<p>Not disabled by NoIndexJoin hint.</p>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>Selection of driving tables and internal tables when joining can be specified using a Leading hint. See the <a href="#label_hint">hint phrase</a> for the details of the hint.</li>
<li>To use an index or not while joining can also be specified using the IndexJoin hint/NoIndexJoin hint. See the <a href="#label_hint">hint phrase</a> for the details of the hint.</li>
</ul>
<p><a id="join_index_selection_rule"></a></p>
<h3 id="index-selection-rules-1">Index selection rules</h3>
<p>When the join syntax applies to <a href="#join_index_adaption_rule">the rules for using an index</a>, an index is used to join.
This section explains the rules to choose the index used to join.</p>
<p>Basically, <a href="#scan_index_selection_rule">the rules for using an index</a> are the same as the rules for choosing an index to scan.
All indexes set for columns are used in the order described.</p>
<p>Provided that, not all the indexes are used. An example of such cases is shown below.</p>
<p>When indexes are set on the columns used as search conditions, the first index is used.</p>
<p>Example:</p>
<pre tabindex="0"><code>t1.a=t2.x AND t1.b&gt;t2.y AND t2.z=1 (a and b are indexed, the driving table is t2 and the internal table is t1)
</code></pre><ul>
<li>Only the index of a is used.</li>
</ul>
<p>In the OR condition (A OR B), when B is a false constant, the index of A is not used.</p>
<p>Example:</p>
<pre tabindex="0"><code>t1.a=t2.x AND (t1.b=t2.y OR false) AND t2.z=1 (a and b are indexed, the driving table is t2 and the internal table is t1)
</code></pre><ul>
<li>The index of b is not used. The index of a is used.</li>
</ul>
<p><a id="join_calculation_method_selection_rule"></a></p>
<h3 id="selection-rules-for-join-operation-methods">Selection rules for join operation methods</h3>
<p>There are following three types of join operation methods:</p>
<table>
<thead>
<tr>
<th>Join operation method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Hash join</td>
<td>Create a temporary table in the memory by multiplying the join key of the driving table to the hash function, and then compare the table to the hash value of the internal table.</td>
</tr>
<tr>
<td>Sort merge join</td>
<td>Sort the two tables to be joined by the join key, compare them in order and join them.</td>
</tr>
<tr>
<td>Nested loop join</td>
<td>For the values of the join key of the driving table, find and join the data of the inner table that matched the join conditions.</td>
</tr>
</tbody>
</table>
<p>Hash join, sort merge join, and nested loop join are quick in this order.</p>
<p>Depending on the type of the first join condition, chose one of these operation methods.</p>
<table>
<thead>
<tr>
<th>The first condition</th>
<th>The operation method to choose</th>
</tr>
</thead>
<tbody>
<tr>
<td>Equivalent condition</td>
<td>Hash join or sort merge join<br>(Even if hash join is chosen, some of the operations may switch to sort merge join due to memory resource restriction.)</td>
</tr>
<tr>
<td>Comarison condition</td>
<td>Sort merge join</td>
</tr>
<tr>
<td>-</td>
<td>Nested loop join</td>
</tr>
</tbody>
</table>
<p>The first join condition of the join is selected in the following priority.</p>
<ul>
<li>
<p>A simple column expression is prioritized to be the first join condition.</p>
<p>Example:</p>
<pre tabindex="0"><code>t1.a=abs(t2.x)+10 AND t1.b=t2.y
</code></pre><ul>
<li>t1.b=t2.y, a simple column expression, is selected as the first condition. Since the first condition is an equivalent condition, hash join or sort merge join is used.</li>
</ul>
</li>
<li>
<p>When there are two or more simple column expressions, the expression described earlier is selected as the first join condition.</p>
<p>Example:</p>
<pre tabindex="0"><code>t1.a&gt;t2.x AND t1.b=t2.y
</code></pre><ul>
<li>Since both &ldquo;t1.a&gt;t2.x&rdquo; and &ldquo;t1.b=t2.y&rdquo; are simple column expressions, &ldquo;t1.a&gt;t2.x&rdquo; is selected as the first condition in the order of description. Since the first condition is a comparison condition, sort merge join is used.</li>
</ul>
</li>
</ul>
<p><a id="label_hint"></a></p>
<h2 id="hint-phrase">Hint phrase</h2>
<p>An execution plan can be controlled by specifying a hint in a query to modify the execution plan, without changing the SQL statement.</p>
<p>[Points to note]</p>
<ul>
<li>This function might change in future release.</li>
</ul>
<h3 id="terms">Terms</h3>
<p>The following table explains the hint function related terms.</p>
<table>
<thead>
<tr>
<th>Term</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Hint phrase</td>
<td>Information for controlling the execution plan</td>
</tr>
<tr>
<td>Hints</td>
<td>A list of hint phrases Specified in the query to control an execution plan. Specified in the query to control an execution plan.</td>
</tr>
</tbody>
</table>
<h3 id="specifying-hints">Specifying hints</h3>
<p>Write the hint in the block comment of the query to control the execution plan. The block comment for the hint, can only be written immediately before or after the first SELECT (INSERT/UPDATE/DELETE) statement in SQL. To distinguish a hint comment from regular comments, the block comment for the hint begin with &ldquo;/*+&rdquo;.</p>
<p>The target to give a hint is specified by the object name or alias in parentheses. The targets are separated by either space, tab, or newline.</p>
<p>In the following example, the Leading hint clause specifies the table join order.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">/*+
Leading(t3 t2 t1)
 */
SELECT *
  FROM t1, t2, t3
    ON t1.x = t2.y and t2.y = t3.z
  ORDER BY t1.x
  LIMIT 10;
</code></pre><p>[Memo]</p>
<ul>
<li>In case of using a table with the same name more than once in the query due to a schema difference or multiple use of the same table, distinguish each table by giving an alias to the table.</li>
</ul>
<h3 id="list-of-hint-phrases">List of hint phrases</h3>
<p>The following table shows the available hint phrases.</p>
<table>
<thead>
<tr>
<th>Class</th>
<th>Operation</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Parallelism</td>
<td>MaxDegreeOfTaskInput(upper_limit)</td>
<td>Maximum number of inputs for one task.</td>
</tr>
<tr>
<td></td>
<td>MaxDegreeOfExpansion(upper_limit)</td>
<td>Maximum number of expansion nodes of planning.</td>
</tr>
<tr>
<td>Scanning method</td>
<td>IndexScan(table)</td>
<td>Index scan is used if possible.</td>
</tr>
<tr>
<td></td>
<td>NoIndexScan(table)</td>
<td>No index scan is used.</td>
</tr>
<tr>
<td>Joining method</td>
<td>IndexJoin(table table)</td>
<td>Using index join if possible.</td>
</tr>
<tr>
<td></td>
<td>NoIndexJoin(table table)</td>
<td>No index join is used.</td>
</tr>
<tr>
<td>Table joining order</td>
<td>Leading(table table [table &hellip;])</td>
<td>Join specified tables in the specified order.</td>
</tr>
<tr>
<td></td>
<td>Leading(( table set table set ))</td>
<td>Join the first specified table set as the outer table and<br>the second table set as the inner table indicates single table or table set)</td>
</tr>
</tbody>
</table>
<p>Table set = { table or ( table set table set )</p>
<h3 id="details-of-hint-phrases">Details of hint phrases</h3>
<p>This chapter shows details for each category of hint phrases.</p>
<h4 id="parallelism">Parallelism</h4>
<p>Control parallelization processing.</p>
<ul>
<li>MaxDegreeOfTaskInput(upper_limit)
<ul>
<li>Specify the maximum number of inputs for one task. It applies to the following processing:
<ul>
<li>UNION ALL processing when scanning the partitioned table</li>
</ul>
</li>
</ul>
</li>
<li>MaxDegreeOfExpansion(upper_limit)
<ul>
<li>UNION ALL processing when scanning the partitioned table It applies to the following processing:
<ul>
<li>Push down join optimization processing</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="scanning-method">Scanning method</h4>
<p>Specify scanning method.</p>
<ul>
<li>IndexScan(table)
<ul>
<li>Index scan is used if possible. If it cannot be used, nothing is done.</li>
</ul>
</li>
<li>NoIndexScan(table)
<ul>
<li>No index scan is used.</li>
</ul>
</li>
</ul>
<h4 id="joining-method">Joining method</h4>
<p>Specify which joining method to select for a table combination.</p>
<ul>
<li>IndexJoin(table table)
<ul>
<li>Index join is used if possible.  If it cannot be used, nothing is done.</li>
</ul>
</li>
<li>NoIndexJoin(table table)
<ul>
<li>No index join is used.</li>
</ul>
</li>
</ul>
<h4 id="table-joining-order">Table joining order</h4>
<p>Specify in what order the tables are joined.</p>
<p><strong>(1) Specify only joining order: Leading(table table [table &hellip;])</strong></p>
<p>Specify the table names or aliases in order from the first table to be joined. In this method, using only Left-deep join orders.</p>
<p>[Example 1]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">/*+ Leading(S R Q P) */
SELECT * FROM P,Q,R,S WHERE P.x = Q.x AND ...
</code></pre><figure>
<img src="img/hint_leading1.png" alt="Table joining order (Example 1)" width="300"/>
<figcaption>Table joining order (Example 1)</figcaption>
</figure>
<p><strong>(2) Specify joining order and direction: Leading(( <em>table set</em> <em>table set</em> ))</strong></p>
<p>table set = { table or ( table set table set ) }</p>
<p>In case of specifying only joining order like (1), the joining direction (different for outer table or inner table) may be different from expectation.  To fix the joining direction, use the following expression.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">/*+ Leading((t1 (t2 t3))) */
SELECT ...
</code></pre><p>In this expression, parentheses can be nested. It joins the first specified table set as the outer table and the second set as the inner table.</p>
<p>[Example 2-1]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">/*+ Leading(((P Q) R)) */
SELECT * FROM P,Q,R WHERE P.x = Q.x AND ...
</code></pre><figure>
<img src="img/hint_leading2-1.png" alt="Table joining order (Example 2-1)" width="300"/>
<figcaption>Table joining order (Example 2-1)</figcaption>
</figure>
<p>[Example 2-2]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">/*+ Leading((R (Q P))) */
SELECT * FROM P,Q,R WHERE P.x = Q.x AND ...
</code></pre><figure>
<img src="img/hint_leading2-2.png" alt="Table joining order (Example 2-2)" width="300"/>
<figcaption>Table joining order (Example 2-2)</figcaption>
</figure>
<p>[Example 2-3]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">/*+ Leading(((P Q) (R S))) */
SELECT * FROM P,Q,R,S WHERE P.x = Q.x AND ...
</code></pre><figure>
<img src="img/hint_leading2-3.png" alt="Table joining order (Example 2-3)" width="300"/>
<figcaption>Table joining order (Example 2-3)</figcaption>
</figure>
<p>[Memo]</p>
<ul>
<li>When joining three or more tables with no join conditions between the tables, the join order cannot be specified using a hint.</li>
</ul>
<h3 id="error-handling">Error handling</h3>
<p>In the following cases, a syntax error occurs.</p>
<ul>
<li>Multiple block comments for hints are described</li>
<li>The hint is described in the wrong position</li>
<li>There is a syntax error in the description of the hint phrase</li>
<li>Duplicate hint of the same class are specified for the same table</li>
</ul>
<p>In the following case, a table specification error occurs:</p>
<ul>
<li>The table specification of the hint phrase is incorrect</li>
</ul>
<p>[Memo]</p>
<ul>
<li>When a table specification error occurs, ignore the error hint phrase and execute the query using the others.</li>
<li>When a syntax error and a table specification error occur at the same time, a syntax error occurs.</li>
</ul>
<p><a id="label_plan"></a></p>
<h2 id="----sql-plan-execution-plan-----">&mdash; SQL plan (execution plan)  &mdash;</h2>
<p>The EXPLAIN ANALYZE statement of SQL indicates what operation and index were chosen by SQL optimization.</p>
<p>In SQL processing, SQL syntax is analyzed, optimized, and divided into processing units called &ldquo;tasks&rdquo;, such as join and sort scan, and then a plan (execution plan) is generated.</p>
<p>Tasks are executed on any one of the nodes which constitute a cluster, in parallel execution, exchanging data between these tasks.</p>
<p>[Memo]</p>
<ul>
<li>When the plan by SQL optimization is not adequate, a hint can be used to modfy the plan. See the <a href="#label_hint">hint phrase</a> for details.</li>
</ul>
<p>Execution of the EXPLAIN ANALYZE sentence will output information, including the task plans, execution time, in JSON format for each task in a line.</p>
<p>The main items to be output are as follows.</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Plan ID</td>
</tr>
<tr>
<td>type</td>
<td>Type of processing</td>
</tr>
<tr>
<td>inputList</td>
<td>List of plan IDs of the plans to be input</td>
</tr>
<tr>
<td>profile/leadtime</td>
<td>Processing time</td>
</tr>
<tr>
<td>profile/rows</td>
<td>Number of inputs</td>
</tr>
<tr>
<td>profile/address</td>
<td>The address and port number of the node which executed the processing</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>The number of inputs may fluctuate depending on the communication timing of control information between tasks.</li>
</ul>
<p>The types of processing are as follows.</p>
<table>
<thead>
<tr>
<th>Value of type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>GROUP</td>
<td>Grouping operation</td>
</tr>
<tr>
<td>JOIN</td>
<td>Join operation</td>
</tr>
<tr>
<td>LIMIT</td>
<td>Filter operation of the number of lines</td>
</tr>
<tr>
<td>SCAN</td>
<td>Table scan operation</td>
</tr>
<tr>
<td>SELECT</td>
<td>Selection operation (condition filter projection)</td>
</tr>
<tr>
<td>SORT</td>
<td>Sort operation</td>
</tr>
<tr>
<td>UNION</td>
<td>Combine and set operation</td>
</tr>
<tr>
<td>INSERT, UPDATE, DELETE</td>
<td>Various operations to change the container</td>
</tr>
<tr>
<td>DDL</td>
<td>DDL/DCL sentnce</td>
</tr>
<tr>
<td>RESULT</td>
<td>Cointain the result</td>
</tr>
</tbody>
</table>
<p>A plan can be get using the operation tool gs_sh.</p>
<p>Example) To get the plan of a query &ldquo;select * from table1, table2 where table1.value = 0 and table1.id = table2.id&rdquo;</p>
<pre tabindex="0"><code>gs[public]&gt; EXPLAIN ANALYZE select * from table1, table2 where table1.value=0 and table1.id=table2.id;
A search was executed.  (11 ms)
gs[public]&gt; getplantxt
Id Type       Input Rows Lead time Actual time Node                 And more..
--------------------------------------------------------------------------------------------------------------------
 0 SCAN       -     -            0           0 192.168.15.161:10001 table: {table1} INDEX SCAN
 1   SCAN     0     0            2           2 192.168.15.161:10001 table: {table1, table2} INDEX SCAN JOIN_EQ_HASH
 2     RESULT 1     0            0           0 192.168.15.161:20001
</code></pre><p>Execute the getplanjson subcommand with gs_sh to output the plan in JSON format.</p>
<p>[Notes]</p>
<ul>
<li>The JSON format of a plan may change the data structure in a future version.</li>
</ul>
<p>Example of JSON format of a plan</p>
<pre tabindex="0"><code>{
  &#34;nodeList&#34; : [ {
    &#34;cmdOptionFlag&#34; : 65,
    &#34;id&#34; : 0,
    &#34;indexInfoList&#34; : [ 3, 3 ],
    &#34;inputList&#34; : [ ],
    &#34;outputList&#34; : [ {
      &#34;columnId&#34; : 0,
      &#34;columnType&#34; : &#34;INTEGER&#34;,
          :
          :
}
</code></pre>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-963446980395a97321928a7b23aa6cba">7 - JDBC Driver User Guide</h1>
    <div class="lead">Describes how to connect to GridDB via JDBC</div>
	<h2 id="----overview----">&mdash; Overview &mdash;</h2>
<p>This chapter consists of a description of the specified format and data types that can be used in a program using JDBC parameters, and the points to note during use.</p>
<h2 id="connection-method">Connection method</h2>
<h3 id="driver-specification">Driver specification</h3>
<p>Add the JDBC driver file <code>/usr/share/java/gridstore-jdbc.jar</code> to the class path. When added, the driver will be registered automatically.  In addition, import the driver class as follows if necessary (Normally not required).</p>
<pre tabindex="0"><code class="language-example" data-lang="example">Class.forName(&#34;com.toshiba.mwcloud.gs.sql.Driver&#34;);
</code></pre><p>To secure communication between the GridDB cluster and the client, using the SSL function, additionally specify <code>/usr/share/java/gridstore-advanced.jar</code> in the class path.</p>
<h3 id="connection-url-format">Connection URL format</h3>
<p>The URL has the following forms (A) to (D). If the multicast method is used to compose a cluster, normally it is connected using method (A).  The load will be automatically distributed on the GridDB cluster side and the appropriate nodes will be connected.  Connect using other method only if multicast communication with the GridDB cluster is not possible.</p>
<p><strong>(A) If connecting automatically to a suitable node in a GridDB cluster using the multicast method</strong></p>
<pre tabindex="0"><code class="language-example" data-lang="example">jdbc:gs://(multicastAddress):(portNo)/(clusterName)/(databaseName)
</code></pre><ul>
<li>multicastAddress: Multicast address used in connecting with a GridDB cluster. (Default: 239.0.0.1)</li>
<li>portNo: Port number used in connecting with a GridDB cluster. (Default: 41999)</li>
<li>clusterName: Cluster name of a GridDB cluster</li>
<li>databaseName: Database name. Connect to the default database (public) if omitted.</li>
</ul>
<p><strong>(B) If connecting directly to a node in a GridDB cluster using the multicast method</strong></p>
<pre tabindex="0"><code class="language-example" data-lang="example">jdbc:gs://(nodeAddress):(portNo)/(clusterName)/(databaseName)
</code></pre><ul>
<li>nodeAddress: Address of a node</li>
<li>portNo: Port number used in connecting with a node (Default: 20001)</li>
<li>clusterName: Cluster name of a GridDB cluster that a node belongs to</li>
<li>databaseName: Database name. Connect to the default database (public) if omitted.</li>
</ul>
<p><strong>(C) If connecting to a GridDB cluster using the fixed list method</strong></p>
<p>If the fixed list method is used to compose a cluster, use this method to connect.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">jdbc:gs:///(clusterName)/(databaseName)?notificationMember=(notificationMember)
</code></pre><ul>
<li>clusterName: Cluster name of a GridDB cluster</li>
<li>databaseName: Database name. Connect to the default database (public) if omitted.</li>
<li>NotificationMember: Address list of nodes (URL encoding required). Default port is 20001.
<ul>
<li>Example: 192.168.0.10:20001,192.168.0.11:20001,192.168.0.12:20001</li>
</ul>
</li>
</ul>
<p>* notificationMember can be changed by editing the gs_cluster.json file.  The port in the address list can be changed by editing the gs_node.json file.</p>
<p><strong>(D) If connecting to a GridDB cluster using the provider method</strong></p>
<p>If the provider method is used to compose a cluster, use this method to connect.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">jdbc:gs:///(clusterName)/(databaseName)?notificationProvider=(notificationProvider)
</code></pre><ul>
<li>clusterName: Cluster name of a GridDB cluster</li>
<li>databaseName: Database name. Connect to the default database (public) if omitted.</li>
<li>NotificationProvider: URL of the address provider (URL encoding required)</li>
</ul>
<p>* notificationProvider can be changed by editing the gs_cluster.json file.</p>
<p>If the user name and password are going to be included in the URL in either one of the cases (A) to (D), add them at the end of the URL as shown below.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">?user=(user name)&amp;password=(password)
</code></pre><h3 id="connection-timeout-settings">Connection timeout settings</h3>
<p>The connection timeout can be set in either of the following methods (A) or (B). Setting (B) is prioritized if both (A) and (B) are set.  Default value of 300 seconds (5 minutes) is used if neither (1) or (2) has been set, or if there are no settings.</p>
<p><strong>(A) Specify with the DriverManager#setLoginTimeout (int seconds)</strong></p>
<p>The connection timeout is set in one of the following ways depending on the value of seconds. After setting, the connection timeout will be set in the connections to all the GridDB acquired by the DriverManager#getConnection or Driver#connect.</p>
<ul>
<li>If the value is from 1 to the value set in Integer.MAX_VALUE.
<ul>
<li>The connection timeout is set to the specified number of seconds.</li>
</ul>
</li>
<li>If the value is from the value set in Integer.MIN_VALUE to 0:
<ul>
<li>The connection timeout is not set.</li>
</ul>
</li>
</ul>
<p><strong>(B) Specify with DriverManager#getConnection(String url, Properties info) or Driver#connect(String url, Properties info)</strong></p>
<p>Add a property to argument info in the key &ldquo;loginTimeout&rdquo;. If the value corresponding to the key &ldquo;loginTimeout&rdquo; could be converted to a numerical value, the connection timeout will be set in the connection obtained as follows.</p>
<ul>
<li>If the converted value is 1 to Integer.MAX_VALUE:
<ul>
<li>The connection timeout is set to the specified number of seconds.</li>
</ul>
</li>
<li>If the converted value is 0 or greater than Integer.MAX_VALUE:
<ul>
<li>The connection timeout is not set.</li>
</ul>
</li>
</ul>
<h3 id="settings-of-other-information">Settings of other information</h3>
<p>Along with the settings described above, the following information can be set at the time of connection.</p>
<ul>
<li>Authentication method</li>
<li>Setting up SSL communication</li>
<li>Specifying the interface to receive the multicast packets from</li>
<li>Application name</li>
<li>Time zone (Z|HH:MM|HHMM)</li>
</ul>
<ul>
<li>Since time zone processing burdens GridDB, processing the time zone on the application side is highly recommended.</li>
</ul>
<p>The information above can be set in either of the following methods (A) or (B). An error occurs when the name is specified using both methods.</p>
<p><strong>(A) Specify in URL</strong></p>
<p>For authentication with the GridDB cluster, use internal authentication (INTERNAL) or LDAP authentication (LDAP) according to the cluster settings. To specify the authentication method during connection, add the following to the URL:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">?authentication=(INTERNAL|LDAP)
</code></pre><p>Secure communication with the GridDB cluster through SSL. Three options are available: PREFERRED (follows the cluster settings), VERIFY (SSL is valid and performs server certificate validation), and DISABLED (SSL is invalid),  add the following to the URL:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">?sslMode=(PREFERRED|VERIFY|DISABLED)
</code></pre><p>*When LDAP authentication is used, disabling SSL communication is not recommended.</p>
<p>* To specify VERIFY for the settings for SSL communications (sslMode), settings on the GridDB cluster side are also required. For detail, see the section on &ldquo;Communication encryption&rdquo; in the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>. If a certificate by the Certificate Authority (CA) is not in a truststore, import it using the keytool command. If necessary, specify a truststore (-Djavax.net.ssl.trustStore) and a password (-Djavax.net.ssl.trustStorePassword) as arguments upon launching java. Note that the driver does not support the checking of the expiration date of a CA certificate to ensure it is valid.</p>
<p>To configure the cluster network in multicast mode when multiple network interfaces are available, the address of the interface to receive the multicast packets from can be specified. Add the following to the URL:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">?notificationNetworkInferfaceAddress=(address of the interface to receive  the multicast packets from)
</code></pre><p>To include the application name in the URL, add it to the end of the URL as follows:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">?applicationName=(application name)
</code></pre><p>To include the time zone in the URL, add it to the end of the URL as follows:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">?timeZone=(time zone)
</code></pre><p>To include also the user name and the password in the URL, use the following method.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">?user=(user name)&amp;password=(password)&amp;applicationName=(application name)&amp;timeZone=(time zone)
</code></pre><p>Encode the time zone symbol &ldquo;:&rdquo; and other characters that need to be encoded in the URL format.</p>
<p><strong>(B) Specify with DriverManager#getConnection(String url, Properties info) or Driver#connect(String url, Properties info)</strong></p>
<p>Add the property with the following key to the argument info.</p>
<ul>
<li>authentication method: authentication
<ul>
<li>INTERNAL (internal authentication) | LDAP (LDAP authentication)</li>
</ul>
</li>
<li>SSL communication: sslMode
<ul>
<li>PREFERRED (follows the cluster settings) | DISABLED (invalid)</li>
</ul>
</li>
<li>address of the interface to receive the multicast packets from: notificationNetworkInterfaceAddress
<ul>
<li>IP address</li>
</ul>
</li>
<li>Specify the application name: applicationName
<ul>
<li>Application name</li>
</ul>
</li>
<li>Time zone: timeZone
<ul>
<li>time zone</li>
</ul>
</li>
</ul>
<h2 id="points-to-note">Points to note</h2>
<ul>
<li>The difference between NoSQL interface/NewSQL interface
<ul>
<li>Containers created using the NoSQL interface client can be referenced and updated using the JDBC driver of NewSQL interface. Besides updating the rows, changes in the schema and index of a container are also included in an update.</li>
<li>Tables created using the JDBC driver of NewSQL interface can be referenced and updated by the clients of NoSQL interface.</li>
<li>A &ldquo;container&rdquo; for NoSQL interface and a &ldquo;table&rdquo; for NewSQL interface, both refer to the same object, but with different names.</li>
<li>If a time series container created by a client of NoSQL interface is searched with a SQL command from the JDBC driver, the results will not be in chronological order if no ORDER BY phrase is specified for the main key, unlike the search result conducted with a TQL command from a client of NoSQL. Specify an ORDER BY against the main key if a chronological series of the SQL results is required.</li>
</ul>
</li>
<li>For consistency, regardless of interface differences, READ COMMITTED is supported as a transaction isolation level.
The search and update results using the NewSQL interface are not necessarily based on a single snapshot when starting a TQL command, as in the case of executing TQL with the partial execution option enabled using the NoSQL interface.
The results may be based on the snapshot at each execution point divided according to the data range to be executed.
This characteristic is different from that of the operation for a single unpartitioned table using the NoSQL interface with the default setting.</li>
</ul>
<h2 id="----specifications----">&mdash; Specifications &mdash;</h2>
<p>The specifications of the GridDB JDBC driver are shown in this chapter. The chapter explains mainly the support range of the driver as well as the differences with the JDBC standard.  See the JDK API reference for the API specifications that conform to the JDBC standard unless otherwise stated. Please note that the following could be revised in the future versions.</p>
<ul>
<li>Actions not conforming to the JDBC standard</li>
<li>Support status of unsupported functions</li>
<li>Error messages</li>
</ul>
<h2 id="common-items">Common items</h2>
<h3 id="supported-jdbc-version">Supported JDBC version</h3>
<p>The following functions corresponding to some of the functions of JDBC4.1 are not supported.</p>
<ul>
<li>Transaction control</li>
<li>Stored procedure</li>
<li>Batch instructions</li>
</ul>
<h3 id="error-processing">Error processing</h3>
<h4 id="use-of-unsupported-functions">Use of unsupported functions</h4>
<ul>
<li>Standard functions
<ul>
<li>A SQLFeatureNotSupportedException occurs if a function that ought to be but is currently not supported by a driver conforming to the JDBC specifications is used. This action differs from the original SQLFeatureNotSupportedException specifications. The error name (to be described later) is JDBC_NOT_SUPPORTED.</li>
</ul>
</li>
<li>Optional functions
<ul>
<li>If a function not supported by this driver that is positioned as an optional function in the JDBC specifications and for which a SQLFeatureNotSupportedException may occur is used, a SQLFeatureNotSupportedException will occur as per the JDBC specifications. The error name is JDBC_OPTIONAL_FEATURE_NOT_SUPPORTED.</li>
</ul>
</li>
</ul>
<h4 id="invoke-a-method-against-a-closed-object">Invoke a method against a closed object</h4>
<p>As per the JDBC specifications, when a method other than isClosed() is invoked for an object that has a close() method, e.g. a connection object, etc., a SQLException will occur.  The error name is JDBC_ALREADY_CLOSED.</p>
<h4 id="invalid-null-argument">Invalid null argument</h4>
<p>If null is specified as the API method argument despite not being permitted, SQLException due to a JDBC_EMPTY_PARAMETER error will occur. Null is not permitted except for arguments which explicitly accepts null in the JDBC specifications or this guide.</p>
<h4 id="if-there-are-multiple-error-causes">If there are multiple error causes</h4>
<p>If there are multiple error causes, control will be returned to the application at the point either one of the errors is detected.
In particular, if use of an unsupported function is attempted, it will be detected earlier than other errors.
For example, if there is an attempt to create a stored procedure for a closed connection object, an error indicating that the operation is &ldquo;not supported&rdquo; instead of &ldquo;closed&rdquo; will be returned.</p>
<h4 id="description-of-exception">Description of exception</h4>
<p>A check exception thrown from the driver is made up of a SQLException or a subclass instance of the SQLException.  Use the following method to get the exception details.</p>
<ul>
<li>getErrorCode()
<ul>
<li>For errors detected by GridDB in either the server or client, an error number will be returned.
See &ldquo;<a href="../6.md_error_code/md_error_code.md">GridDB Error Codes</a>&rdquo;  for the error numbers and their causes.</li>
</ul>
</li>
<li>getSQLState()
<ul>
<li>At least for errors detected in the driver (error code: 14xxxx), non-null values will be returned. In other cases, undefined.</li>
</ul>
</li>
<li>getMessage()
<ul>
<li>
<p>Return an error message containing the error number and error description as a set. The format is as follows.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">[(Error number):( error name)] (error description)
</code></pre></li>
<li>
<p>When the error number is not on the list, the following error message format will be used instead:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">(Error Details)
</code></pre></li>
</ul>
</li>
</ul>
<h4 id="error-list">Error list</h4>
<p>The list of main errors detected inside the driver is as follows.</p>
<table>
<thead>
<tr>
<th>Error no.</th>
<th>Error code name</th>
<th>Error description format</th>
</tr>
</thead>
<tbody>
<tr>
<td>(See &ldquo;GridDB error code&rdquo;)</td>
<td>JDBC_NOT_SUPPORTED</td>
<td>Currently not supported</td>
</tr>
<tr>
<td>(See &ldquo;GridDB error code&rdquo;)</td>
<td>JDBC_OPTIONAL_FEATURE_NOT_SUPPORTED</td>
<td>Optional feature not supported</td>
</tr>
<tr>
<td>(See &ldquo;GridDB error code&rdquo;)</td>
<td>JDBC_EMPTY_PARAMETER</td>
<td>The parameter (argument name) must not be null</td>
</tr>
<tr>
<td>(See &ldquo;GridDB error code&rdquo;)</td>
<td>JDBC_ALREADY_CLOSED</td>
<td>Already closed</td>
</tr>
<tr>
<td>(See &ldquo;GridDB error code&rdquo;)</td>
<td>JDBC_COLUMN_INDEX_OUT_OF_RANGE</td>
<td>Column index out of range</td>
</tr>
<tr>
<td>(See &ldquo;GridDB error code&rdquo;)</td>
<td>JDBC_VALUE_TYPE_CONVERSION_FAILED</td>
<td>Failed to convert value type</td>
</tr>
<tr>
<td>(See &ldquo;GridDB error code&rdquo;)</td>
<td>JDBC_UNWRAPPING_NOT_SUPPORTED</td>
<td>Unwrapping interface not supported</td>
</tr>
<tr>
<td>(See &ldquo;GridDB error code&rdquo;)</td>
<td>JDBC_ILLEGAL_PARAMETER</td>
<td>Illegal value: (argument name)</td>
</tr>
<tr>
<td>(See &ldquo;GridDB error code&rdquo;)</td>
<td>JDBC_UNSUPPORTED_PARAMETER_VALUE</td>
<td>Unsupported (parameter name)</td>
</tr>
<tr>
<td>(See &ldquo;GridDB error code&rdquo;)</td>
<td>JDBC_ILLEGAL_STATE</td>
<td>Protocol error occurred</td>
</tr>
<tr>
<td>(See &ldquo;GridDB error code&rdquo;)</td>
<td>JDBC_INVALID_CURSOR_POSITION</td>
<td>Invalid cursor position</td>
</tr>
<tr>
<td>(See &ldquo;GridDB error code&rdquo;)</td>
<td>JDBC_STATEMENT_CATEGORY_UNMATCHED</td>
<td>Writable query specified for read only request Read only query specified for writable request</td>
</tr>
<tr>
<td>(See &ldquo;GridDB error code&rdquo;)</td>
<td>JDBC_MESSAGE_CORRUPTED</td>
<td>Protocol error</td>
</tr>
</tbody>
</table>
<p>When there is an error in the source generating the error and so on, additional details may be added to the end of the error description mentioned above.
See &ldquo;<a href="../6.md_error_code/md_error_code.md">GridDB Error Codes</a>&rdquo;  for the errors other than the above.</p>
<h2 id="api-detailed-specifications">API detailed specifications</h2>
<h3 id="connection-interface">Connection interface</h3>
<p>Describes each method of the connection interface.  Unless otherwise stated, only the description for the case when connection has not been closed is included.</p>
<h4 id="transaction-control">Transaction control</h4>
<p>As for transaction control, which operates in automatic commitment mode, commit/rollback is not supported.
Note that a request for a commitment or a rollback from applications which use transactions is ignored so that the transaction control may be available even for these applications.
SQLFeatureNotSupportedException does not occur.</p>
<p>Transaction isolation level supports only TRANSACTION_READ_COMMITTED. Other levels cannot be set.</p>
<p><strong>Methods that have differences with the JDBC specification</strong></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Difference with JDBC specification</th>
</tr>
</thead>
<tbody>
<tr>
<td>void commit()</td>
<td>Commit</td>
<td>Ignore a commit request because the API has only an automatic commitment mode.</td>
</tr>
<tr>
<td>void rollback()</td>
<td>Rollback</td>
<td>Ignore a rollback request because the API has only an automatic commitment mode.</td>
</tr>
<tr>
<td>void setAutoCommit(boolean autoCommit)</td>
<td>Set a commitment mode.</td>
<td>Mode setting is unavailable because the API has only an automatic commitment mode. Setting autoCommit is ignored and true is always set.</td>
</tr>
</tbody>
</table>
<p><strong>Partially unsupported method</strong></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Unsupported feature</th>
</tr>
</thead>
<tbody>
<tr>
<td>Statement createStatement(int resultSetType, int resultSetConcurrency)</td>
<td>Create a statement.</td>
<td>resultSetType supports ResultSet.TYPE_FORWARD_ONLY only, and resultSetConcurrency supports ResultSet.CONCUR_READ_ONLY only. For other values, SQLFeatureNotSupportedException will occur.</td>
</tr>
<tr>
<td>Statement createStatement(int resultSetType, int resultSetConcurrency, int resultSetHoldability)</td>
<td>Create a statement.</td>
<td>resultSetType supports ResultSet.TYPE_FORWARD_ONLY only, resultSetConcurrency supports ResultSet.CONCUR_READ_ONLY only, and resultSetHoldability supports ResultSet.CLOSE_CURSORS_AT_COMMIT only. For other values, SQLFeatureNotSupportedException will occur.</td>
</tr>
<tr>
<td>PreparedStatement prepareStatement(String sql, int resultSetType, int resultSetConcurrency)</td>
<td>Create a prepared statement.</td>
<td>resultSetType supports ResultSet.TYPE_FORWARD_ONLY only, and resultSetConcurrency supports ResultSet.CONCUR_READ_ONLY only. For other values, SQLFeatureNotSupportedException will occur.</td>
</tr>
<tr>
<td>PreparedStatement prepareStatement(String sql, int resultSetType, int resultSetConcurrency)</td>
<td>Create a prepared statement.</td>
<td>resultSetType supports ResultSet.TYPE_FORWARD_ONLY only, resultSetConcurrency supports ResultSet.CONCUR_READ_ONLY only, and resultSetHoldability supports ResultSet.CLOSE_CURSORS_AT_COMMIT only. For other values, SQLFeatureNotSupportedException will occur.</td>
</tr>
<tr>
<td>void setTransactionIsolation(int level)</td>
<td>Set a transaction isolation level.</td>
<td>Argument &ldquo;level&rdquo; accepts only Connection.TRANSACTION_READ_COMMITTED. If any other value is set, SQLException will occur.</td>
</tr>
</tbody>
</table>
<p><strong>Supported method</strong></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>void close()</td>
<td>Close connection.</td>
</tr>
<tr>
<td>Statement createStatement()</td>
<td>Create a statement.</td>
</tr>
<tr>
<td>boolean getAutoCommit()</td>
<td>Get commitment mode.</td>
</tr>
<tr>
<td>DatabaseMetaData getMetaData()</td>
<td>Get DatabaseMetaData.</td>
</tr>
<tr>
<td>int getTransactionIsolation()</td>
<td>Get the transaction isolation level.</td>
</tr>
<tr>
<td>boolean isClosed()</td>
<td>Get whether the Connection is closed.</td>
</tr>
<tr>
<td>PreparedStatement prepareStatement(String sql)</td>
<td>Create a prepared statement.</td>
</tr>
</tbody>
</table>
<h4 id="setting-and-getting-attributes">Setting and getting attributes</h4>
<p>This section describes methods for setting and getting attributes other than transaction control methods.</p>
<p><strong>Methods that have differences with the JDBC specification</strong></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Difference with JDBC specification</th>
</tr>
</thead>
<tbody>
<tr>
<td>void setReadOnly(boolean readOnly)</td>
<td>Sets the read-only mode of the Connection object.</td>
<td>Ignore readOnly and always set false.</td>
</tr>
</tbody>
</table>
<p><strong>Partially unsupported method</strong></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Unsupported feature</th>
</tr>
</thead>
<tbody>
<tr>
<td>void setHoldability(int holdability)</td>
<td>Set the holding function of ResultSet object.</td>
<td>Argument &ldquo;holdability&rdquo; accepts only ResultSet.CLOSE_CURSORS_AT_COMMIT. For other values, SQLFeatureNotSupportedException will occur.</td>
</tr>
</tbody>
</table>
<p><strong>Supported method</strong></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>int getHoldability()</td>
<td>Get the holding function of the ResultSet object.</td>
</tr>
<tr>
<td>boolean isReadOnly()</td>
<td>Get whether the Connection object is in read-only mode.</td>
</tr>
<tr>
<td>boolean isValid(int timeout)</td>
<td>Get the state of connection.</td>
</tr>
</tbody>
</table>
<h4 id="unsupported-function">Unsupported function</h4>
<p>Unsupported methods in the connection interface is listed below. When these methods are executed, SQLFeatureNotSupportedException will occur.</p>
<ul>
<li>
<p>Standard functions</p>
<ul>
<li>CallableStatement prepareCall(String sql)</li>
</ul>
</li>
<li>
<p>Optional functions</p>
<ul>
<li>void abort(Executor executor)</li>
<li>Array createArrayOf(String typeName, Object[] elements)</li>
<li>Blob createBlob()</li>
<li>Clob createClob()</li>
<li>NClob createNClob()</li>
<li>SQLXML createSQLXML()</li>
<li>Struct createStruct(String typeName, Object[] attributes)</li>
<li>int getNetworkTimeout()</li>
<li>String getSchema()</li>
<li>Map&lt;String,Class<?>&gt; getTypeMap()</li>
<li>CallableStatement prepareCall(String sql, int resultSetType, int resultSetConcurrency)</li>
<li>CallableStatement prepareCall(String sql, int resultSetType, int resultSetConcurrency, int resultSetHoldability)</li>
<li>PreparedStatement prepareStatement(String sql, int autoGeneratedKeys)</li>
<li>PreparedStatement prepareStatement(String sql, int[] columnIndexes)</li>
<li>PreparedStatement prepareStatement(String sql, String[] columnNames)</li>
<li>void releaseSavepoint(Savepoint savepoint)</li>
<li>void rollback(Savepoint savepoint)</li>
<li>void setNetworkTimeout(Executor executor, int milliseconds)</li>
<li>void setSavepoint()</li>
<li>void setSchema(String schema)</li>
<li>void setTypeMap(Map&lt;String,Class<?>&gt; map)</li>
</ul>
</li>
</ul>
<h3 id="databasemetadata-interface">DatabaseMetaData interface</h3>
<p>This section describes DatabaseMetaData interface, which gets the metadata of a table.</p>
<h4 id="attribute-that-returns-resultset">Attribute that returns ResultSet</h4>
<p>Among the methods that return ResultSet as the execution result in DatabaseMetaData interface, the supported methods are as follows.
The methods that return ResultSets other than these are not supported.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ResultSet getColumns(String catalog, String schemaPattern, String tableNamePattern, String columnNamePattern)</td>
<td>Return the column information of a table.</td>
</tr>
<tr>
<td>ResultSet getIndexInfo(String catalog, String schema, String table, boolean unique, boolean approximate)</td>
<td>Return the index information of a table.</td>
</tr>
<tr>
<td>ResultSet getPrimaryKeys(String catalog, String schema, String table)</td>
<td>Return the row key information of a table.</td>
</tr>
<tr>
<td>ResultSet getTables(String catalog, String schemaPattern, String tableNamePattern, String[] types)</td>
<td>Return the list of tables.</td>
</tr>
<tr>
<td>ResultSet getTableTypes()</td>
<td>Return the type of a table.</td>
</tr>
<tr>
<td>ResultSet getTypeInfo()</td>
<td>Return the list of column data types.</td>
</tr>
</tbody>
</table>
<p>Each of the above methods is explained below.</p>
<h5 id="databasemetadatagetcolumns">DatabaseMetaData.getColumns</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">ResultSet</span> <span style="color:#000">getColumns</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span> <span style="color:#000">catalog</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">String</span> <span style="color:#000">schemaPattern</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">String</span> <span style="color:#000">tableNamePattern</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">String</span> <span style="color:#000">columnNamePattern</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span></code></pre></div><ul>
<li>
<p>Return the column information of the table that matches the pattern of the specified table name &ldquo;tableNamePattern&rdquo;. The wildcard &ldquo;%&rdquo; specified in the pattern means to match 0 or more characters, and &ldquo;_&rdquo; means to match any one character. When null is specified as tableNamePattern, all tables are targeted.</p>
</li>
<li>
<p>Other filter conditions catalog, schemaPattern, and columnNamePattern are ignored.</p>
</li>
<li>
<p>The column information of a view is not included.</p>
</li>
<li>
<p>The columns of execution result &ldquo;ResultSet&rdquo; are as follows.</p>
<table>
<thead>
<tr>
<th>Column name</th>
<th>Data type</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>TABLE_CAT</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>TABLE_SCHEM</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>TABLE_NAME</td>
<td>String</td>
<td>table name</td>
</tr>
<tr>
<td>COLUMN_NAME</td>
<td>String</td>
<td>column  name</td>
</tr>
<tr>
<td>DATA_TYPE</td>
<td>int</td>
<td>Data type value of a column (see the table below)</td>
</tr>
<tr>
<td>TYPE_NAME</td>
<td>String</td>
<td>Data type name of a column (see the table below)</td>
</tr>
<tr>
<td>COLUMN_SIZE</td>
<td>int</td>
<td>131072</td>
</tr>
<tr>
<td>BUFFER_LENGTH</td>
<td>int</td>
<td>2000000000</td>
</tr>
<tr>
<td>DECIMAL_DIGITS</td>
<td>int</td>
<td>10</td>
</tr>
<tr>
<td>NUM_PREC_RADIX</td>
<td>int</td>
<td>10</td>
</tr>
<tr>
<td>NULLABLE</td>
<td>int</td>
<td>If the column is PRIMARY KEY or has NOT NULL constraint, 0 (the value of a constant &ldquo;DatabaseMetaData.columnNoNulls&rdquo;); otherwise, 1 (the value of a constant &ldquo;DatabaseMetaData.columnNullable&rdquo;)</td>
</tr>
<tr>
<td>REMARKS</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>COLUMN_DEF</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>SQL_DATA_TYPE</td>
<td>int</td>
<td>0</td>
</tr>
<tr>
<td>SQL_DATETIME_SUB</td>
<td>int</td>
<td>0</td>
</tr>
<tr>
<td>CHAR_OCTET_LENGTH</td>
<td>int</td>
<td>2000000000</td>
</tr>
<tr>
<td>ORDINAL_POSITION</td>
<td>int</td>
<td>The number of a column (serial number from 1)</td>
</tr>
<tr>
<td>IS_NULLABLE</td>
<td>String</td>
<td>NOT NULL constraint. If the column is PRIMARY KEY or has NOT NULL constraint, &lsquo;NO&rsquo;; otherwise, &lsquo;YES&rsquo;</td>
</tr>
<tr>
<td>SCOPE_CATALOG</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>SCOPE_SCHEMA</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>SCOPE_TABLE</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>SOURCE_DATA_TYPE</td>
<td>short</td>
<td>0</td>
</tr>
<tr>
<td>IS_AUTOINCREMENT</td>
<td>String</td>
<td>&lsquo;NO&rsquo;</td>
</tr>
<tr>
<td>IS_GENERATEDCOLUMN</td>
<td>String</td>
<td>&lsquo;NO&rsquo;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Return the combination of TYPE_NAME and DATA_TYPE values according to the data type of each column.</p>
<table>
<thead>
<tr>
<th>Data type of a column</th>
<th>Value of TYPE_NAME</th>
<th>Value of DATA_TYPE</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL</td>
<td>&lsquo;BOOL&rsquo;</td>
<td>-7 (Types.BIT)</td>
</tr>
<tr>
<td>STRING</td>
<td>&lsquo;STRING&rsquo;</td>
<td>12 (Types.VARCHAR)</td>
</tr>
<tr>
<td>BYTE</td>
<td>&lsquo;BYTE&rsquo;</td>
<td>-6 (Types.TINYINT)</td>
</tr>
<tr>
<td>SHORT</td>
<td>&lsquo;SHORT&rsquo;</td>
<td>5 (Types.SMALLINT)</td>
</tr>
<tr>
<td>INTEGER</td>
<td>&lsquo;INTEGER&rsquo;</td>
<td>4 (Types.INTEGER)</td>
</tr>
<tr>
<td>LONG</td>
<td>&lsquo;LONG&rsquo;</td>
<td>-5 (Types.BIGINT)</td>
</tr>
<tr>
<td>FLOAT</td>
<td>&lsquo;FLOAT&rsquo;</td>
<td>6 (Types.FLOAT)</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>&lsquo;DOUBLE&rsquo;</td>
<td>8 (Types.DOUBLE)</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>&lsquo;TIMESTAMP&rsquo;</td>
<td>93 (Types.TIMESTAMP)</td>
</tr>
<tr>
<td>BLOB</td>
<td>&lsquo;BLOB&rsquo;</td>
<td>2004 (Types.BLOB)</td>
</tr>
<tr>
<td>GEOMETRY</td>
<td>&lsquo;GEOMETRY&rsquo;</td>
<td>1111 (Types.OTHER)</td>
</tr>
<tr>
<td>BOOL ARRAY</td>
<td>&lsquo;BOOL_ARRAY&rsquo;</td>
<td>1111 (Types.OTHER)</td>
</tr>
<tr>
<td>STRING ARRAY</td>
<td>&lsquo;STRING_ARRAY&rsquo;</td>
<td>1111 (Types.OTHER)</td>
</tr>
<tr>
<td>BYTE ARRAY</td>
<td>&lsquo;BYTE_ARRAY&rsquo;</td>
<td>1111 (Types.OTHER)</td>
</tr>
<tr>
<td>SHORT ARRAY</td>
<td>&lsquo;SHORT_ARRAY&rsquo;</td>
<td>1111 (Types.OTHER)</td>
</tr>
<tr>
<td>INTEGER ARRAY</td>
<td>&lsquo;INTEGER_ARRAY&rsquo;</td>
<td>1111 (Types.OTHER)</td>
</tr>
<tr>
<td>LONG ARRAY</td>
<td>&lsquo;LONG_ARRAY&rsquo;</td>
<td>1111 (Types.OTHER)</td>
</tr>
<tr>
<td>FLOAT ARRAY</td>
<td>&lsquo;FLOAT_ARRAY&rsquo;</td>
<td>1111 (Types.OTHER)</td>
</tr>
<tr>
<td>DOUBLE ARRAY</td>
<td>&lsquo;DOUBLE_ARRAY&rsquo;</td>
<td>1111 (Types.OTHER)</td>
</tr>
<tr>
<td>TIMESTAMP ARRAY</td>
<td>&lsquo;TIMESTAMP_ARRAY&rsquo;</td>
<td>1111 (Types.OTHER)</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>For GEOMETRY type and array type, the value will be returned if information of the table with these data types created by NoSQL interface is acquired. JDBC can not create tables with these data types.</p>
</li>
</ul>
<h5 id="databasemetadatagetindexinfo">DatabaseMetaData.getIndexInfo</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">ResultSet</span> <span style="color:#000">getIndexInfo</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span> <span style="color:#000">catalog</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">String</span> <span style="color:#000">schema</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">String</span> <span style="color:#000">table</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">boolean</span> <span style="color:#000">unique</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">boolean</span> <span style="color:#000">approximate</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span></code></pre></div><ul>
<li>Returns index information for the table that matches the specified table name &ldquo;table&rdquo;. When the table of the specified name does not exist, null will be returned for the execution result &ldquo;ResultSet&rdquo;.</li>
<li>Specify false for &ldquo;unique&rdquo;. When the value for unique is other than false, null will be returned for the execution result &ldquo;ResultSet&rdquo;.</li>
<li>Other filter conditions catalog, schema, and a parameter &ldquo;approximate&rdquo; are ignored.</li>
<li>The columns of execution result &ldquo;ResultSet&rdquo; are as follows.
<table>
<thead>
<tr>
<th>Column name</th>
<th>Data type</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>TABLE_CAT</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>TABLE_SCHEM</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>TABLE_NAME</td>
<td>String</td>
<td>table name</td>
</tr>
<tr>
<td>NON_UNIQUE</td>
<td>boolean</td>
<td>true</td>
</tr>
<tr>
<td>INDEX_QUALIFIER</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>INDEX_NAME</td>
<td>String</td>
<td>index name</td>
</tr>
<tr>
<td>TYPE</td>
<td>short</td>
<td>2 (value of a constant &ldquo;DatabaseMetaData.tableIndexHashed&rdquo; representing a hash index) or 3 (value of a constant &ldquo;DatabaseMetaData.tableIndexOther&rdquo; representing an index other than hash)</td>
</tr>
<tr>
<td>ORDINAL_POSITION</td>
<td>short</td>
<td>Start from 1.</td>
</tr>
<tr>
<td>COLUMN_NAME</td>
<td>String</td>
<td>Column name</td>
</tr>
<tr>
<td>ASC_OR_DESC</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>CARDINALITY</td>
<td>long</td>
<td>0</td>
</tr>
<tr>
<td>PAGES</td>
<td>long</td>
<td>0</td>
</tr>
<tr>
<td>FILTER_CONDITION</td>
<td>String</td>
<td>null</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h5 id="databasemetadatagetprimarykeys">DatabaseMetaData.getPrimaryKeys</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">ResultSet</span> <span style="color:#000">getPrimaryKeys</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span> <span style="color:#000">catalog</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">String</span> <span style="color:#000">schema</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">String</span> <span style="color:#000">table</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span></code></pre></div><ul>
<li>Returns row key information for the table that matches the specified table name &ldquo;table&rdquo;. When the table of the specified name does not exist, null will be returned for the execution result &ldquo;ResultSet&rdquo;. Provided that, when null is specified for table, information of all the tables for which the row key is set is returned.</li>
<li>Other filter conditions catalog and schema are ignored.</li>
<li>The columns of execution result &ldquo;ResultSet&rdquo; are as follows.
<table>
<thead>
<tr>
<th>Column name</th>
<th>Data type</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>TABLE_CAT</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>TABLE_SCHEM</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>TABLE_NAME</td>
<td>String</td>
<td>table name</td>
</tr>
<tr>
<td>COLUMN_NAME</td>
<td>String</td>
<td>column  name</td>
</tr>
<tr>
<td>KEY_SEQ</td>
<td>short</td>
<td>1</td>
</tr>
<tr>
<td>PK_NAME</td>
<td>String</td>
<td>null</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h5 id="databasemetadatagettables">DatabaseMetaData.getTables</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">ResultSet</span> <span style="color:#000">getTables</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span> <span style="color:#000">catalog</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">String</span> <span style="color:#000">schemaPattern</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">String</span> <span style="color:#000">tableNamePattern</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">types</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span></code></pre></div><ul>
<li>Return the information of the table that matches the pattern of the specified table name &ldquo;tableNamePattern&rdquo;. The wildcard &ldquo;%&rdquo; specified in the pattern means to match 0 or more characters, and &ldquo;_&rdquo; means to match any one character. When null is specified as tableNamePattern, all tables are targeted.</li>
<li>Specify null or an array of character strings for types. Specify &ldquo;TABLE&rdquo; or &ldquo;VIEW&rdquo; for the character string element. If types have no element that matches &ldquo;TABLE&rdquo; or &ldquo;VIEW&rdquo;, null is always returned. Character string elements inside types are not case sensitive. (Types is not a value that represents a collection, type of a table, or a time series container.)</li>
<li>Other filter conditions catalog and schemaPattern are ignored.</li>
<li>The columns of execution result &ldquo;ResultSet&rdquo; are as follows.
<table>
<thead>
<tr>
<th>Column name</th>
<th>Data type</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>TABLE_CAT</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>TABLE_SCHEM</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>TABLE_NAME</td>
<td>String</td>
<td>table name</td>
</tr>
<tr>
<td>TABLE_TYPE</td>
<td>String</td>
<td>&lsquo;TABLE&rsquo; or &lsquo;VIEW&rsquo;</td>
</tr>
<tr>
<td>REMARKS</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>TYPE_CAT</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>TYPE_SCHEM</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>TYPE_NAME</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>SELF_REFERENCING_COL_NAME</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>REF_GENERATION</td>
<td>String</td>
<td>null</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h5 id="databasemetadatagettabletypes">DatabaseMetaData.getTableTypes</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">ResultSet</span> <span style="color:#000">getTableTypes</span><span style="color:#ce5c00;font-weight:bold">()</span>
</span></span></code></pre></div><ul>
<li>Return the type of a table. The returned result has only one column &lsquo;TABLE_TYPE with the value &lsquo;TABLE&rsquo; or &lsquo;VIEW&rsquo; stored &lsquo;.</li>
<li>The columns of execution result &ldquo;ResultSet&rdquo; are as follows.
<table>
<thead>
<tr>
<th>Column name</th>
<th>Data type</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>TABLE_TYPE</td>
<td>String</td>
<td>&lsquo;TABLE&rsquo; or &lsquo;VIEW&rsquo;</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h5 id="databasemetadatagettypeinfo">DatabaseMetaData.getTypeInfo()</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000">ResultSet</span> <span style="color:#000">getTypeInfo</span><span style="color:#ce5c00;font-weight:bold">()</span>
</span></span></code></pre></div><ul>
<li>
<p>Return the list of column data types.</p>
</li>
<li>
<p>The information common to all data types and the information of each data type are as follows.</p>
<table>
<thead>
<tr>
<th>Column name</th>
<th>Data type</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>TYPE_NAME</td>
<td>String</td>
<td>Name of data type (see the table below)</td>
</tr>
<tr>
<td>DATA_TYPE</td>
<td>int</td>
<td>Value of data type (see the table below)</td>
</tr>
<tr>
<td>PRECISION</td>
<td>int</td>
<td>0</td>
</tr>
<tr>
<td>LITERAL_PREFIX</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>LITERAL_SUFFIX</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>CREATE_PARAMS</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>NULLABLE</td>
<td>short</td>
<td>1 (Value of a constant DatabaseMetaData.typeNullable representing that a null value is allowed for this data type)</td>
</tr>
<tr>
<td>CASE_SENSITIVE</td>
<td>boolean</td>
<td>true</td>
</tr>
<tr>
<td>SEARCHABLE</td>
<td>short</td>
<td>3 (Value of a constant DatabaseMetaData.typeSearchable indicating that this data type can be used in the WHERE clause</td>
</tr>
<tr>
<td>UNSIGNED_ATTRIBUTE</td>
<td>boolean</td>
<td>false</td>
</tr>
<tr>
<td>FIXED_PREC_SCALE</td>
<td>boolean</td>
<td>false</td>
</tr>
<tr>
<td>AUTO_INCREMENT</td>
<td>boolean</td>
<td>false</td>
</tr>
<tr>
<td>LOCAL_TYPE_NAME</td>
<td>String</td>
<td>null</td>
</tr>
<tr>
<td>MINIMUM_SCALE</td>
<td>short</td>
<td>0</td>
</tr>
<tr>
<td>MAXIMUM_SCALE</td>
<td>short</td>
<td>0</td>
</tr>
<tr>
<td>SQL_DATA_TYPE</td>
<td>int</td>
<td>0</td>
</tr>
<tr>
<td>SQL_DATETIME_SUB</td>
<td>int</td>
<td>0</td>
</tr>
<tr>
<td>NUM_PREC_RADIX</td>
<td>int</td>
<td>10</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>For columns TYPE_NAME and DATA_TYPE, all values of the following combinations are returned</p>
<table>
<thead>
<tr>
<th>Value of TYPE_NAME</th>
<th>Value of DATA_TYPE</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lsquo;BOOL&rsquo;</td>
<td>-7 (Types.BIT)</td>
</tr>
<tr>
<td>&lsquo;STRING&rsquo;</td>
<td>12 (Types.VARCHAR)</td>
</tr>
<tr>
<td>&lsquo;BYTE&rsquo;</td>
<td>-6 (Types.TINYINT)</td>
</tr>
<tr>
<td>&lsquo;SHORT&rsquo;</td>
<td>5 (Types.SMALLINT)</td>
</tr>
<tr>
<td>&lsquo;INTEGER&rsquo;</td>
<td>4 (Types.INTEGER)</td>
</tr>
<tr>
<td>&lsquo;LONG&rsquo;</td>
<td>-5 (Types.BIGINT)</td>
</tr>
<tr>
<td>&lsquo;FLOAT&rsquo;</td>
<td>6 (Types.FLOAT)</td>
</tr>
<tr>
<td>&lsquo;DOUBLE&rsquo;</td>
<td>8 (Types.DOUBLE)</td>
</tr>
<tr>
<td>&lsquo;TIMESTAMP&rsquo;</td>
<td>93 (Types.TIMESTAMP)</td>
</tr>
<tr>
<td>&lsquo;BLOB&rsquo;</td>
<td>2004 (Types.BLOB)</td>
</tr>
<tr>
<td>&lsquo;UNKNOWN&rsquo;</td>
<td>0 (Types.NULL)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h4 id="method-that-returns-a-value">Method that returns a value</h4>
<p>Among the methods of DatabaseMetaData interface, the execution results are listed about the method that returns simple value such as int type and String type as execution result.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>allProceduresAreCallable()</td>
<td>false</td>
</tr>
<tr>
<td>allTablesAreSelectable()</td>
<td>true</td>
</tr>
<tr>
<td>autoCommitFailureClosesAllResultSets()</td>
<td>false</td>
</tr>
<tr>
<td>dataDefinitionCausesTransactionCommit()</td>
<td>false</td>
</tr>
<tr>
<td>dataDefinitionIgnoredInTransactions()</td>
<td>true</td>
</tr>
<tr>
<td>deletesAreDetected(type)</td>
<td>false</td>
</tr>
<tr>
<td>doesMaxRowSizeIncludeBlobs()</td>
<td>false</td>
</tr>
<tr>
<td>generatedKeyAlwaysReturned()</td>
<td>false</td>
</tr>
<tr>
<td>getCatalogSeparator()</td>
<td>&ldquo;.&rdquo;</td>
</tr>
<tr>
<td>getCatalogTerm()</td>
<td>&ldquo;catalog&rdquo;</td>
</tr>
<tr>
<td>getDefaultTransactionIsolation()</td>
<td>TRANSACTION_READ_COMMITTED</td>
</tr>
<tr>
<td>getExtraNameCharacters()</td>
<td>. - / = (unordered)</td>
</tr>
<tr>
<td>getIdentifierQuoteString()</td>
<td>&quot;</td>
</tr>
<tr>
<td>getMaxBinaryLiteralLength()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxCatalogNameLength()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxCharLiteralLength()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxColumnNameLength()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxColumnsInGroupBy()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxColumnsInIndex()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxColumnsInOrderBy()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxColumnsInSelect()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxColumnsInTable()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxConnections()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxCursorNameLength()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxIndexLength()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxSchemaNameLength()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxProcedureNameLength()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxRowSize()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxStatementLength()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxStatements()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxTableNameLength()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxTablesInSelect()</td>
<td>0</td>
</tr>
<tr>
<td>getMaxUserNameLength()</td>
<td>0</td>
</tr>
<tr>
<td>getProcedureTerm()</td>
<td>&ldquo;procedure&rdquo;</td>
</tr>
<tr>
<td>getResultSetHoldability()</td>
<td>CLOSE_CURSORS_AT_COMMIT</td>
</tr>
<tr>
<td>getRowIdLifetime()</td>
<td>true</td>
</tr>
<tr>
<td>getSchemaTerm()</td>
<td>&ldquo;schema&rdquo;</td>
</tr>
<tr>
<td>getSearchStringEscape()</td>
<td>&quot;</td>
</tr>
<tr>
<td>getSQLKeywords()</td>
<td>&quot;&quot;</td>
</tr>
<tr>
<td>getSQLStateType()</td>
<td>sqlStateSQL99</td>
</tr>
<tr>
<td>getStringFunctions()</td>
<td>&quot;&quot;</td>
</tr>
<tr>
<td>getSystemFunctions()</td>
<td>&quot;&quot;</td>
</tr>
<tr>
<td>getURL()</td>
<td>null</td>
</tr>
<tr>
<td>getUserName()</td>
<td>(user name)</td>
</tr>
<tr>
<td>insertsAreDetected(type)</td>
<td>false</td>
</tr>
<tr>
<td>isCatalogAtStart()</td>
<td>true</td>
</tr>
<tr>
<td>isReadOnly()</td>
<td>false</td>
</tr>
<tr>
<td>locatorsUpdateCopy()</td>
<td>false</td>
</tr>
<tr>
<td>nullPlusNonNullIsNull()</td>
<td>true</td>
</tr>
<tr>
<td>nullsAreSortedAtEnd()</td>
<td>false</td>
</tr>
<tr>
<td>nullsAreSortedAtStart()</td>
<td>false</td>
</tr>
<tr>
<td>nullsAreSortedHigh()</td>
<td>true</td>
</tr>
<tr>
<td>nullsAreSortedLow()</td>
<td>false</td>
</tr>
<tr>
<td>othersDeletesAreVisible(type)</td>
<td>false</td>
</tr>
<tr>
<td>othersInsertsAreVisible(type)</td>
<td>false</td>
</tr>
<tr>
<td>othersUpdatesAreVisible(type)</td>
<td>false</td>
</tr>
<tr>
<td>ownDeletesAreVisible(type)</td>
<td>false</td>
</tr>
<tr>
<td>ownInsertsAreVisible(type)</td>
<td>false</td>
</tr>
<tr>
<td>ownUpdatesAreVisible(type)</td>
<td>false</td>
</tr>
<tr>
<td>storesLowerCaseIdentifiers()</td>
<td>false</td>
</tr>
<tr>
<td>storesLowerCaseQuotedIdentifiers()</td>
<td>false</td>
</tr>
<tr>
<td>storesMixedCaseIdentifiers()</td>
<td>true</td>
</tr>
<tr>
<td>storesMixedCaseQuotedIdentifiers()</td>
<td>false</td>
</tr>
<tr>
<td>storesUpperCaseIdentifiers()</td>
<td>false</td>
</tr>
<tr>
<td>storesUpperCaseQuotedIdentifiers()</td>
<td>false</td>
</tr>
<tr>
<td>supportsAlterTableWithAddColumn()</td>
<td>false</td>
</tr>
<tr>
<td>supportsAlterTableWithDropColumn()</td>
<td>false</td>
</tr>
<tr>
<td>supportsANSI92EntryLevelSQL()</td>
<td>false</td>
</tr>
<tr>
<td>supportsANSI92FullSQL()</td>
<td>false</td>
</tr>
<tr>
<td>supportsANSI92IntermediateSQL()</td>
<td>false</td>
</tr>
<tr>
<td>supportsBatchUpdates()</td>
<td>false</td>
</tr>
<tr>
<td>supportsCatalogsInDataManipulation()</td>
<td>false</td>
</tr>
<tr>
<td>supportsCatalogsInIndexDefinitions()</td>
<td>false</td>
</tr>
<tr>
<td>supportsCatalogsInPrivilegeDefinitions()</td>
<td>false</td>
</tr>
<tr>
<td>supportsCatalogsInProcedureCalls()</td>
<td>false</td>
</tr>
<tr>
<td>supportsCatalogsInTableDefinitions()</td>
<td>false</td>
</tr>
<tr>
<td>supportsColumnAliasing()</td>
<td>true</td>
</tr>
<tr>
<td>supportsConvert()</td>
<td>false</td>
</tr>
<tr>
<td>supportsConvert(fromType, toType)</td>
<td>false</td>
</tr>
<tr>
<td>supportsCoreSQLGrammar()</td>
<td>true</td>
</tr>
<tr>
<td>supportsCorrelatedSubqueries()</td>
<td>true</td>
</tr>
<tr>
<td>supportsDataDefinitionAndDataManipulationTransactions()</td>
<td>false</td>
</tr>
<tr>
<td>supportsDataManipulationTransactionsOnly()</td>
<td>false</td>
</tr>
<tr>
<td>supportsDifferentTableCorrelationNames()</td>
<td>false</td>
</tr>
<tr>
<td>supportsExpressionsInOrderBy()</td>
<td>true</td>
</tr>
<tr>
<td>supportsExtendedSQLGrammar()</td>
<td>false</td>
</tr>
<tr>
<td>supportsFullOuterJoins()</td>
<td>false</td>
</tr>
<tr>
<td>supportsGetGeneratedKeys()</td>
<td>false</td>
</tr>
<tr>
<td>supportsGroupBy()</td>
<td>true</td>
</tr>
<tr>
<td>supportsGroupByBeyondSelect()</td>
<td>true</td>
</tr>
<tr>
<td>supportsGroupByUnrelated()</td>
<td>true</td>
</tr>
<tr>
<td>supportsIntegrityEnhancementFacility()</td>
<td>false</td>
</tr>
<tr>
<td>supportsLikeEscapeClause()</td>
<td>true</td>
</tr>
<tr>
<td>supportsLimitedOuterJoins()</td>
<td>true</td>
</tr>
<tr>
<td>supportsMinimumSQLGrammar()</td>
<td>true</td>
</tr>
<tr>
<td>supportsMixedCaseIdentifiers()</td>
<td>false</td>
</tr>
<tr>
<td>supportsMixedCaseQuotedIdentifiers()</td>
<td>true</td>
</tr>
<tr>
<td>supportsMultipleOpenResults()</td>
<td>false</td>
</tr>
<tr>
<td>supportsMultipleResultSets()</td>
<td>false</td>
</tr>
<tr>
<td>supportsMultipleTransactions()</td>
<td>false</td>
</tr>
<tr>
<td>supportsNamedParameters()</td>
<td>false</td>
</tr>
<tr>
<td>supportsNonNullableColumns()</td>
<td>true</td>
</tr>
<tr>
<td>supportsOpenCursorsAcrossCommit()</td>
<td>false</td>
</tr>
<tr>
<td>supportsOpenCursorsAcrossRollback()</td>
<td>false</td>
</tr>
<tr>
<td>supportsOpenStatementsAcrossCommit()</td>
<td>false</td>
</tr>
<tr>
<td>supportsOpenStatementsAcrossRollback()</td>
<td>false</td>
</tr>
<tr>
<td>supportsOrderByUnrelated()</td>
<td>true</td>
</tr>
<tr>
<td>supportsOuterJoins()</td>
<td>true</td>
</tr>
<tr>
<td>supportsPositionedDelete()</td>
<td>false</td>
</tr>
<tr>
<td>supportsPositionedUpdate()</td>
<td>false</td>
</tr>
<tr>
<td>supportsResultSetConcurrency(type, concurrency)</td>
<td>Only in the case where type is TYPE_FORWARD_ONLY, and concurrency is CONCUR_READ_ONLY</td>
</tr>
<tr>
<td>supportsResultSetHoldability(holdability)</td>
<td>Only in case of CLOSE_CURSORS_AT_COMMIT</td>
</tr>
<tr>
<td>supportsResultSetType()</td>
<td>Only in case of TYPE_FORWARD_ONLY</td>
</tr>
<tr>
<td>supportsSavepoints()</td>
<td>false</td>
</tr>
<tr>
<td>supportsSchemasInDataManipulation()</td>
<td>false</td>
</tr>
<tr>
<td>supportsSchemasInIndexDefinitions()</td>
<td>false</td>
</tr>
<tr>
<td>supportsSchemasInPrivilegeDefinitions()</td>
<td>false</td>
</tr>
<tr>
<td>supportsSchemasInProcedureCalls()</td>
<td>false</td>
</tr>
<tr>
<td>supportsSchemasInTableDefinitions()</td>
<td>false</td>
</tr>
<tr>
<td>supportsSelectForUpdate()</td>
<td>false</td>
</tr>
<tr>
<td>supportsStatementPooling()</td>
<td>false</td>
</tr>
<tr>
<td>supportsStoredFunctionsUsingCallSyntax()</td>
<td>false</td>
</tr>
<tr>
<td>supportsStoredProcedures()</td>
<td>false</td>
</tr>
<tr>
<td>supportsSubqueriesInComparisons()</td>
<td>false</td>
</tr>
<tr>
<td>supportsSubqueriesInExists()</td>
<td>true</td>
</tr>
<tr>
<td>supportsSubqueriesInIns()</td>
<td>true</td>
</tr>
<tr>
<td>supportsSubqueriesInQuantifieds()</td>
<td>false</td>
</tr>
<tr>
<td>supportsTableCorrelationNames()</td>
<td>false</td>
</tr>
<tr>
<td>supportsTransactionIsolationLevel(level)</td>
<td>Only in case of TRANSACTION_READ_COMMITTED</td>
</tr>
<tr>
<td>supportsTransactions()</td>
<td>true</td>
</tr>
<tr>
<td>supportsUnion()</td>
<td>true</td>
</tr>
<tr>
<td>supportsUnionAll()</td>
<td>true</td>
</tr>
<tr>
<td>updatesAreDetected(type)</td>
<td>false</td>
</tr>
<tr>
<td>usesLocalFilePerTable()</td>
<td>false</td>
</tr>
<tr>
<td>usesLocalFiles()</td>
<td>false</td>
</tr>
</tbody>
</table>
<h4 id="unsupported-methods">Unsupported methods</h4>
<p>Among the methods of DatabaseMetaData interface, the unsupported methods are listed below.
When these methods are executed, SQLFeatureNotSupportedException will not occur and the following results will be returned.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>ResultSet getAttributes(String catalog, String schemaPattern, String typeNamePattern, String attributeNamePattern)</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getBestRowIdentifier(String catalog, String schema, String table, int scope, boolean nullable)</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getCatalogs()</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getClientInfoProperties()</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getColumnPrivileges(String catalog, String schema, String table, String columnNamePattern)</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getCrossReference(String parentCatalog, String parentSchema, String parentTable, String foreignCatalog, String foreignSchema, String foreignTable)</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getExportedKeys(String catalog, String schema, String table)</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getFunctionColumns(String catalog, String schemaPattern, String functionNamePattern, String columnNamePattern)</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getFunctions(String catalog, String schemaPattern, String functionNamePattern)</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getImportedKeys(String catalog, String schema, String table)</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getProcedureColumns(String catalog, String schemaPattern, String procedureNamePattern, String columnNamePattern)</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getProcedures(String catalog, String schemaPattern, String procedureNamePattern)</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getPseudoColumns(String catalog, String schemaPattern, String tableNamePattern, String columnNamePattern)</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getSchemas()</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getSchemas(String catalog, String schemaPattern)</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getSuperTables(String catalog, String schemaPattern, String tableNamePattern)</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getSuperTypes(String catalog, String schemaPattern, String typeNamePattern)</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getTablePrivileges(String catalog, String schemaPattern, String tableNamePattern)</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getUDTs(String catalog, String schemaPattern, String typeNamePattern, int[] types)</td>
<td>Empty ResultSet</td>
</tr>
<tr>
<td>ResultSet getVersionColumns(String catalog, String schema, String table)</td>
<td>Empty ResultSet</td>
</tr>
</tbody>
</table>
<h3 id="statement-interface">Statement interface</h3>
<h4 id="setget-fetch-size">Set/get fetch size</h4>
<p>Only check the specified value.</p>
<p>When checking this value, check that the number of rows obtained by getMaxRows() of the statement is not exceeded as well.  Limits related to this value are stated only in the JDBC specifications from JDBC4.0 or earlier.  However, unlike the previous JDBC specifications, this excludes the case in which the result of getMaxRows() has been set to the default value 0.</p>
<h4 id="setget-fetch-direction">Set/get fetch direction</h4>
<p>Only FETCH_FORWARD is supported for the fetch direction. A SQLException occurs if FETCH_FORWARD is not specified.</p>
<h4 id="unsupported-function-1">Unsupported function</h4>
<ul>
<li>Batch instructions
<ul>
<li>Batch instructions are unsupported. When using the following functions, the same error occurs as when using unsupported standard functions.
<ul>
<li>addBatch(sql)</li>
<li>clearBatch()</li>
<li>executeBatch()</li>
</ul>
</li>
</ul>
</li>
<li>Standard functions
<ul>
<li>The following methods are ignored when invoked. This behavior is different from the JDBC specifications.
<ul>
<li>setEscapeProcessing(enable)</li>
</ul>
</li>
</ul>
</li>
<li>Optional functions
<ul>
<li>A SQLFeatureNotSupportedException occurs when the method below is invoked.
<ul>
<li>closeOnCompletion()</li>
<li>execute(sql, autoGeneratedKeys)</li>
<li>execute(sql, columnIndexes)</li>
<li>execute(sql, columnNames)</li>
<li>executeUpdate(sql, autoGeneratedKeys)</li>
<li>executeUpdate(sql, columnIndexes)</li>
<li>executeUpdate(sql, columnNames)</li>
<li>getGeneratedKeys()</li>
<li>getMoreResults(current)</li>
<li>isCloseOnCompletion()</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="preparedstatement-interface">PreparedStatement interface</h3>
<h4 id="setget-parameter">Set/get parameter</h4>
<p>The following methods are supported. A SQLException occurs when invoking the query execution API like executeQuery without setting all parameters.</p>
<ul>
<li>clearParameters()</li>
<li>getMetaData()</li>
<li>getParameterMetaData()</li>
<li>setBinaryStream(int parameterIndex, InputStream x)
<ul>
<li>setBinaryStream (including overload), on the client side, may require memory that is several times that of the input data. If the memory becomes insufficient during execution, adjust the heap memory size when starting the JVM.</li>
</ul>
</li>
<li>setBinaryStream(int parameterIndex, InputStream x, int length)</li>
<li>setBinaryStream(int parameterIndex, InputStream x, long length)</li>
<li>setBlob(int parameterIndex, Blob x)
<ul>
<li>setBinaryStream (including overload), on the client side, may require memory that is several times that of the input data. If the memory becomes insufficient during execution, adjust the heap memory size when starting the JVM.</li>
</ul>
</li>
<li>setBlob(int parameterIndex, InputStream inputStream)</li>
<li>setBlob(int parameterIndex, InputStream inputStream, long length)</li>
<li>setBoolean(int parameterIndex, boolean x)</li>
<li>setByte(int parameterIndex, byte x)</li>
<li>setDate(int parameterIndex, Date x)</li>
<li>setDouble(int parameterIndex, double x)</li>
<li>setFloat(int parameterIndex, float x)</li>
<li>setInt(int parameterIndex, int x)</li>
<li>setLong(int parameterIndex, long x)</li>
<li>setObject(int parameterIndex, Object x)
<ul>
<li>The value set for TIMESTAMP accepts an object of a subclass of java.util.Date.</li>
</ul>
</li>
<li>setShort(int parameterIndex, short x)</li>
<li>setString(int parameterIndex, String x)</li>
<li>setTime(int parameterIndex, Time x)</li>
<li>setTimestamp(int parameterIndex, Timestamp x)</li>
</ul>
<h4 id="sql-execution">SQL execution</h4>
<p>The following methods are supported.</p>
<ul>
<li>execute()</li>
<li>executeQuery()</li>
<li>executeUpdate()</li>
</ul>
<h4 id="unsupported-function-2">Unsupported function</h4>
<ul>
<li>Standard functions
<ul>
<li>A SQLFeatureNotSupportedException occurs when the method below is invoked. This behavior is different from the JDBC specifications.
<ul>
<li>addBatch()</li>
<li>setBigDecimal(int parameterIndex, BigDecimal x)</li>
<li>setDate(int parameterIndex, Date x, Calendar cal)</li>
<li>setTime(int parameterIndex, Time x, Calendar cal)</li>
<li>setTimestamp(int parameterIndex, Timestamp x, Calendar cal)</li>
</ul>
</li>
</ul>
</li>
<li>Optional functions
<ul>
<li>A SQLFeatureNotSupportedException occurs when the method below is invoked. All overloads for which the argument has been omitted are not supported.
<ul>
<li>setArray</li>
<li>setAsciiStream</li>
<li>setBytes</li>
<li>setCharacterStream</li>
<li>setClob</li>
<li>setNCharacterStream</li>
<li>setNClob</li>
<li>setNString</li>
<li>setNull</li>
<li>setObject(int parameterIndex, Object x, int targetSqlType)</li>
<li>setObject(int parameterIndex, Object x, int targetSqlType, int scaleOrLength)</li>
<li>setRef</li>
<li>setRowId</li>
<li>setSQLXML</li>
<li>setUnicodeStream</li>
<li>setURL</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="parametermetadata-interface">ParameterMetaData interface</h3>
<p>This section describes the ParameterMetaData interface which gets PreparedStatement metadata.</p>
<p>All methods in the JDBC specification are supported but the methods below will always return a fixed value regardless of the value of argument param.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>int getParameterType(int param)</td>
<td>Types.OTHER</td>
</tr>
<tr>
<td>String getParameterTypeName(int param)</td>
<td>&ldquo;UNKNOWN&rdquo;</td>
</tr>
<tr>
<td>int getPrecision(int param)</td>
<td>0</td>
</tr>
<tr>
<td>int getScale(int param)</td>
<td>0</td>
</tr>
<tr>
<td>boolean isSigned(int param)</td>
<td>false</td>
</tr>
</tbody>
</table>
<h3 id="resultset-interface">ResultSet interface</h3>
<h4 id="setget-fetch-size-1">Set/get fetch size</h4>
<p>Only the specified value is checked and configuration changes will not affect the actual fetch process.  When checking the value, check that the number of rows obtained by getMaxRows() of the statement in the source generating the target ResultSet is not exceeded as well.  This limit is stated only in the JDBC specifications from JDBC4.0 or earlier. However, unlike the previous JDBC specifications, this excludes the case in which the result of getMaxRows() has been set to the default value 0. Actual fetch process is not affected but the revised setting can be acquired.</p>
<h4 id="setget-fetch-direction-1">Set/get fetch direction</h4>
<p>Only FETCH_FORWARD is supported for the fetch direction. A SQLException occurs if FETCH_FORWARD is not specified. This behavior is different from the JDBC specifications.</p>
<h4 id="get-cursor-data">Get cursor data</h4>
<p>The following cursor-related methods are supported.</p>
<ul>
<li>isAfterLast()</li>
<li>isBeforeFirst()</li>
<li>isFirst()</li>
<li>isLast()</li>
<li>next()</li>
</ul>
<p>Since the only fetch direction supported is FETCH_FORWARD, when the following method is invoked, a SQLException caused by a command being invoked against a FETCH_FORWARD type ResultSet will occur.</p>
<ul>
<li>absolute(row)</li>
<li>afterLast()</li>
<li>beforeFirst()</li>
<li>first()</li>
<li>last()</li>
<li>previous()</li>
<li>relative(rows)</li>
</ul>
<h4 id="management-of-warnings">Management of warnings</h4>
<p>As warnings will not be recorded, the actions to manage warnings are therefore as follows.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Behavior</th>
</tr>
</thead>
<tbody>
<tr>
<td>getWarnings()</td>
<td>null</td>
</tr>
<tr>
<td>clearWarnings()</td>
<td>Warnings are not cleared.</td>
</tr>
</tbody>
</table>
<h4 id="attribute-that-returns-fixed-value">Attribute that returns fixed value</h4>
<p>The support status of a method to return a fixed value all the time while the ResultSet remains open is as follows.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>getCursorName()</td>
<td>null</td>
</tr>
<tr>
<td>getType()</td>
<td>TYPE_FORWARD_ONLY</td>
</tr>
<tr>
<td>getConcurrency()</td>
<td>CONCUR_READ_ONLY</td>
</tr>
<tr>
<td>getMetaData()</td>
<td>(JDBC-compliant)</td>
</tr>
<tr>
<td>getStatement()</td>
<td>(JDBC-compliant)</td>
</tr>
</tbody>
</table>
<h4 id="data-type-conversion">Data type conversion</h4>
<p>When getting the value of a specified column, if the data type maintained by the ResultSet differs from the requested data type, data type conversion will be attempted for the following combinations only.</p>
<table>
<thead>
<tr>
<th>The Java type of the destination</th>
<th>BOOL</th>
<th>INTEGRAL *1</th>
<th>FLOATING *2</th>
<th>TIMESTAMP</th>
<th>STRING</th>
<th>BLOB</th>
</tr>
</thead>
<tbody>
<tr>
<td>boolean</td>
<td></td>
<td> *3</td>
<td></td>
<td></td>
<td> *4</td>
<td></td>
</tr>
<tr>
<td>byte</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>short</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>int</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>long</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>float</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>double</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>byte[]</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>java.sql.Date</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td> *5</td>
<td></td>
</tr>
<tr>
<td>Time</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td> *5</td>
<td></td>
</tr>
<tr>
<td>Timestamp</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td> *5</td>
<td></td>
</tr>
<tr>
<td>String</td>
<td></td>
<td></td>
<td></td>
<td> *6</td>
<td></td>
<td> *7</td>
</tr>
<tr>
<td>Blob</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td> *7</td>
<td></td>
</tr>
<tr>
<td>Object</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>(*1). INTEGRAL: Indicates one of BYTE/SHORT/INTEGER/LONG</li>
<li>(*2). FLOATING: Indicates one of FLOAT/DOUBLEFLOATING</li>
<li>(*3). Convert to false if 0 and to true if not 0.</li>
<li>(*4). Convert to false if &ldquo;false&rdquo; and to true if &ldquo;true&rdquo;. ASCII letters are case insensitive. Other letters cannot be converted and cause an error.</li>
<li>(*5). Convert the time of a string expression according to the following rules.
<ul>
<li>Acceptable expressions expressed in a pattern string like java.command.SimpleDateFormat are as follows, except for the time zone.
<ul>
<li>yyyy-MM-dd&rsquo;T&rsquo;HH:mm:ss.SSS</li>
<li>yyyy-MM-dd&rsquo;T&rsquo;HH:mm:ss</li>
<li>yyyy-MM-dd HH:mm:ss.SSS</li>
<li>yyyy-MM-dd HH:mm:ss</li>
<li>yyyy-MM-dd</li>
<li>HH:mm:ss.SSS</li>
<li>HH:mm:ss</li>
</ul>
</li>
<li>If a setting value for the time zone is contained in the string, the value is adopted. Otherwise, if the time zone is specified in the argument java.util.Calendar of a API such as ResultSet#getTimeStamp(), the content is refered to. Still otherwise, the time zone specified at the time of connection is checked, and if none is specified, UTC is adopted. Besides expressions that can be interpreted by a java.command.SimpleDateFormat &ldquo;z&rdquo; or &ldquo;Z&rdquo; pattern, &ldquo;Z&rdquo; expressions indicating that the time is UTC will be accepted as a timezone string.</li>
</ul>
</li>
<li>(*6). The time zone information specified at the time of connection will be used. If not specified, UTC will be used.</li>
<li>(*7). Convert strings and BLOB to each other by treating it as hexadecimal binary representation. ASCII letters are case insensitive. Other letters cannot be converted and cause an error.</li>
</ul>
<h4 id="get-column-value">Get column value</h4>
<p>The column value can be acquired using a method that corresponds to the data type of the supported data type conversion address.  Both column label and column index are supported as methods to specify a column.  Besides this, the following functions can be used.</p>
<ul>
<li>getBinaryStream
<ul>
<li>Equivalent to the data type conversion result in byte[]</li>
</ul>
</li>
<li>wasNull
<ul>
<li>JDBC-compliant</li>
</ul>
</li>
</ul>
<h4 id="error-processing-1">Error processing</h4>
<ul>
<li>Invalid column index
<ul>
<li>If an invalid column index is specified in an attempt to get the value, an SQLException due to a JDBC_COLUMN_INDEX_OUT_OF_RANGE error will occur.</li>
</ul>
</li>
<li>Data type conversion error
<ul>
<li>If data type conversion fails, an SQLException due to a JDBC_VALUE_TYPE_CONVERSION_FAILED error will occur.</li>
</ul>
</li>
</ul>
<h4 id="unsupported-function-3">Unsupported function</h4>
<p>The following optional functions are not supported. All overloads for which the argument has been omitted are not supported.</p>
<ul>
<li>cancelRowUpdates()</li>
<li>getArray</li>
<li>getAsciiStream</li>
<li>getBigDecimal</li>
<li>getClob</li>
<li>getNClob</li>
<li>getNCharacterStream</li>
<li>getNString</li>
<li>getObject(columnIndex, map)</li>
<li>getObject(columnLabel, map)</li>
<li>getObject(columnIndex, type)</li>
<li>getObject(columnLabel, type)</li>
<li>getRef</li>
<li>getRow()</li>
<li>getRowId</li>
<li>getSQLXML</li>
<li>getUnicodeStream</li>
<li>getURL</li>
<li>moveToInsertRow()</li>
<li>moveToCurrentRow()</li>
<li>refreshRow()</li>
<li>rowInserted()</li>
<li>rowDeleted()</li>
<li>rowUpdated()</li>
<li>All methods starting with insert</li>
<li>All methods starting with update</li>
<li>All methods starting with delete</li>
</ul>
<h3 id="resultsetmetadata-interface">ResultSetMetaData interface</h3>
<p>This section describes the ResultSetMetaData interface which gets the search result ResultSet metadata.</p>
<p>For all the methods in the JDBC specification of the ResultSetMetaData interface, the contents and the execution results of each method are described under the following classification.</p>
<ul>
<li>Methods which return the data type of a column</li>
<li>Methods other than the above</li>
<li>Unsupported methods</li>
</ul>
<h4 id="data-type-of-column">Data type of column</h4>
<p>ResultSetMetaData interface has a method that returns the column data type of the search result ResultSet.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>String getColumnClassName(int column)</td>
<td>Returns the class name of the specified column data type.</td>
</tr>
<tr>
<td>int getColumnType(int column)</td>
<td>Return the value of the specified column data type.</td>
</tr>
<tr>
<td>String getColumnTypeName(int column)</td>
<td>Return the name of the specified column data type.</td>
</tr>
</tbody>
</table>
<p>The correspondence between the column data type and the value of the execution result of each method is shown below.</p>
<table>
<thead>
<tr>
<th>Data type of a column</th>
<th>getColumnClassName</th>
<th>getColumnType</th>
<th>getColumnTypeName</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL</td>
<td>&ldquo;java.lang.Boolean&rdquo;</td>
<td>Types.BIT</td>
<td>&ldquo;BOOL&rdquo;</td>
</tr>
<tr>
<td>STRING</td>
<td>&ldquo;java.lang.String&rdquo;</td>
<td>Types.VARCHAR</td>
<td>&ldquo;STRING&rdquo;</td>
</tr>
<tr>
<td>BYTE</td>
<td>&ldquo;java.lang.Byte&rdquo;</td>
<td>Types.TINYINT</td>
<td>&ldquo;BYTE&rdquo;</td>
</tr>
<tr>
<td>SHORT</td>
<td>&ldquo;java.lang.Short&rdquo;</td>
<td>Types.SMALLINT</td>
<td>&ldquo;SHORT&rdquo;</td>
</tr>
<tr>
<td>INTEGER</td>
<td>&ldquo;java.lang.Integer&rdquo;</td>
<td>Types.INTEGER</td>
<td>&ldquo;INTEGER&rdquo;</td>
</tr>
<tr>
<td>LONG</td>
<td>&ldquo;java.lang.Long&rdquo;</td>
<td>Types.BIGINT</td>
<td>&ldquo;LONG&rdquo;</td>
</tr>
<tr>
<td>FLOAT</td>
<td>&ldquo;java.lang.Float&rdquo;</td>
<td>Types.FLOAT</td>
<td>&ldquo;FLOAT&rdquo;</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>&ldquo;java.lang.Double&rdquo;</td>
<td>Types.DOUBLE</td>
<td>&ldquo;DOUBLE&rdquo;</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>&ldquo;java.util.Date&rdquo;</td>
<td>Types.TIMESTAMP</td>
<td>&ldquo;TIMESTAMP&rdquo;</td>
</tr>
<tr>
<td>BLOB</td>
<td>&ldquo;java.sql.Blob&rdquo;</td>
<td>Types.BLOB</td>
<td>&ldquo;BLOB&rdquo;</td>
</tr>
<tr>
<td>GEOMETRY</td>
<td>&ldquo;java.lang.Object&rdquo;</td>
<td>Types.OTHER</td>
<td>&ldquo;UNKNOWN&rdquo;</td>
</tr>
<tr>
<td>ARRAY</td>
<td>&ldquo;java.lang.Object&rdquo;</td>
<td>Types.OTHER</td>
<td>&ldquo;UNKNOWN&rdquo;</td>
</tr>
<tr>
<td>When the data type of a column cannot be identified (*1)</td>
<td>&ldquo;java.lang.Object&rdquo;</td>
<td>Types.OTHER</td>
<td>&ldquo;UNKNOWN&rdquo;</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>(*1) For example, in the case of ResultSet obtained by executing &ldquo;SELECT NULL&rdquo;</li>
<li>For GEOMETRY type and array type, the value will be returned if the table with these data types created by NoSQL interface is searched. JDBC can not create tables with these data types.</li>
</ul>
<h4 id="attribute-that-returns-a-value">Attribute that returns a value</h4>
<p>The result of executing the method other than returning the data type of the column in the ResultSetMetaData interface is shown below.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>String getCatalogName(int column)</td>
<td>&quot;&quot;</td>
</tr>
<tr>
<td>int getColumnCount()</td>
<td>The number of columns</td>
</tr>
<tr>
<td>int getColumnDisplaySize(int column)</td>
<td>131072</td>
</tr>
<tr>
<td>String getColumnLabel(int column)</td>
<td>The label name of a column</td>
</tr>
<tr>
<td>String getColumnName(int column)</td>
<td>The name of a column</td>
</tr>
<tr>
<td>int getPrecision(int column)</td>
<td>0</td>
</tr>
<tr>
<td>int getScale(int column)</td>
<td>0</td>
</tr>
<tr>
<td>String getSchemaName(int column)</td>
<td>&quot;&quot;</td>
</tr>
<tr>
<td>String getTableName(int column)</td>
<td>&quot;&quot;</td>
</tr>
<tr>
<td>boolean isAutoIncrement(int column)</td>
<td>false</td>
</tr>
<tr>
<td>boolean isCaseSensitive(int column)</td>
<td>true</td>
</tr>
<tr>
<td>boolean isCurrency(int column)</td>
<td>false</td>
</tr>
<tr>
<td>boolean isDefinitelyWritable(int column)</td>
<td>true</td>
</tr>
<tr>
<td>int isNullable(int column)</td>
<td>The constant ResultSetMetaData.columnNullable(=1) that allows NULL values for the column, or the constant columnNoNulls(=0) that does not allow NULL values for the column</td>
</tr>
<tr>
<td>boolean isReadOnly(int column)</td>
<td>false</td>
</tr>
<tr>
<td>boolean isSearchable(int column)</td>
<td>true</td>
</tr>
<tr>
<td>boolean isSigned(int column)</td>
<td>false</td>
</tr>
<tr>
<td>boolean  isWritable(int column)</td>
<td>true</td>
</tr>
</tbody>
</table>
<h4 id="unsupported-function-4">Unsupported function</h4>
<p>There are no unsupported methods (methods that cause SQLFeatureNotSupportedException) in the ResultSetMetaData interface.</p>
<h2 id="----sample----">&mdash; Sample &mdash;</h2>
<p>A JDBC sample programs is given below.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// Execute Sample 2 before running this program.
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">test</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.sql.*</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">SampleJDBC</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">static</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">main</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">throws</span> <span style="color:#000">SQLException</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">length</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#000">5</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">err</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>				<span style="color:#4e9a06">&#34;usage: java SampleJDBC (multicastAddress) (port) (clusterName) (user) (password)&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">exit</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#8f5902;font-style:italic">// url format &#34;jdbc:gs://(multicastAddress):(portNo)/(clusterName)&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>		<span style="color:#000">String</span> <span style="color:#000">url</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;jdbc:gs://&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;:&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;/&#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">2</span><span style="color:#ce5c00;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">String</span> <span style="color:#000">user</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">3</span><span style="color:#ce5c00;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">String</span> <span style="color:#000">password</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">args</span><span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#000">4</span><span style="color:#ce5c00;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DB Connection Start&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#8f5902;font-style:italic">// Connection to a GridDB cluster
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>		<span style="color:#000">Connection</span> <span style="color:#000">con</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">DriverManager</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getConnection</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">url</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">user</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">password</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">try</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Start&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">Statement</span> <span style="color:#000">st</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">createStatement</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">ResultSet</span> <span style="color:#000">rs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">st</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">executeQuery</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;SELECT * FROM point01&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">ResultSetMetaData</span> <span style="color:#000">md</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getMetaData</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#204a87;font-weight:bold">while</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">next</span><span style="color:#ce5c00;font-weight:bold">())</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>				<span style="color:#204a87;font-weight:bold">for</span> <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">md</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getColumnCount</span><span style="color:#ce5c00;font-weight:bold">();</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>					<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">print</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">getString</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">1</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34;|&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>				<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>				<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">rs</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;End&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">st</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">finally</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">System</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;DB Connection Close&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">con</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>		<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8357ab0f42d98c874ffd1d006eae933a">8 - ODBC Driver Guide</h1>
    <div class="lead">Describes how to connect to GridDB via ODBC</div>
	<h2 id="----overview-of-application-development----">&mdash; Overview of application development &mdash;</h2>
<p>This chapter provides an overview of application development using the ODBC driver for GridDB.</p>
<h2 id="overview-of-odbc">Overview of ODBC</h2>
<p>ODBC (Open Database Connectivity) is a standard interface for accessing database management system (DBMS) from Windows-compatible application advocated by Microsoft.</p>
<figure>
 <img src="img/odbc_relation.png" alt="Relationship between ODBC driver and GridDB cluster" width="700"/>
 <figcaption>Relationship between ODBC driver and GridDB cluster</figcaption>
</figure>
<ul>
<li>ODBC-compatible application (Windows)
<ul>
<li>In order to issue SQL statements and retrieve the results, ODBC functions are processed and invoked by user-made applications and BI tools.</li>
</ul>
</li>
<li>ODBC driver manager (Windows)
<ul>
<li>For ODBC functions invoked from an ODBC-compatible application, the OS will control the connection to a specific database of the specified ODBC data source. In addition, management of the data source is also carried out.</li>
</ul>
</li>
<li>ODBC driver for GridDB (Windows)
<ul>
<li>This is a unique driver that can be used to connect to GridDB.</li>
<li>A 32-bit version and a 64-bit version are available and should be chosen carefully based on the application. For example, a 32-bit and 64-bit application should use 32-bit and 64-bit driver respectively.</li>
</ul>
</li>
<li>GridDB cluster (Linux)
<ul>
<li>This is a GridDB cluster operating in Linux OS on another machine.</li>
</ul>
</li>
</ul>
<h2 id="operating-environment">Operating environment</h2>
<p>The ODBC driver used in GridDB can be used in the following OS.</p>
<ul>
<li>Windows Server 2012 R2, Windows Server 2016</li>
<li>Windows 10</li>
</ul>
<h2 id="installation-method">Installation method</h2>
<p>The ODBC driver for GridDB is included in the &ldquo;\Windows\ODBC&rdquo; directory of the installation media.</p>
<p>The installation method is as follows.</p>
<p><strong>When installing a 64-bit driver</strong></p>
<ol>
<li>Select the &ldquo;GridStoreODBC_64bit_setup.bat&rdquo;, right-click, and select Run as administrator.</li>
<li>Check that the following files are copied to the following directory: <code>C:\Program Files\TOSHIBA\GridStore\bin</code>.</li>
</ol>
<ul>
<li>GridStoreODBC64.dll</li>
<li>msvcp140.dll</li>
<li>vcruntime140.dll</li>
<li>vcruntime140_1.dll</li>
<li>gridstore_advanced.dll</li>
<li>libssl-1_1-x64.dll</li>
<li>libcrypto-1_1-x64.dll</li>
</ul>
<ol start="3">
<li>Click the Windows button (Start), enter SystemPropertiesAdvanced.exe to open the , System Properties window and then click &ldquo;Environment Variables&rdquo; to open the settings screen for environment variables. Select Path under system environment variables, click on Enter, and add the installation directory <code>C:\Program Files\TOSHIBA\GridStore\bin</code> where the above files are located.</li>
</ol>
<p><img src="./img/64bit_environment.png" alt=""></p>
<ol start="4">
<li>Make sure the following directories do not contain libssl-1_1-x64.dll and libcrypto-1_1-x64.dll. The SSL function of the ODBC drivers for GridDB uses these libraries. Be aware of the fact those libraries contained in the following directories are used in preference to those in the media package. If the following directories do contain these libraries, place those libraries contained in the media package in the current directory where software which uses ODBC is located.</li>
</ol>
<ul>
<li>C:\Windows</li>
<li>C:\Windows\System32</li>
</ul>
<p><strong>When installing a 32-bit driver</strong></p>
<ol>
<li>Select the &ldquo;GridStoreODBC_32bit_setup.bat&rdquo;, right-click, and select Run as administrator.</li>
<li>Check that the following files are copied to the following directory: <code>C:\Program Files (x86)\TOSHIBA\GridStore\bin</code></li>
</ol>
<ul>
<li>GridStoreODBC32.dll</li>
<li>msvcp140.dll</li>
<li>vcruntime140.dll</li>
<li>gridstore_advanced.dll</li>
<li>libssl-1_1.dll</li>
<li>libcrypto-1_1.dll</li>
</ul>
<ol start="3">
<li>Click the Windows button (Start), enter SystemPropertiesAdvanced.exe to open the , System Properties window and then click &ldquo;Environment Variables&rdquo; to open the settings screen for environment variables. Select Path under system environment variables, click on Enter, and add the installation directory <code>C:\Program Files(x86)\TOSHIBA\GridStore\bin</code> where the above files are located.</li>
</ol>
<p><img src="./img/32bit_environment.png" alt=""></p>
<ol start="4">
<li>Make sure the following directories do not contain libssl-1_1.dll and libcrypto-1_1.dll. The SSL function of the ODBC drivers for GridDB uses these libraries. Be aware of the fact those libraries contained in the following directories are used in preference to those in the media package. If the following directories do contain these libraries, place those libraries contained in the media package in the current directory where software which uses ODBC is located.</li>
</ol>
<ul>
<li>C:\Windows</li>
<li>C:\Windows\SysWOW64</li>
</ul>
<h2 id="registration-of-odbc-data-source">Registration of ODBC data source</h2>
<p>In order to access the GridDB database using GridDB ODBC, it is necessary to register the ODBC data source in advance.  Registration of the ODBC data source is performed with the following procedure.</p>
<p><strong>For 64-bit</strong></p>
<ol>
<li>
<p>Start [ODBC data source (64-bit)] from [Management tools].</p>
</li>
<li>
<p>Create a system data source (system DSN). Select &ldquo;GridStore ODBC (x64)&rdquo; when specifying the driver.</p>
<figure>
 <img src="img/odbc_dsn.png" alt="Create system DSN" width="500"/>
 <figcaption>Create system DSN</figcaption>
</figure>
</li>
<li>
<p>Set up the connection data to the GridDB cluster when the GridDB ODBC setup screen appears.</p>
<figure>
 <img src="img/odbc_setup.png" alt="Setup screen" width="500"/>
 <figcaption>Setup screen</figcaption>
</figure>
</li>
</ol>
<p>[Input items]</p>
<ul>
<li>
<p>Data Source</p>
<ul>
<li>Specify the data source name to be registered to the ODBC driver manager.</li>
<li>The application will specify the data source name specified here to connect to the GridDB cluster.</li>
</ul>
</li>
<li>
<p>Cluster Configuration &ldquo;Multicast&rdquo; &ldquo;Fixed List&rdquo; &ldquo;Provider&rdquo;</p>
<ul>
<li>Select the method to connect a GridDB cluster. It needs to be matched with the cluster configuration on a server.</li>
</ul>
</li>
<li>
<p>Destination</p>
<ul>
<li>For &ldquo;Multicast&rdquo;, the value of <code>/sql/notificationAddress</code> and the value of <code>/sql/notificationPort</code> in the cluster definition file (gs_cluster.json) of GridDB node need to be specified.
<ul>
<li>Default: 239.0.0.1:41999</li>
</ul>
</li>
<li>For &ldquo;Fixed List&rdquo;, it is necessary to concatenate the follwoing items in the GridDB node cluster definition file (gs_cluster.json) with :, and specify the concatenated value of each node with a comma as a separator: <code>/sql/address</code> and <code>/sql/port</code> of <code>/cluster/notificationMember</code>.
<ul>
<li>e.g. (3 nodes): 192.168.10.11:20001,192.168.10.12:20001,192.168.10.13:20001</li>
</ul>
</li>
<li>For &ldquo;Provider&rdquo;, the value of <code>/cluster/notificationProvider/url</code> in the cluster definition file (gs_cluster.json) of the GridDB node needs to be specified.
<ul>
<li>Example: http://example.com/notification/provider</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Cluster Name</p>
<ul>
<li>Specify the cluster name of GridDB cluster.</li>
<li>Value of <code>/cluster/clusterName</code> in the cluster definition file (gs_cluster.json) of the GridDB node needs to be specified.</li>
</ul>
</li>
<li>
<p>Database</p>
<ul>
<li>Specify the database in the cluster.</li>
<li>Database is a logical data management unit created in a cluster database. Default value is &ldquo;public&rdquo; (default database).</li>
</ul>
</li>
<li>
<p>User Name</p>
<ul>
<li>Specify the user name connected to GridDB cluster.</li>
</ul>
</li>
<li>
<p>Password</p>
<ul>
<li>Specify the password of the user mentioned above.</li>
</ul>
</li>
<li>
<p>SSL mode &ldquo;Disabled&rdquo; &ldquo;Preferred&rdquo; &ldquo;Verify&rdquo;</p>
<ul>
<li>To disable SSL communication regardless of the settings on the GridDB cluster, specify &ldquo;Disabled&rdquo;; to enable SSL communication according to the settings on the GridDB cluster, specify &ldquo;Preferred&rdquo;; to enable SSL communication and perform server certificate verification, specify &ldquo;Verify&rdquo;.</li>
</ul>
</li>
<li>
<p>SSL Cert File Path</p>
<ul>
<li>
<p>Specify the path to the certificate issued by the Certificate Authority (CA). This is valid when SSL mode is set to Verify.</p>
<p>[Note]</p>
</li>
<li>
<p>To confirm the connection to the GridDB cluster using the Connect Test button, exit from the ODBC data source administrator and restart connection reconfirmation.</p>
</li>
</ul>
</li>
<li>
<p>Authentication &ldquo;INTERNAL&rdquo; &ldquo;LDAP&rdquo;</p>
<ul>
<li>To use internal authentication to authenticate with the GridDB cluster, specify &ldquo;INTERNAL&rdquo;; to validate LDAP authentication, specify &ldquo;LDAP&rdquo;.</li>
</ul>
</li>
<li>
<p>Interface Address</p>
<ul>
<li>To configure the cluster network in multicast mode when multiple network interfaces are available on the machine where the ODBC drivers are installed, the address of the interface to receive the multicast packets from can be specified.  It is not a mandatory setting.</li>
</ul>
</li>
</ul>
<p>[Buttons]</p>
<ul>
<li>Connect Test
<ul>
<li>Check the connection to the GridDB cluster.</li>
</ul>
</li>
<li>Save
<ul>
<li>Save the configurations to the registry and close the dialog.</li>
</ul>
</li>
<li>Cancel
<ul>
<li>Cancel the input value. Discard any changes made.</li>
</ul>
</li>
<li>Detail Settings
<ul>
<li>Open the detailed configuration screen. For details, see <a href="#register_detail_settings">Registration of detailed configuration</a>.</li>
</ul>
</li>
</ul>
<p><strong>For 32-bit</strong></p>
<ol>
<li>Start [ODBC data source (32-bit)] from [Management tools].</li>
<li>Create a system data source (system DSN). Select &ldquo;GridStore ODBC (x86)&rdquo; when specifying the driver.</li>
<li>Set up the connection data to the GridDB server in the GridStore ODBC setup screen. The configuration method is the same as the 64-bit version.</li>
</ol>
<p>[Notice]</p>
<ul>
<li>If [Data source (ODBC)] is started from the [Management tools] in a 64-bit OS, the 64-bit ODBC administrator will be started and it will not be possible to configure the 32-bit settings.</li>
<li>Only GridDB cluster configured with multicast method can be connected.</li>
</ul>
<p><a id="register_detail_settings"></a></p>
<h2 id="registration-of-detailed-configuration-information">Registration of detailed configuration information</h2>
<p>The detailed settings are optional, so set them when necessary.</p>
<figure>
 <img src="img/odbc_detail_settings.png" alt="Detailed configuration screen" width="500"/>
 <figcaption>Detailed configuration screen</figcaption>
</figure>
<p>[Input items]</p>
<ul>
<li>Application Name
<ul>
<li>This item is used to identify the connection source application. Displayed when connection information and running events are checked with the operation tool gs_sh. The default value is &ldquo;ODBC&rdquo;.</li>
</ul>
</li>
<li>Time Zone Configuration: &ldquo;None&rdquo;, &ldquo;Custom&rdquo;, &ldquo;OS&rdquo;
<ul>
<li>Defines the way to set the time zone. Time zone information is passed when connected to the GridDB server. It is also used in offset calculation to get time information using, such as, SQLFetch() function. The default value is &ldquo;None.&rdquo;</li>
<li>For &ldquo;None&rdquo;, the time zone is not considered: as in the case of UTC settings.</li>
<li>For &ldquo;Custom&rdquo;, select a time zone from Custom Time Zone. Daylight saving time is not considered.</li>
<li>For &ldquo;OS&rdquo;, the Windows time zone setting is obtained just before connecting to the GridDB server. When failed to obtain the OS time zone, the system operates as in the way &ldquo;None&rdquo; is selected. Daylight saving time cannot be used. If daylight saving time is already set when the Save button is clicked, an error occurs and the setting is switched to &ldquo;None&rdquo;.</li>
</ul>
</li>
<li>Custom Time Zone
<ul>
<li>Select the time zone from the pull-down menu.</li>
<li>Only valid when Time Zone Configuration is set to &ldquo;Custom&rdquo;.</li>
</ul>
</li>
<li>SQL Timeout (min)
<ul>
<li>Set the timeout time during SQL execution. The unit is minute. The minimum value is 0 and the maximum value is 1440 (24 hours). When 0 is set, timeout processing is not performed. The default setting is 0. Timeout processing may not be completed in the specified time, and additional time of up to about 5 minutes may be required.</li>
</ul>
</li>
</ul>
<p>[Buttons]</p>
<ul>
<li>Save
<ul>
<li>Save the configurations to the registry and close the dialog.</li>
</ul>
</li>
<li>Cancel
<ul>
<li>Cancel the input value. Discard any changes made.</li>
</ul>
</li>
</ul>
<h2 id="connection-method">Connection method</h2>
<p>If a BI/ETL tool is used, please specify the data source name set in the &ldquo;GridStore ODBC setup screen&rdquo;.</p>
<p>If ODBC API is used, specify the data source name set in the &ldquo;GridStore ODBC setup screen&rdquo; as well.</p>
<ul>
<li>
<p>[Example] Specify in the second argument for SQLConnect functions.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">SQLConnect(hdbc, (SQLTCHAR *)TEXT(&#34;GridStoreODBC-db1&#34;), SQL_NTS, (SQLTCHAR *)TEXT(&#34;&#34;), SQL_NTS, (SQLTCHAR *)TEXT(&#34;&#34;), SQL_NTS);
</code></pre></li>
</ul>
<h2 id="----supported-apis----">&mdash; Supported APIs &mdash;</h2>
<p>This section describes the APIs supported by the GridDB ODBC driver.  All ODBC APIs version 3 and some of the APIs version 2 are supported by the GridDB ODBC driver.</p>
<h2 id="list-of-supported-apis">List of supported APIs</h2>
<p>API support status is shown below.</p>
<table>
<thead>
<tr>
<th>Function name</th>
<th>Support status</th>
</tr>
</thead>
<tbody>
<tr>
<td>SQLBindCol</td>
<td></td>
</tr>
<tr>
<td>SQLBindParameter</td>
<td>Only return SQL_SUCCESS</td>
</tr>
<tr>
<td>SQLBrowseConnect</td>
<td></td>
</tr>
<tr>
<td>SQLCancel</td>
<td>Only return SQL_SUCCESS</td>
</tr>
<tr>
<td>SQLCloseCursor</td>
<td></td>
</tr>
<tr>
<td>SQLColAttribute</td>
<td> (with some unsupported parameters)</td>
</tr>
<tr>
<td>SQLColumnPrivileges</td>
<td></td>
</tr>
<tr>
<td>SQLColumns</td>
<td></td>
</tr>
<tr>
<td>SQLConnect</td>
<td></td>
</tr>
<tr>
<td>SQLDescribeCol</td>
<td> (with some unsupported parameters)</td>
</tr>
<tr>
<td>SQLDescribeParam</td>
<td>Only return SQL_SUCCESS</td>
</tr>
<tr>
<td>SQLDisconnect</td>
<td></td>
</tr>
<tr>
<td>SQLDriverConnect</td>
<td></td>
</tr>
<tr>
<td>SQLEndTran</td>
<td>* (Only returns SQL_SUCCESS. SQL_ERROR, SQL_INVALID_HANDLE)</td>
</tr>
<tr>
<td>SQLError</td>
<td></td>
</tr>
<tr>
<td>SQLExecDirect</td>
<td></td>
</tr>
<tr>
<td>SQLExecute</td>
<td></td>
</tr>
<tr>
<td>SQLFetch</td>
<td></td>
</tr>
<tr>
<td>SQLFetchScroll</td>
<td>Only return SQL_SUCCESS</td>
</tr>
<tr>
<td>SQLForeignKeys</td>
<td>Only return SQL_SUCCESS</td>
</tr>
<tr>
<td>SQLFreeHandle</td>
<td></td>
</tr>
<tr>
<td>SQLFreeStmt</td>
<td></td>
</tr>
<tr>
<td>SQLGetConnectAttr</td>
<td>Only return SQL_SUCCESS</td>
</tr>
<tr>
<td>SQLGetCursorName</td>
<td>Only return SQL_SUCCESS</td>
</tr>
<tr>
<td>SQLGetData</td>
<td></td>
</tr>
<tr>
<td>SQLGetDescField</td>
<td></td>
</tr>
<tr>
<td>SQLGetDescRec</td>
<td></td>
</tr>
<tr>
<td>SQLGetDiagField</td>
<td>Only return SQL_SUCCESS</td>
</tr>
<tr>
<td>SQLGetDiagRec</td>
<td></td>
</tr>
<tr>
<td>SQLGetEnvAttr</td>
<td> (only some parameters are supported)</td>
</tr>
<tr>
<td>SQLGetFunctions</td>
<td></td>
</tr>
<tr>
<td>SQLGetInfo</td>
<td></td>
</tr>
<tr>
<td>SQLGetStmtAttr</td>
<td> (with some unsupported parameters)</td>
</tr>
<tr>
<td>SQLGetTypeInfo</td>
<td></td>
</tr>
<tr>
<td>SQLMoreResults</td>
<td></td>
</tr>
<tr>
<td>SQLNativeSql</td>
<td>Only return SQL_SUCCESS</td>
</tr>
<tr>
<td>SQLNumResultCols</td>
<td></td>
</tr>
<tr>
<td>SQLParamData</td>
<td></td>
</tr>
<tr>
<td>SQLPrepare</td>
<td></td>
</tr>
<tr>
<td>SQLPrimaryKeys</td>
<td></td>
</tr>
<tr>
<td>SQLProcedureColumns</td>
<td>Only return SQL_SUCCESS</td>
</tr>
<tr>
<td>SQLProcedures</td>
<td>Only return SQL_SUCCESS</td>
</tr>
<tr>
<td>SQLPutData</td>
<td></td>
</tr>
<tr>
<td>SQLRowCount</td>
<td>Only return SQL_SUCCESS</td>
</tr>
<tr>
<td>SQLSetDescField</td>
<td></td>
</tr>
<tr>
<td>SQLSetDescRec</td>
<td></td>
</tr>
<tr>
<td>SQLSetEnvAttr</td>
<td>Only return SQL_SUCCESS</td>
</tr>
<tr>
<td>SQLSetStmtAttr</td>
<td>Only return SQL_SUCCESS</td>
</tr>
<tr>
<td>SQLSpecialColumns</td>
<td> (Returns SUCCESS and only generates an empty ResultSet)</td>
</tr>
<tr>
<td>SQLStatistics</td>
<td></td>
</tr>
<tr>
<td>SQLTablePrivileges</td>
<td></td>
</tr>
<tr>
<td>SQLTables</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>: Supported</li>
<li>partly supported with matters that require attention</li>
<li>: Not supported.</li>
</ul>
<p>See below for the API specifications.</p>
<ul>
<li>ODBC API Implementation Details
<ul>
<li><a href="https://msdn.microsoft.com/ja-jp/library/ms131675.aspx">https://msdn.microsoft.com/ja-jp/library/ms131675.aspx</a></li>
</ul>
</li>
</ul>
<h2 id="----samples----">&mdash; Samples &mdash;</h2>
<p>Sample programs in the C language using ODBC API and VisualStudio project files are included in the file &ldquo;gridstore-odbc-sample.zip&rdquo;. (These are stored under \Windows\ODBC in the installation media.)</p>
<p>The samples are written and tested (operation check) in VisualStudio 2005 SP1.</p>
<ul>
<li>GridStoreODBC-sample.sln
<ul>
<li>VisualStudio solution file</li>
</ul>
</li>
<li>GridStoreODBC-sample.cpp
<ul>
<li>Sample source</li>
</ul>
</li>
<li>GridStoreODBC-sample.vcproj
<ul>
<li>Project file</li>
</ul>
</li>
</ul>
<p>Try to perform table creation, data registration, and search. The project settings are configured for 64-bit and 32-bit use.</p>
<p>The following ODBC data source settings are required to execute a program.</p>
<p><strong>For 64-bit</strong></p>
<ul>
<li>Data source name: GridStoreODBC-test64bit</li>
</ul>
<p><strong>For 32-bit</strong></p>
<ul>
<li>Data source name: GridStoreODBC-test32bit</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0af3751c34a2567442f2fd009d63dcbd">9 - API Reference</h1>
    <div class="lead">API Reference</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-8ae19027774f01ff05bede0e4d357a34">9.1 - Java API Reference</h1>
    <div class="lead">Describes how to use GridDB&rsquo;s native Java API</div>
	<p>This document describes the Java API specifications and other information for developing user application programs using Java with GridDB&rsquo;s NoSQL interface.
This Java API reference is common to both GridDB Community Edition and GridDB Enterprise Edition.<br></p>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">warning</h4>

    In GridDB Community Edition, table partitioned tables (containers) cannot be manipulated.

</div>

<h5><a href="./md_reference_java_api.html">Java API Reference</a></h5>

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-1edbf5f3e956b064ef3d31827667d9ae">9.2 - C API Reference</h1>
    <div class="lead">Describes how to use GridDB&rsquo;s native C API</div>
	<p>This document describes the specifications of the C API for developing user application programs using the C language with GridDB&rsquo;s NoSQL interface. <br>
This C API reference is common to both GridDB Community Edition and GridDB Enterprise Edition.</p>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">warning</h4>

    C API <b>spatial data </b>is <b>not supported</b> in the current version of GridDB Community Edition. Use Java API.

</div>

<h5><a href="./md_reference_c_api.html">C API Reference</a></h5>
~                                                         

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-015ea1c53bdd7a397f562e91680c6313">9.3 - Web API Reference</h1>
    <div class="lead">Describes how to connect to GridDB via the HTTP protocol</div>
	<h2 id="----web-api----">&mdash; Web API &mdash;</h2>
<h2 id="overview">Overview</h2>
<p>GridDB provides a Web API to register rows, acquire rows and execute TQL and SQL statements for the GridDB cluster.  The Web API is configured as a web application.</p>
<figure>
  <img src="img/webapi-overview.png" alt="Web API" width="650"/>
  <figcaption>Web API</figcaption>
</figure>
<p>The functions of GridDB Web API are shown below.</p>
<ul>
<li>Row acquisition
<ul>
<li>Acquires rows from a container.</li>
<li>Acquires rows from multiple containers.</li>
</ul>
</li>
<li>Row registration
<ul>
<li>Registers rows in a container.</li>
<li>Registers rows in multiple containers.</li>
</ul>
</li>
<li>Database connection confirmation
<ul>
<li>Checks connection to a database.</li>
</ul>
</li>
<li>Container list acquisition
<ul>
<li>Acquires a container list from a database.</li>
</ul>
</li>
<li>Container information acquisition
<ul>
<li>Acquires container information (column etc.) from a container.</li>
</ul>
</li>
<li>TQL statement execution
<ul>
<li>Executes multiple SQL statements and acquires the results.</li>
</ul>
</li>
<li>Row deletion
<ul>
<li>Deletes a row from a container.</li>
</ul>
</li>
<li>Container creation
<ul>
<li>Creates a new container for a database.</li>
</ul>
</li>
<li>Container deletion
<ul>
<li>Deletes a container from a database.</li>
</ul>
</li>
<li>SQL SELECT execution
<ul>
<li>Executes a SQL SELECT statement.</li>
</ul>
</li>
<li>SQL UPDATE execution
<ul>
<li>Executes a SQL UPDATE statement.</li>
</ul>
</li>
</ul>
<h2 id="using-web-api">Using Web API</h2>
<p>To use Web API, Java must be installed beforehand. The compatible versions are:</p>
<ul>
<li>Oracle Java 8</li>
<li>Oracle Java 11</li>
<li>RedHat OpenJDK 8</li>
<li>RedHat OpenJDK 11</li>
</ul>
<p>The procedure to install and configure the Web API is as follows:</p>
<ol>
<li>Installation of a library package</li>
<li>Installation of the Web API package</li>
<li>Setting of the destination cluster</li>
<li>Setting of the Web API operation (optional)</li>
<li>Setting of the log output destination (optional)</li>
</ol>
<h3 id="installation-of-a-library-package">Installation of a library package.</h3>
<p>Install the following package:</p>
<ul>
<li>Java library package (griddb-ee-java-lib-XX.X-linux.x86_64.rpm)</li>
</ul>
<p>Log into a machine installed with the Web API as a root user, and install the package using the command below.</p>
<pre tabindex="0"><code class="language-example" data-lang="example"># rpm -Uvh griddb-ee-java-lib-X.X.X-linux.x86_64.rpm
</code></pre><p>*X.X.X indicates the GridDB version.</p>
<h3 id="installation-of-the-web-api-package">Installation of the Web API package.</h3>
<p>Install the Web API package (griddb-ee-webapi-XX.X-linux.x86_64.rpm).</p>
<p>Log into a machine installed with the Web API as a root user, and install the package using the command below.</p>
<pre tabindex="0"><code class="language-example" data-lang="example"># rpm -Uvh griddb-ee-webapi-X.X.X-linux.x86_64.rpm
</code></pre><p>*X.X.X indicates the GridDB version.</p>
<p>After installation, the .jar file and the setup directory for Web API are installed as follows:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">/usr/griddb-ee-webapi-X.X.X/                             : Web API installation directory
                     conf/
                     etc/
                     griddb-webapi-ee-X.X.X.jar          : Web API jar file

/usr/girddb-webapi/griddb-webapi.jar -&gt; /usr/griddb-ee-webapi-X.X.X/griddb-webapi-ee-X.X.X.jar

/var/lib/gridstore/webapi/conf/griddb_webapi.properties  : Configuration file
                              /repository.json           : Cluster information definition file
                         /log                            : Log output directory
</code></pre><h3 id="setting-of-the-destination-cluster">Setting of the destination cluster</h3>
<p>Specify the information of the cluster to be connected from the Web API in the cluster information definition file (<code>/var/lib/gridstore/webapi/conf/repository.json</code>).</p>
<p>Based on the value of the cluster definition file (gs_cluster.json) of the cluster to be connected, specify the cluster configuration method to &ldquo;mode&rdquo;, and the address information corresponding to the method.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>JSON data type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>clusters</td>
<td>array</td>
<td>An array of cluster information</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Cluster name</td>
</tr>
<tr>
<td>mode</td>
<td>string</td>
<td>Connection method (MULTICASTFIXED_LISTPROVIDER )</td>
</tr>
<tr>
<td>(mode=MULTICAST)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>address</td>
<td>string</td>
<td>Multicast address for row registration and acquisition</td>
</tr>
<tr>
<td>port</td>
<td>integer</td>
<td>Multicast port for row registration and acquisition</td>
</tr>
<tr>
<td>jdbcAddress</td>
<td>string</td>
<td>Multicast address for SQL execution</td>
</tr>
<tr>
<td>jdbcPort</td>
<td>integer</td>
<td>Multicast port for SQL execution</td>
</tr>
<tr>
<td>(mode=FIXED_LIST)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>transactionMember</td>
<td>string</td>
<td>address and port for row registration and acquisition</td>
</tr>
<tr>
<td>sqlMember</td>
<td>string</td>
<td>address and port for SQL execution</td>
</tr>
<tr>
<td>(mode=PROVIDER)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>providerUrl</td>
<td>string</td>
<td>Provider URL for all functions</td>
</tr>
</tbody>
</table>
<p>Example for the multicast method</p>
<pre tabindex="0"><code>{
  &#34;clusters&#34; : [
    {
      &#34;name&#34; : &#34;myCluster&#34;,
      &#34;mode&#34; : &#34;MULTICAST&#34;,
      &#34;address&#34; : &#34;239.0.0.111&#34;,
      &#34;port&#34; : 31999
    }
  ]
}
</code></pre><p>[Memo]</p>
<ul>
<li>If the contents of repository.json are invalid (e.g., format error, mandatory parameter not defined, etc.), a Web API startup will result in an error.</li>
</ul>
<h3 id="setting-of-web-api-behavior-optional">Setting of Web API behavior (optional)</h3>
<p>Set Web API behavior in the configuration file (<code>/var/lib/gridstore/webapi/conf/griddb_webapi.properties</code>).</p>
<p>Even without changing the initial settings, Web API can work while all the parameters remain at the default values. Change the values as required by the system.</p>
<h4 id="griddb-configuration">GridDB configuration</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td>failoverTimeout</td>
<td>The failover time (in seconds) during which the Web API retries after detecting a node failure in accessing GridDB.</td>
<td>5</td>
</tr>
<tr>
<td>transactionTimeout</td>
<td>The maximum amount of time between the start and end of a transaction (in seconds).</td>
<td>30</td>
</tr>
<tr>
<td>containerCacheSize</td>
<td>The maximum number of the container information to be cached.</td>
<td>100</td>
</tr>
</tbody>
</table>
<h4 id="web-api-configuration">Web API configuration</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td>port</td>
<td>Web API service port (integer from 1 to 65535)</td>
<td>8081</td>
</tr>
<tr>
<td>maxResponseSize</td>
<td>The upper limit of the size for row acquisition, SQL execution, and TQL execution (MB) (integer from 1 to 2048)</td>
<td>20</td>
</tr>
<tr>
<td>maxRequestSize</td>
<td>The upper size limit for row registration (MB) (1-2048)</td>
<td>20</td>
</tr>
<tr>
<td>loginTimeout</td>
<td>The connection timeout time (in seconds) for SQL execution<br>(Specify an integer value for this field. If the value is less than or equal to zero, an SQL statement cannot be executed.)</td>
<td>5</td>
</tr>
<tr>
<td>maxQueryNum</td>
<td>Maximum number of queries that can be included in one request (integer from 0 to 100)</td>
<td>10</td>
</tr>
<tr>
<td>maxLimit</td>
<td>Maximum number of rows that can be acquired at a time when executing SQL or TQL (integer of 1 or more)</td>
<td>10000</td>
</tr>
<tr>
<td>timeZone</td>
<td>Specify the time (in hh:mm or hhmm), time zone ID (only &ldquo;Z&rdquo; is supported), or AUTO (to take over the JavaVM environment) as a time zone to be used in the offset calculation to retrieve time information in SQL and TQL.</td>
<td>Z</td>
</tr>
<tr>
<td>authenticationMethod</td>
<td>Specify either INTERNAL (internal authentication) or LDAP (LDAP authentication) as an authentication method to be used.</td>
<td>dependent on the GridDB cluster settings</td>
</tr>
<tr>
<td>notificationInterfaceAddress</td>
<td>To configure the cluster network in multicast mode when multiple network interfaces are available, specify the IP address of the interface to receive the multicast packets from.</td>
<td>OS-dependent</td>
</tr>
<tr>
<td>sslMode</td>
<td>For SSL connection settings, specify DISABLED (SSL is invalid), PREFERRED (SSL is valid, and non-SSL connections are also allowed.), or VERIFY (SSL is valid, and server certificate verification is performed.).</td>
<td>PREFERRED</td>
</tr>
<tr>
<td>blobPath</td>
<td>Directory used to store temporary data in processing BLOB data as a zip file</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>The Web API needs to be restarted to reflect the environment settings.</li>
<li>For details on LDAP authentication and SSL connection, see the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>.</li>
<li>If the SSL connection settings are invalid on the GridDB cluster, SSL communications cannot be enabled regardless of the settings of this tool.</li>
<li>To specify VERIFY for the settings for SSL communications (sslMode), a certificate by the Certificate Authority (CA) is required; import the certificate using the keytool command. To set a truststore (-Djavax.net.ssl.trustStore) and a password (-Djavax.net.ssl.trustStorePassword) as arguments upon launching java, specify them for the environment variable <code>GS_COMMON_JVM_ARGS</code>. Note that the Web API does not support the checking of the expiration date of a CA certificate to ensure it is valid.</li>
<li>Set the environment variable <code>GS_COMMON_JVM_ARGS</code> in /etc/environment, referring to the example below. Restart the Web API to apply the settings.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">GS_COMMON_JVM_ARGS=&#34;-Djavax.net.ssl.trustStore=/var/lib/gridstore/admin/keystore.jks -Djavax.net.ssl.trustStorePassword=changeit&#34;
</code></pre><ul>
<li>To enable SSL communications between the client and the Web API ., set up /usr/griddb-webui/application.properties by referring to the following:</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">server.ssl.enabled=true
server.port=8443
server.ssl.key-store-type=JKS
server.ssl.key-store=/var/lib/gridstore/admin/keystore.jks
server.ssl.key-store-password=changeit
server.ssl.key-alias=tomcat
</code></pre><h3 id="setting-of-the-log-output-destination-optional">Setting of the log output destination (optional)</h3>
<p>The Web API logs are output to the following directory by default.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">/var/lib/gridstore/webapi/log
</code></pre><p>To change the output directory, edit the following file:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">/var/lib/gridstore/webapi/conf/logback.xml
</code></pre><h3 id="starting-and-stopping">Starting and stopping</h3>
<p>Web API applications can be started and stopped using the service command.</p>
<pre tabindex="0"><code class="language-example" data-lang="example"># service griddb-webapi [start|stop|status|restart]
</code></pre><h2 id="common-functions-http-requestresponse">Common functions (HTTP request/response)</h2>
<p>This chapter describes the HTTP request/response part common to each function.</p>
<h3 id="uri">URI</h3>
<p>The URI to be accessed when using the Web API.</p>
<p><code>http://(Web API server IP) :(port)/griddb/v2/(command path)</code></p>
<p>[Memo]</p>
<ul>
<li>For &ldquo;(command path)&rdquo; above, see the section on each function.</li>
<li>Operations on clusters, databases and containers whose name contains any special characters (&rsquo;-&rsquo;, &lsquo;.&rsquo;, &lsquo;/&rsquo;, &lsquo;=&rsquo;) cannot be performed in the Web API.</li>
</ul>
<p><a id="request_header"></a></p>
<h3 id="request-header">Request header</h3>
<p>Specify the following headers to the request header (common to all APIs):</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>&ldquo;application/json; charset=UTF-8&rdquo;</td>
<td></td>
</tr>
<tr>
<td>Authorization</td>
<td>Specify the user and password to access GridDB in the user: password format (Basic authentication)</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="request-body">Request body</h3>
<p>Specify the request body in JSON format. Please refer to the JSON format of each functions.</p>
<p>[Memo]</p>
<ul>
<li>
<p>Write JSON format data in UTF-8.</p>
</li>
<li>
<p>Write the date in UTC using the following format:</p>
<ul>
<li>YYYY-MM-DDThh:mm:ss.SSSZ</li>
</ul>
</li>
<li>
<p>Otherwise, an error will occur.</p>
<ul>
<li>Example:
<ul>
<li>2016/01/17T14: 32: 33.888Z &hellip; Error due to a year, month and date separator error</li>
<li>2016-01-18 &hellip; Error because time is not specified</li>
</ul>
</li>
</ul>
</li>
<li>
<p>The maximum size of JSON data in the request body can be set in <code> griddb_webapi.properties</code> as below (unit: MB):</p>
<pre tabindex="0"><code>maxRequestSize=20
</code></pre></li>
</ul>
<h3 id="response-code">Response code</h3>
<p>Refer to the section on each function for the response code.</p>
<p><a id="response_body"></a></p>
<h3 id="response-body">Response body</h3>
<p>Refer to the section on each function for the response body when the processing succeeds.</p>
<p>If the processing fails, an error message is returned in the following format:</p>
<pre tabindex="0"><code>{
  &#34;version&#34;:&#34;v2&#34;,
  &#34;errorCode&#34;:&#34;Error code&#34;,
  &#34;errorMessage&#34;:&#34;Error message&#34;
}
</code></pre><p>[Memo]</p>
<ul>
<li>
<p>The maximum size of JSON data in the response body can be set in <code> griddb_webapi.properties</code> as below (unit: MB):</p>
<pre tabindex="0"><code>maxResponseSize=20
</code></pre></li>
</ul>
<h2 id="row-acquisition">Row acquisition</h2>
<h3 id="row-acquisition-from-a-single-container">Row acquisition from a single container</h3>
<p>This function acquires rows from a container (table). It is also possible to narrow down the rows to be acquired by specifying conditions.</p>
<p><strong>Path</strong></p>
<p><code>/:cluster/dbs/:database/containers/:container/rows</code></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>:cluster</td>
<td>cluster name</td>
</tr>
<tr>
<td>:database</td>
<td>database name (Specify &ldquo;public&rdquo; for a public database)</td>
</tr>
<tr>
<td>:container</td>
<td>container (table) name</td>
</tr>
</tbody>
</table>
<p><strong>HTTP method</strong></p>
<p>POST</p>
<p><strong>Request header</strong></p>
<p>Refer to the <a href="#request_header">request header</a>.</p>
<p><strong>Request body</strong></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>/offset</td>
<td>Acquisition start position</td>
<td>an integer from 0</td>
<td>-</td>
</tr>
<tr>
<td>/limit</td>
<td>The number of rows to be acquired</td>
<td>an integer from 1</td>
<td></td>
</tr>
<tr>
<td>/condition</td>
<td>Conditional expression (For details, see the &ldquo;<a href="../11.md_reference_tql/md_reference_tql.md">GridDB TQL Reference</a>&rdquo;.)</td>
<td>string</td>
<td>-</td>
</tr>
<tr>
<td>/sort</td>
<td>Sorting condition (ascending or descending order of values of a specified column; specified as &ldquo;column name asc&rdquo; or &ldquo;column name desc&rdquo; )</td>
<td>string</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>If the value specified by limit is greater than the value of maxLimit in the configuration file, the value of maxLimit is used in the limit clause.</li>
</ul>
<p>The example below acquires row data with a column &ldquo;id&rdquo; value of 50 or more, sorts it in descending order by the value of &ldquo;id&rdquo;, and acquires 100 values from the 11th row.</p>
<pre tabindex="0"><code>{
  &#34;offset&#34; : 10,
  &#34;limit&#34;  : 100,
  &#34;condition&#34; : &#34;id &gt;= 50&#34;,
  &#34;sort&#34; : &#34;id desc&#34;
}
</code></pre><p><strong>Response code</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Success</td>
</tr>
<tr>
<td>400</td>
<td>Incorrect request data</td>
</tr>
<tr>
<td>401</td>
<td>An authentication error, a connection error</td>
</tr>
<tr>
<td>404</td>
<td>The specified resource is not found</td>
</tr>
<tr>
<td>500</td>
<td>An error occurs in Web API or GridDB</td>
</tr>
</tbody>
</table>
<p><strong>Response body</strong></p>
<p>Acquired rows will be returned as the following JSON data:</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
</tr>
</thead>
<tbody>
<tr>
<td>/columns</td>
<td>An array of column information</td>
<td>array</td>
</tr>
<tr>
<td>/columns/name</td>
<td>Column name</td>
<td>string</td>
</tr>
<tr>
<td>/columns/type</td>
<td>JSON Data type</td>
<td>string</td>
</tr>
<tr>
<td>/columns/rows</td>
<td>An array of rows</td>
<td>array</td>
</tr>
<tr>
<td>/total</td>
<td>Number of rows acquired when offset and limit are ignored</td>
<td>number</td>
</tr>
<tr>
<td>/offset</td>
<td>Acquisition start position</td>
<td>number</td>
</tr>
<tr>
<td>/limit</td>
<td>Number of acquisitions applied</td>
<td>number</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre tabindex="0"><code>{
  &#34;columns&#34; : [
    {&#34;name&#34;: &#34;date&#34;, &#34;type&#34;: &#34;TIMESTAMP&#34; },
    {&#34;name&#34;: &#34;value&#34;, &#34;type&#34;: &#34;DOUBLE&#34; },
    {&#34;name&#34;: &#34;str&#34;, &#34;type&#34;: &#34;STRING&#34; }
  ],
  &#34;rows&#34; : [
    [&#34;2016-01-16T10:25:00.253Z&#34;, 100.5, &#34;normal&#34; ],
    [&#34;2016-01-16T10:35:00.691Z&#34;, 173.9, &#34;normal&#34; ],
    [&#34;2016-01-16T10:45:00.032Z&#34;, 173.9, null ]
  ],
  &#34;total&#34; : 100000,
  &#34;offset&#34; : 0,
  &#34;limit&#34; : 3
}
</code></pre><p><a name="data-type-json-type"> Depending on the column data type, column values with the following JSON data type will be returned: </a></p>
<table>
<thead>
<tr>
<th>Classification</th>
<th>Data type</th>
<th></th>
<th>JSON data type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Primitive</td>
<td>Boolean type</td>
<td>BOOL</td>
<td>Boolean (true/false)</td>
<td>true</td>
</tr>
<tr>
<td></td>
<td>String type</td>
<td>STRING</td>
<td>String</td>
<td>&ldquo;GridDB&rdquo;</td>
</tr>
<tr>
<td></td>
<td>Integer type</td>
<td>BYTE/SHORT/INTEGER/LONG</td>
<td>Number</td>
<td>512</td>
</tr>
<tr>
<td></td>
<td>Floating point type</td>
<td>FLOAT/DOUBLE</td>
<td>Number</td>
<td>593.5</td>
</tr>
<tr>
<td></td>
<td>Date and time type</td>
<td>TIMESTAMP</td>
<td>Text string<br>UTC<br>format<br>YYYY-MM-DDThh:mm:ss.SSSZ</td>
<td>&ldquo;2016-01-16T10:25:00.253Z&rdquo;</td>
</tr>
<tr>
<td></td>
<td>Spatial-type</td>
<td>GEOMETRY</td>
<td>Text string (WKT representation)</td>
<td>POLYGON((0 0,10 0,10 10,0 10,0 0))</td>
</tr>
<tr>
<td></td>
<td>BLOB type</td>
<td>BLOB</td>
<td>string</td>
<td>&ldquo;UEsDBAoAAAgAADS4PFIAAAAAAAAAAAA&hellip;&rdquo;</td>
</tr>
<tr>
<td>Array</td>
<td>Boolean type</td>
<td>BOOL</td>
<td>Array of Boolean values</td>
<td>[true, false, true]\</td>
</tr>
<tr>
<td></td>
<td>String type</td>
<td>STRING</td>
<td>Array of text string values</td>
<td>[&ldquo;A&rdquo;,&ldquo;B&rdquo;,&ldquo;C&rdquo;]</td>
</tr>
<tr>
<td></td>
<td>Integer type</td>
<td>BYTE/SHORT/INTEGER/LONG</td>
<td>Array of numbers</td>
<td>[100, 39, 535]</td>
</tr>
<tr>
<td></td>
<td>Floating point type</td>
<td>FLOAT/DOUBLE</td>
<td>Array of numbers</td>
<td>[3.52, 6.94, 1.83]</td>
</tr>
<tr>
<td></td>
<td>Date and time type</td>
<td>TIMESTAMP</td>
<td>Array of text string values<br>(The format is the same as the format for the primitive date and time type)</td>
<td>[&ldquo;2016-01-16T10:25:00.253Z&rdquo;, &ldquo;2016-01-17T01:42:53.038Z&rdquo;]</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>BLOB data is returned in base64 format; thus, base64 data needs to be decoded after obtaining BLOB data.</li>
<li>If the column value is NULL, null is returned for the column in JSON data.</li>
</ul>
<h3 id="row-acquisition-from-a-single-container-blob-data-as-a-zip-file">Row acquisition from a single container (BLOB data as a zip file)</h3>
<p>This function acquires rows from a container (table). If the container has a BLOB column, BLOB data is returned as a zip file. It is also possible to narrow down the rows to be acquired by specifying conditions.</p>
<p><strong>Path</strong></p>
<p><code>/:cluster/dbs/:database/containers/:container/rows/blob</code></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>:cluster</td>
<td>cluster name</td>
</tr>
<tr>
<td>:database</td>
<td>database name (Specify &ldquo;public&rdquo; for a public database)</td>
</tr>
<tr>
<td>:container</td>
<td>container (table) name</td>
</tr>
</tbody>
</table>
<p><strong>HTTP method</strong></p>
<p>POST</p>
<p><strong>Request header</strong></p>
<p>Refer to the <a href="#request_header">request header</a>.</p>
<p><strong>Request body</strong></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>/offset</td>
<td>Acquisition start position</td>
<td>an integer from 0</td>
<td>-</td>
</tr>
<tr>
<td>/limit</td>
<td>The number of rows to be acquired</td>
<td>an integer from 1</td>
<td></td>
</tr>
<tr>
<td>/condition</td>
<td>Conditional expression (For details, see the &ldquo;<a href="../11.md_reference_tql/md_reference_tql.md">GridDB TQL Reference</a>&rdquo;.)</td>
<td>string</td>
<td>-</td>
</tr>
<tr>
<td>/sort</td>
<td>Sorting condition (ascending or descending order of values of a specified column; specified as &ldquo;column name asc&rdquo; or &ldquo;column name desc&rdquo; )</td>
<td>string</td>
<td>-</td>
</tr>
<tr>
<td>/fileNameCol</td>
<td>The name of a column in the container whose value is used to name BLOB data files</td>
<td>string</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>If the value specified by limit is greater than the value of maxLimit in the configuration file, the value of maxLimit is used in the limit clause.</li>
<li>By default, BLOB data for each row is saved to a file with a random name without a file extension. The Web API has an option to set the name of a BLOB data file by a value of another column. For example, if a table has the string column <code>file_name</code> that stores file names of BLOB data, by option, the values of this column can be used to set the name of BLOB data file of each row: <code>{&quot;fileNameCol&quot;: &quot;&lt;column_name&gt;&quot;}</code></li>
</ul>
<p>The following example acquires row data with the column &ldquo;id&rdquo; value of 50 or more, sorts it in descending order by the value of &ldquo;id&rdquo;, acquires 100 values from the 10th row, and uses the value in the column <code>file_name</code> to name BLOB data files.</p>
<pre tabindex="0"><code>{
  &#34;offset&#34; : 10,
  &#34;limit&#34; : 100,
  &#34;condition&#34; : &#34;id &gt;= 50&#34;,
  &#34;sort&#34; : &#34;id desc&#34;,
  &#34;fileNameCol&#34;: &#34;file_name&#34;
}
</code></pre><p><strong>Response code</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Success</td>
</tr>
<tr>
<td>400</td>
<td>Incorrect request data</td>
</tr>
<tr>
<td>401</td>
<td>An authentication error, a connection error</td>
</tr>
<tr>
<td>404</td>
<td>The specified resource is not found</td>
</tr>
<tr>
<td>500</td>
<td>An error occurs in Web API or GridDB</td>
</tr>
</tbody>
</table>
<p><strong>Response body</strong></p>
<p>The response body is returned as the following form data:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
<th>Content type</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td>The zip file contains all BLOB data files.<br/>A random name generated as a name of the zip file is attached to a response.</td>
<td>application/zip</td>
</tr>
<tr>
<td>rows</td>
<td>Data of a non-BLOB column</td>
<td>application/json</td>
</tr>
</tbody>
</table>
<p>The value of <code>rows</code> is returned as the following JSON data:</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
</tr>
</thead>
<tbody>
<tr>
<td>/columns</td>
<td>An array of column information</td>
<td>array</td>
</tr>
<tr>
<td>/columns/name</td>
<td>Column name</td>
<td>string</td>
</tr>
<tr>
<td>/columns/type</td>
<td>Column data type</td>
<td>string</td>
</tr>
<tr>
<td>/rows</td>
<td>An array of rows</td>
<td>array</td>
</tr>
<tr>
<td>/total</td>
<td>Number of rows acquired when offset and limit are ignored</td>
<td>number</td>
</tr>
<tr>
<td>/offset</td>
<td>Acquisition start position</td>
<td>number</td>
</tr>
<tr>
<td>/limit</td>
<td>Number of acquisitions applied</td>
<td>number</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>IF the container does not have a BLOB column, or the query result has no BLOB data, this API returns a zip file with no file inside.</li>
<li>If the container has two or more BLOB columns, the BLOB data files have the same name with a prefix number attached. e.g. 1_picture.jpg and 2_picture.jpg.</li>
<li>If the row value of <code>fileNameCol</code> has an invalid file name, the API server generates a random name.</li>
<li>The value of a BLOB column in the JSON data is the same with the BLOB file name in a zip file, and both start with the prefix <code>(BLOB)</code>.</li>
<li>The response data has two data types: JSON data and form data. They are separated by a string that starts with the <code>--</code> prefix. The JSON data is in the first part, and the form data is in the second part. To retrieve the zip file that contains all BLOB data files, copy the binary content (start with the <code>PK</code> prefix) and save it to a file with a <code>.zip</code> extension.</li>
</ul>
<p>Example:</p>
<ul>
<li>Below is an example of a response body:</li>
</ul>
<pre tabindex="0"><code>--zO7yOzRXhcrXUbD7heAB9rGzewWDfUt
Content-Disposition: form-data; name=&#34;rows&#34;
Content-Type: application/json;charset=UTF-8

{&#34;columns&#34;:[{&#34;name&#34;:&#34;key&#34;,&#34;type&#34;:&#34;INTEGER&#34;},{&#34;name&#34;:&#34;data&#34;,&#34;type&#34;:&#34;BLOB&#34;},{&#34;name&#34;:&#34;des&#34;,&#34;type&#34;:&#34;STRING&#34;}],&#34;rows&#34;:[[1000,&#34;(BLOB)d0f925b9-884a-420a-a7a8-91c53ed7b126&#34;,&#34;lombok&#34;],[200,&#34;(BLOB)dee59ebc-2bf9-4f36-9b86-0bf72ff16e29&#34;,&#34;anh2.png&#34;]],&#34;offset&#34;:0,&#34;limit&#34;:2,&#34;total&#34;:3}
--zO7yOzRXhcrXUbD7heAB9rGzewWDfUt
Content-Disposition: form-data; name=&#34;file&#34;; filename=&#34;e17bba76-4315-4c32-9384-81fff84abc84.zip&#34;
Content-Type: application/zip
Content-Length: 1780817

PKXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
</code></pre><p>Depending on the column data type, column values with the following JSON data type will be returned:</p>
<table>
<thead>
<tr>
<th>Classification</th>
<th>Data type</th>
<th></th>
<th>JSON data type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Primitive</td>
<td>Boolean type</td>
<td>BOOL</td>
<td>Boolean (true/false)</td>
<td>true</td>
</tr>
<tr>
<td></td>
<td>String type</td>
<td>STRING</td>
<td>String</td>
<td>&ldquo;GridDB&rdquo;</td>
</tr>
<tr>
<td></td>
<td>Integer type</td>
<td>BYTE/SHORT/INTEGER/LONG</td>
<td>Number</td>
<td>512</td>
</tr>
<tr>
<td></td>
<td>Floating point type</td>
<td>FLOAT/DOUBLE</td>
<td>Number</td>
<td>593.5</td>
</tr>
<tr>
<td></td>
<td>Date and time type</td>
<td>TIMESTAMP</td>
<td>Text string<br>UTC<br>format<br>YYYY-MM-DDThh:mm:ss.SSSZ</td>
<td>&ldquo;2016-01-16T10:25:00.253Z&rdquo;</td>
</tr>
<tr>
<td></td>
<td>Spatial-type</td>
<td>GEOMETRY</td>
<td>Text string (WKT representation)</td>
<td>POLYGON((0 0,10 0,10 10,0 10,0 0))</td>
</tr>
<tr>
<td>Array</td>
<td>Boolean type</td>
<td>BOOL</td>
<td>Array of Boolean values</td>
<td>[true, false, true]\</td>
</tr>
<tr>
<td></td>
<td>String type</td>
<td>STRING</td>
<td>Array of text string values</td>
<td>[&ldquo;A&rdquo;,&ldquo;B&rdquo;,&ldquo;C&rdquo;]</td>
</tr>
<tr>
<td></td>
<td>Integer type</td>
<td>BYTE/SHORT/INTEGER/LONG</td>
<td>Array of numbers</td>
<td>[100, 39, 535]</td>
</tr>
<tr>
<td></td>
<td>Floating point type</td>
<td>FLOAT/DOUBLE</td>
<td>Array of numbers</td>
<td>[3.52, 6.94, 1.83]</td>
</tr>
<tr>
<td></td>
<td>Date and time type</td>
<td>TIMESTAMP</td>
<td>Array of text string values<br>(The format is the same as the format for the primitive date and time type)</td>
<td>[&ldquo;2016-01-16T10:25:00.253Z&rdquo;, &ldquo;2016-01-17T01:42:53.038Z&rdquo;]</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>If the column value is NULL, null is returned for the column in JSON data.</li>
</ul>
<h3 id="row-acquisition-from-multiple-containers">Row acquisition from multiple containers</h3>
<p>This function acquires rows from multiple containers (tables). It is also possible to narrow down the rows to be acquired by specifying conditions. This function is only supported for a container with a row key.</p>
<p><strong>Path</strong></p>
<p><code>/:cluster/dbs/:database/containers/rows</code></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>:cluster</td>
<td>cluster name</td>
</tr>
<tr>
<td>:database</td>
<td>database name (Specify &ldquo;public&rdquo; for a public database)</td>
</tr>
</tbody>
</table>
<p><strong>HTTP method</strong></p>
<p>POST</p>
<p><strong>Request header</strong></p>
<p>Refer to the <a href="#request_header">request header</a>.</p>
<p><strong>Request body</strong></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
<th>Required</th>
<th>Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td>/name</td>
<td>Container name</td>
<td>string</td>
<td></td>
<td>-</td>
</tr>
<tr>
<td>/startKeyValue</td>
<td>- Row key value to specify the start position to obtain row data.<br />- This applies only for a container that has a single row key with the data type LONG, INTEGER, or TIMESTAMP.<br />- When the row key is TIMESTAMP, the start key value must be in the following format: <code>yyyy-MM-ddTHH:mm:ss.SSSZ</code></td>
<td>string or number</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>/finishKeyValue</td>
<td>- Row key value to specify the last position to obtain row data.<br />- This applies only for a container that has a single row key with the data type LONG, INTEGER, or TIMESTAMP.<br />- When the row key is TIMESTAMP, the finish key value must be in the following format: <code>yyyy-MM-ddTHH:mm:ss.SSSZ</code></td>
<td>string or number</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>/keyValues</td>
<td>- List of row key values used as search conditions to obtain row data. The row data with a row key that matches with a value in this list will be returned.<br />- This applies only for a container that has a single row key with the data type STRING, LONG, INTEGER or TIMESTAMP.<br />- If <code>startKeyValue</code>, <code>finishKeyValue</code>, and <code>keyValues</code> are specified at the same time, API obtains rows using the <code>keyValues</code> condition and ignores <code>startKeyValue</code> and <code>finishKeyValue</code>.<br />- When the row key is TIMESTAMP, the key value must be in the following format: <code>yyyy-MM-ddTHH:mm:ss.SSSZ</code></td>
<td>array of strings/numbers</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>/offset</td>
<td>Acquisition start position. The offset is set for each container.</td>
<td>an integer from 0</td>
<td>-</td>
<td>0</td>
</tr>
<tr>
<td>/limit</td>
<td>The number of rows to be acquired. The limit is set for each container.</td>
<td>an integer from 1</td>
<td>-</td>
<td>10000</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>If the value specified by limit is greater than the value of maxLimit in the configuration file, the value of maxLimit is used in the limit clause.</li>
<li>BLOB data is returned in base64 format; thus, base64 data needs to be decoded after obtaining BLOB data.</li>
<li>The conditions <code>startKeyValue</code>, <code>finishKeyValue</code>, and <code>keyValues</code> are only supported for a container with a single row key.</li>
</ul>
<p>The following example acquires row data from two containers. The first container acquires row data with a key value from 0 to 100, from which 10 values from the 2nd row are acquired. The second container only acquires row data with a key value 1, 3, or 5.</p>
<pre tabindex="0"><code>[
  {
    &#34;name&#34;:&#34;container1&#34;,
    &#34;startKeyValue&#34;:0,
    &#34;finishKeyValue&#34;:100,
    &#34;limit&#34;:10,
    &#34;offset&#34;:2
  },
  {
    &#34;name&#34;:&#34;container2&#34;,
    &#34;keyValues&#34;:[1, 3, 5]
  }
]
</code></pre><p><strong>Response code</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Success</td>
</tr>
<tr>
<td>400</td>
<td>Incorrect request data</td>
</tr>
<tr>
<td>401</td>
<td>An authentication error, a connection error</td>
</tr>
<tr>
<td>404</td>
<td>The specified resource is not found</td>
</tr>
<tr>
<td>500</td>
<td>An error occurs in Web API or GridDB</td>
</tr>
</tbody>
</table>
<p><strong>Response body</strong></p>
<p>Acquired rows will be returned as the following JSON data:</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
</tr>
</thead>
<tbody>
<tr>
<td>/container</td>
<td>Container name</td>
<td>string</td>
</tr>
<tr>
<td>/columns</td>
<td>An array of column information</td>
<td>array</td>
</tr>
<tr>
<td>/columns/name</td>
<td>Column name</td>
<td>string</td>
</tr>
<tr>
<td>/columns/type</td>
<td>JSON data type</td>
<td>string</td>
</tr>
<tr>
<td>/results</td>
<td>An array of rows</td>
<td>array</td>
</tr>
<tr>
<td>/total</td>
<td>Number of rows acquired when offset and limit are ignored</td>
<td>number</td>
</tr>
<tr>
<td>/offset</td>
<td>Acquisition start position</td>
<td>number</td>
</tr>
<tr>
<td>/limit</td>
<td>Number of acquisitions applied</td>
<td>number</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre tabindex="0"><code>[
  {
    &#34;container&#34;:&#34;container1&#34;,
    &#34;columns&#34;: [
      { &#34;name&#34;:&#34;date&#34;, &#34;type&#34;:&#34;TIMESTAMP&#34; },
      { &#34;name&#34;:&#34;value&#34;, &#34;type&#34;:&#34;DOUBLE&#34; },
      { &#34;name&#34;:&#34;str&#34;, &#34;type&#34;:&#34;STRING&#34; }
    ],
    &#34;results&#34;: [
      [&#34;2016-01-16T10:25:00.253Z&#34;, 100.5, &#34;normal&#34;],
      [&#34;2016-01-16T10:35:00.691Z&#34;, 173.9, &#34;normal&#34;],
      [&#34;2016-01-16T10:45:00.032Z&#34;, 173.9, null]
    ],
    &#34;total&#34;:100,
    &#34;offset&#34;:0,
    &#34;limit&#34;:3
  },
  {
    &#34;container&#34;:&#34;container2&#34;,
    &#34;columns&#34;: [
      { &#34;name&#34;:&#34;date&#34;, &#34;type&#34;:&#34;STRING&#34; },
      { &#34;name&#34;:&#34;value&#34;, &#34;type&#34;:&#34;LONG&#34; }
    ],
    &#34;results&#34;: [
      [&#34;string1&#34;, 100],
      [&#34;string2&#34;, 173],
      [&#34;string3&#34;, 200]
    ],
    &#34;total&#34;:10000,
    &#34;offset&#34;:0,
    &#34;limit&#34;:10000
  }
]
</code></pre><p>Depending on the column data type, column values with the following JSON data type will be returned:
Refer to <a href="#data-type-json-type">this section</a>.</p>
<p>[Memo]</p>
<ul>
<li>If the column value is NULL, null is returned for the column in JSON data.</li>
</ul>
<h2 id="row-registration">Row registration</h2>
<h3 id="row-registration-in-a-single-container">Row registration in a single container</h3>
<p>This function registers rows in a container.</p>
<p>Specify the rows to be registered in JSON format. Multiple rows can be registered in one container.</p>
<p>[Memo]</p>
<ul>
<li>The data of one row / multiple rows can be specified and registered in one container.</li>
<li>The container to be registered must exist.</li>
<li>If the container has a row key that already exists in the container, that row will be updated. If the container has a row key that does not exist in the container, a row will be newly created.</li>
<li>If the container has no row key, all rows will be newly created.</li>
<li>The Web API supports BLOB data in base64 format. Thus, base64 BLOB data needs to be encoded before specifying it to the request body.</li>
<li>When an exception occurs during row registration, only some rows may be registered. Therefore, when retrying a request with an HTTP client during an exception, the same row data may be registered duplicately if a container has no row key.</li>
</ul>
<p><strong>Path</strong></p>
<p><code>/:cluster/dbs/:database/containers/:container/rows</code></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>:cluster</td>
<td>cluster name</td>
</tr>
<tr>
<td>:database</td>
<td>database name (Specify &ldquo;public&rdquo; for a public database)</td>
</tr>
<tr>
<td>:container</td>
<td>container (table) name</td>
</tr>
</tbody>
</table>
<p><strong>HTTP method</strong></p>
<p>PUT</p>
<p><strong>Request header</strong></p>
<p>Refer to the <a href="#request_header">request header</a>.</p>
<p><strong>Request body</strong></p>
<p>Specify the rows as the following JSON format:</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>/(row)</td>
<td>Row (an array of column values)</td>
<td>Array</td>
<td></td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre tabindex="0"><code>[
  [&#34;2016-01-16T10:25:00.253Z&#34;, 100.5, &#34;normal&#34;],
  [&#34;2016-01-16T10:35:00.691Z&#34;, 173.9, &#34;normal&#34;],
  [&#34;2016-01-16T10:45:00.032Z&#34;, 173.9, null]
]
</code></pre><p><a name="data-type-json-type-registration"> Depending on the column data type, describe a column value with the following JSON data type:</a></p>
<table>
<thead>
<tr>
<th>Classification</th>
<th>Data type</th>
<th></th>
<th>JSON data type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Primitive</td>
<td>Boolean type</td>
<td>BOOL</td>
<td>Boolean value (true or false)<br>or character string (&ldquo;true&rdquo; or &ldquo;false&rdquo;)</td>
<td>true</td>
</tr>
<tr>
<td></td>
<td>String type</td>
<td>STRING</td>
<td>String</td>
<td>&ldquo;GridDB&rdquo;</td>
</tr>
<tr>
<td></td>
<td>Integer type</td>
<td>BYTE/SHORT/INTEGER/LONG</td>
<td>Number or text string</td>
<td>512</td>
</tr>
<tr>
<td></td>
<td>Floating point type</td>
<td>FLOAT/DOUBLE</td>
<td>Number or text string</td>
<td>593.5</td>
</tr>
<tr>
<td></td>
<td>Date and time type</td>
<td>TIMESTAMP</td>
<td>Text string<br>UTC<br>format<br>YYYY-MM-DDThh:mm:ss.SSSZ</td>
<td>&ldquo;2016-01-16T10:25:00.253Z&rdquo;</td>
</tr>
<tr>
<td></td>
<td>Spatial-type</td>
<td>GEOMETRY</td>
<td>Text string (WKT representation)</td>
<td>POLYGON((0 0,10 0,10 10,0 10,0 0))</td>
</tr>
<tr>
<td></td>
<td>BLOB type</td>
<td>BLOB</td>
<td>string</td>
<td>&ldquo;UEsDBAoAAAgAADS4PFIAAAAAAAAAAAA&hellip;&rdquo;</td>
</tr>
<tr>
<td>Array</td>
<td>Boolean type</td>
<td>BOOL</td>
<td>Boolean array or string array</td>
<td>[true, false, true]</td>
</tr>
<tr>
<td></td>
<td>String type</td>
<td>STRING</td>
<td>Array of text string values</td>
<td>[&ldquo;A&rdquo;,&ldquo;B&rdquo;,&ldquo;C&rdquo;]</td>
</tr>
<tr>
<td></td>
<td>Integer type</td>
<td>BYTE/SHORT/INTEGER/LONG</td>
<td>Numeric array or string array</td>
<td>[100, 39, 535]</td>
</tr>
<tr>
<td></td>
<td>Floating point type</td>
<td>FLOAT/DOUBLE</td>
<td>Numeric array or string array</td>
<td>[3.52, 6.94, 1.83]</td>
</tr>
<tr>
<td></td>
<td>Date and time type</td>
<td>TIMESTAMP</td>
<td>Array of text string values<br>(The format is the same as the format for the primitive date and time type)</td>
<td>[&ldquo;2016-01-16T10:25:00.253Z&rdquo;, &ldquo;2016-01-17T01:42:53.038Z&rdquo;]</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>If a NULL value (JSON data type null) is specified as a column value, the Web API operates as follows:
<ul>
<li>If the NOT NULL constraint is specified for the column, a registration error occurs.</li>
<li>Otherwise, a NULL value is registered.</li>
</ul>
</li>
</ul>
<p><strong>Response code</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Success</td>
</tr>
<tr>
<td>400</td>
<td>Incorrect request data</td>
</tr>
<tr>
<td>401</td>
<td>An authentication error, a connection error</td>
</tr>
<tr>
<td>404</td>
<td>The specified resource is not found</td>
</tr>
<tr>
<td>500</td>
<td>An error occurs in Web API or GridDB</td>
</tr>
</tbody>
</table>
<p><strong>Response body</strong></p>
<p>The response body will be returned as the following JSON data:</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
</tr>
</thead>
<tbody>
<tr>
<td>/count</td>
<td>Number of updated/inserted rows</td>
<td>Number</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre tabindex="0"><code>{
  &#34;count&#34; : 2
}
</code></pre><h3 id="row-registration-in-a-single-container-blob-data-as-a-zip-file">Row registration in a single container (BLOB data as a zip file)</h3>
<p>This function registers the rows in a container with specified BLOB data as a zip file.</p>
<p>Specify the rows to be registered in form data. Multiple rows can be registered in one container.</p>
<p>[Memo]</p>
<ul>
<li>The data of one row or multiple rows can be specified and registered in one container.</li>
<li>The container to be registered must exist.</li>
<li>If the container has a row key that already exists in the container, that row will be updated. If the container has a row key that does not exist in the container, a row will be newly created.</li>
<li>If the container has no row key, a row will be newly created.</li>
<li>When an exception occurs during row registration, only some rows may be registered. Therefore, when an HTTP client retries a request during an exception, the same row data may be registered duplicately if the container has no row key.</li>
</ul>
<p><strong>Path</strong></p>
<p><code>/:cluster/dbs/:database/containers/:container/rows/blob</code></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>:cluster</td>
<td>cluster name</td>
</tr>
<tr>
<td>:database</td>
<td>database name (Specify &ldquo;public&rdquo; for a public database)</td>
</tr>
<tr>
<td>:container</td>
<td>container (table) name</td>
</tr>
</tbody>
</table>
<p><strong>HTTP method</strong></p>
<p>PUT</p>
<p><strong>Request header</strong></p>
<p>Refer to the <a href="#request_header">request header</a>.</p>
<p><strong>Request body</strong></p>
<p>Specify the request body as the following form data:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
<th>Content type</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td>The zip file contains all BLOB data files.</td>
<td>application/zip</td>
</tr>
<tr>
<td>rows</td>
<td>A list of rows, each of which is a list of objects, that needs to be added to the container in JSON format</td>
<td>application/json</td>
</tr>
</tbody>
</table>
<p>Specify the <code>rows</code> as the following JSON data:</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>/(row)</td>
<td>Row (an array of column values)</td>
<td>Array</td>
<td></td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>
<p>The value of BLOB columns must be of string type. This is the same with a file name (case-sensitive) that is in the zip file.</p>
</li>
<li>
<p>If the value of BLOB columns is not found in the zip file, an error is returned.</p>
</li>
<li>
<p>If the zip file has a sub directory, specify the sub directory in a BLOB column value.</p>
</li>
<li>
<p>The maximum size of an upload file can be set in the application.properties file as below:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span># specifies the maximum size permitted for uploaded files. The default is 1MB
</span></span><span style="display:flex;"><span>spring.servlet.multipart.max-file-size=500MB
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># specifies the maximum size allowed for multipart/form-data requests. The default is 10MB.
</span></span><span style="display:flex;"><span>spring.servlet.multipart.max-request-size=500MB
</span></span></code></pre></div></li>
</ul>
<p>Example:</p>
<ul>
<li>
<p>If the zip file has a structure as below:</p>
<pre tabindex="0"><code>file.zip
    |----image1.png
    |----picture
            |----image2.png
</code></pre><p>Then the JSON data of <code>rows</code> in the request body should be:</p>
<pre tabindex="0"><code>[
   [&#34;5&#34;,&#34;image1.png&#34;],   
   [&#34;6&#34;,&#34;picture/image2.png&#34;]
]
</code></pre></li>
</ul>
<p>Depending on the column data type, describe a column value with the following JSON data type:</p>
<table>
<thead>
<tr>
<th>Classification</th>
<th>Data type</th>
<th></th>
<th>JSON data type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Primitive</td>
<td>Boolean type</td>
<td>BOOL</td>
<td>Boolean value (true or false)<br>or character string (&ldquo;true&rdquo; or &ldquo;false&rdquo;)</td>
<td>true</td>
</tr>
<tr>
<td></td>
<td>String type</td>
<td>STRING</td>
<td>String</td>
<td>&ldquo;GridDB&rdquo;</td>
</tr>
<tr>
<td></td>
<td>Integer type</td>
<td>BYTE/SHORT/INTEGER/LONG</td>
<td>Number or text string</td>
<td>512</td>
</tr>
<tr>
<td></td>
<td>Floating point type</td>
<td>FLOAT/DOUBLE</td>
<td>Number or text string</td>
<td>593.5</td>
</tr>
<tr>
<td></td>
<td>Date and time type</td>
<td>TIMESTAMP</td>
<td>Text string<br>UTC<br>format<br>YYYY-MM-DDThh:mm:ss.SSSZ</td>
<td>&ldquo;2016-01-16T10:25:00.253Z&rdquo;</td>
</tr>
<tr>
<td></td>
<td>Spatial-type</td>
<td>GEOMETRY</td>
<td>Text string (WKT representation)</td>
<td>POLYGON((0 0,10 0,10 10,0 10,0 0))</td>
</tr>
<tr>
<td>Array</td>
<td>Boolean type</td>
<td>BOOL</td>
<td>Boolean array or string array</td>
<td>[true, false, true]</td>
</tr>
<tr>
<td></td>
<td>String type</td>
<td>STRING</td>
<td>Array of text string values</td>
<td>[&ldquo;A&rdquo;,&ldquo;B&rdquo;,&ldquo;C&rdquo;]</td>
</tr>
<tr>
<td></td>
<td>Integer type</td>
<td>BYTE/SHORT/INTEGER/LONG</td>
<td>Numeric array or string array</td>
<td>[100, 39, 535]</td>
</tr>
<tr>
<td></td>
<td>Floating point type</td>
<td>FLOAT/DOUBLE</td>
<td>Numeric array or string array</td>
<td>[3.52, 6.94, 1.83]</td>
</tr>
<tr>
<td></td>
<td>Date and time type</td>
<td>TIMESTAMP</td>
<td>Array of text string values<br>(The format is the same as the format for the primitive date and time type)</td>
<td>[&ldquo;2016-01-16T10:25:00.253Z&rdquo;, &ldquo;2016-01-17T01:42:53.038Z&rdquo;]</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>If a NULL value (JSON data type null) is specified as a column value, the Web API operates as follows:
<ul>
<li>If the NOT NULL constraint is specified for the column, a registration error will occur.</li>
<li>Otherwise, a NULL value will be registered.</li>
</ul>
</li>
</ul>
<p><strong>Response code</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Success</td>
</tr>
<tr>
<td>400</td>
<td>Incorrect request data</td>
</tr>
<tr>
<td>401</td>
<td>An authentication error, a connection error</td>
</tr>
<tr>
<td>404</td>
<td>The specified resource is not found</td>
</tr>
<tr>
<td>500</td>
<td>An error occurs in Web API or GridDB</td>
</tr>
</tbody>
</table>
<p><strong>Response body</strong></p>
<p>If the process is successful, nothing is returned.</p>
<p>Please refer to <a href="#response_body">response body</a> in case of failure.</p>
<h3 id="row-registration-in-multiple-containers">Row registration in multiple containers</h3>
<p>This function registers rows in multiple containers.</p>
<p>Specify the rows to be registered in JSON format. Multiple rows can be registered in one container.</p>
<p>[Memo]</p>
<ul>
<li>The data of one row / multiple rows can be specified and registered in one container.</li>
<li>The containers to be registered must exist.</li>
<li>If the container has a row key that already exists in the container, that row will be updated. If the container has a row key that does not exist in the container, a row will be newly created.</li>
<li>If the container has no row key, all rows will be newly created.</li>
<li>The number of values in a row must be equal to the number of columns in a container. If the column is nullable, the value of that column cannot be omitted and must be specified as a <code>null</code> or empty value.</li>
<li>The Web API supports BLOB data in base64 format. Thus, base64 BLOB data needs to be encoded before specifying it to the request body.</li>
<li>When an exception occurs during row registration, only some rows may be registered. Therefore, when retrying a request with an HTTP client during an exception, the same row data may be registered duplicately if the container has no row key.</li>
</ul>
<p><strong>Path</strong></p>
<p><code>/:cluster/dbs/:database/containers/rows</code></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>:cluster</td>
<td>cluster name</td>
</tr>
<tr>
<td>:database</td>
<td>database name (Specify &ldquo;public&rdquo; for a public database)</td>
</tr>
</tbody>
</table>
<p><strong>HTTP method</strong></p>
<p>PUT</p>
<p><strong>Request header</strong></p>
<p>Refer to the <a href="#request_header">request header</a>.</p>
<p><strong>Request body</strong></p>
<p>Specify the rows as the following JSON format:</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>/containerName</td>
<td>Container name</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>/rows</td>
<td>Rows (an array of column values)</td>
<td>Array</td>
<td></td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>If the row key is TIMESTAMP, the row value must be in the following format: <code>yyyy-MM-ddTHH:mm:ss.SSSZ</code></li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code>[
  {
    &#34;containerName&#34;:&#34;container2&#34;,
    &#34;rows&#34;:[
      [&#34;a3&#34;, &#34;a4&#34;],
      [&#34;b3&#34;, &#34;b4&#34;]
    ]
  },
  {
    &#34;containerName&#34;:&#34;container4&#34;,
    &#34;rows&#34;:[
      [3000, 4000],
      [5000, 6000]
    ]
  }
]
</code></pre><p>Depending on the column data type, describe a column value with the following JSON data type:</p>
<p>Refer to <a href="#data-type-json-type-registration">this section</a>.</p>
<p>[Memo]</p>
<ul>
<li>If a NULL value (JSON data type null) is specified as a column value, the Web API operates as follows:
<ul>
<li>If the NOT NULL constraint is specified for the column, a registration error occurs.</li>
<li>Otherwise, a NULL value is registered.</li>
</ul>
</li>
</ul>
<p><strong>Response code</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Success</td>
</tr>
<tr>
<td>400</td>
<td>Incorrect request data</td>
</tr>
<tr>
<td>401</td>
<td>An authentication error, a connection error</td>
</tr>
<tr>
<td>404</td>
<td>The specified resource is not found</td>
</tr>
<tr>
<td>500</td>
<td>An error occurs in Web API or GridDB</td>
</tr>
</tbody>
</table>
<p><strong>Response body</strong></p>
<p>The response body is returned as the following JSON data:</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
</tr>
</thead>
<tbody>
<tr>
<td>/containerName</td>
<td>Container name</td>
<td>String</td>
</tr>
<tr>
<td>/updatedRows</td>
<td>Number of updated/inserted rows</td>
<td>Number</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre tabindex="0"><code>[
  {
    &#34;containerName&#34;:&#34;container2&#34;,
    &#34;updatedRows&#34; : 2
  },
  {
    &#34;containerName&#34;:&#34;container4&#34;,
    &#34;updatedRows&#34; : 2
  }
]
</code></pre><h2 id="database-connection-confirmation">Database connection confirmation</h2>
<p>Check the connection to the specified database.</p>
<p><strong>Path</strong></p>
<p><code>/:cluster/dbs/:database/checkConnection</code></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>:cluster</td>
<td>cluster name</td>
</tr>
<tr>
<td>:database</td>
<td>database name (Specify &ldquo;public&rdquo; for a public database)</td>
</tr>
</tbody>
</table>
<p><strong>HTTP method</strong></p>
<p>GET</p>
<p><strong>Request header</strong></p>
<p>Refer to the <a href="#request_header">request header</a>.</p>
<p><strong>Request parameter</strong></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>Data type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>/timeout</td>
<td>Timeout value used only for this API (in seconds)</td>
<td>an integer from 0</td>
<td>-</td>
</tr>
</tbody>
</table>
<p><strong>Response code</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Success</td>
</tr>
<tr>
<td>400</td>
<td>Incorrect request data</td>
</tr>
<tr>
<td>401</td>
<td>An authentication error, a connection error</td>
</tr>
<tr>
<td>500</td>
<td>An error occurs in Web API or GridDB</td>
</tr>
</tbody>
</table>
<p><strong>Response body</strong></p>
<p>If the process is successful, nothing is returned.</p>
<p>Please refer to <a href="#response_body">response body</a> in case of failure.</p>
<h2 id="container-list-acquisition">Container list acquisition</h2>
<p>Get a list of containers and tables. It is also possible to narrow down the containers to be acquired by specifying conditions.</p>
<p><strong>Path</strong></p>
<p><code>/:cluster/dbs/:database/containers</code></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>:cluster</td>
<td>cluster name</td>
</tr>
<tr>
<td>:database</td>
<td>database name (Specify &ldquo;public&rdquo; for a public database)</td>
</tr>
</tbody>
</table>
<p><strong>HTTP method</strong></p>
<p>GET</p>
<p><strong>Request header</strong></p>
<p>Refer to the <a href="#request_header">request header</a>.</p>
<p><strong>Request parameter</strong></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>/type</td>
<td>Type of containers to be acquired</td>
<td>text stringCOLLECTION or TIME_SERIES</td>
<td>-</td>
</tr>
<tr>
<td>/limit</td>
<td>The number of rows to be acquired</td>
<td>an integer from 0</td>
<td></td>
</tr>
<tr>
<td>/offset</td>
<td>Acquisition start position</td>
<td>an integer from 0</td>
<td>-</td>
</tr>
<tr>
<td>/sort</td>
<td>Sorting expression</td>
<td>string</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>offset can be used together with &ldquo;limit&rdquo;.</li>
</ul>
<p><strong>Response code</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Success</td>
</tr>
<tr>
<td>400</td>
<td>Incorrect request data</td>
</tr>
<tr>
<td>401</td>
<td>An authentication error, a connection error</td>
</tr>
<tr>
<td>500</td>
<td>An error occurs in Web API or GridDB</td>
</tr>
</tbody>
</table>
<p><strong>Response body</strong></p>
<p>Acquired rows will be returned as the following JSON data:</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
</tr>
</thead>
<tbody>
<tr>
<td>/names</td>
<td>Array of container names</td>
<td>Array</td>
</tr>
<tr>
<td>/total</td>
<td>Number of acquisitions when offset and limit are ignored</td>
<td>Number</td>
</tr>
<tr>
<td>/offset</td>
<td>Acquisition start position</td>
<td>Number</td>
</tr>
<tr>
<td>/limit</td>
<td>Number of acquisitions applied</td>
<td>Number</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre tabindex="0"><code>{
  &#34;names&#34; : [
    &#34;container1&#34;,
    &#34;container2&#34;,
    &#34;timeseries1&#34;
  ],
  &#34;total&#34; : 100000,
  &#34;offset&#34; : 0,
  &#34;limit&#34; : 3
}
</code></pre><h2 id="container-information-acquisition">Container information acquisition</h2>
<p>Get the information on a container or a table.</p>
<p><strong>Path</strong></p>
<p><code>/:cluster/dbs/:database/containers/:container/info</code></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>:cluster</td>
<td>cluster name</td>
</tr>
<tr>
<td>:database</td>
<td>database name (Specify &ldquo;public&rdquo; for a public database)</td>
</tr>
<tr>
<td>:container</td>
<td>container (table) name</td>
</tr>
</tbody>
</table>
<p><strong>HTTP method</strong></p>
<p>GET</p>
<p><strong>Request header</strong></p>
<p>Refer to the <a href="#request_header">request header</a>.</p>
<p><strong>Request body</strong></p>
<p>-</p>
<p><strong>Response code</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Success</td>
</tr>
<tr>
<td>400</td>
<td>Incorrect request data</td>
</tr>
<tr>
<td>401</td>
<td>An authentication error, a connection error</td>
</tr>
<tr>
<td>404</td>
<td>The specified resource is not found</td>
</tr>
<tr>
<td>500</td>
<td>An error occurs in Web API or GridDB</td>
</tr>
</tbody>
</table>
<p><strong>Response body</strong></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
</tr>
</thead>
<tbody>
<tr>
<td>/container_name</td>
<td>Container name</td>
<td>string</td>
</tr>
<tr>
<td>/container_type</td>
<td>Container type</td>
<td>string (COLLECTION or TIME_SERIES)</td>
</tr>
<tr>
<td>/rowkey</td>
<td>Existence of a row key</td>
<td>Boolean (true or false)</td>
</tr>
<tr>
<td>/columns</td>
<td>An array of column information</td>
<td>array</td>
</tr>
<tr>
<td>/columns/name</td>
<td>Column name</td>
<td>string</td>
</tr>
<tr>
<td>/columns/type</td>
<td>Data type of column</td>
<td>string</td>
</tr>
<tr>
<td>/columns/index</td>
<td>Index</td>
<td>Array of strings (TREE or SPATIAL)</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre tabindex="0"><code>{
  &#34;container_name&#34; : &#34;container1&#34;,
  &#34;container_type&#34; : &#34;COLLECTION&#34;,
  &#34;rowkey&#34; : true,
  &#34;columns&#34; : [
    {&#34;name&#34;: &#34;date&#34;, &#34;type&#34;: &#34;TIMESTAMP&#34;, &#34;index&#34;: [&#34;TREE&#34;]},
    {&#34;name&#34;: &#34;value&#34;, &#34;type&#34;: &#34;DOUBLE&#34;, &#34;index&#34;: []},
    {&#34;name&#34;: &#34;str&#34;, &#34;type&#34;: &#34;STRING&#34;, &#34;index&#34;: []}
  ]
}
</code></pre><p>[Memo]</p>
<ul>
<li>Containers with composite row keys and composite indexes are not supported. When the command is executed, IllegalStateException occurs.</li>
</ul>
<h2 id="tql-command-execution">TQL command execution</h2>
<p>Execute a TQL statement. Multiple TQL statements can be sent at once.
The value of specific columns can be set to acquire it in the execution result.</p>
<p><strong>Path</strong></p>
<p><code>/:cluster/dbs/:database/tql</code></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>:cluster</td>
<td>cluster name</td>
</tr>
<tr>
<td>:database</td>
<td>database name (Specify &ldquo;public&rdquo; for a public database)</td>
</tr>
</tbody>
</table>
<p><strong>HTTP method</strong></p>
<p>POST</p>
<p><strong>Request header</strong></p>
<p>Refer to the <a href="#request_header">request header</a>.</p>
<p><strong>Request body</strong></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>/name</td>
<td>Target container name</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>/stmt</td>
<td>TQL statement</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>/columns</td>
<td>Array of acquisition column names</td>
<td>array</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>If the value specified by limit in TQL is greater than the value of maxLimit in the configuration file, the value of maxLimit is used in the limit clause.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code>[
  {&#34;name&#34; : &#34;container1&#34;, &#34;stmt&#34; : &#34;select * limit 100&#34;, &#34;columns&#34; : null},
  {&#34;name&#34; : &#34;container2&#34;, &#34;stmt&#34; : &#34;select * where column1&gt;=0&#34;, &#34;columns&#34; : [&#34;column1&#34;]},
  {&#34;name&#34; : &#34;container3&#34;, &#34;stmt&#34; : &#34;select SUM(*) order by column1 desc&#34;, &#34;columns&#34; : null}
]
</code></pre><p><strong>Response code</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Success</td>
</tr>
<tr>
<td>400</td>
<td>Incorrect request data</td>
</tr>
<tr>
<td>401</td>
<td>An authentication error, a connection error</td>
</tr>
<tr>
<td>404</td>
<td>The specified resource is not found</td>
</tr>
<tr>
<td>500</td>
<td>An error occurs in Web API or GridDB</td>
</tr>
</tbody>
</table>
<p><strong>Response body</strong></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
</tr>
</thead>
<tbody>
<tr>
<td>/columns</td>
<td>An array of column information</td>
<td>Array</td>
</tr>
<tr>
<td>/columns/name</td>
<td>Column name</td>
<td>string</td>
</tr>
<tr>
<td>/columns/type</td>
<td>JSON data type</td>
<td>string</td>
</tr>
<tr>
<td>/results</td>
<td>TQL execution results</td>
<td>Array</td>
</tr>
<tr>
<td>/total</td>
<td>Number of acquisitions when offset and limit are ignored</td>
<td>Number</td>
</tr>
<tr>
<td>/offset</td>
<td>Acquisition start position</td>
<td>Number</td>
</tr>
<tr>
<td>/limit</td>
<td>Number of acquisitions applied</td>
<td>Number</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>If the TQL statement is an aggregate operation, total, offset, and limit are not included in the response body.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code>[
  {
    &#34;columns&#34; : [
      {&#34;name&#34;: &#34;date&#34;, &#34;type&#34;: &#34;TIMESTAMP&#34;},
      {&#34;name&#34;: &#34;value&#34;, &#34;type&#34;: &#34;DOUBLE&#34;},
      {&#34;name&#34;: &#34;str&#34;, &#34;type&#34;: &#34;STRING&#34;}
    ],
    &#34;results&#34; : [
      [&#34;2016-01-16T10:25:00.253Z&#34;, 100.5, &#34;normal&#34; ],
      [&#34;2016-01-16T10:35:00.691Z&#34;, 173.9, &#34;normal&#34; ],
      [&#34;2016-01-16T10:45:00.032Z&#34;, 173.9, null]
    ],
    &#34;total&#34; : 1000125,
    &#34;offset&#34; : 0,
    &#34;limit&#34; : 3
  },
  {
    &#34;columns&#34; : [
      {&#34;name&#34;: &#34;aggregationResult&#34;, &#34;type&#34;: &#34;LONG&#34;}
    ],
    &#34;results&#34; : [
      [55]
    ]
  }
]
</code></pre><h2 id="row-deletion">Row deletion</h2>
<p>This function deletes the rows from the container (table).</p>
<p><strong>Path</strong></p>
<p><code>/:cluster/dbs/:database/containers/:container/rows</code></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>:cluster</td>
<td>cluster name</td>
</tr>
<tr>
<td>:database</td>
<td>database name (Specify &ldquo;public&rdquo; for a public database)</td>
</tr>
<tr>
<td>:container</td>
<td>container (table) name</td>
</tr>
</tbody>
</table>
<p><strong>HTTP method</strong></p>
<p>DELETE</p>
<p><strong>Request header</strong></p>
<p>Refer to the <a href="#request_header">request header</a>.</p>
<p><strong>Request body</strong></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>/(key)</td>
<td>Row key</td>
<td>Array</td>
<td></td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre tabindex="0"><code>[
  &#34;key1&#34;,
  &#34;key2&#34;,
  &#34;key3&#34;
]
</code></pre><p><strong>Response code</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>204</td>
<td>Success</td>
</tr>
<tr>
<td>400</td>
<td>Incorrect request data</td>
</tr>
<tr>
<td>401</td>
<td>An authentication error, a connection error</td>
</tr>
<tr>
<td>404</td>
<td>The specified resource is not found</td>
</tr>
<tr>
<td>500</td>
<td>An error occurs in Web API or GridDB</td>
</tr>
</tbody>
</table>
<p><strong>Response body</strong></p>
<p>If the process is successful, nothing is returned.</p>
<p>Please refer to <a href="#response_body">response body</a> in case of failure.</p>
<p>[Memo]</p>
<ul>
<li>Containers with composite row keys are not supported. When the command is executed, IllegalStateException occurs.</li>
</ul>
<h2 id="creating-a-container">Creating a container</h2>
<p>Create a container.</p>
<p><strong>Path</strong></p>
<p><code>/:cluster/dbs/:database/containers</code></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>:cluster</td>
<td>cluster name</td>
</tr>
<tr>
<td>:database</td>
<td>database name (Specify &ldquo;public&rdquo; for a public database)</td>
</tr>
</tbody>
</table>
<p><strong>HTTP method</strong></p>
<p>POST</p>
<p><strong>Request header</strong></p>
<p>Refer to the <a href="#request_header">request header</a>.</p>
<p><strong>Request body</strong></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>/container_name</td>
<td>Container name</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>/container_type</td>
<td>Container type</td>
<td>string (COLLECTION or TIME_SERIES)</td>
<td></td>
</tr>
<tr>
<td>/rowkey</td>
<td>Existence of a row key</td>
<td>Boolean (true or false)</td>
<td></td>
</tr>
<tr>
<td>/columns</td>
<td>An array of column information</td>
<td>array</td>
<td></td>
</tr>
<tr>
<td>/columns/name</td>
<td>Column name</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>/columns/type</td>
<td>Data type of column</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>/columns/index</td>
<td>Index</td>
<td>Array of strings (TREE or SPATIAL)</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre tabindex="0"><code>{
  &#34;container_name&#34; : &#34;container1&#34;,
  &#34;container_type&#34; : &#34;COLLECTION&#34;,
  &#34;rowkey&#34; : true,
  &#34;columns&#34; : [
    {&#34;name&#34;: &#34;date&#34;, &#34;type&#34;: &#34;TIMESTAMP&#34;, &#34;index&#34;: [&#34;TREE&#34;]},
    {&#34;name&#34;: &#34;value&#34;, &#34;type&#34;: &#34;DOUBLE&#34;, &#34;index&#34;: []},
    {&#34;name&#34;: &#34;str&#34;, &#34;type&#34;: &#34;STRING&#34;, &#34;index&#34;: []}
  ]
}
</code></pre><p><strong>Response code</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>201</td>
<td>Success</td>
</tr>
<tr>
<td>400</td>
<td>Incorrect request data</td>
</tr>
<tr>
<td>401</td>
<td>An authentication error, a connection error</td>
</tr>
<tr>
<td>409</td>
<td>The specified container already exists.</td>
</tr>
<tr>
<td>500</td>
<td>An error occurs in Web API or GridDB</td>
</tr>
</tbody>
</table>
<p><strong>Response body</strong></p>
<p>If the process is successful, nothing is returned.</p>
<p>Please refer to <a href="#response_body">response body</a> in case of failure.</p>
<p>[Memo]</p>
<ul>
<li>Composite row keys and composite indexes are not supported.</li>
</ul>
<h2 id="container-deletion">Container deletion</h2>
<p>Delete a container</p>
<p><strong>Path</strong></p>
<p><code>/:cluster/dbs/:database/containers</code></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>:cluster</td>
<td>cluster name</td>
</tr>
<tr>
<td>:database</td>
<td>database name (Specify &ldquo;public&rdquo; for a public database)</td>
</tr>
</tbody>
</table>
<p><strong>HTTP method</strong></p>
<p>DELETE</p>
<p><strong>Request header</strong></p>
<p>Refer to the <a href="#request_header">request header</a>.</p>
<p><strong>Request body</strong></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>/(name)</td>
<td>&lt;Container name&gt;</td>
<td>Array</td>
<td></td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre tabindex="0"><code>[
  &#34;container1&#34;,
  &#34;container2&#34;,
  &#34;timeseries1&#34;
]
</code></pre><p><strong>Response code</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>204</td>
<td>Success, no container to be deleted</td>
</tr>
<tr>
<td>400</td>
<td>Incorrect request data</td>
</tr>
<tr>
<td>401</td>
<td>An authentication error, a connection error</td>
</tr>
<tr>
<td>500</td>
<td>An error occurs in Web API or GridDB</td>
</tr>
</tbody>
</table>
<p><strong>Response body</strong></p>
<p>If the process is successful, nothing is returned.</p>
<p>Please refer to <a href="#response_body">response body</a> in case of failure.</p>
<h2 id="sql-select-execution">SQL SELECT execution</h2>
<p>This function executes one or more SQL SELECT statements in a GridDB database.</p>
<p><strong>Path</strong></p>
<p><code>/:cluster/dbs/:database/sql/select</code></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>:cluster</td>
<td>cluster name</td>
</tr>
<tr>
<td>:database</td>
<td>database name (Specify &ldquo;public&rdquo; for a public database)</td>
</tr>
</tbody>
</table>
<p><strong>HTTP method</strong></p>
<p>POST</p>
<p><strong>Request header</strong></p>
<p>Refer to the <a href="#request_header">request header</a>.</p>
<p><strong>Request body</strong></p>
<p>Specify one or more SQL SELECT statements as the following JSON format:</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>/stmt</td>
<td>An SQL SELECT statement</td>
<td>string</td>
<td></td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre tabindex="0"><code>[
  {&#34;stmt&#34; : &#34;select * from container1&#34;},
  {&#34;stmt&#34; : &#34;select column1 from container2 where column1&gt;=0&#34;},
  {&#34;stmt&#34; : &#34;select column2, column3 from container3 order by column1 desc&#34;}
]
</code></pre><p><strong>Response code</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Success</td>
</tr>
<tr>
<td>400</td>
<td>Incorrect request data</td>
</tr>
<tr>
<td>401</td>
<td>An authentication error, a connection error</td>
</tr>
<tr>
<td>404</td>
<td>The specified resource is not found</td>
</tr>
<tr>
<td>500</td>
<td>An error occurs in Web API or GridDB</td>
</tr>
</tbody>
</table>
<p><strong>Response body</strong></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
</tr>
</thead>
<tbody>
<tr>
<td>/columns</td>
<td>An array of column information</td>
<td>array</td>
</tr>
<tr>
<td>/columns/name</td>
<td>Column name</td>
<td>string</td>
</tr>
<tr>
<td>/columns/type</td>
<td>JSON data type</td>
<td>string</td>
</tr>
<tr>
<td>/results</td>
<td>SQL SELECT execution results</td>
<td>array</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre tabindex="0"><code>[
  {
    &#34;columns&#34; : [
      {&#34;name&#34;: &#34;date&#34;, &#34;type&#34;: &#34;TIMESTAMP&#34;},
      {&#34;name&#34;: &#34;value&#34;, &#34;type&#34;: &#34;DOUBLE&#34;},
      {&#34;name&#34;: &#34;str&#34;, &#34;type&#34;: &#34;STRING&#34;}
    ],
    &#34;results&#34; : [
      [&#34;2016-01-16T10:25:00.253Z&#34;, 100.5, &#34;normal&#34; ],
      [&#34;2016-01-16T10:35:00.691Z&#34;, 173.9, &#34;normal&#34; ],
      [&#34;2016-01-16T10:45:00.032Z&#34;, 173.9, null]
    ]
  },
  {
    &#34;columns&#34; : [
      {&#34;name&#34;: &#34;date&#34;, &#34;type&#34;: &#34;TIMESTAMP&#34;},
      {&#34;name&#34;: &#34;value&#34;, &#34;type&#34;: &#34;DOUBLE&#34;},
      {&#34;name&#34;: &#34;str&#34;, &#34;type&#34;: &#34;STRING&#34;}
    ],
    &#34;results&#34; : [
      [&#34;2016-01-16T10:25:00.253Z&#34;, 100.5, &#34;normal&#34; ],
      [&#34;2016-01-16T10:35:00.691Z&#34;, 173.9, &#34;normal&#34; ],
      [&#34;2016-01-16T10:45:00.032Z&#34;, 173.9, null]
    ]
  }
]
</code></pre><p>Depending on the column data type, column values with the following JSON data type will be returned:</p>
<table>
<thead>
<tr>
<th>Classification</th>
<th>Data type</th>
<th></th>
<th>JSON data type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Primitive</td>
<td>Boolean type</td>
<td>BOOL</td>
<td>Boolean (true/false)</td>
<td>true</td>
</tr>
<tr>
<td></td>
<td>String type</td>
<td>STRING</td>
<td>String</td>
<td>&ldquo;GridDB&rdquo;</td>
</tr>
<tr>
<td></td>
<td>Integer type</td>
<td>BYTE/SHORT/INTEGER/LONG</td>
<td>Number</td>
<td>512</td>
</tr>
<tr>
<td></td>
<td>Floating point type</td>
<td>FLOAT/DOUBLE</td>
<td>Number</td>
<td>593.5</td>
</tr>
<tr>
<td></td>
<td>Date and time type</td>
<td>TIMESTAMP</td>
<td>Text string<br>UTC<br>format<br>YYYY-MM-DDThh:mm:ss.SSSZ</td>
<td>&ldquo;2016-01-16T10:25:00.253Z&rdquo;</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>If the column value is NULL, null is returned for the column in JSON data.</li>
<li>GEOMETRY and array types are not supported in this function.</li>
<li>For GEOMETRY and array columns, &ldquo;UNKNOWN&rdquo; will be returned as a data type, and null will be returned as a data value.</li>
<li>When multiple SQL statements are specified and any one of them fails to execute, status code 400 is returned as an http response. In this case, SQL statements subsequent to the failed one are not executed.</li>
</ul>
<h2 id="sql-update-execution">SQL UPDATE execution</h2>
<p>This function executes one or more SQL UPDATE statements in a GridDB database.</p>
<p><strong>Path</strong></p>
<p><code>/:cluster/dbs/:database/sql/update</code></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>:cluster</td>
<td>cluster name</td>
</tr>
<tr>
<td>:database</td>
<td>database name (Specify &ldquo;public&rdquo; for a public database)</td>
</tr>
</tbody>
</table>
<p><strong>HTTP method</strong></p>
<p>POST</p>
<p><strong>Request header</strong></p>
<p>Refer to the <a href="#request_header">request header</a>.</p>
<p><strong>Request body</strong></p>
<p>Specify one or more SQL UPDATE statements as the following JSON format:</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>/stmt</td>
<td>An SQL UPDATE statement</td>
<td>string</td>
<td></td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>SELECT, EXPLAIN, and ANALYZE in an SQL statement are not supported in this API.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code>[
  {&#34;stmt&#34; : &#34;update container1 set col2 = 333 where col1 = &#39;t3&#39;&#34;},
  {&#34;stmt&#34; : &#34;insert into container1(col1, col2) values(&#39;t4&#39;, 4)&#34;}
]
</code></pre><p><strong>Response code</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>Success</td>
</tr>
<tr>
<td>400</td>
<td>Incorrect request data</td>
</tr>
<tr>
<td>401</td>
<td>An authentication error, a connection error</td>
</tr>
<tr>
<td>500</td>
<td>An error occurs in Web API or GridDB</td>
</tr>
</tbody>
</table>
<p><strong>Response body</strong></p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>JSON data type</th>
</tr>
</thead>
<tbody>
<tr>
<td>/status</td>
<td>Status of an SQL UPDATE statement. <code>1</code> and <code>0</code> denote success and failure, respectively. Even if a result contains <code>0</code>, the HTTP response status code is 200.</td>
<td>Number</td>
</tr>
<tr>
<td>/message</td>
<td>Error message displayed when executing the query</td>
<td>String</td>
</tr>
<tr>
<td>/updatedRows</td>
<td>Number of updated or inserted rows</td>
<td>Number</td>
</tr>
<tr>
<td>/stmt</td>
<td>SQL UPDATE statement</td>
<td>String</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre tabindex="0"><code>[
  {
    &#34;status&#34; : 1,
    &#34;updatedRows&#34; : 2,
    &#34;stmt&#34; : &#34;update container1 set col2 = 333 where col1 = &#39;t3&#39;&#34;,
    &#34;message&#34;: null
  },
  {
    &#34;status&#34; : 0,
    &#34;updatedRows&#34; : 0,
    &#34;stmt&#34; : &#34;insert into container1(col1, col2) values(&#39;t4&#39;, 4)&#34; ,
    &#34;message&#34;: &#34;[240001:SQL_COMPILE_SYNTAX_ERROR] Specified insert column=&#39;col1&#39; is not found on updating (sql=\&#34;insert into container1(col1, col2) values(&#39;t4&#39;, 4)\&#34;) (db=&#39;public&#39;) (user=&#39;admin&#39;) (clientId=&#39;1dafa133-df4-43cb-85b3-3b17593d298c:2&#39;) (clientNd=&#39;{clientId=1450, address=10.116.41.133:58632}&#39;) (address=10.116.227.26:20001, partitionId=557)&#34;
  }
]
</code></pre><h2 id="checking-the-operation">Checking the operation</h2>
<p>To check the operation of the Web API, use the curl command in Linux or some other command.</p>
<ul>
<li>
<p>Example) Checking database connection</p>
<pre tabindex="0"><code class="language-example" data-lang="example">curl -f -X GET -u &#34;user:password&#34; \
http://host:port/griddb/v2/cluster/dbs/public/checkConnection
</code></pre></li>
<li>
<p>Example) Retrieving a container list</p>
<pre tabindex="0"><code class="language-example" data-lang="example">curl -f -X GET -u &#34;user:password&#34; \
http://host:port/griddb/v2/cluster/dbs/public/containers?limit=100
</code></pre></li>
<li>
<p>Example) Row acquisition</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>curl -f -X POST -u <span style="color:#4e9a06">&#34;user:password&#34;</span> <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>-H <span style="color:#4e9a06">&#34;Content-type:application/json; charset=UTF-8&#34;</span> -d <span style="color:#4e9a06">&#39;{&#34;limit&#34;:5,&#34;sort&#34;:&#34;id asc&#34;}&#39;</span> <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>http://host:port/griddb/v2/cluster/dbs/public/containers/test/rows
</span></span></code></pre></div></li>
<li>
<p>Example) Row registration</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>curl -f -X PUT -u <span style="color:#4e9a06">&#34;user:password&#34;</span> <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>-H <span style="color:#4e9a06">&#34;Content-type:application/json; charset=UTF-8&#34;</span> -d <span style="color:#4e9a06">&#39;[[1,&#34;value&#34;],[2,&#34;value&#34;]]&#39;</span> <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>http://host:port/griddb/v2/cluster/dbs/public/containers/test/rows
</span></span></code></pre></div></li>
<li>
<p>Example) SQL SELECT execution</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>curl -f -X POST -u <span style="color:#4e9a06">&#34;user:password&#34;</span> <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>-H <span style="color:#4e9a06">&#34;Content-type:application/json; charset=UTF-8&#34;</span> -d <span style="color:#4e9a06">&#39;[{&#34;stmt&#34;:&#34;select * from test&#34;}]&#39;</span> <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>http://host:port/griddb/v2/cluster/dbs/public/sql/select
</span></span></code></pre></div></li>
</ul>
<h2 id="uninstallation">Uninstallation</h2>
<p>Delete the directory and the distributed files in the following procedures after stopping the Web API.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># rpm -e griddb-ee-webapi</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6b7b4165e1d7c1d5d7e0da027a14b589">9.4 - Python API Reference</h1>
    <div class="lead">Describes how to connect to GridDB using the Python languge</div>
	<p><a href="./md_reference_python_api.html">Python API Reference</a>
~</p>

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0cbebf4c35a553073287249aa0336553">9.5 - Node.js API Reference</h1>
    <div class="lead">Describes how to connect to GridDB using the Node.js language</div>
	<p><a href="./md_reference_nodejs_api.html">Node.js API Reference</a></p>

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c29d67171436d7e63cd3acfaec47fdce">9.6 - Go API Reference</h1>
    <div class="lead">Describes how to connect to GridDB using the Go language</div>
	<p><a href="./md_reference_go_api.html">Go API Reference</a></p>

</div>



    
      
  
  
  
  

  
  

  

    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6915f3b0b632da1115f07b325f9ab195">10 - Administrator Guide</h1>
    <div class="lead">Explanation of the design, setup and operation in GridDB for system designer and database admin</div>
	<h2 id="-----introduction----">&mdash;  Introduction &mdash;</h2>
<p>This document describes design, build, and operations provided by GridDB.</p>
<p>It is for designers involved in system development with GridDB and administrators involved in operations management of GridDB.</p>
<p>This document is organized as follows:</p>
<ul>
<li>
<p>Overview</p>
<ul>
<li>Describes an overview of the features and the architecture of GridDB required for its design, build, and operation.</li>
</ul>
</li>
<li>
<p>Physical design</p>
<ul>
<li>Describes the design items for GridDB needed to implement the non-functional requirements of the system</li>
</ul>
</li>
<li>
<p>Build</p>
<ul>
<li>Describes the installation and uninstallation of GridDB.</li>
</ul>
</li>
<li>
<p>Operation</p>
<ul>
<li>Describes operations management, including monitoring and responses returned when a failure occurs</li>
</ul>
</li>
</ul>
<h2 id="----overview----">&mdash; Overview &mdash;</h2>
<h2 id="features-of-griddb">Features of GridDB</h2>
<p>GridDB is a high performance distributional NoSQL-type database that delivers expandability and availability, featuring:</p>
<p>Data models and supporting interfaces</p>
<p>GridDB has a data model that evolved out of a key-value database. It stores data in a container corresponding to RDB tables.</p>
<figure>
  <img src="img/feature_data_model.png" alt="Data model" width="500"/>
  <figcaption>Data model</figcaption>
</figure>
<p>It supports client APIs and an SQL-like query language called TQL as the NoSQL interface, and JDBC/ODBC and SQL as the NewSQL interface.</p>
<figure>
  <img src="img/product_NoSQL_NewSQL.png" alt="NoSQL/New SQL interfaces" width="500"/>
  <figcaption>NoSQL/New SQL interfaces</figcaption>
</figure>
<p>Availability</p>
<p>GridDB works with the clusters consisting of multiple nodes (server process).</p>
<p>When a node fails, a cluster automatically detects a failure and moves the role of the failed node to another node to allow the cluster to continue running.
Further, within clusters, GridDB duplicates and multi-configures (replicate) data on multiple nodes.
As such, even after a failure has occurred, clusters automatically relocate replicas (autonomous data placement), which enables continuous data access.</p>
<figure>
  <img src="img/feature_durability.png" alt="Availability" width="600"/>
  <figcaption>Availability</figcaption>
</figure>
<p>Scalability</p>
<p>One way to improve the performance of a cluster in GridDB is to scale up the server where the nodes are running; another is to perform a scale-out operation by adding nodes to a cluster.</p>
<p>In a scale-out operation, the system can be expanded online. Those nodes added to a system during a scale-out operation are easy to operate; data in the nodes will be properly placed depending on the system load.</p>
<figure>
  <img src="img/feature_scale_up.png" alt="Scalability" width="600"/>
  <figcaption>Scalability</figcaption>
</figure>
<p>High speed</p>
<p>To minimize latency for executing database, GridDB allocates memory and database files that threads occupy for each CPU core thread, which eliminates latency for assignment, exclusion, and synchronization.</p>
<figure>
  <img src="img/feature_architecture.png" alt="High speed" width="600"/>
  <figcaption>High speed</figcaption>
</figure>
<p>To achieve high speed, GridDB additionally has the following features:</p>
<ul>
<li>index feature</li>
<li>table partitioning</li>
<li>data compression</li>
<li>expiration</li>
<li>affinity</li>
</ul>
<p>For details, see the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>.</p>
<h2 id="griddb-architectural-overview">GridDB: Architectural overview</h2>
<p>This section gives an overview of the architecture of GridDB required for its design, build, and operation.</p>
<h3 id="thread-configuration">Thread configuration</h3>
<p>Nodes contain multiple threads (called services) which execute various types of processing.
This section describes thread configuration and what each thread does.</p>
<figure>
  <img src="img/thread.png" alt="Thread" width="900"/>
  <figcaption>Service configuration</figcaption>
</figure>
<table>
<thead>
<tr>
<th>Thread name</th>
<th>What thread do</th>
</tr>
</thead>
<tbody>
<tr>
<td>Transaction services</td>
<td>Executes transaction processing, including row registration and search operations, and database file write operations, among others.</td>
</tr>
<tr>
<td>Checkpoint services</td>
<td>Executes checkpoint processing.</td>
</tr>
<tr>
<td>Cluster services</td>
<td>Executes cluster configuration processing, including heartbeat and node participation and departure.</td>
</tr>
<tr>
<td>Sync services</td>
<td>During partition relocation, executes long-term and short-term synchronization operations for data synchronization.</td>
</tr>
<tr>
<td>System services</td>
<td>Accepts requests for production and management operations.</td>
</tr>
<tr>
<td>SQL services</td>
<td>Executes SQL processing</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Flow of processing from a client</p>
<ul>
<li>Requested processing from a NoSQL client is assigned to transaction services where row registration, search processing, and other types of processing are executed.</li>
<li>Requested processing from a NewSQL client is first handled by SQL services to perform SQL processing, and then is assigned to transaction services.</li>
</ul>
</li>
</ul>
<h3 id="data-management">Data management</h3>
<p>Database files and transaction services both of which manage data have a one-to-one relationship.</p>
<p>These database files have an internal structure called partition which manages multiple containers.
Each transaction service operates on only one partition; it can be executed without the need for exclusive processing from other transaction services.</p>
<figure>
  <img src="img/partition.png" alt="Relationship of partitions, threads, and files managed by one node" width="600" />
  <figcaption>Relationship of partitions, threads, and files managed by one node</figcaption>
</figure>
<h3 id="file-configuration">File configuration</h3>
<p>Files that nodes manage include definition files and database files. This section describes file configuration and content.</p>
<figure>
  <img src="img/file_output.png" alt="File configuration managed by nodes" width="850"/>
  <figcaption>File configuration managed by nodes</figcaption>
</figure>
<ul>
<li>
<p>definition files</p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>node definition file<br>(gs_node.json)</td>
<td>definition file which sets node resources and behavior.</td>
</tr>
<tr>
<td>cluster definition file<br>(gs_cluster.json)</td>
<td>definition file which sets cluster resources and behavior for cluster configuration.</td>
</tr>
<tr>
<td>user defined file<br>(password)</td>
<td>file for registering administrative users.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>database files</p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>data file</td>
<td>This is a file for storing data.<br>A data file can be placed after splitting it into multiple files. <br><br>number of files<br>- One data file is created for each partition.<br>-To place a data file after splitting it, as many files as the number of splits are created for each partition.</td>
</tr>
<tr>
<td>checkpoint log file</td>
<td>This is a file for storing block management information for a database.<br>Block management information is written in smaller batches each time checkpoint is performed.<br>By default, a maximum of ten files are created for each partition. The number of files can be adjusted in /checkpoint/partialCheckpointInterval in the node definition file.</td>
</tr>
<tr>
<td>transaction log file</td>
<td>This is a file for storing transaction logs.<br>Each file stores logs for those transactions executed between the start of a previo checkpoint and the start of the next checkpoint.<br>By default, a maximum of three files (current log file and previous two generations of log files) are created per partition.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>other files</p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>backup files</td>
<td>files created when an online backup is started. Backed-up database files and files for backup information are collectively called backup files.</td>
</tr>
<tr>
<td>event log files</td>
<td>files for storing logs for node behavior, to which error and warning messages are issued.</td>
</tr>
<tr>
<td>temporary file for synchronization</td>
<td>file for temporarily storing synchronous data during synchronization through partition relocation.</td>
</tr>
<tr>
<td>swap file for intermediate SQL results</td>
<td>file for temporarily storing intermediate SQL results. Files are deleted in the event of node outage.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>As mentioned above, each partition has its own database files consisting of one data file, checkpoint log files, and transaction log files.</p>
<p>In transaction log processing, data is sequentially written onto transaction log files to sync update, which provides transaction assurance.
In checkpoint processing, blocks of updated data on memory is regularly saved in data files and checkpoint log files, which provides data persistence.</p>
<h3 id="memory-structure">Memory structure</h3>
<p>GridDB is provided with various memory areas to reduce disk I/O and make processing efficient.</p>
<figure>
  <img src="img/memory.png" alt="Memory" width="950"/>
  <figcaption>Memory</figcaption>
</figure>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>database buffer</td>
<td>I/O buffer for caching retrieved data.<br>It caches data image (block) retrieved from data files in memory. A larger database buffer size means blocks are more easily cached in memory, which improves search and registration performance.<br>Each node has one database buffer area; as such, multiple transaction processing threads share in its use.</td>
</tr>
<tr>
<td>memory area for transaction processing</td>
<td>area used by transaction processing threads which perform row registration and search processing.</td>
</tr>
<tr>
<td>buffer for storing intermediate SQL results</td>
<td>area for storing intermediate results while SQL processing is taking place. <br>If the size of the intermediate results exceeds the buffer memory size limit, those results are temporarily exported in swap files for intermediate SQL results.</td>
</tr>
<tr>
<td>SQL work memory area</td>
<td>area for temporarily storing intermediate results in SQL processing, including join and aggregation operations.</td>
</tr>
</tbody>
</table>
<p>GridDB is a hybrid-type database which uses both memory and disks.  It accelerates access using memory as data cache and stores data in disks to manage large volumes of data. A larger memory size means larger volumes of data are cached in memory, which reduces disk I/O and improves performance.</p>
<h3 id="cluster-management">Cluster management</h3>
<p>GridDB configures a cluster with multiple nodes</p>
<p>Nodes have two roles: &ldquo;master&rdquo; and &ldquo;follower.&rdquo;
A master manages the entire cluster.  All non-master nodes act as &ldquo;followers.&rdquo;</p>
<p>When a cluster starts, one of the nodes composing a cluster will always be a &ldquo;master.&rdquo; Followers then perform cluster processing including synchronous processing according to the instructions from the master.
A master node is automatically selected by GridDB.
If a master node fails, a new master will be automatically selected from a set of follower nodes to keep the cluster running.</p>
<p>Further, within a cluster, GridDB duplicates and multi-configures data (replicas) on multiple nodes.
Among replicas, master data is referred to as an owner, whereas duplicated data is referred to as backups.
Regardless of which node composing a cluster fails, GridDB will always continue processing through the use of replicas.
Moreover, the system automatically relocates data after a node failure (autonomous data placement) without a need for special production operations.
Data placed in the failed nodes is restored from replicas and then relocated to reach the automatically set number of replicas.</p>
<figure>
  <img src="img/partition_replica.png" alt="Replica" width="600" />
  <figcaption>Replica</figcaption>
</figure>
<p>Replicas are created per partition. If nodes are either added to a cluster or deleted from a cluster, partitions will automatically be reassigned and relocated to distribute replicas to each node.</p>
<h2 id="----physical-design----">&mdash; Physical design &mdash;</h2>
<p>Describes the design items for GridDB needed to implement the non-functional requirements of the system</p>
<h2 id="points-to-consider-when-designing">Points to consider when designing</h2>
<p>As non-functional requirements an established system should meet, IPA (Information-Technology Promotion Agency, Japan) has formulated the &ldquo;Non-Functional Requirements Grades,&rdquo; part of which are cited below:</p>
<p>&ldquo;(source: Non-Functional Requirements Grades Usage Guide [Description Manual], p. 7) (c) 2010 IPA</p>
<table>
<thead>
<tr>
<th>Non-functional requirements: Major category</th>
<th>Example requirements</th>
<th>Example implementation methods</th>
</tr>
</thead>
<tbody>
<tr>
<td>Availability</td>
<td>- Operation schedule (operating hours, outage plans, etc.)<br>- Operation objectives for failure occurrences, disasters, etc.</td>
<td>- Equipment redundancy, backup center establishment, etc.<br>-Restoration/recovery methods, and restoration/recovery structure establishment</td>
</tr>
<tr>
<td>Performance and scalability</td>
<td>- Business volume, and estimates on future growth<br>- Attributes of business which will be systematized (peak times, normal operation, degraded operation, etc.)</td>
<td>- Sizing based on performance objectives<br>- Capacity planning (future-oriented equipment and network sizing and allocation)</td>
</tr>
<tr>
<td>Operability and maintainability</td>
<td>- System operation levels required for system operation<br >- Response levels in the event that a problem occurs</td>
<td>- Establishment of monitoring methods and backup methods<br>- Distribution of roles, organizational structure, training, and preparation of manuals in anticipation of problems that may arise</td>
</tr>
<tr>
<td>Migratability</td>
<td>- System migration period and schemes<br>- Types of assets to be migrated, and volume of migration</td>
<td>- Migration schedule establishment, migration tool development<br>- Migration organization establishment, migration rehearsal</td>
</tr>
<tr>
<td>Security</td>
<td>Usage restrictions<br>- Unauthorized access prevention</td>
<td>- Access restrictions, data confidentiality<br >- Fraud tracking, monitoring, detection<br>- Information security training for operators, etc.</td>
</tr>
</tbody>
</table>
<p>To satisfy these non-functional requirements, GridDB needs the following design items:</p>
<ul>
<li>Data space design</li>
<li>Memory space design</li>
<li>Container design</li>
<li>Cluster configuration design</li>
<li>Network design</li>
<li>Security design</li>
<li>Monitoring design</li>
<li>Backup design</li>
</ul>
<p>Specific design varies considerably depending on the level and content of system requirements; this chapter focuses on points of design that should be considered to leverage &ldquo;availability&rdquo; and &ldquo;performance and scalability&rdquo; in the table above characterizing GridDB.</p>
<h2 id="data-space-design">Data space design</h2>
<p>In GridDB, data is managed per unit of block, container, table, row, and partition. Data space design using these data units will be a crucial factor in determining &ldquo;availability&rdquo; and &ldquo;performance and scalability&rdquo;.</p>
<figure>
  <img src="img/arc_DataPieces.png" alt="Partition" width="950"/>
  <figcaption>Partition</figcaption>
</figure>
<ul>
<li>
<p>Relationship between a block and a container</p>
<ul>
<li>A block is the smallest unit of data management where row data and meta information for containers are stored. A block stores data for multiple containers.</li>
</ul>
</li>
<li>
<p>Relationship between containers and a partition</p>
<ul>
<li>A partition which a container belong to is determined by a cluster based on a hash value calculated from a container name. The relationship between a container and a partition is permanent and does not change once a partition is determined upon creating a container.</li>
</ul>
</li>
<li>
<p>Relationship between a partition and a node</p>
<ul>
<li>A partition is a unit of data placement between clusters. The placement of a partition is automatically determined by a cluster. The relationship between a partition and a node is fluid and a partition may move to other nodes through autonomous data placement on the occurrence of a failure.</li>
</ul>
</li>
<li>
<p>Access to a container in the same partition</p>
<ul>
<li>Operations on a set of containers belonging to the same partition are processed by one processing thread (transaction service). Therefore, operations on this set of containers are subsequently executed.</li>
</ul>
</li>
</ul>
<figure>
  <img src="img/thread_partitiongroup_dbfile.png" alt="Relationship of processing threads, partitions, and database files" width="1000" />
  <figcaption>Relationship of processing threads, partitions, and database files</figcaption>
</figure>
<p>[notes]</p>
<ul>
<li>Node affinity features can force related containers to be stored in the same partition. This can reduce load during network access by tables placed in other nodes within the same cluster when SQL tables are joined in GridDB.</li>
</ul>
<p>The next several subsections summarize points of design for the following items:</p>
<ul>
<li>block size</li>
<li>number of partitions</li>
<li>number of processing threads (transaction services and SQL services)</li>
<li>checkpoint processing</li>
<li>file configuration</li>
</ul>
<p><a id="block_size"></a></p>
<h3 id="block-size">Block size</h3>
<p>A block is a physical data unit for storing row data and meta information for containers among others and is the smallest unit of disk I/O.</p>
<figure>
  <img src="img/block.png" alt="Block" width="500" />
  <figcaption>Block</figcaption>
</figure>
<p>Select the block size from 64KB, 1MB, 4MB, 8MB, 16MB and 32MB. The default is 64 KB. Normally, the default works fine; no change is necessary.</p>
<p>Note that the limit of the number of columns in a container varies depending on the block size.
To create more columns than the limit of the number of columns for the block size of 64 KB, change the block size.
For details about upper limits, see the section &ldquo;System limiting values&rdquo; in the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>.</p>
<p>Data stored in a block</p>
<p>Data stored in a block are of several types, including row data, meta information for containers, and index data. Data is categorically organized by the types of data and stored in a block.</p>
<table>
<thead>
<tr>
<th>block type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>metaData</td>
<td>block for storing meta information for containers.</td>
</tr>
<tr>
<td>rowData</td>
<td>block for storing row data for containers (without expiration settings).</td>
</tr>
<tr>
<td>mapData</td>
<td>block for storing index data for containers (without expiration settings).</td>
</tr>
<tr>
<td>batchFreeRowData</td>
<td>block for storing row data for containers (with expiration settings).</td>
</tr>
<tr>
<td>batchFreeMapData</td>
<td>block for storing index data for containers (with expiration settings).</td>
</tr>
</tbody>
</table>
<p>One block stores data for multiple containers. Data is stored in the order that it was registered or updated by an application.
Storing data which are close in time or type in the same block will localize data and improve memory efficiency. It executes search processing for time-series data on the condition of elapsed time with less resources and at high speed.</p>
<p><strong>related parameters</strong></p>
<ul>
<li>cluster definition file (gs_cluster.json)
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/dataStore/storeBlockSize</td>
<td>64KB</td>
<td>block size</td>
<td>not allowed</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[notes]</p>
<ul>
<li>After the initial launch of nodes, block size cannot be changed.</li>
<li>Specify the same block size for the entire nodes configuring a cluster.</li>
<li>The heading &ldquo;changes made after startup&rdquo; in the table above denotes whether the parameter can be changed after launching.
<ul>
<li>not allowed: Once nodes are launched, the parameter cannot be changed. Initialization of database files is necessary to change parameters.</li>
</ul>
</li>
<li>The data affinity feature makes it possible to store only those data that are highly relevant to each block. This facilitates the localization of data access and thereby can increase the memory hit rate.</li>
<li>Also, by specifying the string &ldquo;#unique&rdquo; for hint information provided by the data affinity feature, it is possible to occupy blocks on a per-container basis and place data. This can speed up scanning and data deletion performed for each container.</li>
<li>For details on data affinity, see the &ldquo;<a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>&rdquo; .</li>
</ul>
<h3 id="number-of-partitions">Number of partitions</h3>
<p>As one way to manage data in a cluster, containers are managed using data boxes called partitions.</p>
<ul>
<li>Every container should belong to one partition, which stores multiple containers.</li>
<li>Containers are assigned to transaction services and database files on a per-partition basis.</li>
</ul>
<figure>
  <img src="img/partition.png" alt="Relationship of partitions, threads, and files managed by one node" width="600" />
  <figcaption>Relationship of partitions, threads, and files managed by one node</figcaption>
</figure>
<p>The default number of partitions is 128. Normally, the default works fine. If, however, the following conditional expression is not met, increase the number of partitions.</p>
<p><strong>number of partitions &gt;= concurrency of transaction services X number of configuration nodes in a cluster</strong></p>
<ul>
<li>If the conditional expression is not met, transaction services with no partitions assigned will be created.
Set the number of partitions so as to meet the expression above.
<ul>
<li>[Example] If concurrency = 32 and number of nodes =5,
<ul>
<li>The default number of partitions (128) does not meet the conditional expression: 128 &lt; (32 x 5 =160)</li>
<li>Set the number of partitions to 160 or over.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>related parameters</strong></p>
<ul>
<li>
<p>cluster definition file (gs_cluster.json)</p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/dataStore/partitionNum</td>
<td>128</td>
<td>number of partitions</td>
<td>not allowed</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>node definition file (gs_node.json)</p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/dataStore/concurrency</td>
<td>4</td>
<td>concurrency of transaction processing threads</td>
<td>possible (Restart nodes)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[notes]</p>
<ul>
<li>The heading &ldquo;changes made after startup&rdquo; in the table above denotes whether the parameter can be changed after launching.
<ul>
<li>not allowed: Once nodes are launched, the parameter cannot be changed. Initialization of database files is necessary to change parameters.</li>
<li>possible (Restart nodes): The parameter can be changed by modifying the definition file specifying the parameter and then restarting the nodes.</li>
</ul>
</li>
</ul>
<p><a id="num_of_threads"></a></p>
<h3 id="number-of-processing-threads">Number of processing threads</h3>
<p>A GridDB node consists of one process. Within a process are multiple threads (called services) running various operations.</p>
<p>This subsection describes how to determine the concurrency of &ldquo;transaction services&rdquo; and &ldquo;SQL services&rdquo; among the services available.</p>
<figure>
  <img src="img/thread.png" alt="Service configuration" width="900"/>
  <figcaption>Service configuration</figcaption>
</figure>
<table>
<thead>
<tr>
<th>Thread name</th>
<th>Number of threads<br>(default)</th>
<th>What threads do</th>
</tr>
</thead>
<tbody>
<tr>
<td>Transaction services</td>
<td>4 (default can be set)</td>
<td>Executes transaction processing, including row registration and search operations, and database file write operations, among others.</td>
</tr>
<tr>
<td>Checkpoint services</td>
<td>1</td>
<td>Executes checkpoint processing</td>
</tr>
<tr>
<td>Cluster services</td>
<td>1</td>
<td>Executes cluster configuration processing, including heartbeat and node participation and departure.</td>
</tr>
<tr>
<td>Sync services</td>
<td>1</td>
<td>During partition relocation, executes long-term and short-term synchronization operations for data synchronization.</td>
</tr>
<tr>
<td>System services</td>
<td>1</td>
<td>Accepts requests for production and management operations.</td>
</tr>
<tr>
<td>SQL services</td>
<td>4 (default can be set)</td>
<td>Executes SQL processing</td>
</tr>
</tbody>
</table>
<p>A processing done by each is called an &ldquo;event.&rdquo; Each service has one event queue and sequentially processes those events registered in the event queue. For one service A to ask another service B to process events, service A registers them in the event queue which service B has.</p>
<figure>
  <img src="img/event_queue.png" alt="Events processed by services" width="500"/>
  <figcaption>Events processed by services</figcaption>
</figure>
<ul>
<li>Types of events that can be registered in an event queue vary depending on the types of threads.</li>
<li>Events registered in an event queue are sequentially processed by the corresponding threads. They are not processed in parallel.</li>
<li>Information on ongoing events can be checked using the operation tool gs_sh.
For details, see <a href="../5.md_reference_operation_tool/md_reference_operation_tool.md">GridDB Operation Tools Reference</a>.</li>
</ul>
<p>[notes]</p>
<ul>
<li>Only transaction services and SQL services can set the number of threads using a node definition file.</li>
</ul>
<p>The threads that especially affect the parallel performance in search and registration are the threads that run transaction processing (transaction services) and threads that run SQL processing (SQL services).  Set the concurrency of these processing threads to match the number of CPU cores of the machine that runs nodes.</p>
<ul>
<li>
<p>concurrency of transaction services</p>
<ul>
<li>
<p>Transaction services are the threads that execute row registration and search operations, database file write processing, and other processing.</p>
</li>
<li>
<p>Increasing the concurrency of transaction services improves parallel accessibility to multiple containers.</p>
</li>
<li>
<p>Transaction services (threads) and database files (files) are in a one-to-one relationship, the latter of which are also in a one-to-one relationship with containers (data) as shown in the figure below:</p>
<ul>
<li>Data in container A is processed by transaction service 0 and stored in database file 0. Transaction services 0 and 1 never access data in container A simultaneously.</li>
<li>Separating resources for data, threads, and files eliminates resource exclusion and locking conflicts, enabling fast processing.</li>
</ul>
<figure>
  <img src="img/thread_data_file.png" alt="Relationship of data, threads, and files managed by one node" width="700"/>
  <figcaption>Relationship of data, threads, and files managed by one node</figcaption>
</figure>
</li>
</ul>
</li>
<li>
<p>concurrency of SQL services</p>
<ul>
<li>SQL services are the threads that run SQL processing.</li>
<li>In SQL services, data and files are not related with each other as in transaction services. To access database files or run other transaction services, use transaction services.</li>
</ul>
</li>
</ul>
<p>Set the concurrency considering the following points:</p>
<ul>
<li>
<p>It is recommended to increase the concurrency of transaction services to match the number of CPU cores of the machine running the nodes.</p>
<ul>
<li>Increasing concurrency improves parallel accessibility to multiple containers.</li>
<li>Note that increasing concurrency does not improve the processing performance of the operation on the same container, which is handled by one thread.</li>
</ul>
</li>
<li>
<p>It is recommended to make sure that the total of the concurrency of transaction services and SQL services does not exceed the number of the machine&rsquo;s CPU cores.</p>
<ul>
<li>concurrency of transaction services (/dataStore/concurrency) + concurrency of SQL services (/sql/concurrency)</li>
</ul>
</li>
</ul>
<p>[notes]</p>
<ul>
<li>Concurrency of transaction and SQL services can changed by restarting the node.</li>
</ul>
<p><strong>related parameters</strong></p>
<ul>
<li>node definition file (gs_node.json)
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/dataStore/concurrency</td>
<td>4</td>
<td>concurrency of transaction processing threads</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/sql/concurrency</td>
<td>4</td>
<td>concurrency of SQL processing threads</td>
<td>possible (Restart nodes)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[notes]</p>
<ul>
<li>The heading &ldquo;changes made after startup&rdquo; in the table above denotes whether the parameter can be changed after launching.
<ul>
<li>not allowed: Once nodes are launched, the parameter cannot be changed. Initialization of database files is necessary to change parameters.</li>
<li>possible (Restart nodes): The parameter can be changed by modifying the definition file specifying the parameter and then restarting the nodes.</li>
</ul>
</li>
</ul>
<h3 id="checkpoint-processing">Checkpoint processing</h3>
<p>Checkpoint processing refers to a processing in which updated blocks in a database buffer are written to data files and checkpoint log files.</p>
<p>In checkpoint processing, parameters are available to set the run cycle of checkpoints.</p>
<figure>
  <img src="img/checkpoint_thread.png" alt="Executing checkpoint processing" width="550" />
  <figcaption>Executing checkpoint processing</figcaption>
</figure>
<p>While checkpoint is running, block management information is split into chunks and written to checkpoint log files. The number of splits can be specified by the parameter, but in most cases, you do not need to change the default value. Setting a higher value can increase the amount of writing done to checkpoint log files for each writing session, but at the same time could possibly increase the recovery time taken during a node startup.</p>
<p>A checkpoint processing is run on the following occasions:</p>
<table>
<thead>
<tr>
<th>occasion</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>regular run</td>
<td>automatically run at regularly scheduled intervals (Specify the cycle using a parameter. Regular run can be temporarily deactivated.).</td>
</tr>
<tr>
<td>manual run</td>
<td>run when the user runs the gs_checkpoint command.).</td>
</tr>
<tr>
<td>node start/outage</td>
<td>automatically run after a recovery process during a node startup or when stopping nodes in a normal manner.</td>
</tr>
<tr>
<td>long-term synchronization start/end</td>
<td>automatically run when starting/ending long-term synchronization.</td>
</tr>
</tbody>
</table>
<p>Additionally, it is possible to specify whether to compress data files. Compressing data files can reduce the storage cost that increases in proportion to the amount of data.
For details on the data compression feature, see the section on &ldquo;data block compression&rdquo; in <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>.</p>
<p><strong>related parameters</strong></p>
<ul>
<li>node definition file (gs_node.json)
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/checkpoint/checkpointInterval</td>
<td>60s</td>
<td>run cycle of checkpoints</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/checkpoint/partialCheckpointInterval</td>
<td>5</td>
<td>number of splits for processing to write block management information to checkpoint log files</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/dataStore/storeCompressionMode</td>
<td>NO_COMPRESSION</td>
<td>setting for exporting compressed data files<br>do not compress: &ldquo;NO_COMPRESSION&rdquo; or 0<br>compress: &ldquo;COMPRESSION&rdquo; or 1</td>
<td>possible (Restart nodes)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[notes]</p>
<ul>
<li>The heading &ldquo;changes made after startup&rdquo; in the table above denotes whether the parameter can be changed after launching.
<ul>
<li>possible (Restart nodes): The parameter can be changed by modifying the definition file specifying the parameter and then restarting the nodes.</li>
</ul>
</li>
</ul>
<h3 id="file-configuration-1">File configuration</h3>
<p>Files that GridDB nodes create or output while running include database files and backup files.</p>
<p>Database files and backup files are characterized by a large file size, and their disk I/O have a great impact on performance; specify the appropriate deployment directory for these files, considering storage capacity and I/O performance.</p>
<figure>
  <img src="img/file_output.png" alt="Database files and other output files" width="850"/>
  <figcaption>Database files and other output files</figcaption>
</figure>
<p>The default deployment directory is the directory under the GridDB home directory (/var/lib/gridstore).</p>
<ul>
<li>
<p>deployment directory for database files</p>
<ul>
<li>Data files, checkpoint log files, and transaction log files are collectively called database files.</li>
<li>Specify the DB directory to store data files and checkpoint log files, and specify the txnlog directory to store transaction files. Placing the DB and txnlog directories on separate physical disks can enable load balancing among disks.</li>
<li>The number of directories equal to the that of partition IDs are automatically created under DB and txnlog directories. Placing each directory thus created on separate physical disks enables load balancing among disks.</li>
</ul>
</li>
<li>
<p>deployment directory for backup files</p>
<ul>
<li>Set up the deployment directory for backup files to deploy them in a separate physical disk from that of database files, considering physical disk failures.</li>
<li>Performing a full backup requires the same capacity as database files.</li>
</ul>
</li>
</ul>
<p><strong>list of output files</strong></p>
<ul>
<li>
<p>database files</p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
<th>file name</th>
</tr>
</thead>
<tbody>
<tr>
<td>data file</td>
<td>file for storing data.<br><br>number of files<br>-One data file is created for each partition by default.<br>-The data file can be split by modifying the settings. The number of splits of the data file can be defined in /dataStore/dbFileSplitCount in the node definition file.<br><br>file size<br>- If the free space in the file runs out, the size of the file is automatically extended.</td>
<td>/&lt;PartitionID&gt;/&lt;PartitionID&gt;_part_&lt;n&gt;.dat<br> (n: consecutive number from 0)</td>
</tr>
<tr>
<td>checkpoint log file</td>
<td>file for storing block management information for a database.<br>When checkpoint is running, block management information is split into chunks and then written to checkpoint log files. <br><br>number of files<br>- By default, a maximum of 10 files are retained for each partition. The number of files can be adjusted by /checkpoint/partialCheckpointInterval in the node definition file.</td>
<td>/&lt;PartitionID&gt;/&lt;PartitionID&gt;_&lt;CheckpointNumber&gt;.cplog</td>
</tr>
<tr>
<td>transaction log file</td>
<td>file for storing transaction log.<br>Each file stores logs for those transactions executed between the start of a previous checkpoint and the start of the next checkpoint.<br><br>number of files<br>- By default, a maximum of three files (current log file and previous two generations of log files) are retained per partition.</td>
<td>/&lt;PartitionID&gt;/&lt;PartitionID&gt;_&lt;CheckpointNumber&gt;.xlog</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>other files</p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>backup files</td>
<td>files created when an online backup is started. Backed-up data files, checkpoint log files, transaction log files, and files for backup information are collectively called backup files.</td>
</tr>
<tr>
<td>event log files</td>
<td>files for storing logs for node behavior, to which error and warning messages are issued.</td>
</tr>
<tr>
<td>temporary file for synchronization</td>
<td>file for temporarily storing synchronous data during synchronization through partition relocation.</td>
</tr>
<tr>
<td>swap file for intermediate SQL results</td>
<td>file for temporarily storing intermediate SQL results. Files are deleted in the event of node outage.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p><strong>related parameters</strong></p>
<ul>
<li>
<p>node definition file (gs_node.json)</p>
<p>The file origin of a node definition file is the GridDB home directory if the directory path is relative.</p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/dataStore/dbPath</td>
<td>data</td>
<td>deployment directory for data files and checkpoint log files</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/dataStore/transactionLogPath</td>
<td>txnlog</td>
<td>deployment directory for transaction log files</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/dataStore/backupPath</td>
<td>backup</td>
<td>deployment directory for backup files</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/dataStore/syncTempPath</td>
<td>sync</td>
<td>deployment directory for temporary files for synchronization</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/system/eventLogPath</td>
<td>log</td>
<td>deployment directory for event log files</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/sql/storeSwapFilePath</td>
<td>swap</td>
<td>deployment directory for swap files for intermediate SQL results</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/dataStore/dbFileSplitCount</td>
<td>none</td>
<td>number of data file splits <br>Example: If the number of data file splits is equal to four, data files are split into four files for each partition to create /&lt;PartitionID&gt;/&lt;PartitionID&gt;_part_0.dat  -/&lt;PartitionID&gt;/&lt;PartitionID&gt;_part_3.dat.</td>
<td>not allowed</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[notes]</p>
<ul>
<li>The heading &ldquo;changes made after startup&rdquo; in the table above denotes whether the parameter can be changed after launching.
<ul>
<li>not allowed: Once nodes are launched, the parameter cannot be changed. Initialization of database files is necessary to change parameters.</li>
<li>possible (Restart nodes): The parameter can be changed by modifying the definition file specifying the parameter and then restarting the nodes.</li>
</ul>
</li>
</ul>
<h2 id="memory-space-design">Memory space design</h2>
<p>GridDB is a hybrid-type database which uses both memory and disks.  It accelerates access using memory as data cache and stores data in disks to manage large volumes of data.</p>
<p>As shown in the figure below, a larger memory size means larger volumes of data are cached in memory, which reduces disk I/O and improves performance.  Memory size thus has a great impact on the performance of GridDB. Therefore, memory space should be designed with the system&rsquo;s performance requirements and the amount of data in mind.</p>
<figure>
  <img src="img/memory_disk.png" alt="Combined use of memory and disks" width="800"/>
  <figcaption>Combined use of memory and disks</figcaption>
</figure>
<p>GridDB nodes have various types of buffers and memory areas for different uses. The main types of memory are:</p>
<figure>
  <img src="img/memory.png" alt="Memory" width="950"/>
  <figcaption>Memory</figcaption>
</figure>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>database buffer</td>
<td>I/O buffer for caching retrieved data.<br>caches data image (block) retrieved from data files in memory. A larger database buffer size means blocks are more easily cached in memory, which improves search and registration performance. <br>Each node has one database buffer area; as such, multiple transaction processing threads share in its use.</td>
</tr>
<tr>
<td>memory area for transaction processing</td>
<td>area used by transaction processing threads which perform row registration and search processing.</td>
</tr>
<tr>
<td>buffer for storing intermediate SQL results</td>
<td>area for storing intermediate results while SQL processing is taking place. <br>If the size of the intermediate results exceeds the buffer memory size limit, those results are temporarily exported in swap files for intermediate SQL results.</td>
</tr>
<tr>
<td>SQL work memory area</td>
<td>area for temporarily storing intermediate results in SQL processing, including join and aggregation operations.</td>
</tr>
</tbody>
</table>
<p>In designing memory space, it is necessary to design the upper size limit and other related parameters for each memory area.
A key point here is the memory sizes of &ldquo;database buffers&rdquo; and &ldquo;memory areas for SQL processing.&rdquo;</p>
<figure>
  <img src="img/memory_alignment.png" alt="Memory" width="800" />
  <figcaption>Memory</figcaption>
</figure>
<p>The size of &ldquo;database buffers&rdquo; has the greatest impact on the system&rsquo;s performance.  If there is space in physical memory, it is recommended to assign as much memory size as possible to database buffers.</p>
<ul>
<li>
<p>Considering the characteristics of data stored in GridDB, classify data into frequently used data and infrequently used data.</p>
<ul>
<li>
<p>Often, it is advisable to classify data based on the elapsed time for time-series data.</p>
</li>
<li>
<p>Examples</p>
<ul>
<li>frequently used data  all sensor data from the previous hour</li>
<li>infrequently used data  a year-old data</li>
<li>Data for the past year is stored, but the search range used for regular tasks is limited to the data from the previous month.</li>
<li>Production data on five factories is stored, but only one factory&rsquo;s data requires high-speed searching.</li>
</ul>
</li>
<li>
<p>To classify data based on the elapsed time, look for the data which most requires performance and examine the type and age of such data.</p>
</li>
</ul>
</li>
<li>
<p>Set the size of a database buffer so as to allow for the amount of frequently used data.</p>
</li>
</ul>
<p>As for the size of a memory buffer for SQL processing, conduct its assessment with a typical SQL query used by the system and set the memory size.</p>
<ul>
<li>
<p>required design items</p>
<ul>
<li>Determine the buffer size to match the amount of data to be used.
<table>
<thead>
<tr>
<th>buffer name</th>
<th>Guidelines for design</th>
</tr>
</thead>
<tbody>
<tr>
<td>database buffer</td>
<td>Estimate the size of the data in the range frequently searched for and set the memory size.</td>
</tr>
<tr>
<td>SQL-related buffer</td>
<td>Conduct its assessment with an SQL query used by the system and set the memory size.</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li>
<p>design items to be changed as needed</p>
<ul>
<li>Change the buffer size depending on the operational status.
<table>
<thead>
<tr>
<th>buffer name</th>
<th>The buffer size needs to be changed, if:</th>
</tr>
</thead>
<tbody>
<tr>
<td>memory area for transaction processing</td>
<td>a memory shortage error [CM_MEMORY__LIMIT] occurs due to TQL or SQL operations.</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
</ul>
<p>The next several subsections summarize points of design for the following items:</p>
<ul>
<li>database buffer</li>
<li>memory area for transaction processing</li>
<li>memory area for SQL processing</li>
<li>Memory for other purposes</li>
</ul>
<p><a id="store_memory"></a></p>
<h3 id="database-buffer">Database buffer</h3>
<p>This is an area for caching in memory the blocks read from a data file.</p>
<p>A larger database buffer size means data blocks reside in memory, which improves search and registration performance.</p>
<p>Specify the upper buffer size limit using a node definition file. If the buffer reaches its capacity, old blocks are written to a data file using LRU to create a space and read the remaining blocks from files. Read operations from files and write operations to files are called swapping. If blocks are in use and hence cannot be loaded to create a space, the buffer size is temporarily expanded.
If blocks are in use and hence cannot be loaded to create a space, the buffer size is temporarily expanded. When the processing ends and a space is no longer needed, the buffer size is reduced to its upper limit.</p>
<p>The internal buffer is partitioned on a per-partition basis before use. The size allocated to each partition is dynamically determined by nodes according to the amount of data and accessibility status.</p>
<figure>
  <img src="img/memory_storememory.png" alt="Database buffer" width="700"/>
  <figcaption>Database buffer</figcaption>
</figure>
<p>Immediately after starting up nodes, no blocks are yet read into a database buffer. Therefore, in search and registration processing immediately after a startup, swap processing occurs frequently as a result of reading blocks, which may degrade the speed performance.</p>
<p><strong>related parameters</strong></p>
<ul>
<li>
<p>node definition file (gs_node.json)</p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/dataStore/storeMemoryLimit</td>
<td>1024MB</td>
<td>upper size limit of a database buffer</td>
<td>allowed (online)</td>
</tr>
</tbody>
</table>
<p>[notes]</p>
<ul>
<li>The upper size limit can also be changed online while starting nodes. To make the change permanent, stop nodes and modify the node definition file.</li>
<li>To the upper size limit of a database buffer, allocate 60 to 70% of the physical memory available for GridDB. After launching, check the amount of swapping. If there is an excessive amount of swapping, a buffer shortage occurs which may downgrade performance. Consider adding memory and changing the upper size limit of a database buffer.
<ul>
<li>For details about swapping, see the column &ldquo;How to check related information&rdquo; in the table below to check information about read and write in swapping.</li>
</ul>
</li>
<li>The heading &ldquo;changes made after startup&rdquo; in the table above denotes whether the parameter can be changed after launching.
<ul>
<li>allowed (online): The parameter can be changed online while starting nodes. To make the change permanent, modify the node definition file.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>How to check related information</strong></p>
<ul>
<li>
<p>Information on the setup value and the current value can be checked by running the operation command gs_stat while running nodes.</p>
<table>
<thead>
<tr>
<th>display item for gs_stat in JSON format</th>
<th>setup value/current value</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>/performance/storeMemoryLimit</td>
<td>setup value</td>
<td>upper size limit of a database buffer (in bytes)</td>
</tr>
<tr>
<td>/performance/storeMemory</td>
<td>current value</td>
<td>current size of a database buffer (in bytes)</td>
</tr>
<tr>
<td>/performance/swapRead</td>
<td>current value</td>
<td>number of reads from files in swapping (total) (unit: number of times)</td>
</tr>
<tr>
<td>/performance/swapReadSize</td>
<td>current value</td>
<td>read size from files in swapping (total) (in bytes)</td>
</tr>
<tr>
<td>/performance/swapReadTime</td>
<td>current value</td>
<td>load time from files in swapping (total) (in milliseconds)</td>
</tr>
<tr>
<td>/performance/swapWrite</td>
<td>current value</td>
<td>number of writes to files in swapping (total) (unit: number of times)</td>
</tr>
<tr>
<td>/performance/swapWriteSize</td>
<td>current value</td>
<td>write size to files in swapping (total) (in bytes)</td>
</tr>
<tr>
<td>/performance/swapWriteTime</td>
<td>current value</td>
<td>write time to files in swapping (total) (in milliseconds)</td>
</tr>
</tbody>
</table>
<p>[example of executing the command]</p>
<pre tabindex="0"><code>$ gs_stat -u admin/admin -s 192.168.0.1:10040
{
  
  &#34;performance&#34;: {
    &#34;storeMemory&#34;: 4294967296,
    &#34;storeMemoryLimit&#34;: 4294967296,
    &#34;storeTotalUse&#34;: 9792126976,
    &#34;swapRead&#34;: 2072705,
    &#34;swapReadSize&#34;: 135836794880,
    &#34;swapReadTime&#34;: 3920574,
    &#34;swapWrite&#34;: 2172,
    &#34;swapWriteSize&#34;: 142344192,
    &#34;swapWriteTime&#34;: 601,
    
</code></pre></li>
</ul>
<h3 id="memory-area-for-transaction-processing">Memory area for transaction processing</h3>
<p>This is a memory area used in transaction services where row registration and search processing are performed. Each transaction service retrieves from a memory area the portion of memory needed for processing before use. After one transaction process ends, the memory that has been made available is released back to the memory area.</p>
<p>The number of transaction services (concurrency) is equivalent to /dataStore/concurrency (4 by default).</p>
<figure>
  <img src="img/memory_transaction.png" alt="Memory area for transaction processing" width="800"/>
  <figcaption>Memory area for transaction processing</figcaption>
</figure>
<p>If all the memory in a memory area is in use, and memory required for transaction services cannot be reclaimed, an error will occur.</p>
<p>A transaction may use a large amount of memory in such processing as running tens of millions of hits of queries using TQL, registering huge sized BLOBs, and registering a bulk of huge sized data using MultiPut.  Set the upper size limit of a memory area according to the content of transaction processing and the number of transaction services (concurrency: /dataStore/concurrency).</p>
<p><strong>related parameters</strong></p>
<ul>
<li>
<p>node definition file (gs_node.json)</p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/transaction/totalMemoryLimit</td>
<td>1024MB</td>
<td>upper size limit of a memory area for transaction processing</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/transaction/workMemoryLimit</td>
<td>128MB</td>
<td>upper size limit of the memory used by one transaction processing thread</td>
<td>possible (Restart nodes)</td>
</tr>
</tbody>
</table>
<p>[notes]</p>
<ul>
<li>The upper size limit cannot be changed online. To change the upper size limit, stop nodes and modify the node definition file.</li>
<li>If the memory needed for processing cannot be reclaimed, an error will occur. Check the current value set for the upper memory size limit and consider adding memory and changing the upper limit.</li>
<li>The heading &ldquo;changes made after startup&rdquo; in the table above denotes whether the parameter can be changed after launching.
<ul>
<li>possible (Restart nodes): The parameter can be changed by modifying the definition file specifying the parameter and then restarting the nodes.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>How to check related information</strong></p>
<ul>
<li>Information on the setup value can be checked by running the operation command gs_paramconf while running nodes.
<table>
<thead>
<tr>
<th>display item for gs_paramconf in JSON format</th>
<th>setup value/current value</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>/transaction/totalMemoryLimit</td>
<td>setup value</td>
<td>upper size limit of a memory area for transaction processing (in bytes)</td>
</tr>
<tr>
<td>/transaction/workMemoryLimit</td>
<td>setup value</td>
<td>upper size limit of the memory used by one transaction processing thread (in bytes)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h3 id="memory-area-for-sql-processing">Memory area for SQL processing</h3>
<p>There are two different types of memory areas for SQL processing: the buffer for storing intermediate SQL results and SQL work memory areas.</p>
<p>The buffer for storing intermediate SQL results is a memory for storing the data in the tables for intermediate results of such tasks in SQL processing as scan and join.
If the size of the intermediate results exceeds the buffer memory size limit, those results are temporarily exported in swap files for intermediate SQL results.</p>
<p>When executing analytical queries on large-volume data using an SQL, it is recommended to set the value of this buffer as high as possible, considering the balance with the database buffer.</p>
<p>SQL work memory is memory used in processing tasks in SQL processing. There is no need to change the default value for work memory.</p>
<p>However, be sure to set the sizes of a buffer for storing intermediate results and of work memory so as to satisfy the following expression:</p>
<ul>
<li>upper limit of a buffer for storing intermediate results (storeMemoryLImit) &gt;= upper limit of work memory (workMemoryLImit) * concurrency for SQL processing</li>
</ul>
<p>Unless the above expression is satisfied, exporting to swap files for intermediate results takes place often.</p>
<p><strong>related parameters</strong></p>
<ul>
<li>
<p>node definition file (gs_node.json)</p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/sql/storeMemoryLimit</td>
<td>1024MB</td>
<td>upper size limit of buffer for storing intermediate SQL results</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/sql/workMemoryLimit</td>
<td>32MB</td>
<td>upper size limit of an SQL work memory buffer</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/sql/workCacheMemory</td>
<td>128MB</td>
<td>of the memory specified in workMemoryLimit, the portion of the memory to cache instead of releasing it after use</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/sql/storeSwapFilePath</td>
<td>swap</td>
<td>directory for deploying files for storing intermediate SQL results</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/sql/concurrency</td>
<td>4</td>
<td>concurrency for SQL processing</td>
<td>possible (Restart nodes)</td>
</tr>
</tbody>
</table>
<p>[notes]</p>
<ul>
<li>The upper size limit cannot be changed online. To change the upper size limit, stop nodes and modify the node definition file.</li>
<li>If the memory for SQL processing runs out, swapping (write operations to and read operation from swap files) will be performed.
<ul>
<li>If excessive swapping is occurring, increase the size of the memory for SQL processing. See the second table under &ldquo;How to check related information&rdquo; below and check the items sqlStoreSwapXXXX to track how much swapping is occurring.</li>
</ul>
</li>
<li>The heading &ldquo;changes made after startup&rdquo; in the table above denotes whether the parameter can be changed after launching.
<ul>
<li>possible (Restart nodes): The parameter can be changed by modifying the definition file specifying the parameter and then restarting the nodes.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>How to check related information</strong></p>
<ul>
<li>
<p>Information on the setup value can be checked by running the operation command gs_paramconf while running nodes.</p>
<table>
<thead>
<tr>
<th>display item for gs_stat in JSON format</th>
<th>setup value/current value</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>/sql/storeMemoryLimit</td>
<td>setup value</td>
<td>upper size limit of buffer for storing intermediate SQL results</td>
</tr>
<tr>
<td>/sql/workMemoryLimit</td>
<td>setup value</td>
<td>upper size limit of an SQL work memory buffer</td>
</tr>
<tr>
<td>/sql/workCacheMemory</td>
<td>setup value</td>
<td>of the memory specified in workMemoryLimit, the portion of the memory to cache instead of releasing it after use</td>
</tr>
<tr>
<td>/sql/storeSwapFilePath</td>
<td>setup value</td>
<td>directory for deploying files for storing intermediate SQL results</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Information on the current value can be checked by running the operation command gs_stat while running nodes.</p>
<table>
<thead>
<tr>
<th>display item for gs_stat in JSON format</th>
<th>setup value/current value</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>/performance/sqlStoreSwapRead</td>
<td>current value</td>
<td>number of reads from files in swapping (total) (unit: number of times)</td>
</tr>
<tr>
<td>/performance/sqlStoreSwapReadSize</td>
<td>current value</td>
<td>read size from files in swapping (total) (in bytes)</td>
</tr>
<tr>
<td>/performance/sqlStoreSwapReadTime</td>
<td>current value</td>
<td>load time from files in swapping (total) (in milliseconds)</td>
</tr>
<tr>
<td>/performance/sqlStoreSwapWrite</td>
<td>current value</td>
<td>number of writes to files in swapping (total) (unit: number of times)</td>
</tr>
<tr>
<td>/performance/sqlStoreSwapWriteSize</td>
<td>current value</td>
<td>write size to files in swapping (total) (in bytes)</td>
</tr>
<tr>
<td>/performance/sqlStoreSwapWriteTime</td>
<td>current value</td>
<td>write time to files in swapping (total) (in milliseconds)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h3 id="memory-for-other-purposes">Memory for other purposes</h3>
<h4 id="memory-for-retaining-container-and-data-file-management-information">Memory for retaining container and data file management information</h4>
<p>Memory is not only used for a buffer for processing, but also used to retain the management information on containers and files. The size of the next two types of memory (memory for container management and memory for data management) increases relative to the number of containers and the amount of data, respectively.</p>
<ul>
<li>
<p>Memory for container management</p>
<ul>
<li>Always uses memory approximately amounting to (number of containers in the node) * 64 bytes.</li>
<li>For example, if the number of containers is 10 million, then approximately 640 MB of memory would be used.</li>
</ul>
</li>
<li>
<p>Memory for data file management</p>
<ul>
<li>Always uses memory approximately amounting to (total amount of data) divided by (block size) * 32 bytes.</li>
<li>For example, if the total amount of data is 1 TB and the block size is 64 KB, then approximately 500 MB of memory would be used.</li>
</ul>
</li>
</ul>
<h2 id="container-design">Container design</h2>
<p>The optimal container design largely depends on system and application requirements.
This section describes the basics that help you with container design and provides related information.</p>
<h3 id="recommended-design">Recommended design</h3>
<p><strong>Store data generated daily in time-series containers.</strong></p>
<p>Containers are of two types: collections and time-series containers.</p>
<p>First, see if time-series containers can be used to store data; only when time-series containers are not available, consider using collections.</p>
<p>Use time-series containers when device sensor data and logs are generated on a minute-by-minute basis that results in a continuous increase, like IoT systems.
Time-series containers are optimized for storing and referencing time-series data. As such, database buffer is more efficiently used than when collections are used.</p>
<p>The features of time-series containers include operation specific to time-series data. Gaining a better understanding of these features helps you with container design.</p>
<p>[References]</p>
<ul>
<li>This documentation (GridDB Database Administrators Guide)
<ul>
<li><a href="#store_memory">Database buffer</a></li>
</ul>
</li>
<li>GridDB Features Reference
<ul>
<li><a href="../3.md_reference_feature/md_reference_feature.md#data_model">Data model</a></li>
<li><a href="../3.md_reference_feature/md_reference_feature.md#ts_data_functions">Function specific to time series data</a></li>
</ul>
</li>
<li>GridDB Programming Guide
<ul>
<li><a href="../10.md_programming_guide/md_programming_guide.md#java_timeseries_function">Handling time-series data (Java)</a></li>
</ul>
</li>
<li>GridDB TQL Reference
<ul>
<li><a href="../11.md_reference_tql/md_reference_tql.md#aggregation_ts">Aggregation Operations - Time Series</a></li>
<li><a href="../11.md_reference_tql/md_reference_tql.md#ts_data_selection">Selection and Interpolation Operations on Time-Series Data</a></li>
</ul>
</li>
</ul>
<p><strong>Use a large number of containers rather than small.</strong></p>
<p>Processing for one container is handled on one processing thread for one node server.
As such, designing containers to store a large amount of data in every container using a few containers cannot take advantage of node processing concurrency (multicore).
For another thing, such design leads to excessive access to particular nodes, which means performance does not scale out when adding nodes.</p>
<p>For example, for time-series data, create time-series containers for each data source as below:</p>
<ul>
<li>For sensor data, create one time-series container for each individual sensor.</li>
<li>For production data, create one time-series container for each product.</li>
</ul>
<p>Even in case of the same kind of data, it is recommended to split the container into as many containers as the number of cluster nodes multiplied by the processing concurrency per node.</p>
<p>Running operations of multiple containers serially can degrade performance.
Process split containers in parallel as much as possible using batch processing.</p>
<p>[References]</p>
<ul>
<li>This documentation (GridDB Database Administrators Guide)
<ul>
<li><a href="#num_of_threads">Number of processing threads</a></li>
</ul>
</li>
<li>GridDB Features Reference
<ul>
<li><a href="../3.md_reference_feature/md_reference_feature.md#batch_functions">Batch-processing function for multiple containers</a></li>
</ul>
</li>
<li>GridDB Programming Guide
<ul>
<li><a href="../10.md_programming_guide/md_programming_guide.md#java_batch_functions">Performing a bulk of operations on multiple containers (Java)</a></li>
</ul>
</li>
</ul>
<p><strong>Split containers in a way that suits data.</strong></p>
<p>Three methods are available to split containers: row splitting, column splitting, and table partitioning.</p>
<ul>
<li>
<p>Row splitting<br>
This method splits the same kind of data to match the search criteria. For example, do not continue to store sensor data of a particular type in one container; store only one day&rsquo;s sensor data in one container.
Storing data like this will make it easier to process in parallel such search as all data for a certain day, or one week&rsquo;s data for a certain sensor and thus improve search performance.
Storing data like this will make it easier to process in parallel such search as all data for a certain day, or one week&rsquo;s data for a certain sensor and thus improve search performance.</p>
</li>
<li>
<p>Column splitting<br>
This method splits data referenced infrequently to store in separate containers. For example, do not store all device logs in one container; store only information frequently used for analysis in the same container and other information in a separate container.</p>
<p>Storing logs like this will remove the need to reference unnecessary data and thus improve search performance.</p>
</li>
<li>
<p>table partitioning
This method specifies particular columns as partitioning keys and thus automatically assigns data to multiple internal containers depending on the value of those columns.
Split methods have classifications. Select a classification according to data.</p>
</li>
</ul>
<p>Select the appropriate method to match search criteria or data characteristics.</p>
<p>[References]</p>
<ul>
<li>GridDB Features Reference
<ul>
<li><a href="../3.md_reference_feature/md_reference_feature.md#table_partitioning">Table partitioning function</a></li>
</ul>
</li>
</ul>
<p><strong>Minimal indexing maximizes performance.</strong></p>
<p>Creating indexes appropriately to match the system&rsquo;s data search criteria will improve search performance.
Multiple indexes can be created in one container, but the number of indexes must be minimized to what is required.</p>
<p>This is because index data stresses database buffers.
In systems where the memory size is not sufficient, excessive indexing decreases the buffer hit ratio and increases swapping, thereby leading to performance degradation.</p>
<p>It is possible to remove unnecessary indexes afterwards, but it may take a long time to complete removal, if a large amount of rows is already stored in the target container.</p>
<p>For this reason, take time beforehand to fully design containers and try to create only necessary indexes.</p>
<p>Designing containers in such a way that retrieval by primary key alone is enough to focus data will automatically result in minimal indexing.
Moreover, such design automatically means splitting containers, which makes it possible to take advantage of each node&rsquo;s processing concurrency.</p>
<p>To create effective indexes in the Advanced Edition, refer to the SQL optimization rules in the GridDB Advanced Edition SQL Tuning Guide.</p>
<p>[References]</p>
<ul>
<li>This documentation (GridDB Database Administrators Guide)
<ul>
<li><a href="#store_memory">Database buffer</a></li>
<li><a href="#block_size">Block size</a></li>
<li><a href="#num_of_threads">Number of processing threads</a></li>
</ul>
</li>
<li>GridDB Features Reference
<ul>
<li><a href="../3.md_reference_feature/md_reference_feature.md#primary_key">Primary key</a></li>
<li><a href="../3.md_reference_feature/md_reference_feature.md#index_function">Index function</a></li>
</ul>
</li>
<li>GridDB Programming Guide
<ul>
<li><a href="../10.md_programming_guide/md_programming_guide.md#java_create_index">Creating an index (Java)</a></li>
</ul>
</li>
<li>GridDB SQL Tuning Guide
<ul>
<li><a href="..//15.md_sql_tuning_guide/md_sql_tuning_guide.md#label_sql_optimization">Optimize SQL</a></li>
</ul>
</li>
</ul>
<h2 id="cluster-configuration-design">Cluster configuration design</h2>
<p>In designing cluster configuration, it is necessary to design the following items, to fulfill the requirements for availability, including the system&rsquo;s utilization rates and RTO.</p>
<ul>
<li>Number of nodes configuring a cluster</li>
<li>Failure detection (heartbeat)</li>
<li>Replica processing (number of replicas, processing mode)</li>
<li>Client failover timeout</li>
</ul>
<p>GridDB autonomously places replicas (data) in the clusters configured by multiple nodes (server processes) and automatically determines the master node that manages the entire clusters. Even if a node fails, processing from the client application (NoSQL interface) can continue using failover.</p>
<figure>
  <img src="img/failover.png" alt="Failover" width="500" />
  <figcaption>Failover</figcaption>
</figure>
<h3 id="number-of-nodes-configuring-a-cluster">Number of nodes configuring a cluster</h3>
<p>Depending on the number of node servers configuring clusters, the maximum number of node servers that can tolerate simultaneous node failures to allow cluster services to continue varies.</p>
<p>To meet the required utilization rates of the system, determine the number of nodes configuring the cluster, depending on the maximum number of node servers that can tolerate simultaneous node downs.</p>
<ul>
<li>
<p>Cluster services will stop if more than half of the number of node servers configuring a cluster results in a node down.</p>
<figure>
  <img src="img/cluster_service.png" alt="Number of running cluster servers" width="700"/>
  <figcaption>Number of running cluster servers</figcaption>
</figure>
</li>
<li>
<p>For a system that requires availability, it is recommended to have at least three node servers that configure a cluster. With less than three node servers available, clusters will go down if one node server stops.</p>
<ul>
<li>The number of configured nodes and the maximum number of stop nodes where clusters can operate have the following relationships:
<table>
<thead>
<tr>
<th>number of configured nodes</th>
<th>maximum number of stop nodes where clusters can operate</th>
</tr>
</thead>
<tbody>
<tr>
<td>1 server</td>
<td>0 (low availability)</td>
</tr>
<tr>
<td>2 servers</td>
<td>0 (low availability)</td>
</tr>
<tr>
<td>3 servers</td>
<td>1 server</td>
</tr>
<tr>
<td>4 servers</td>
<td>1 server</td>
</tr>
<tr>
<td>5 servers</td>
<td>2 server</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li>
<p>For a system that does not require availability, it is possible to have one node server to run it with a single configuration.</p>
</li>
</ul>
<p>[notes]</p>
<ul>
<li>In case of planned outages, including hardware maintenance, stop one node server at a time. If multiple nodes are stopped, in case a failure occurs in the rest of the nodes, the number of down servers might exceed half the total number of servers, which could stop the cluster.</li>
</ul>
<p>If a node goes down, the following recovery processing will automatically be performed:</p>
<ul>
<li>
<p>Cases where the master goes down</p>
<ul>
<li>Redetermine the master.</li>
<li>Relocate partitions (replicas).</li>
</ul>
</li>
<li>
<p>Cases where followers go down</p>
<ul>
<li>Relocate partitions (replicas).</li>
</ul>
</li>
</ul>
<p>Partitions (replicas) are relocated not only when a cluster is contracted due to a node down, but also when a cluster is extended.</p>
<p>Before relocation, if backup data is older than owner data, the cluster will forward the delta data to the backup node and synchronize the owner and backup data.</p>
<figure>
  <img src="img/replication_sync.png" alt="Synchronization in cluster reconfiguration" width="700"/>
  <figcaption>Synchronization in cluster reconfiguration</figcaption>
</figure>
<ul>
<li>Whether or not differences between the owner and backup data exist is determined by the value of LSN (Log Sequence Number) each piece of data has. The value of LSN increases for each data update; hence, a greater value means newer data.</li>
<li>Synchronization are of two types, in terms of the differences between the owner and backup data.
<ul>
<li>short-term synchronization
<ul>
<li>performed when the data differences are small. The amount of data forwarded is small; processing completes in less processing time.</li>
</ul>
</li>
<li>long-term synchronization
<ul>
<li>performed when the data differences are large. The amount of data forwarded is large; processing may take a long time to complete.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Synchronization described above is automatically performed by the server. There is no item that needs design work.</p>
<h3 id="failure-detection-heartbeat">Failure detection (heartbeat)</h3>
<p>A cluster detects failure through a heartbeat between nodes.
To check the survival of nodes, the master sends a heartbeat to all followers at regularly scheduled intervals.  Followers receiving a heartbeat send back their responses to the master.</p>
<figure>
  <img src="img/heartbeat.png" alt="Heartbeat" width="600" />
  <figcaption>Heartbeat</figcaption>
</figure>
<p>To check if a heartbeat sent from the master has arrived, followers check the received time of a heartbeat at regularly scheduled intervals.</p>
<p>To reflect the latest data between the master and followers, a heartbeat exchanges information on configured nodes and partition information management tables between the master and followers.</p>
<ul>
<li>
<p>Cases where the followers&rsquo; responses are not sent to the master</p>
<ul>
<li>If the followers&rsquo; heartbeat responses are not sent to the master twice in succession, the master will assume the followers have gone down.</li>
<li>The master then updates the information on the configured nodes it has and sends it to each follower in the next heartbeat.</li>
<li>Finally the cluster performs processing for failure detection</li>
</ul>
<figure>
  <img src="img/heartbeat_follower_down.png" alt="Cases where the followers' heartbeat responses are not sent" width="800" />
  <figcaption>Cases where the followers' heartbeat responses are not sent</figcaption>
</figure>
</li>
<li>
<p>Cases where the master&rsquo;s heartbeat is not sent to the followers</p>
<ul>
<li>If the master&rsquo;s heartbeat is not sent to the followers twice in succession, the followers will assume the master has gone down.</li>
<li>To determine a new master, all followers temporarily become a submaster. Then, one node server is selected from among all nodes to be the next master and the rest will become followers again.</li>
<li>Finally the cluster performs processing for failure detection</li>
</ul>
</li>
</ul>
<p>The length of regularly scheduled intervals for both the master and followers is by default 5 seconds (value of /cluster/heartbeatInterval in gs_cluster).</p>
<p><strong>related parameters</strong></p>
<ul>
<li>
<p>cluster definition file (gs_cluster.json)</p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>/cluster/heartbeatInterval</td>
<td>5 seconds</td>
<td>- regular interval at which the master sends a heartbeat<br>- regular interval at which the followers check the time to receive a heartbeat from the master</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>node definition file (gs_node.json)</p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>/cluster/serviceAddress</td>
<td>127.0.0.1</td>
<td>address used for sending/receiving a heartbeat</td>
</tr>
<tr>
<td>/cluster/servicePort</td>
<td>10010</td>
<td>port number used for sending/receiving a heartbeat</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h3 id="replica-processing-number-of-replicas-processing-mode">Replica processing (number of replicas, processing mode)</h3>
<p>For greater data availability, GridDB creates replicas and retains them by distributing them among multiple nodes. For this reason, even if a node fails, GridDB can continue data access using replicas in the rest of the nodes.</p>
<p>The next several subsections explain points of design for replicas; replication in which replicas are created; and the mechanism of synchronization where replicas are recovered from failure.</p>
<h4 id="replica">Replica</h4>
<p>A replica has the following features:</p>
<ul>
<li>
<p>The data unit for a replica is the partition.</p>
</li>
<li>
<p>Among replicas, the master&rsquo;s data is called the &ldquo;owner&rdquo; and the duplicated data from the owner is called the &ldquo;backup.&rdquo; Moreover, the nodes that have each of the data above are called the &ldquo;owner nodes&rdquo; and the &ldquo;backup nodes,&rdquo; respectively.</p>
</li>
<li>
<p>Registration and reference by an application are applied to the owner. Backup is intended to be data for recovery when a failure occurs in the owner. Therefore, an application never access it .</p>
<figure>
  <img src="img/partition_replica.png" alt="Replica" width="600" />
<figcaption>Replica</figcaption>
</figure>
</li>
<li>
<p>The owner and backup in each partition are distributed to place them in different nodes. In which nodes these replicas are placed is automatically determined by the cluster.</p>
</li>
</ul>
<p>The number of replicas is determined by the maximum number of node servers that can withstand multiple failures to ensure data access, as dictated by the system&rsquo;s utilization rates.</p>
<p>A multiple failure refers to a failure occurring in multiple nodes which causes them to go down all at once.</p>
<ul>
<li>If the number of nodes where multiple failures are occurring is less than that of replicas, the client can continue data access.</li>
<li>In this case, temporarily fewer replicas are present in a cluster, which results in a decreased availability state, called &ldquo;replica loss.&rdquo; Eventually, new replicas are automatically created in synchronization, which sets the cluster back to the normal state.</li>
</ul>
<figure>
  <img src="img/replication_replicanum3_nodedown2.png" alt="3 replicas and 2 node servers where multiple failures are occurring" width="600" />
  <figcaption>3 replicas and 2 node servers where multiple failures are occurring</figcaption>
</figure>
<ul>
<li>If the number of nodes where multiple failures are occurring is equal to or greater than that of replicas and all the replicas in a partition are placed in the nodes which have gone down due to multiple failures, then data in that partition will be inaccessible.</li>
<li>A partition where none of the owner and backup data is available is in a state called &ldquo;owner loss.&rdquo; Unless nodes which have replicas are recovered to enable them to participate in a cluster, the corresponding partition remains inaccessible.</li>
<li>However, in some multiple failures where multiple nodes have gone down, if node downs occur at certain intervals as opposed to simultaneously, synchronization may be run during this period to create replicas in other nodes, so that the client can continue data access.</li>
</ul>
<figure>
  <img src="img/replication_replicanum3_nodedown3.png" alt="3 replicas and 3 node servers where multiple failures are occurring" width="600" />
  <figcaption>3 replicas and 3 node servers where multiple failures are occurring</figcaption>
</figure>
<p>More replicas means greater availability with the following adverse effects:</p>
<ul>
<li>
<p>effect on the amount of data</p>
<ul>
<li>More replicas means greater amount of data, which in turn increases the amount of memory and disks needed for processing.</li>
</ul>
<figure>
  <img src="img/replication_disk.png" alt="Relationship between the number of replicas and the amount of data" width="700"/>
  <figcaption>Relationship between the number of replicas and the amount of data</figcaption>
</figure>
<ul>
<li>While a cluster is in degraded operation, data in the nodes that are stopped is placed in other nodes, such that during degraded operation, the amount of data handled by a node increases.</li>
</ul>
<figure>
  <img src="img/replication_decrease.png" alt="Relationship between the number of replicas and the amount of data" width="700"/>
  <figcaption>Relationship between the number of replicas and the amount of data</figcaption>
</figure>
</li>
</ul>
<p>Below is a guideline for the number of replicas:</p>
<ul>
<li>For a multi-node cluster configuration, the recommended number of replicas is 2 (which is the default value in a definition file).</li>
<li>For a single configuration, the recommended number of replicas is 1. Specifying 2 or above for the number of replicas does not have any effect on availability, because replicas are created in the same node.</li>
<li>If the system has sufficient resources for memory and disks and requires high availability, consider having at least 3 replicas.
<ul>
<li>In this case, set the number of replicas to equal to or less than half the number of configured nodes, such that,
<ul>
<li>number of replicas &lt;= (number of configured nodes + 1) /2</li>
</ul>
</li>
<li>Unless the above expression is satisfied, if node servers of less than the number of replicas fail, the system cannot satisfy the criteria for running the services (more than half the nodes are running), which will stop the services, regardless of whether data exists in replicas.</li>
</ul>
</li>
</ul>
<p><strong>related parameters</strong></p>
<ul>
<li>cluster definition file (gs_cluster.json)
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/cluster/replicationNum</td>
<td>2</td>
<td>number of replicas</td>
<td>possible (Restart the cluster)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[notes]</p>
<ul>
<li>The heading &ldquo;changes made after startup&rdquo; in the table above denotes whether the parameter can be changed after launching.
-possible (Restart the cluster): The parameter can be changed by modifying the definition file specifying the parameter and then restarting all the nodes and the cluster.</li>
</ul>
<h4 id="replication-processing">Replication processing</h4>
<p>Data updated in transaction processing, including data registration and deletion can be written to disks and made permanent. This protects data updates from missing data in case of a node failure.  Further, availability can be increased by forwarding updated data to a node containing backup data and replicating it in this node through replication.</p>
<figure>
  <img src="img/replication_logwrite.png" width="400" alt="Transaction log write and replication"/>
  <figcaption>Transaction log write and replication</figcaption>
</figure>
<p>In transaction processing, each of writing to log files and replication has two modes, including synchronous and asynchronous modes. Select one based on the system&rsquo;s availability and performance requirements.</p>
<ul>
<li>
<p>Replication modes</p>
<table>
<thead>
<tr>
<th>mode</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>asynchronous<br>(default)</td>
<td>For each transaction processing, forwards updated data to a backup node but afterwards does not wait for receive completion afterwards.</td>
</tr>
<tr>
<td>semi-synchronous</td>
<td>For each transaction processing, forwards updated data to a backup node and afterwards waits for receive completion afterwards. (The process of reflecting updated data at the backup node is asynchronous. )</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>transaction log write mode</p>
<table>
<thead>
<tr>
<th>mode</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>asynchronous<br>(default)</td>
<td>Regardless of the timing of transaction processing, flushes to transaction log files at regular intervals.</td>
</tr>
<tr>
<td>synchronous</td>
<td>For each transaction processing, flushes to transaction log files.</td>
</tr>
</tbody>
</table>
<ul>
<li>An asynchronous mode is a mode for such systems as IoT systems which register data frequently. Asynchronous writing improves speed. While the likelihood of missing data increases, GridDB simultaneously forwards data for replication which results in an increase in availability even in an asynchronous mode. For example, consider the case where, after notifying the application about completion of transaction processing, the machine for owner data goes down prior to the log write cycle. In this case, data updated by the owner is lost, but since updated data is forwarded to the backup node, the likelihood of missing data can be reduced.</li>
</ul>
</li>
</ul>
<p>The table below explains combinations of transaction logs and replication modes, and process flows and performance for each combination.</p>
<table>
<thead>
<tr>
<th>mode<br>combination</th>
<th>process flow</th>
<th>performance</th>
<th>state of data upon notification of completion sent to the application</th>
</tr>
</thead>
<tbody>
<tr>
<td>[1]<br>log:<br>asynchronous (1 sec.)<br><br>replication:<br>asynchronous<br><br>(default)</td>
<td><img src="img/replication_logwrite_1.png" width="460" alt="log: asynchronous, replication: asynchronous"/></td>
<td>high-speed</td>
<td>- flushes updated data within a second<br><br>- forwards data to a backup node (but has not acknowledged receipt)</td>
</tr>
<tr>
<td>[2]<br>log:<br>asynchronous (1 sec.)<br><br>replication:<br>semi-synchronous</td>
<td><img src="img/replication_logwrite_2.png" width="460" alt="log: asynchronous, replication: semi-synchronous"/></td>
<td>moderately high speed</td>
<td>- flushes updated data within a second<br><br>- forwards data to a backup node</td>
</tr>
<tr>
<td>[3]<br>log:<br>synchronous<br><br>replication:<br>asynchronous</td>
<td><img src="img/replication_logwrite_3.png" width="460" alt="log: synchronous, replication: asynchronous"/></td>
<td>moderately low speed</td>
<td>- completes flushing updated data<br><br>- forwards data to a backup node (but has not acknowledged receipt)</td>
</tr>
<tr>
<td>[4]<br>log:<br>synchronous<br><br>replication:<br>semi-synchronous</td>
<td><img src="img/replication_logwrite_4.png" width="460" alt="log: synchronous, replication: semi-synchronous"/></td>
<td>low speed</td>
<td>- completes flushing updated data<br><br>- forwards data to a backup node</td>
</tr>
</tbody>
</table>
<ul>
<li>in descending order by performance: [1] &gt; [2] &gt; [3] &gt; [4] (where the number indicates the numbers under the heading &ldquo;mode combination&rdquo; in the table above)</li>
<li>in descending order by availability: [4] &gt; [3] &gt; [2] &gt; [1] (where the number indicates the numbers under the heading &ldquo;mode combination&rdquo; in the table above)</li>
</ul>
<p>Below is a guideline for setups for transaction log write and replication modes.</p>
<ul>
<li>For normal systems, the recommended choice is a combination of asynchronous (1 sec.) for transaction logs and asynchronous for replication. (which is the default value in a definition file).
<ul>
<li>This is a setup which provides a minimum level of availability, since both modes are asynchronous and hence high-speed, together with the mechanism of how data is forwarded to an application.</li>
</ul>
</li>
<li>There is a trade-off between performance and availability. For systems which require very high availability and reliability, consider combining semi-synchronous and synchronous modes in terms of balance with performance requirements.</li>
</ul>
<p><strong>related parameters</strong></p>
<ul>
<li>
<p>cluster definition file (gs_cluster.json)</p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/transaction/replicationMode</td>
<td>0 (asynchronous)</td>
<td>mode for replication<br>asynchronous: 0 or ASYNC<br>semi-synchronous: 1 or SEMISYNC</td>
<td>possible (Restart the cluster)</td>
</tr>
<tr>
<td>/transaction/replicationTimeoutInterval</td>
<td>10s</td>
<td>in semi-synchronous replication, time to wait for receive completion by a backup node.</td>
<td>possible (Restart the cluster)</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>node definition file (gs_node.json)</p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/dataStore/logWriteMode</td>
<td>1</td>
<td>transaction log write mode<br>asynchronous: Specify cycle time in seconds using an integer x (where 1  x  2<sup>31</sup>).<br>synchronous: 0 or -1</td>
<td>possible (Restart nodes)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[notes]</p>
<ul>
<li>The heading &ldquo;changes made after startup&rdquo; in the table above denotes whether the parameter can be changed after launching.
<ul>
<li>possible (Restart the cluster): The parameter can be changed by modifying the definition file specifying the parameter and then restarting all the nodes and the cluster.</li>
<li>possible (Restart nodes): The parameter can be changed by modifying the definition file specifying the parameter and then restarting the nodes.</li>
</ul>
</li>
</ul>
<h3 id="client-failover-timeout">Client failover timeout</h3>
<p>Even if a node fails, the application can continue accessing data thanks to failover functionality provided by a node and a client API (NoSQL interface).</p>
<p>The rest of this subsection gives a detailed explanation of how failover is performed when a node fails by following all steps ranging from an occurrence of a failure to recovery.</p>
<table>
<thead>
<tr>
<th>flow</th>
<th>figure</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>(1) client&rsquo;s request for processing</td>
<td><p><img src="img/cluster_failover_1.png" width="300" alt="Flow of failover 1 when a failure occurs" /></p></td>
<td>1. The client requests processing by indicating what to do with a container through a client API. <br>The client API connects to node 1, which stores container A to operate on.</td>
</tr>
<tr>
<td>(2) failure occurrence</td>
<td><p><img src="img/cluster_failover_2.png" width="300" alt="Flow of failover 2 when a failure occurs" /></p></td>
<td>2. While processing a request from the client, the node goes down due to a node failure in node 1.</td>
</tr>
<tr>
<td>(3) automatic recovery 1</td>
<td><p><img src="img/cluster_failover_3.png" width="300" alt="Flow of failover 3 when a failure occurs" /></p></td>
<td>3. The client API loses connection to node 1 and automatically retries processing. <br><br>4. The cluster automatically detects node 1 has gone down and reconfigures the cluster using the remaining nodes.</td>
</tr>
<tr>
<td>(4) automatic recovery 2</td>
<td><p><img src="img/cluster_failover_4.png" width="300" alt="Flow of failover 4 when a failure occurs" /></p></td>
<td>&gt;5. As a replacement for owner data in node 1, the cluster changes backup data in node 2 to owner data. <br>In the background, the cluster creates backup in other nodes.</td>
</tr>
<tr>
<td>(5)(5) continuation of processing</td>
<td><p><img src="img/cluster_failover_5.png" width="300" alt="Flow of failover 5 when a failure occurs" /></p></td>
<td>6. The client API establishes connection to the new owner of container A, namely node 2, and automatically retries processing. <br><br>The client continues processing without causing an error.</td>
</tr>
</tbody>
</table>
<p>If the node in the partition the client API is accessing fails, the client API automatically retries processing.  If, thanks to the cluster&rsquo;s autonomous data placement, the partition recovers while retrying, the client API automatically continues processing.
The retrying time, or &ldquo;failover timeout,&rdquo; can be changed by specifying a property for application connection processing for the application.</p>
<ul>
<li>Cases where processing cannot continue, leading to an error
<ul>
<li>Cases where extra time is required for synchronous processing for autonomous data placement and the partition does not recover within a failover timeout.</li>
<li>Cases where a node failure leads to missing data and the partition enters a state of owner loss.</li>
</ul>
</li>
</ul>
<p>[notes]</p>
<ul>
<li>Only the NoSQL interface has a client failover functionality.</li>
</ul>
<p><strong>related parameters</strong></p>
<ul>
<li>property for connecting to a cluster from the client API
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>failoverTimeout</td>
<td>120 seconds</td>
<td>client failover timeout<br>Use an application program to specify.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2 id="network-design">Network design</h2>
<p>In GridDB, it is necessary to design two types of networks, namely nodes and clusters.</p>
<h3 id="node-network-configuration">Node network configuration</h3>
<p>The GridDB nodes perform a variety of network communication tasks to communicate with the client and other nodes over the network. Communication paths used for this are of several types as shown in the table below:</p>
<figure>
  <img src="img/network_to_node.png" alt="communication to nodes" width="600"/>
  <figcaption>communication to nodes</figcaption>
</figure>
<table>
<thead>
<tr>
<th>No.</th>
<th>item</th>
<th>communication path</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>transaction processing</td>
<td>- client-node<br>- between nodes</td>
<td>- communication for data operations over a NoSQL interface<br>- communication for replication processing of transactions</td>
</tr>
<tr>
<td>B</td>
<td>SQL processing</td>
<td>- client-node<br>- between nodes</td>
<td>- communication for data operations over a NewSQL interface<br>- communication for processing SQL by parallel and distributed computing</td>
</tr>
<tr>
<td>C</td>
<td>production and management operations</td>
<td>client-node</td>
<td>communication for accepting an operation request for production and management</td>
</tr>
<tr>
<td>D</td>
<td>cluster management</td>
<td>between nodes</td>
<td>communication for sending and receiving a heartbeat used for checking the survival of nodes, as well as information on cluster management</td>
</tr>
<tr>
<td>E</td>
<td>synchronization</td>
<td>between nodes</td>
<td>communication for data synchronization through partition relocation</td>
</tr>
</tbody>
</table>
<p>Main operation tools provided by GridDB use multiple types of communication as illustrated in the figure below:</p>
<figure>
  <img src="img/network_operation_tool.png" alt="Network communication used by operation tools" width="500"/>
  <figcaption>Network communication used by operation tools</figcaption>
</figure>
<table>
<thead>
<tr>
<th>operation tools</th>
<th>communication types to be used</th>
</tr>
</thead>
<tbody>
<tr>
<td>integrated operations management GUI (gs_admin)</td>
<td>A. transaction processing<br>B. SQL processing<br>C. production and management operations</td>
</tr>
<tr>
<td>interpreter (gs_sh)</td>
<td>A. transaction processing<br>B. SQL processing<br>C. production and management operations</td>
</tr>
<tr>
<td>operation command (including gs_joincluster and gs_stat)</td>
<td>C. production and management operations</td>
</tr>
<tr>
<td>export/import  tool (gs_export, gs_import)</td>
<td>A. transaction processing<br>B. SQL processing</td>
</tr>
</tbody>
</table>
<p>[notes]</p>
<ul>
<li>For IP addresses to be used for communication, specify the ones that can communicate with the client and all other nodes.</li>
<li>To specify a host name for an IP address, make sure that the name is resolvable for the client and all other nodes.</li>
<li>If an IP address (seviceAddress) is omitted in a node definition file, the IP address associated with the machine&rsquo;s host name is used as a default.
<ul>
<li>How to check an IP address associated with a host name:
<pre tabindex="0"><code class="language-example" data-lang="example">$ hostname -i
172.0.10.1
</code></pre></li>
</ul>
</li>
</ul>
<p><strong>related parameters</strong></p>
<ul>
<li>
<p>node definition file (gs_node.json)</p>
<ul>
<li>For each communication, set an IP address (serviceAddress) and a port number (servicePort).</li>
</ul>
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/cluster/serviceAddress</td>
<td>-<br>(IP address that corresponds to a host name)</td>
<td>address for cluster management</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/cluster/servicePort</td>
<td>10010</td>
<td>port number for cluster management</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/sync/serviceAddress</td>
<td>-<br>(IP address that corresponds to a host name))</td>
<td>address for synchronization</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/sync/servicePort</td>
<td>10020</td>
<td>port number for synchronization</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/system/serviceAddress</td>
<td>-<br>(IP address that corresponds to a host name)</td>
<td>address for production and management operations</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/system/servicePort</td>
<td>10040</td>
<td>port number for production and management operations</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/transaction/serviceAddress</td>
<td>-<br>(IP address that corresponds to a host name)</td>
<td>address for transaction processing</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/transaction/servicePort</td>
<td>10001</td>
<td>port number for transaction processing</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/sql/serviceAddress</td>
<td>-<br>(IP address that corresponds to a host name))</td>
<td>address for SQL processing</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/sql/servicePort</td>
<td>20001</td>
<td>number for SQL processing</td>
<td>possible (Restart nodes)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[notes]</p>
<ul>
<li>The heading &ldquo;changes made after startup&rdquo; in the table above denotes whether the parameter can be changed after launching.
<ul>
<li>possible (Restart nodes): The parameter can be changed by modifying the definition file specifying the parameter and then restarting the nodes.</li>
</ul>
</li>
</ul>
<p>In performing data operations using TQL or SQL, the client connects to a cluster through a NoSQL/NewSQL interface to perform processing. Note that in the case of SQL, data operations using SQL involve distributed processing between nodes and hence require a high amount of communication between nodes.</p>
<ul>
<li>In TQL (NoSQL interface), data operations are performed on a per-container basis, which means the client communicates with the node which has that container.</li>
<li>In SQL (NewSQL interface), data operations are performed using parallel and distributed computing, which means the client randomly accesses one node server and processes the SQL by distributing it to each node .</li>
</ul>
<figure>
  <img src="img/network_nosql_newsql.png" alt="Communication flow when performing data operations using a NoSQL/NewSQL interface" width="900"/>
  <figcaption>Communication flow when performing data operations using a NoSQL/NewSQL interface</figcaption>
</figure>
<p>The points of design required for a node network are port numbers and bandwidth. The next several subsections explain points of design for each.</p>
<h4 id="port-number">Port number</h4>
<p>Port numbers GridDB nodes use are of several types as shown in the tables below:</p>
<p>By default, the numbers in the two tables are used. If the port number that the system plans to use is used by another application or elsewhere, then the default port number must be changed.</p>
<figure>
  <img src="img/network_to_node.png" alt="network communication" width="600" id="label_network_communications"/>
  <figcaption>network communication</figcaption>
</figure>
<table>
<thead>
<tr>
<th>No</th>
<th>item</th>
<th>description</th>
<th>port number</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>transaction processing</td>
<td>communication port for performing transaction processing</td>
<td>10001</td>
</tr>
<tr>
<td>B</td>
<td>SQL processing</td>
<td>communication port for performing SQL processing (AE only)</td>
<td>20001</td>
</tr>
<tr>
<td>C</td>
<td>production and management operations</td>
<td>communication port for accepting an operation request for production and management</td>
<td>10040</td>
</tr>
<tr>
<td>D</td>
<td>cluster management</td>
<td>communication port for sending and receiving a heartbeat used for checking the survival of nodes, as well as information on cluster management</td>
<td>10010</td>
</tr>
<tr>
<td>E</td>
<td>synchronization</td>
<td>communication port for data synchronization through partition relocation</td>
<td>10020</td>
</tr>
</tbody>
</table>
<p>To use multicast communication as a connection method, the following three additional port numbers in the table below are used:</p>
<table>
<thead>
<tr>
<th>No</th>
<th>item</th>
<th>port number</th>
</tr>
</thead>
<tbody>
<tr>
<td>F</td>
<td>multicast for transaction processing</td>
<td>31999</td>
</tr>
<tr>
<td>G</td>
<td>multicast for SQL processing (AE only)</td>
<td>41999</td>
</tr>
<tr>
<td>H</td>
<td>multicast for cluster management</td>
<td>20000</td>
</tr>
</tbody>
</table>
<h4 id="bandwidth">Bandwidth</h4>
<p>GridDB communicates a large volume of data. Therefore, the recommended bandwidth for the network bandwidth is 10 GbE.</p>
<p>The following three communication paths involve large data volumes:</p>
<figure>
  <img src="img/network_bandwidth.png" alt="Network communication with large data volumes" width="600"/>
  <figcaption>Network communication with large data volumes</figcaption>
</figure>
<ul>
<li>
<p>client-to-node communication over the NoSQL interface (A)</p>
<ul>
<li>&ldquo;The traffic will be high while large amounts of data are being obtained from the cluster, for example by running a search that returns many hits using TQL.</li>
</ul>
</li>
<li>
<p>client-to-node communication over the NewSQL interface (B)</p>
<ul>
<li>&ldquo;The traffic will be high while large amounts of data are being obtained from the cluster, for example by running a search that returns many hits using SQL.</li>
</ul>
</li>
<li>
<p>node-to-node communication by processing SQL using parallel and distributed computing (B)</p>
<ul>
<li>The traffic will be high if processing SQL in multiple nodes using parallel and distributed computing, for example by joining multiple containers.</li>
</ul>
</li>
</ul>
<p>When there is a shortage of network bandwidth due to a large amount of data traffic, it is recommended to increase bandwidth using multiple network interface cards (NICs).</p>
<p>[Example] normal case</p>
<ul>
<li>Use the same IP address for all types.
<table>
<thead>
<tr>
<th>No.</th>
<th>item</th>
<th>IP address</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>transaction processing</td>
<td>172.0.10.1</td>
</tr>
<tr>
<td>B</td>
<td>SQL processing</td>
<td>172.0.10.1</td>
</tr>
<tr>
<td>C</td>
<td>production and management operations</td>
<td>172.0.10.1</td>
</tr>
<tr>
<td>D</td>
<td>cluster management</td>
<td>172.0.10.1</td>
</tr>
<tr>
<td>E</td>
<td>synchronization</td>
<td>172.0.10.1</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Example] case of high traffic</p>
<ul>
<li>Using multiple NICS, set separate IP addresses for communication used for &ldquo;transaction processing&rdquo; and &ldquo;SQL processing&rdquo; both of which have high traffic.
<table>
<thead>
<tr>
<th>No.</th>
<th>item</th>
<th>IP address</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>transaction processing</td>
<td>172.0.10.2</td>
</tr>
<tr>
<td>B</td>
<td>SQL processing</td>
<td>172.0.10.3</td>
</tr>
<tr>
<td>C</td>
<td>production and management operations</td>
<td>172.0.10.1</td>
</tr>
<tr>
<td>D</td>
<td>cluster management</td>
<td>172.0.10.1</td>
</tr>
<tr>
<td>E</td>
<td>synchronization</td>
<td>172.0.10.1</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h3 id="cluster-network-configuration">Cluster network configuration</h3>
<p>The following three connection methods are available to configure clusters between nodes and communicate with the client: a multicast method, a fixed list method, and a provider method.  The following explains the benefits and drawbacks of each connection method. Select one of the three methods to suit the network environment.</p>
<figure>
  <img src="img/network_connection_method.png" alt="connection method" width="900"/>
  <figcaption>connection method</figcaption>
</figure>
<table>
<thead>
<tr>
<th>method name</th>
<th>description</th>
<th>settings/build</th>
<th>whether stop is needed when adding nodes</th>
<th>network environment</th>
</tr>
</thead>
<tbody>
<tr>
<td>Multicast method</td>
<td>Uses multicast communication.</td>
<td>benefit: <br>easy to describe the definition file</td>
<td>benefit: <br>no need to stop the cluster</td>
<td>drawback:<br>Communication is not enabled unless all nodes and the client are placed in the same subnet.</td>
</tr>
<tr>
<td>Fixed list method</td>
<td>Sets a list of addresses of all nodes in the client and the nodes. <br>It uses unicast communication to communicate in the cluster based on an address list.</td>
<td>drawback:<br>difficult to describe the definition file.</td>
<td>drawback:<br>need to stop the cluster.</td>
<td>benefit:<br>no restrictions on the environment.</td>
</tr>
<tr>
<td>Provider method</td>
<td>Sets a list of addresses of all nodes in the provider. <br>The client and the nodes then obtain the address list from the provider to use unicast communication to communicate.</td>
<td>drawback:<br>need to implement a provider.</td>
<td>benefit: no need to stop the cluster.</td>
<td>benefit:<br>no restrictions on the environment.</td>
</tr>
</tbody>
</table>
<p>Where multicast commutation can be used, a multicast method is recommended. (Specify the connection method using a cluster definition file. By default, the connection method is set to a multicast method.)</p>
<p>Keep in mind, however, that a multicast method has restrictions on the network environment.</p>
<p>In a multicast method, because of communication limitations in multicast communication, the client and all nodes should be placed in the same subnet. If they are placed in separate subnets, the multicast method cannot be used, unless multicast routing settings are configured on all routers in the network.</p>
<figure>
  <img src="img/network_multicast_segment.png" alt="Multicast method" width="600"/>
  <figcaption>Multicast method</figcaption>
</figure>
<p>In the cloud, such as AWS, there may be cases where multicast communication is not available. In such cases, use a fixed list method or a provider method.</p>
<p>Between the fixed list method and the provider method, the fixed method is easier in terms of settings and environment building. By comparison, the provider method requires to build a Web service which provides address lists.</p>
<p>On the other hand, the provider method is not affected by node addition. That is, in the provider method, all that is needed is to change information in the address list that the provider has; there is no need to stop the cluster. In comparison, the fixed list method requires to stop the cluster to modify the cluster definition file.
It also requires to change the specifications of APIs for client-side connections.  For this reason, for systems expecting to add nodes, the provider method is recommended.</p>
<p>[notes]</p>
<ul>
<li>
<p>A client refers to an application which uses the NoSQL interface or the NewSQL interface to access the cluster. Among operation tools, examples include gs_admin for integrated operations management GUI, export/import tools, and the shell command gs_sh.</p>
</li>
<li>
<p>Multiple cluster configurations can be build in the same network subnet.</p>
<ul>
<li>In that case, make sure to use separate names for each configuration.</li>
<li>For the multicast method, use a different multicast address for each cluster.</li>
</ul>
</li>
</ul>
<p>The next three subsections give the details of each connection method.</p>
<p><a id ="label_mode_multicast"></a></p>
<h4 id="multicast-method">Multicast method</h4>
<p>A multicast method is a method that uses multicast for communication. Multicast refers to communication that sends from one sender the same data at the same time to given multiple destinations.</p>
<figure>
  <img src="img/network_multicast.png" alt="Multicast method" width="400"/>
  <figcaption>Multicast method</figcaption>
</figure>
<p>To use a multicast method, place the client and all nodes in the cluster in the same subnet. If they are placed in separate subnets, the multicast method cannot be used, unless multicast routing settings are configured on all routers in the network.</p>
<p>In a multicast method, the nodes poll the network and receive data sent at regularly scheduled intervals using multicast communication. The nodes do not receive data immediately; it takes time amounting to at most one regular interval before communication starts. The length of a regular interval can be specified in the cluster definition file.</p>
<ul>
<li>Specify the multicast address and port number for the nodes and the client.</li>
<li>Use the multicast address in the range of 239.0.0.0 to 239.255.255.255.</li>
</ul>
<p><strong>related parameters</strong></p>
<ul>
<li>
<p>cluster definition file (gs_cluster.json)</p>
<p>For each communication, set the three items: multicast address (notificationAddress), port number (notificationPort), and the interval (notificationInterval).</p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/cluster/notificationAddress</td>
<td>239.0.0.1</td>
<td>multicast address for cluster management</td>
<td>possible (Restart the cluster)</td>
</tr>
<tr>
<td>/cluster/notificationPort</td>
<td>20000</td>
<td>multicast port number for cluster management</td>
<td>possible (Restart the cluster)</td>
</tr>
<tr>
<td>/cluster/notificationInterval</td>
<td>5s</td>
<td>multicast interval for cluster management</td>
<td>possible (Restart the cluster)</td>
</tr>
<tr>
<td>/transaction/notificationAddress</td>
<td>239.0.0.1</td>
<td>multicast address for transaction processing</td>
<td>possible (Restart the cluster)</td>
</tr>
<tr>
<td>/transaction/notificationPort</td>
<td>31999</td>
<td>multicast port number for transaction processing</td>
<td>possible (Restart the cluster)</td>
</tr>
<tr>
<td>/transaction/notificationInterval</td>
<td>5s</td>
<td>multicast interval for transaction processing</td>
<td>possible (Restart the cluster)</td>
</tr>
<tr>
<td>/sql/notificationAddress</td>
<td>239.0.0.1</td>
<td>multicast address for SQL</td>
<td>possible (Restart the cluster)</td>
</tr>
<tr>
<td>/sql/notificationPort</td>
<td>41999</td>
<td>multicast port number for SQL</td>
<td>possible (Restart the cluster)</td>
</tr>
<tr>
<td>/sql/notificationInterval</td>
<td>5s</td>
<td>multicast interval for SQL</td>
<td>possible (Restart the cluster)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[notes]</p>
<ul>
<li>The heading &ldquo;changes made after startup&rdquo; in the table above denotes whether the parameter can be changed after launching.
<ul>
<li>possible (Restart the cluster): The parameter can be changed by modifying the definition file specifying the parameter and then restarting all the nodes and the cluster.</li>
</ul>
</li>
</ul>
<h4 id="fixed-list-method">Fixed list method</h4>
<p>A fixed list method is a method to explicitly specify the IP address of all nodes in the cluster for the client and each of the nodes. It uses unicast communication to communicate in the cluster based on an address list.</p>
<figure>
  <img src="img/network_fixedlist.png" alt="Fixed list method" width="400"/>
  <figcaption>Fixed list method</figcaption>
</figure>
<ul>
<li>For the IP addresses and port numbers in the address list, specify those for <a href="#label_network_communications">network communication</a>.</li>
</ul>
<p><strong>related parameters</strong></p>
<ul>
<li>
<p>cluster definition file (gs_cluster.json)</p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/cluster/notificationMember</td>
<td>-</td>
<td>address list consisting of IP addresses and port numbers for [network communication] (#label_network_communications) each node has.</td>
<td>possible (Restart the cluster)</td>
</tr>
</tbody>
</table>
<p>Example of an address list to be entered in a cluster definition file</p>
<ul>
<li>Make a list of IP addresses and port numbers for <a href="#label_network_communications">network communication</a> specified in a node definition file (gs_node.json).</li>
<li>If IP addresses are omitted in the node definition file, enter the IP address associated with a host name in the address list.</li>
</ul>
<pre tabindex="0"><code>&#34;notificationMember&#34;: [
  {
      &#34;cluster&#34;:     {&#34;address&#34;:&#34;172.0.0.1&#34;, &#34;port&#34;:10010},
      &#34;sync&#34;:        {&#34;address&#34;:&#34;172.0.0.1&#34;, &#34;port&#34;:10020},
      &#34;system&#34;:      {&#34;address&#34;:&#34;172.0.0.1&#34;, &#34;port&#34;:10040},
      &#34;transaction&#34;: {&#34;address&#34;:&#34;172.0.0.1&#34;, &#34;port&#34;:10001},
      &#34;sql&#34;:         {&#34;address&#34;:&#34;172.0.0.1&#34;, &#34;port&#34;:20001}
  },
  {
      &#34;cluster&#34;:     {&#34;address&#34;:&#34;172.17.0.2&#34;, &#34;port&#34;:10010},
      &#34;sync&#34;:        {&#34;address&#34;:&#34;172.17.0.2&#34;, &#34;port&#34;:10020},
      &#34;system&#34;:      {&#34;address&#34;:&#34;172.17.0.2&#34;, &#34;port&#34;:10040},
      &#34;transaction&#34;: {&#34;address&#34;:&#34;172.17.0.2&#34;, &#34;port&#34;:10001},
      &#34;sql&#34;:         {&#34;address&#34;:&#34;172.17.0.2&#34;, &#34;port&#34;:20001}
  },
          :
          :
</code></pre></li>
</ul>
<p>[notes]</p>
<ul>
<li>The heading &ldquo;changes made after startup&rdquo; in the table above denotes whether the parameter can be changed after launching.
<ul>
<li>possible (Restart the cluster): The parameter can be changed by modifying the definition file specifying the parameter and then restarting all the nodes and the cluster.</li>
</ul>
</li>
</ul>
<h4 id="provider-method">Provider method</h4>
<p>A provider method is a method to locate a Web service that delivers a list of the IP addresses of all nodes in the cluster. The client and each node first access the provider to obtain the IP addresses of all nodes.</p>
<figure>
  <img src="img/network_provider.png" alt="Provider method" width="400"/>
  <figcaption>Provider method</figcaption>
</figure>
<p>The nodes obtain an address list from the provider when they start. They continue to obtain the updated address list from the provider at regular intervals. This means that in such cases as node addition, once the provider&rsquo;s address list is updated, the new information is automatically available in the nodes.</p>
<ul>
<li>For the nodes and the client, specify the provider&rsquo;s IP address and port number.</li>
<li>For the provider, specify the IP address and port number for <a href="#label_network_communications">network communication</a>.</li>
</ul>
<p><strong>related parameters</strong></p>
<ul>
<li>cluster definition file (gs_cluster.json)
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/cluster/notificationProvider/url</td>
<td>-</td>
<td>provider&rsquo;s URL</td>
<td>possible (Restart the cluster)</td>
</tr>
<tr>
<td>/cluster/notificationProvider/updateInterval</td>
<td>5s</td>
<td>interval at which an address list is obtained from the provider</td>
<td>possible (Restart the cluster)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[notes]</p>
<ul>
<li>The heading &ldquo;changes made after startup&rdquo; in the table above denotes whether the parameter can be changed after launching.
<ul>
<li>possible (Restart the cluster): The parameter can be changed by modifying the definition file specifying the parameter and then restarting all the nodes and the cluster.</li>
</ul>
</li>
</ul>
<h3 id="network-configuration-to-isolate-communication-between-external-and-internal-networks">Network configuration to isolate communication between external and internal networks</h3>
<h4 id="objective">Objective</h4>
<p>Of communication done by the GridDB nodes, communication for transaction processing and SQL processing has two types of communication paths.
These two are client-node client communication (external communication) and cluster internal communication between the nodes.
Both communicate through the same network interfaces.</p>
<p>The increasing scale of the system increases flow both in external and internal communications and hence the network can be a performance bottleneck.</p>
<p>In terms of system configuration, occasionally it might be necessary to isolate the interfaces for client communication into external networks and the interfaces for cluster internal communication into internal networks, respectively.</p>
<p>To deal with these cases, GridDB makes it possible to assign both a network interface for client communication and a network interface for cluster internal communication, to communication both for transaction processing and for SQL processing.
This creates a network configuration that isolates communication between external and internal networks.</p>
<figure>
  <img src="img/network_separation.png" alt="Isolation of network interfaces" width="600"/>
  <figcaption>Isolation of network interfaces</figcaption>
</figure>
<table>
<thead>
<tr>
<th>No.</th>
<th>item</th>
<th>communication path</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>transaction processing</td>
<td>client-node</td>
<td>external communication for data operations over a NoSQL interface</td>
</tr>
<tr>
<td>A'</td>
<td>transaction processing</td>
<td>between nodes</td>
<td>internal communication replication processing of transactions</td>
</tr>
<tr>
<td>B</td>
<td>SQL processing</td>
<td>client-node</td>
<td>external communication for data operations over a NewSQL interface</td>
</tr>
<tr>
<td>B'</td>
<td>SQL processing</td>
<td>between nodes</td>
<td>internal communication for processing SQL by parallel and distributed processing</td>
</tr>
</tbody>
</table>
<h4 id="node-network-configuration-1">Node network configuration</h4>
<p>To create a network configuration that isolates communication between external and internal networks, first set up a node network configuration.</p>
<p><strong>related parameters</strong></p>
<ul>
<li>node definition file (gs_node.json)
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/cluster/notificationInterfaceAddress</td>
<td>&quot;&rdquo;</td>
<td>address of the interface that sends multicast packets</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/transaction/serviceAddress</td>
<td>-<br>(IP address that corresponds to a host name)</td>
<td>address for transaction processing for client communication</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/transaction/localServiceAddress</td>
<td>&quot;&rdquo;</td>
<td>address for transaction processing for cluster internal communication</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/transaction/servicePort</td>
<td>10001</td>
<td>port number for transaction processing</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/sql/serviceAddress</td>
<td>-<br>(IP address that corresponds to a host name)</td>
<td>address for SQL processing for client communication</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/sql/localServiceAddress</td>
<td>&quot;&rdquo;</td>
<td>address for SQL processing for cluster internal communication</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/sql/servicePort</td>
<td>20001</td>
<td>port number for SQL processing</td>
<td>possible (Restart nodes)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[notes]</p>
<ul>
<li>The heading &ldquo;changes made after startup&rdquo; in the table above denotes whether the parameter can be changed after launching.
<ul>
<li>possible (Restart nodes): The parameter can be changed by modifying the definition file specifying the parameter and then restarting the nodes.</li>
</ul>
</li>
<li>The GridDB requires to set up both /transaction/localServiceAddress and /sql/localServiceAddress.</li>
<li>If the system has multiple network interfaces, in order to use the multicast method for a cluster network configuration, it is recommended to specify the appropriate interface IP address for /cluster/notificationInterfaceAddress.</li>
</ul>
<p>Specify the IP address of the network interfaces in serviceAddress and localServiceAddress, each using a different network interface.
To configure a cluster with multiple nodes, all nodes must be set up.</p>
<p>Moreover, it is recommended to set up serverAddress for processing other than transaction processing and SQL processing without omitting it.</p>
<p>[Example]</p>
<pre tabindex="0"><code>&#34;cluster&#34;:{
    &#34;serviceAddress&#34;:&#34;192.168.10.11&#34;,
    &#34;servicePort&#34;:10010
},
&#34;sync&#34;:{
    &#34;serviceAddress&#34;:&#34;192.168.10.11&#34;,
    &#34;servicePort&#34;:10020
},
&#34;system&#34;:{
    &#34;serviceAddress&#34;:&#34;192.168.10.11&#34;,
    &#34;servicePort&#34;:10040,
          :
},
&#34;transaction&#34;:{
    &#34;serviceAddress&#34;:&#34;172.17.0.11&#34;,
    &#34;localServiceAddress&#34;:&#34;192.168.10.11&#34;,
    &#34;servicePort&#34;:10001,
          :
},
&#34;sql&#34;:{
    &#34;serviceAddress&#34;:&#34;172.17.0.11&#34;,
    &#34;localServiceAddress&#34;:&#34;192.168.10.11&#34;,
    &#34;servicePort&#34;:20001,
          :
},
</code></pre><h4 id="cluster-network-configuration-1">Cluster network configuration</h4>
<p>Set up a cluster network configuration according to the node network configuration.</p>
<p>In the multicast method, no special setup is required. See the section <a href="#label_mode_multicast">&ldquo;multicast method.&rdquo;</a></p>
<p>In the fixed list method, information on localServiceAddress must be added to the address list set in the cluster definition file.</p>
<p>[Example]</p>
<pre tabindex="0"><code>&#34;notificationMember&#34;: [
    {
        &#34;cluster&#34;:           {&#34;address&#34;:&#34;192.168.10.11&#34;, &#34;port&#34;:10010},
        &#34;sync&#34;:              {&#34;address&#34;:&#34;192.168.10.11&#34;, &#34;port&#34;:10020},
        &#34;system&#34;:            {&#34;address&#34;:&#34;192.168.10.11&#34;, &#34;port&#34;:10040},
        &#34;transaction&#34;:       {&#34;address&#34;:&#34;172.17.0.11&#34;, &#34;port&#34;:10001},
        &#34;sql&#34;:               {&#34;address&#34;:&#34;172.17.0.11&#34;, &#34;port&#34;:20001},
        &#34;transactionLocal&#34;:  {&#34;address&#34;:&#34;192.168.10.11&#34;, &#34;port&#34;:10001},
        &#34;sqlLocal&#34;:          {&#34;address&#34;:&#34;192.168.10.11&#34;, &#34;port&#34;:20001}
    },
    {
        &#34;cluster&#34;:           {&#34;address&#34;:&#34;192.168.10.12&#34;, &#34;port&#34;:10010},
        &#34;sync&#34;:              {&#34;address&#34;:&#34;192.168.10.12&#34;, &#34;port&#34;:10020},
        &#34;system&#34;:            {&#34;address&#34;:&#34;192.168.10.12&#34;, &#34;port&#34;:10040},
        &#34;transaction&#34;:       {&#34;address&#34;:&#34;172.17.0.12&#34;, &#34;port&#34;:10001},
        &#34;sql&#34;:               {&#34;address&#34;:&#34;172.17.0.12&#34;, &#34;port&#34;:20001},
        &#34;transactionLocal&#34;:  {&#34;address&#34;:&#34;192.168.10.12&#34;, &#34;port&#34;:10001},
        &#34;sqlLocal&#34;:          {&#34;address&#34;:&#34;192.168.10.12&#34;, &#34;port&#34;:20001}
    },
          :
          :
</code></pre><p>In the provider method, information on localServiceAddress must be added to the address list returned by the provider.</p>
<p>[Example]</p>
<pre tabindex="0"><code>[
    {
        &#34;cluster&#34;:           {&#34;address&#34;:&#34;192.168.10.11&#34;, &#34;port&#34;:10010},
        &#34;sync&#34;:              {&#34;address&#34;:&#34;192.168.10.11&#34;, &#34;port&#34;:10020},
        &#34;system&#34;:            {&#34;address&#34;:&#34;192.168.10.11&#34;, &#34;port&#34;:10040},
        &#34;transaction&#34;:       {&#34;address&#34;:&#34;172.17.0.11&#34;, &#34;port&#34;:10001},
        &#34;sql&#34;:               {&#34;address&#34;:&#34;172.17.0.11&#34;, &#34;port&#34;:20001},
        &#34;transactionLocal&#34;:  {&#34;address&#34;:&#34;192.168.10.11&#34;, &#34;port&#34;:10001},
        &#34;sqlLocal&#34;:          {&#34;address&#34;:&#34;192.168.10.11&#34;, &#34;port&#34;:20001}
    },
    {
        &#34;cluster&#34;:           {&#34;address&#34;:&#34;192.168.10.12&#34;, &#34;port&#34;:10010},
        &#34;sync&#34;:              {&#34;address&#34;:&#34;192.168.10.12&#34;, &#34;port&#34;:10020},
        &#34;system&#34;:            {&#34;address&#34;:&#34;192.168.10.12&#34;, &#34;port&#34;:10040},
        &#34;transaction&#34;:       {&#34;address&#34;:&#34;172.17.0.12&#34;, &#34;port&#34;:10001},
        &#34;sql&#34;:               {&#34;address&#34;:&#34;172.17.0.12&#34;, &#34;port&#34;:20001},
        &#34;transactionLocal&#34;:  {&#34;address&#34;:&#34;192.168.10.12&#34;, &#34;port&#34;:10001},
        &#34;sqlLocal&#34;:          {&#34;address&#34;:&#34;192.168.10.12&#34;, &#34;port&#34;:20001}
    },
          :
          :
</code></pre><p>The connection is made from the client through the network interfaces specified in serviceAddress like a normal network configuration.</p>
<p>[notes]</p>
<ul>
<li>For network configuration settings to isolate communication between external and internal networks, external multicast communication is not supported.
For the connection from the client, use either the fixed list method or the provider method regardless of the cluster connection method.</li>
</ul>
<h2 id="security-design">Security design</h2>
<h3 id="access-control">Access control</h3>
<p>In security design, it is necessary to first examine common security requirements, including the number of users with access rights and the range of data access and, based on the result, design the following:</p>
<ul>
<li>general users for connecting from the application, and the range of accessible data, or &ldquo;database&rdquo;</li>
<li>correspondence between a user and a database</li>
</ul>
<p>GridDB has &ldquo;database&rdquo; features which allow to separate the range of accessibility in order to set a different range of accessible data for each user.</p>
<p>A general user can have access to multiple databases but cannot execute a cross-database SQL query, for example, joining containers residing in different databases.
Therefore, it is recommended to group all the containers that one user accesses into one database as much as possible.</p>
<figure>
  <img src="img/user_database_sql.png" width="800" alt="Database and SQL search"/>
  <figcaption>Database and SQL search</figcaption>
</figure>
<ul>
<li>The type of access rights to database is &ldquo;ALL&rdquo; and &ldquo;Read only&rdquo;. &ldquo;ALL&rdquo; allows performing all operations related to containers including container creation, row registration, search, and index creation, while &ldquo;Read only&rdquo; allows performing only search operation.</li>
<li>A general user can only access containers within the database that he/she has access to.</li>
<li>An administrative user can access containers within all the databases.</li>
</ul>
<p><strong>user&rsquo;s role</strong></p>
<table>
<thead>
<tr>
<th>user</th>
<th>role</th>
</tr>
</thead>
<tbody>
<tr>
<td>administrative user</td>
<td>Creates databases and general users; Grant the general user access to the database; grants general users access to database.</td>
</tr>
<tr>
<td>general user</td>
<td>Accesses databases to which access is given to perform operations such as data registration and search.</td>
</tr>
</tbody>
</table>
<h4 id="operational-procedures">Operational procedures</h4>
<p>Below are the steps to create a general user and a database and to grant access. assuming that &ldquo;ALL&rdquo; is granted.</p>
<ol>
<li>Connect to the cluster through an administrative user account.</li>
</ol>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_sh
gs&gt; setcluster cluster myCluster 239.0.0.1 31999 // Set information about the cluster to connect to.
gs&gt; setuser admin admin       // Specify the name and password of the administrative user.
gs&gt; connect $cluster          // Connect to the cluster.
gs[public]&gt;
</code></pre><ol start="2">
<li>Create a general user.</li>
</ol>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; createuser userA password
</code></pre><ol start="3">
<li>Create a database.</li>
</ol>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; createdatabase databaseA
</code></pre><ol start="4">
<li>Grant the general user access to the database.</li>
</ol>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; grantacl ALL databaseA userA
</code></pre><h3 id="encryption">Encryption</h3>
<p>In GridDB, communication between the client and the GridDB cluster can be secured through SSL. For details, see the <a href="../manuals/3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>.</p>
<p>However, data stored in the database files is not encrypted. It is recommended to place such data in a secure network that should never be directly accessed from the outside world.</p>
<h2 id="monitoring-design">Monitoring design</h2>
<p>The following summarizes points to consider when designing monitoring for the GridDB cluster. Checking GridDB operations and resource usage is required to optimize performance and proactively avoid failures. Monitoring items are determined by the system&rsquo;s service level.</p>
<ul>
<li>
<p>GridDB status monitoring</p>
<p>By using gs_stat, monitors the status of nodes and clusters to determine whether or not an anomaly has occurred in them.</p>
<table>
<thead>
<tr>
<th>item</th>
<th>description</th>
<th>outlier</th>
</tr>
</thead>
<tbody>
<tr>
<td>node status</td>
<td>monitors /cluster/nodeStatus.</td>
<td>anomalous if the value is ABNORMAL</td>
</tr>
<tr>
<td>partition status</td>
<td>monitors /cluster/partitionStatus.</td>
<td>anomalous if the value is OWNER_LOSS</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>OS resource monitoring</p>
<p>By using OS commands, checks OS resource usage to determine whether resource shortage has occurred.</p>
<table>
<thead>
<tr>
<th>item</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>process monitoring</td>
<td>monitors the gsserver/gssvc process.</td>
</tr>
<tr>
<td>CPU monitoring</td>
<td>monitors the CPU usage of nodes, processor queues, and other CPU-related metrics.</td>
</tr>
<tr>
<td>memory monitoring</td>
<td>monitors the memory usage of nodes, the number of swap-ins and swap-outs, and other memory-related metrics.</td>
</tr>
<tr>
<td>disk monitoring</td>
<td>monitors DB file size, IOPS, IO throughput, queues, and other monitor-related parameters.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>GridDB resource monitoring</p>
<p>checks the details of the operations of GridDB to determine whether failures or performance bottlenecks have occurred based on the event log of GridDB.</p>
<table>
<thead>
<tr>
<th>item</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>memory monitoring</td>
<td>monitors the memory usage of storeMemory and its breakdowns (such as data, indexes, and metadata) and other memory-related parameters.</td>
</tr>
<tr>
<td>disk monitoring</td>
<td>monitors the disk usage of data, indexes, and metadata, SwapRead/Write, and other disk-related parameters.</td>
</tr>
<tr>
<td>query monitoring</td>
<td>retrieves slow query logs from the event logs of GridDB.</td>
</tr>
</tbody>
</table>
<ul>
<li>For information about how to check logs, see the command gs_logs in the section &ldquo;Displaying recent event logs&rdquo; in the <a href="../5.md_reference_operation_tool/md_reference_operation_tool.md">GridDB Operation Tools Reference</a>.</li>
<li>For information about how to set the threshold for slow queries and other parameters, see the command gs_paramconf in the section &ldquo;Displaying and changing parameters&rdquo; in the <a href="../5.md_reference_operation_tool/md_reference_operation_tool.md">GridDB Operation Tools Reference</a>.</li>
</ul>
<p>If node processing does not progress, heavy processing may be taking place. A list of events currently running in nodes can be checked using the operation tool gs_sh.</p>
<ul>
<li>For information about how to check a list of processes that are currently running, see the command gs_sh in the section &ldquo;Displaying executing event&rdquo; in the <a href="../5.md_reference_operation_tool/md_reference_operation_tool.md">GridDB Operation Tools Reference</a>.</li>
</ul>
</li>
</ul>
<p>These three monitoring items can be monitored using Zabbix as shown in the figure below.</p>
<figure>
  <img src="img/zbx_dash.png" alt="Example of a dashboard configuration for Zabbix" width="700"/>
  <figcaption>Example of a dashboard configuration for Zabbix</figcaption>
</figure>
<p>For information about monitoring templates for Zabbix, see the <a href="../7.md_zabbix_template_guide/md_zabbix_template_guide.md">GridDB Zabbix Template Guide</a>.</p>
<h2 id="backup-design">Backup design</h2>
<h3 id="purposes-of-backup">Purposes of backup</h3>
<p>Backups are taken to guard against data corruption resulting from multiple failures in hardware, malfunctioning applications, and other causes.</p>
<ul>
<li>
<p>In case of data corruption resulting from multiple failures in hardware</p>
<p>GridDB provides a replication feature, which keeps duplicate copies of data by distributing them to other nodes. Therefore, if the number of nodes which have resulted in data corruption is less than the number of replicas, data will be automatically restored from duplicates in other remaining nodes, without a need to recover from a backup.</p>
<p>If, on the other hand, the number of nodes which have simultaneously resulted in data corruption is equal to or more than the number of replicas, recovery from a backup will be required due to data loss.</p>
<p>In cases of multiple failures other than data corruption, data can be restored by reverting nodes, without a need to recover from a backup.</p>
<ul>
<li>
<p>[Example] 5 nodes and 2 replicas</p>
<figure>
  <img src="img/backup_multiple_failure.png" alt="Data corruption in multiple failed nodes" width="700"/>
  <figcaption>Data corruption in multiple failed nodes</figcaption>
</figure>
</li>
</ul>
</li>
<li>
<p>Case of malfunctioning applications</p>
<p>If data cannot be restored because incorrect data has accidentally been registered due to malfunctioning applications and data registration errors made by users, recovery from a backup will be required.  In this case, restore data from backups for all nodes in the cluster.</p>
<figure>
  <img src="img/backup_logical_data_failure.png" alt="Case of malfunctioning applications" width="700"/>
  <figcaption>Case of malfunctioning applications</figcaption>
</figure>
</li>
</ul>
<h3 id="points-to-consider-when-designing-1">Points to consider when designing</h3>
<p>Generally, backup and restore requirements are defined according to the system&rsquo;s service level.
A list of review items is shown below:</p>
<ul>
<li>problems to be reviewed (e.g. disasters, hardware failures, and operational errors)</li>
<li>data range required for the system to continue operating (for example, all containers, some containers, and the most recent data)</li>
<li>recovery point objective (What is the age of the data prior to the occurrence of a failure which need to be restored?)</li>
<li>recovery time objective</li>
<li>time zones in which backups can be performed and the conditions under which backups can be performed (for example, whether the cluster can be stopped)</li>
<li>backup frequency</li>
<li>number of generations of backups</li>
<li>where to store backups (for example, on-site, or other media)</li>
</ul>
<p>GridDB provides the following backup/restore methods: Choose the method that satisfies the requirements defined above.</p>
<table>
<thead>
<tr>
<th>Use this backup method</th>
<th>Recovery point</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>automatic replica creation by cluster management</td>
<td>point immediately before the failure</td>
<td>benefit: If the number of replicas is specified in the cluster configuration, the cluster will automatically create replicas between the nodes and manage them. <br>drawback: This method is not applicable when pieces of hardware crash simultaneously and the number of those pieces is equal to or more than the number of replicas, or when data is lost because of a human error.</td>
</tr>
<tr>
<td>data export using the gs_export tool</td>
<td>point at which data is exported<br>*on a per-container basis</td>
<td>benefit: The backup size can be reduced by having only the required data backed up. <br>drawback: This method executes the export tool and hence may stress the currently running cluster. <br>drawback: Data recovery requires to reimport data. <br>drawback: Exports are dealt with on a per-container basis; hence, recovery points may differ for each container.</td>
</tr>
<tr>
<td>offline backup</td>
<td>point at which the cluster stops</td>
<td>benefit: Recovery points cannot differ from node to node. <br>drawback: This method requires to stop the cluster until the backup copy is complete.</td>
</tr>
<tr>
<td>Online backup by node (baseline with differential/incremental)</td>
<td>point at which backup is taken<br>*on a per-node basis</td>
<td>benefit: Backups can be taken online using a GridDB backup command. <br>drawback: Recovery points may differ between nodes depending on when backups are completed.</td>
</tr>
<tr>
<td>Online backup by node (automatic log)</td>
<td>point immediately before the failure</td>
<td>&gt;benefit: Backups can be taken online using a GridDB backup command. This method also allows to restore to the point immediately before the failure. This method also allows to restore to the point immediately before the failure. <br>drawback: This method uses transaction logs to recover data to the latest state, which can result in longer recovery time.</td>
</tr>
<tr>
<td>File system level online backup (snapshot)</td>
<td>point at which snapshots are taken</td>
<td>benefit: Working with snapshots of OS and storage to take backups could shorten the time to perform backups. <br>drawback: Even if snapshots are run on each node simultaneously, a time difference of about one second may occur between nodes, given that the transaction log write mode is set to DELAYED_SYNC.</td>
</tr>
<tr>
<td>File system level online backup (snapshot with automatic log)</td>
<td>point immediately before the failure</td>
<td>benefit: Working with snapshots of OS and storage to take backups could shorten the time to perform backups. <br>drawback: This method uses transaction logs to recover data to the latest state, which can result in longer recovery time.</td>
</tr>
</tbody>
</table>
<p>The following table shows a guideline for selecting an appropriate backup method:</p>
<table>
<thead>
<tr>
<th>Requirements and uses of backup</th>
<th>Use this backup method</th>
</tr>
</thead>
<tbody>
<tr>
<td>A simultaneous crash of pieces of hardware (the number being equal to or more than the number of replicas) or data loss a caused by a human error are acceptable.</td>
<td>automatic replica creation by cluster management</td>
</tr>
<tr>
<td>The data to be backed up can be specified.</td>
<td>data export using the gs_export tool</td>
</tr>
<tr>
<td>The system can be stopped while running backups.</td>
<td>offline backup</td>
</tr>
<tr>
<td>The system cannot be stopped while running backups.</td>
<td>Online backup by node (automatic log backup)</td>
</tr>
<tr>
<td>Because of a huge size of a database file, online backups do not complete within the allotted time.</td>
<td>File system level online backup (snapshot with automatic log)</td>
</tr>
</tbody>
</table>
<h3 id="how-to-back-up-and-restore">How to back up and restore</h3>
<p>This subsection describes each backup method, including what it is and how it works, the benefits and drawbacks, and the amount of time needed to back up and restore.
For details about operations, see the <a href="../1.md_release_notes/md_release_notes.md">GridDB Release Notes</a>.</p>
<h4 id="offline-backup">Offline backup</h4>
<p>Taking backups offline</p>
<p>Stop the cluster and all nodes to copy a database file, using OS commands and/or storage snapshots, or by other means. After completion of the copy in all the nodes, the system starts the nodes and the cluster.</p>
<figure>
  <img src="img/backup_offline.png" alt="Offline backup" width="700"/>
  <figcaption>Offline backup</figcaption>
</figure>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>benefits</td>
<td>Backups are taken after stopping the cluster, which results in the same recovery point for all nodes. <br>Backups are taken after stopping the nodes, which leads to faster restores.</td>
</tr>
<tr>
<td>drawbacks</td>
<td>The method requires to stop the cluster and nodes; therefore, it is not applicable for systems where the services cannot be stopped from running.</td>
</tr>
<tr>
<td>backup time</td>
<td>time taken to copy a database file</td>
</tr>
<tr>
<td>recovery point</td>
<td>point at which the cluster stops</td>
</tr>
<tr>
<td>recovery time</td>
<td>time taken to copy a backup file</td>
</tr>
</tbody>
</table>
<h4 id="online-backup">Online backup</h4>
<p>Backups of each node are taken online while the cluster is operating.</p>
<p>The following two main methods are available for online backup in terms of how to create a backup file:</p>
<ul>
<li>
<p>Online backup by the node</p>
<ul>
<li>a method to create a backup file by the GridDB node using a backup command</li>
</ul>
</li>
<li>
<p>File system level online backup</p>
<ul>
<li>a method to create a backup file at a file system level by working with snapshots of OS and storage.</li>
</ul>
</li>
</ul>
<figure>
  <img src="img/backup_online.png" alt="Online backup" width="800"/>
  <figcaption>Online backup</figcaption>
</figure>
<p>The main differences between the two methods are indicated in the table below:</p>
<table>
<thead>
<tr>
<th>method</th>
<th>recovery point</th>
</tr>
</thead>
<tbody>
<tr>
<td>Online backup by the node</td>
<td>point at which the backup per node is completed<br>The amount of data to back up differs for each node. This may result in a large time difference between nodes as to when backups are completed.</td>
</tr>
<tr>
<td>File system level online backup</td>
<td>point at which snapshot taking is completed<br>All nodes can have almost the same recovery point, if, for each node, an identical value is specified for the time to take a snapshot.</td>
</tr>
</tbody>
</table>
<h4 id="online-backup-by-the-node">Online backup by the node</h4>
<p>This subsection describes how to back up online by the node.</p>
<h5 id="full-backup">Full backup</h5>
<p>The entire database is backed up.</p>
<p>If you indicate that full backups be taken using a backup command on a per-node basis, each node will copy all the data in databases to create a backup file.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>benefits</td>
<td>Faster restores than differential and incremental backups. (recovery time: full backup &lt; differential backup &lt; incremental backup)<br>- Backups can be taken while the cluster is running.</td>
</tr>
<tr>
<td>drawbacks</td>
<td>All data in the database files is copied; therefore, extra time is required for backups. (backup time: incremental backup &lt; differential backup &lt; full backup)<br>- To store multiple generations of backups, disk capacity equal to the size of database files multiplied by the number of generations is required. <br>Because the recovery point is a point at which backups per node are completed, there may be differences in recovery points between nodes.</td>
</tr>
<tr>
<td>backup time</td>
<td>time for a node to create a backup file (depends on the size of a database file)</td>
</tr>
<tr>
<td>recovery point</td>
<td>point at which the backup per node is completed.</td>
</tr>
<tr>
<td>recovery time</td>
<td>time taken to copy a backup file</td>
</tr>
</tbody>
</table>
<h5 id="differential-backup">Differential backup</h5>
<p>A differential backup first completes a full backup (baseline) that would serve as the base (base point) of the differential and then backs up only the data that has changed since that full backup.</p>
<p>If you indicate that differential backups be taken using a backup command on a per-node basis, each node will copy only the data that has changed since that full backup to create a backup file.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>benefits</td>
<td>Faster backups than full backups. (backup time: incremental backup &lt; differential backup &lt; full backup)<br>- Faster restores than incremental backups. (recovery time: full backup &lt; differential backup &lt; incremental backup)<br>- Backups can be taken while the cluster is running.</td>
</tr>
<tr>
<td>drawbacks</td>
<td>More time is required for backups than incremental backups. <br>Because the recovery point is a point at which backups per node are completed, there may be differences in recovery points between nodes.</td>
</tr>
<tr>
<td>backup time</td>
<td>time for a node to create a backup file (depends on the amount of data updated since the baseline)</td>
</tr>
<tr>
<td>recovery point</td>
<td>point at which the backup per node is completed.</td>
</tr>
<tr>
<td>recovery time</td>
<td>time taken to copy a backup file<br>time to taken to recover blocks that are different.</td>
</tr>
</tbody>
</table>
<h5 id="incremental-backup">Incremental backup</h5>
<p>An incremental backup first completes a full backup (baseline) and then backs up only the data that has changed since the previous backup point. The previous backup point refers to a point at which a baseline backup, a differential backup, or an incremental backup is performed.</p>
<p>If you indicate that incremental backups be taken using a backup command on a per-node basis, each node will copy only the data that has changed since the previous backup to create a backup file.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>benefits</td>
<td>Faster backups than full and differential backups. (backup time: incremental backup &lt; differential backup &lt; full backup)<br>- Backups can be taken while the cluster is running.</td>
</tr>
<tr>
<td>drawbacks</td>
<td>Because it is required to restore all the incremental backups since the baseline or differential backups, more time is required for restores than full and differential backups. (recovery time: full backup &lt; differential backup &lt; incremental backup)<br>- Because the recovery point is a point at which backups per node are completed, there may be differences in recovery points between nodes.</td>
</tr>
<tr>
<td>backup time</td>
<td>time for a node to create a backup file (depends on amount of the data that has changed since a previous backup)</td>
</tr>
<tr>
<td>recovery point</td>
<td>point at which the backup per node is completed.</td>
</tr>
<tr>
<td>recovery time</td>
<td>time taken to copy a backup file<br>time taken to recover differential and incremental blocks</td>
</tr>
</tbody>
</table>
<h5 id="automatic-log-backup">Automatic log backup</h5>
<p>An automatic log backup first completes a full backup (baseline) and then collects transaction logs in a backup directory.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>benefits</td>
<td>Because the latest transaction logs are reflected on backup files, this method allows to restore to the point immediately before the failure.</td>
</tr>
<tr>
<td>drawbacks</td>
<td>Transaction logs are automatically copied during normal operations, which burdens operations to some extent. <br>Extra time is required for restores.</td>
</tr>
<tr>
<td>backup time</td>
<td>none (Once a baseline is created, logs are automatically copied. Therefore, there is no need to perform backups.)</td>
</tr>
<tr>
<td>recovery point</td>
<td>point immediately before the failure</td>
</tr>
<tr>
<td>recovery time</td>
<td>time taken to copy a backup file<br>time taken to recover updated logs stored in transaction logs</td>
</tr>
</tbody>
</table>
<h4 id="file-system-level-online-backup">File system level online backup</h4>
<p>This subsection describes a file system level online backup.</p>
<p>A file system level online backup uses a snapshot feature for LVM or storage, which allows to process huge database files at a high speed.  It also significantly reduces time required for backups and brings the recovery point of each node in the cluster close as much as possible.</p>
<p>Consider using a file system level online backup, if database files are huge.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>benefits</td>
<td>Using a snapshot feature for LVM or storage allows to process huge database files at a high speed. <br>Together with automatic log backups, it also allows to revert to the latest state.</td>
</tr>
<tr>
<td>drawbacks</td>
<td>A snapshot feature for LVM or storage is required. <br>Even if snapshots are run on each node simultaneously, a time difference of about one second may occur between nodes, given that the transaction log write mode is set to DELAYED_SYNC.</td>
</tr>
<tr>
<td>backup time</td>
<td>none</td>
</tr>
<tr>
<td>recovery point</td>
<td>point at which snapshots are taken</td>
</tr>
<tr>
<td>recovery time</td>
<td>time taken to copy a backup file</td>
</tr>
</tbody>
</table>
<h2 id="----build----">&mdash; Build &mdash;</h2>
<p>This chapter describes how to install and uninstall GridDB and configure environment settings.</p>
<h2 id="media-and-rpm-configuration-for-griddb">Media and RPM configuration for GridDB</h2>
<p>The GridDB installation media contains files under the following directory configuration:</p>
<pre tabindex="0"><code>   RHEL/           RPM package for RHEL and CentOS
   Ubuntu/         deb package for Ubuntu Server
   Windows/        C-API, JDBC, and ODBC  for Windows
   misc/           database file migration tool, samples, and others
   Fixlist.pdf     module revision history
   Readme.txt      Readme
</code></pre><p>The packages are available in the following types:</p>
<table>
<thead>
<tr>
<th>type</th>
<th>package name</th>
<th>file name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>server</td>
<td>griddb-ee-server</td>
<td>griddb-ee-server-X.X.X-linux.x86_64.rpm <br> griddb-ee-server_X.X.X_amd64.deb</td>
<td>contains node modules and part of operation tools.</td>
</tr>
<tr>
<td>client<br>(operation tool)</td>
<td>griddb-ee-client</td>
<td>griddb-ee-client-X.X.X-linux.x86_64.rpm <br> griddb-ee-client_X.X.X_amd64.deb</td>
<td>contains a variety of operation tools.</td>
</tr>
<tr>
<td>Web UI</td>
<td>griddb-ee-webui</td>
<td>griddb-ee-webui-X.X.X-linux.x86_64.rpm <br> griddb-ee-webui_X.X.X_amd64.deb</td>
<td>contains the integrated operations management GUI (gs_admin).</td>
</tr>
<tr>
<td>Java libraries</td>
<td>griddb-ee-java_lib</td>
<td>griddb-ee-java-lib-X.X.X-linux.x86_64.rpm <br> griddb-ee-java-lib_X.X.X_amd64.deb</td>
<td>contains Java libraries and JDBC drivers.</td>
</tr>
<tr>
<td>C libraries</td>
<td>griddb-ee-c_lib</td>
<td>griddb-ee-c-lib-X.X.X-linux.x86_64.rpm <br> griddb-ee-c-lib_X.X.X_amd64.deb</td>
<td>contains C header files and libraries.</td>
</tr>
<tr>
<td>Web API</td>
<td>griddb-ee-webapi</td>
<td>griddb-ee-webapi-X.X.X-linux.x86_64.rpm <br> griddb-ee-webapi_X.X.X_amd64.deb</td>
<td>contains Web API applications.</td>
</tr>
<tr>
<td>Python libraries</td>
<td>griddb-ee-python_lib</td>
<td>griddb-ee-python-lib-X.X.X-linux.x86_64.rpm <br> griddb-ee-python-lib_X.X.X_amd64.deb</td>
<td>contains Python libraries.</td>
</tr>
<tr>
<td>Node.js libraries</td>
<td>griddb-ee-nodejs_lib</td>
<td>griddb-ee-nodejs-lib-X.X.X-linux.x86_64.rpm <br> griddb-ee-nodejs-lib_X.X.X_amd64.deb</td>
<td>contains Node.js libraries.</td>
</tr>
<tr>
<td>Go libraries</td>
<td>griddb-ee-go_lib</td>
<td>griddb-ee-go-lib-X.X.X-linux.x86_64.rpm <br> griddb-ee-go-lib_X.X.X_amd64.deb</td>
<td>contains Go libraries.</td>
</tr>
</tbody>
</table>
<p>* XXX indicates the GridDB version.</p>
<h2 id="installation">Installation</h2>
<h3 id="checking-the-environment-before-installation">Checking the environment before installation</h3>
<p>Check that the GridDB hardware and software requirements are met. For information about the requirements, see the &ldquo;Release notes.&rdquo;</p>
<ul>
<li>
<p>Checking hardware requirements</p>
<ul>
<li>
<p>Check that the physical memory size and the disk size meet the hardware requirements.</p>
<ul>
<li>
<p>How to check physical memory size</p>
<pre tabindex="0"><code>$ grep MemTotal /proc/meminfo
</code></pre></li>
<li>
<p>How to check disk space</p>
<pre tabindex="0"><code>$ df -h
</code></pre></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Checking software requirements</p>
<ul>
<li>
<p>Check that the OS type and version requirements are met.</p>
<ul>
<li>
<p>How to check the OS version and other attributes for RHEL and CentOS.</p>
<pre tabindex="0"><code>$ cat /etc/redhat-release
</code></pre></li>
<li>
<p>How to check the OS version and other attributes for Ubuntu Server.</p>
<pre tabindex="0"><code>$ cat /etc/lsb-release
</code></pre></li>
</ul>
</li>
<li>
<p>Check that Python 3.6 or later is installed.</p>
<ul>
<li>How to check the Python version.
<pre tabindex="0"><code>$ python3 --version
</code></pre></li>
</ul>
<p>[notes]</p>
<ul>
<li>Installation of the packages fails if Python is not installed.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="time-synchronization-for-nodes">Time synchronization for nodes</h3>
<p>It is assumed that OS times do not differ on the relevant node servers which configure a cluster.
It is not recommended to operate while OS times differ between node servers. GridDB does not synchronize time between nodes.</p>
<p>If OS times differ between node servers, the following problems may occur:</p>
<ul>
<li>The NOW () function which uses the current time of nodes in SQL and TQL returns a different value depending on which server to run.</li>
<li>When an operation is performed to append the current time of a node server to a time-series container and register a row in that container (TimeSeries#append), if a request is almost simultaneously made to register the same row in a container in another node, the time appended to each row differs.</li>
<li>The time recorded in the trace file of each node differs between nodes, which has a negative effect on trace analysis when a failure occurs.</li>
<li>The expiration timing differs between the owner node and backup node of a replica; if the time of the backup node is ahead of the time of the owner node, the data which has not yet expired in the owner node expire in the backup node prior to expiration in the owner node.</li>
</ul>
<p>For a multi-node cluster configuration, time synchronization using NTP is recommended. Use slew mode in NTP.</p>
<p>[note]</p>
<ul>
<li>Once a cluster has started running, do not change the OS time manually or reset to an earlier time; if you do, data inconsistencies and/or an error may occur.</li>
</ul>
<h3 id="selecting-a-package-to-install">Selecting a package to install</h3>
<p>Packages that must be installed differ depending on which module to execute as well as what the machine is used for.</p>
<table>
<thead>
<tr>
<th>purpose</th>
<th>packages that must be installed</th>
</tr>
</thead>
<tbody>
<tr>
<td>To run GridDB nodes</td>
<td>server                    : griddb-ee-server<br>client (operation tool): griddb-ee-client<br>Java library: griddb-ee-java-lib</td>
</tr>
<tr>
<td>To run an operation tool</td>
<td>client (operation tool): griddb-ee-client<br>Java library: griddb-ee-java-lib</td>
</tr>
<tr>
<td>To develop an application</td>
<td>libraries that support the programming languages of the applications to be developed</td>
</tr>
</tbody>
</table>
<p>[notes]</p>
<ul>
<li>Packages other than &ldquo;packages that must be installed&rdquo; can be installed together without any problems.</li>
<li>All packages can be installed on one machine without any problems.</li>
</ul>
<p>For example, to achieve the following machine configuration, the following packages must be installed on each machine:</p>
<figure>
  <img src="img/install_machine.png" alt="Example machine configuration" width="450"/>
  <figcaption>Example machine configuration</figcaption>
</figure>
<table>
<thead>
<tr>
<th>machine</th>
<th>use purpose</th>
<th>packages to install</th>
</tr>
</thead>
<tbody>
<tr>
<td>A. server machine that runs GridDB nodes</td>
<td>To run GridDB nodes and operation tools. .</td>
<td>griddb-ee-server<br>griddb-ee-client<br>griddb-ee-java-lib</td>
</tr>
<tr>
<td>B. machine that runs operation tools remotely</td>
<td>To remotely run operation tools on GridDB nodes and clusters.</td>
<td>griddb-ee-client<br>griddb-ee-java-lib</td>
</tr>
<tr>
<td>C. application development machine</td>
<td>To develop C applications.</td>
<td>griddb-ee-c-lib</td>
</tr>
</tbody>
</table>
<p>[notes]</p>
<ul>
<li>The example above assigns a separate machine for each purpose of use. But all purposes can be achieved together on one machine.</li>
</ul>
<h3 id="installation-procedures">Installation procedures</h3>
<p>Depending on the package to be installed, complete one of the following steps:</p>
<table>
<thead>
<tr>
<th>step</th>
<th>what to do</th>
<th>In which machine to install</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Install a package.</td>
<td>all machines</td>
</tr>
<tr>
<td>2</td>
<td>Setting up the OS user</td>
<td>machine on which the server package (griddb-ee-server)<br>or<br>the client package (griddb-ee-client) is installed</td>
</tr>
<tr>
<td>3</td>
<td>Set up the network environment</td>
<td>machine on which the server package (griddb-ee-server) is installed</td>
</tr>
<tr>
<td>4</td>
<td>Set up the node environment</td>
<td>machine on which the server package (griddb-ee-server) is installed</td>
</tr>
<tr>
<td>5</td>
<td>Setting up the environment for operation tools</td>
<td>machine on which the client package (griddb-ee-client) is installed</td>
</tr>
<tr>
<td>6</td>
<td>Setting up the library environment</td>
<td>machine on which library packages are installed</td>
</tr>
</tbody>
</table>
<p>In the case above, complete the steps shown in callouts pointed to each of the three machines.</p>
<figure>
  <img src="img/install_process.png" alt="Installation procedure" width="600"/>
  <figcaption>Installation procedure</figcaption>
</figure>
<h3 id="installing-the-package">Installing the package</h3>
<p>Install the packages needed on a machine where GridDB is used.</p>
<p>[example of running CentOS]</p>
<pre tabindex="0"><code>$ cd &lt;mount paths for a CD-ROM or DVD-ROM/RHEL/rpm
$ sudo rpm -ivh griddb-ee-server-X.X.X-linux.x86_64.rpm
preparing...                ########################################### [100%]
User gsadm and group gridstore have been registered.
GridDB uses new user and group.
   1:griddb-ee-server          ########################################### [100%]
$
$ sudo rpm -ivh griddb-ee-client-X.X.X-linux.x86_64.rpm
preparing...                ########################################### [100%]
User and group has already been registered correctly.
GridDB uses existing user and group.
   1:griddb-ee-client          ########################################### [100%]
$
$ sudo rpm -ivh griddb-ee-java-lib-X.X.X-linux.x86_64.rpm
preparing...                ########################################### [100%]
   1:griddb-ee-java-lib        ########################################### [100%]
$
$ sudo rpm -ivh griddb-ee-c-lib-X.X.X-linux.x86_64.rpm
preparing...                ########################################### [100%]
   1:griddb-ee-c-lib           ########################################### [100%]
$
  :
  :
  :
</code></pre><p>[Memo]</p>
<ul>
<li>For Ubuntu Server, use the dpkg command to install the package.</li>
</ul>
<pre tabindex="0"><code>$ sudo dpkg -i griddb-ee-server_X.X.X_amd64.deb
</code></pre><p>[note]</p>
<ul>
<li>To install Python library packages, Node.js library packages, and Go library packages, make sure to install C library packages first.</li>
<li>To install Web API packages, make sure to install Java library packages together.</li>
</ul>
<p>Installing the server package (griddb-ee-server) or the client package (griddb-ee-client) will automatically set up the following:</p>
<ul>
<li>
<p>Create a GridDB user and group.</p>
<ul>
<li>
<p>Create an OS user &ldquo;gsadm&rdquo; and a group &ldquo;gridstore&rdquo; who run GridDB nodes.</p>
<table>
<thead>
<tr>
<th>user</th>
<th>group membership</th>
<th>home directory</th>
</tr>
</thead>
<tbody>
<tr>
<td>gsadm</td>
<td>gridstore</td>
<td>/var/lib/gridstore</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Define the following environment variables in the bash_profile file of the user &ldquo;gsadm&rdquo;:</p>
<table>
<thead>
<tr>
<th>environment variables</th>
<th>value</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>GS_HOME</td>
<td>/var/lib/gridstore</td>
<td>GridDB home directory</td>
</tr>
<tr>
<td>GS_LOG</td>
<td>/var/lib/gridstore/log</td>
<td>output directory for node event log files</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>No change is made if the same user/group name exists.</p>
</li>
</ul>
</li>
<li>
<p>Create a GridDB home directory</p>
<ul>
<li>Create the home directory /var/lib/gridstore for the user &ldquo;gsadm.&rdquo;</li>
</ul>
</li>
<li>
<p>Register services (server package only)</p>
<ul>
<li>Register GridDB nodes in the OS service.</li>
<li>The service name is gridstore. Configure the service to start automatically in OS runlevels 3, 4, and 5.</li>
</ul>
</li>
</ul>
<h3 id="setting-up-the-os-user">Setting up the OS user</h3>
<p><strong>This setup is required for a machine on which the server package (griddb-ee-server) or the client package (griddb-ee-client) is installed.</strong></p>
<p>Installing the server package or the client package will create the OS user &ldquo;gsadm.&rdquo;
A password is not for gsadm. Set a password.</p>
<p>[example of executing the command]</p>
<pre tabindex="0"><code>$ sudo passwd gsadm
</code></pre><p>Change the upper limit for the number of available processes and the number of files that can be opened to make more resources available. Set the value in /etc/security/limits.conf.</p>
<p>[example of setting in limits.conf]</p>
<pre tabindex="0"><code>gsadm soft nproc 16384
gsadm hard nproc 16384
gsadm soft nofile 65536
gsadm hard nofile 65536
</code></pre><p>Log in again as gsadm and the settings are applied. Use the command ulmit -a to check the content of the settings.</p>
<h3 id="setting-up-the-network-environment">Setting up the network environment</h3>
<p><strong>This setup is required for a machine on which the server package (griddb-ee-server) is installed.</strong></p>
<p>To run GridDB nodes, the host name of each node server must correspond to an IP address.</p>
<p>First check how a host name corresponds to an IP address.
Execute the command &ldquo;hostname -i&rdquo; to check the host settings and IP address settings.
If the IP address is already set as shown below, the task described in this section on network settings is not required.</p>
<ul>
<li>[example of executing the command]
<pre tabindex="0"><code>$ hostname -i
192.168.11.10
</code></pre></li>
</ul>
<p>The error message below and the loopback address 127.0.0.1 indicate that the IP address is not set yet.
Perform the steps 1 to 3 below:</p>
<ul>
<li>[example of executing the command]
<pre tabindex="0"><code>$ hostname -i
hostname: no IP address corresponding to the host name
</code></pre>OR
<pre tabindex="0"><code>$ hostname -i
127.0.0.1
</code></pre></li>
</ul>
<p>How to set the network</p>
<ol>
<li>Check the host name and IP address set by OS.</li>
</ol>
<ul>
<li>
<p>Check the host name.</p>
<p>[example of executing the command]</p>
<pre tabindex="0"><code>$ hostname
GS_HOST
</code></pre></li>
<li>
<p>Check the IP address.</p>
<p>[example of executing the command]</p>
<pre tabindex="0"><code>$ ip route | grep eth0 | cut -f 12 -d &#34; &#34; | tr -d &#34;\n&#34;
192.168.11.10
</code></pre></li>
</ul>
<ol start="2">
<li>Set how a host name corresponds to an IP address.</li>
</ol>
<ul>
<li>
<p>Add the host name and IP address checked in step 1 to the /etc/hosts file as a root user.</p>
<p>[example as written in the file]</p>
<pre tabindex="0"><code>192168.11.10   GS_HOST
</code></pre></li>
</ul>
<ol start="3">
<li>Check that the correspondence is correctly set.</li>
</ol>
<ul>
<li>
<p>Execute the command &ldquo;hostname -i&rdquo; to check the host settings and IP address settings. Check that the IP address added in step 2 is shown.</p>
<p>[example of executing the command]</p>
<pre tabindex="0"><code>$ hostname -i
192.168.11.10
</code></pre></li>
</ul>
<h3 id="setting-up-the-node-environment">Setting up the node environment</h3>
<p><strong>This setup is required for a machine which runs nodes. For all other machines, no setup is needed.</strong> For all other machines, no setup is needed.**</p>
<p>Set up the definition files. Set up the environment in one of the machines that run nodes first; then, distribute the definition files in that machine to other machines.</p>
<figure>
  <img src="img/install_file_copy.png" alt="Setting up the node environment" width="450"/>
  <figcaption>Setting up the node environment</figcaption>
</figure>
<h4 id="setting-parameters">Setting parameters</h4>
<p>Definition files for a node are of two types: node definition files &ldquo;gs_node.json&rdquo; and cluster definition files &ldquo;gs_cluster.json&rdquo;.</p>
<ul>
<li>
<p>cluster name</p>
<ul>
<li>The setting of cluster names is required.</li>
</ul>
</li>
<li>
<p>other parameters</p>
<ul>
<li>Change the parameters to match the physical design of the system.</li>
</ul>
</li>
</ul>
<h4 id="setting-administrative-users">Setting administrative users</h4>
<p>An administrative user is used for running operation commands and performing operations only allowed to those with administrator authority.</p>
<p>The installation of a package creates the following administrative user by default:</p>
<table>
<thead>
<tr>
<th>administrative user</th>
<th>password</th>
</tr>
</thead>
<tbody>
<tr>
<td>admin</td>
<td>admin</td>
</tr>
<tr>
<td>system</td>
<td>manager</td>
</tr>
</tbody>
</table>
<p>For increased security, change the default password for administrative users.
Use the command gs_passwd to change the password for administrative users.</p>
<p>[example of executing the command]</p>
<pre tabindex="0"><code># su - gsadm
$ gs_passwd admin
Password: (Enter the password)
Retype password: (Re-enter the password)
</code></pre><p>To add a new administrative user, use the command gs_adduser.
The name of an administrative user should start with &ldquo;gs#&rdquo;. The characters gs# should be followed by one or more characters which can contain only ASCII alphanumeric characters or underscores (_). The maximum number of characters allowed is 64.</p>
<p>[example of executing the command]</p>
<pre tabindex="0"><code># su - gsadm
$ gs_adduser gs#newuser
Password: (Enter the password)
Retype password: (Re-enter the password)
</code></pre><p>Information on the administrative user is stored in the user defined file (/var/lib/gridstore/conf/password).</p>
<p>[notes]</p>
<ul>
<li>All the nodes configuring a cluster must have the same content. When adding or deleting an administrative user or changing a password within one node, always do the same for all other nodes.</li>
</ul>
<h4 id="setting-services">Setting services</h4>
<p>Services automatically start nodes.</p>
<p>To perform cluster configuration at the same time as nodes start up, the setting of services is required.
For details see the <a href="../5.md_reference_operation_tool/md_reference_operation_tool.md">GridDB Operation Tools Reference</a>.</p>
<h4 id="distributing-definition-files">Distributing definition files</h4>
<p>Set up the environment in one of the machines that run nodes first; then, distribute the definition files in that machine to other machines.</p>
<h3 id="setting-up-the-environment-for-operation-tools">Setting up the environment for operation tools</h3>
<p>Set up the environment for operation tools to be used
For details about how to set up each tool, see the <a href="../5.md_reference_operation_tool/md_reference_operation_tool.md">GridDB Operation Tools Reference</a>.</p>
<h3 id="setting-up-the-library-environment">Setting up the library environment</h3>
<h4 id="python-libraries">Python libraries</h4>
<p>To use Python libraries, install Python packages (griddb_python) using the following commands: Run the commands as gsadm user.</p>
<pre tabindex="0"><code>$ pip install /usr/griddb/lib/python
</code></pre><ul>
<li>Have pip installed before running the command above.</li>
</ul>
<h4 id="nodejs-libraries">Node.js libraries</h4>
<p>To use Node.js libraries include them in several different paths as shown below:</p>
<pre tabindex="0"><code>$ export LIBRARY_PATH=${LIBRARY_PATH}:/usr/griddb/lib
$ export NODE_PATH=/usr/griddb/lib/nodejs
$ export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/usr/griddb/lib/nodejs
</code></pre><ul>
<li>Have glibc 2.14 or higher installed before running the commands above.</li>
</ul>
<h4 id="go-libraries">Go libraries</h4>
<p>To use Go libraries, include them in several different paths as shown below and build the libraries.</p>
<pre tabindex="0"><code>$ export LIBRARY_PATH=${LIBRARY_PATH}:/usr/griddb/lib
$ export GOPATH=$GOPATH:/usr/griddb/lib/go
$ export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/usr/griddb/lib/go
$ go install griddb/go_client
</code></pre><ul>
<li>Have gcc and gcc-c++ or higher installed before running the commands above.</li>
</ul>
<h4 id="developing-applications-on-the-windows-environment">Developing applications on the Windows environment</h4>
<h5 id="developing-applications-using-jdbc">Developing applications using JDBC</h5>
<p>Use the JDBC driver to develop applications using the Java language library while working in combination with applications and BI tools that access GridDB on the Windows environment.</p>
<p>Files for the JDBC driver are stored in the GridDB installation media for you to use. Copy the jar files in the \Windows\JDBC folder on the installation media into the folder referenced by the applications.</p>
<h5 id="developing-applications-using-odbc">Developing applications using ODBC</h5>
<p>Use the ODBC driver to develop applications using the C language library while working in combination with applications and BI tools that access GridDB on the Windows environment.
See the <a href="../17.md_reference_odbc/md_reference_odbc.md">GridDB ODBC Driver User Guide</a> to install the driver and set up its environment.</p>
<h2 id="uninstallation">Uninstallation</h2>
<p>If GridDB is no longer needed, uninstall all installed packages. To uninstall, complete the following steps:</p>
<ol>
<li>Check the packages installed.</li>
<li>Uninstall them.</li>
</ol>
<p>[example of running CentOS]</p>
<pre tabindex="0"><code>// Check the packages installed.
$ sudo rpm -qa | grep griddb
griddb-ee-server-X.X.X-linux.x86_64
griddb-ee-client-X.X.X-linux.x86_64
griddb-ee-java-lib-X.X.X-linux.x86_64
griddb-ee-c-lib-X.X.X-linux.x86_64

// uninstall
$ sudo rpm -e griddb-ee-server
$ sudo rpm -e griddb-ee-client
$ sudo rpm -e griddb-ee-java-lib
$ sudo rpm -e griddb-ee-c-lib
</code></pre><p>[example of running CentOS]</p>
<ul>
<li>For Ubuntu Server, use the dpkg command to uninstall the package.</li>
</ul>
<pre tabindex="0"><code>$ sudo dpkg -r griddb-ee-server
</code></pre><p>[notes]</p>
<p>Note files under the GridDB home directory including the definition file and data files are not uninstalled. (For Ubuntu Server, a warning message might be issued stating the directories cannot be deleted and the like, but this is not a problem.) Delete them manually if not necessary.</p>
<h2 id="----operation----">&mdash; Operation &mdash;</h2>
<h2 id="responses-when-a-failure-occurs">Responses when a failure occurs</h2>
<p>If a problem occurs while building a system using GridDB or while using the system, determine what the symptoms of the problem are and under which conditions the problem has occurred based on action taken, the error codes, and other information.
After checking the problem status, review possible solutions and apply them.</p>
<h3 id="responses-to-node-failures">Responses to node failures</h3>
<p>Node Event log files record messages about events such as exceptions occurring within a node, as well as information about system activity.</p>
<p>If a problem exists with node behavior, check the node event logs for error or warning messages.
Because a cluster is composed of multiple nodes, make sure to check event logs for each of the nodes for such messages.</p>
<ul>
<li>
<p>How to check node event logs</p>
<ul>
<li>
<p>Log in to the machine that runs the node and check the event log files.</p>
</li>
<li>
<p>Use the command gs_ogs to remotely check the node event logs (only applicable while the node is running)</p>
<ul>
<li>[Example] Check error event logs for the node (172.0.10.1).
<pre tabindex="0"><code>$ gs_logs -u admin/admin -s 172.0.10.1 ERROR
2017-11-17T19:34:46.895+0900 HOSTNAME 10933 ERROR SQL_SERVICE
 [10010:TXN_PARTITION_STATE_UNMATCH]
(required={ON}, actual=STOP) &lt;VVZk3btebewYF
</code></pre></li>
</ul>
</li>
</ul>
</li>
<li>
<p>output format for event logs</p>
<ul>
<li>
<p>prints information about one event per line.</p>
<pre tabindex="0"><code>(date, time, zone (yyyy-MM-ddTHH:mm:sshhmm))(host name)(thread number)(log level)(category)\[(error code)\](message)&lt;(detailed information about base64: detailed information for analyzing problems with support services)&gt;
</code></pre></li>
<li>
<p>Examples</p>
<pre tabindex="0"><code>2019-03-20T04:01:50.423+0900 RHEL73-1 13057 INFO CLUSTER_OPERATION\[40906:CS_NORMAL_OPERATION\] Recovery checkpoint is completed, start all services
</code></pre></li>
</ul>
</li>
<li>
<p>How to respond</p>
<ul>
<li>If an error occurred, see the <a href="../6.md_error_code/md_error_code.md">GridDB Error Codes</a> to determine the meaning of an &ldquo;error code&rdquo; and check its causes and responses.</li>
</ul>
</li>
<li>
<p>event log file output</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>destination directory</td>
<td>log</td>
</tr>
<tr>
<td>file name</td>
<td>gridstore-%Y%m%d-n.log</td>
</tr>
<tr>
<td>when to switch log files</td>
<td>- when staring a node<br>- when printing first logs after a date change since the last logs<br>- when the file size exceeds 1 MB</td>
</tr>
<tr>
<td>maximum number of files</td>
<td>30 <br>(When the number of files exceeds 30, the oldest file is deleted.)</td>
</tr>
</tbody>
</table>
<ul>
<li>The destination directory and the maximum size of log files can be changed by specifying them in the node definition file (gs_node_json).
<table>
<thead>
<tr>
<th>parameter</th>
<th>initial value</th>
<th>description</th>
<th>changes made after startup</th>
</tr>
</thead>
<tbody>
<tr>
<td>/system/eventLogPath</td>
<td>log</td>
<td>deployment directory for event log files</td>
<td>possible (Restart nodes)</td>
</tr>
<tr>
<td>/trace/fileCount</td>
<td>30</td>
<td>maximum number of event log files</td>
<td>possible (Restart nodes)</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
</ul>
<h3 id="responses-to-application-failures">Responses to application failures</h3>
<p>If a problem occurs while running an application that uses a client API (NoSQL/New SQL interface), check the error codes and error messages returned by the client API.</p>
<p>Depending on which client API is used, the steps for retrieving error codes and error messages are different. For details, see the references for each API.</p>
<p>See the <a href="../6.md_error_code/md_error_code.md">GridDB Error Codes</a> to determine the meaning of an error code number, check its causes, and take measures.</p>
<p>If the error is due to the node, not the application, check the node event log with the time when the error occurred and check the status of the node when an error occurred.</p>
<p>[Example] Java API</p>
<ul>
<li>
<p>The following error information can be obtained by using GSException#getErrorMessage():</p>
<pre tabindex="0"><code class="language-example" data-lang="example">[error code : error symbol] error message (supplementary information)
</code></pre></li>
<li>
<p>an illegal container name is specified</p>
<pre tabindex="0"><code class="language-example" data-lang="example">[145007:JC_ILLEGAL_SYMBOL_CHARACTER] Illegal character found (character=&#34;#&#34;, containerName=&#34;#Sample&#34;, index=0)
</code></pre></li>
</ul>
<h3 id="responses-to-failures-in-operation-tools">Responses to failures in operation tools</h3>
<p>If an error occurs in an operation tool, see the log file of that operation tool to check the description of the error that has occurred.</p>
<p>The log file destinations for selected operation tools are shown below:</p>
<table>
<thead>
<tr>
<th>operation tools</th>
<th>output destination</th>
<th>How to specify an output destination</th>
</tr>
</thead>
<tbody>
<tr>
<td>operation commands (such as gs_joincluster)</td>
<td>/var/lib/gridstore/log</td>
<td>environment variable GS_LOG for gsadm user</td>
</tr>
<tr>
<td>integrated operations management GUI (gs_admin)</td>
<td>/var/lib/gridstore/admin/log</td>
<td>log settings file (WAS directory /webapps/gs_admin/WEB-INF/classes/logback.xml)</td>
</tr>
<tr>
<td>shell command gs_sh</td>
<td>/var/lib/gridstore/log</td>
<td>log settings file (/usr/griddb/prop/gs_sh_logback.xml)<br>parameter logPath</td>
</tr>
<tr>
<td>export/import tool</td>
<td>/var/lib/gridstore/log</td>
<td>property file (/var/lib/gridstore/expimp/conf/gs_expimp.properties)<br>parameter logPath</td>
</tr>
</tbody>
</table>
<p>[Example] log file for the gs_startnode command file name: gs_startnode.log</p>
<pre tabindex="0"><code class="language-example" data-lang="example">2014-10-20 15:25:16,876 [25444] [INFO] &lt;module&gt;(56) /usr/bin/gs_startnode start.
2014-10-20 15:25:17,889 [25444] [INFO] &lt;module&gt;(156) wait for starting node. (node=127.0.0.1:10040 waitTime=0)
2014-10-20 15:25:18,905 [25444] [INFO] &lt;module&gt;(192) /usr/bin/gs_startnode end.
</code></pre><p>[notes]</p>
<ul>
<li>It is recommended to check event log information for the server together with information about operation tools.</li>
</ul>
<h2 id="configuration-management">Configuration management</h2>
<h3 id="adding-nodes">Adding nodes</h3>
<h4 id="points-to-consider-when-designing-2">Points to consider when designing</h4>
<p>One of the best practices to optimize resource placement is to start with a minimum number of machines at low cost in the initial operation of the system, and, if the system runs out of resources due to data growth, add nodes to scale out the system.</p>
<p>Estimate an increase in the amount of the system&rsquo;s data and plan the timing of adding nodes.</p>
<figure>
  <img src="img/append_graph.png" width="500" alt="Node addition in proportion to the increase in data volume"/>
  <figcaption>Node addition in proportion to the increase in data volume</figcaption>
</figure>
<p>Consider scale-out if the system runs out of resources during its operation due to the following reasons:</p>
<ul>
<li>
<p>memory space shortage</p>
<ul>
<li>The number of swap processing operations has increased.</li>
</ul>
</li>
<li>
<p>disk space shortage</p>
<ul>
<li>The available disk space (=disk space minus file size) has decreased.</li>
</ul>
</li>
</ul>
<h4 id="procedures-for-adding-nodes">Procedures for adding nodes</h4>
<p>Before adding node, it is recommended to stop clusters if possible. It is also possible to add nodes online during the system&rsquo;s operation.</p>
<ol>
<li>Build a GridDB environment online during the system&rsquo;s operation.</li>
</ol>
<ul>
<li>Install GridDB that has the same version as the current cluster on a new machine to which nodes are added.</li>
<li>Copy the following three files in one of the nodes in the current cluster.
<ul>
<li>node definition file (conf/gs_node.json)</li>
<li>cluster definition file (conf/gs_cluster.json)</li>
<li>user defined file (conf/password)</li>
</ul>
</li>
</ul>
<ol start="2">
<li>Modify settings for applications and operation tools, and cluster configuration scripts.</li>
</ol>
<ul>
<li>
<p>applications (applicable if the fixed list method or provider method is selected as a connection method.)</p>
<ul>
<li>Add the IP addresses of the nodes to add in an address list.</li>
</ul>
</li>
<li>
<p>In commands that join nodes to the cluster, specify the number of nodes configured. To add nodes, this number must be changed before addition.</p>
<ul>
<li>user-created scripts that use the operation command gs_joincluster.</li>
<li>settings for the shell command gs_sh
<ul>
<li>setcluster command</li>
</ul>
</li>
<li>services
<ul>
<li>Change the number of MIN_NODE_NUM in the startup settings file (/etc/sysconfig/gridstore/gridstore.conf).</li>
</ul>
</li>
<li>integrated operations management GUI (gs_admin)
<ul>
<li>Change the node configuration on the repository panel.</li>
</ul>
</li>
</ul>
</li>
</ul>
<ol start="3">
<li>Add nodes.</li>
</ol>
<ul>
<li>
<p>Add nodes after stopping cluster.</p>
<ul>
<li>Stop the cluster.</li>
<li>Join nodes to the cluster including new machines.</li>
</ul>
</li>
<li>
<p>Add nodes while the cluster is running.</p>
<ul>
<li>Verify that the status of the cluster is STABLE.</li>
<li>Execute the command &ldquo;gs_appendcluster&rdquo; for adding nodes.</li>
</ul>
</li>
</ul>
<p><a id ="label_changing_parameters"></a></p>
<h3 id="changing-parameters">Changing parameters</h3>
<p>Set the behavior of nodes and clusters using node definition files (gs_node.json) and cluster definition files (gs_cluster.json).
Three cases are possible as to whether parameter change is allowed after starting nodes or while running the cluster.</p>
<table>
<thead>
<tr>
<th>allowed or not</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>change not allowed</td>
<td>Once nodes are started, setup values cannot be changed. To change setup values, database must be initialized.</td>
</tr>
<tr>
<td>change allowed (restart )</td>
<td>Change setup values in the definition files and restart the nodes to apply new values.</td>
</tr>
<tr>
<td>change allowed (online)</td>
<td>Parameters can be changed online while nodes and the cluster are running. Use the command gs_paramconf to change them. Changes made online are not permanent. To make them permanent, manually modify the corresponding definition files. Otherwise, parameters are reset to the original value after restart.</td>
</tr>
</tbody>
</table>
<p>Procedures for changing parameters online</p>
<ol>
<li>Change parameters using the gs_paramconf command for changing parameters.</li>
</ol>
<ul>
<li>[example of executing the command]
<pre tabindex="0"><code>$ gs_paramconf -u admin/admin --set storeMemoryLimit 2048MB
</code></pre></li>
</ul>
<ol start="2">
<li>Verify that parameters have been changed.</li>
</ol>
<ul>
<li>[example of executing the command]
<pre tabindex="0"><code>$ gs_paramconf -u admin/admin --show storeMemoryLimit
&#34;2048MB&#34;
</code></pre></li>
</ul>
<ol start="3">
<li>Manually modify the definition files specifying parameters that have been changed online.</li>
</ol>
<p>[notes]</p>
<ul>
<li>After changing parameters online, be sure to manually modify the corresponding definition files specifying parameters. Otherwise, parameters are reset to the original value after restart.</li>
</ul>
<h2 id="migrating-data">Migrating data</h2>
<h3 id="how-to-migrate-data-to-a-new-machine">How to migrate data to a new machine</h3>
<p>This section describes how to build a new cluster having the same settings as the currently working cluster to replace a machine or for other purposes.</p>
<p>In such cases, data migration can be completed just by stopping nodes and physically copying the database files to a new machine</p>
<ol>
<li>Install GridDB on a new machine.</li>
</ol>
<ul>
<li>For installation, use the RMP whose version and edition are the same as the currently working nodes.</li>
</ul>
<ol start="2">
<li>Copy definition files.</li>
</ol>
<ul>
<li>Copy three files (a cluster definition file, a node definition file, and a user defined file) to a new machine for deployment.</li>
</ul>
<ol start="3">
<li>Stop the currently working cluster.</li>
</ol>
<ul>
<li>Stop the cluster using the gs_stopcluster command for stopping a cluster.</li>
<li>Stop each node using the gs_stopnode command for stopping a node.</li>
</ul>
<ol start="4">
<li>Copy database files.</li>
</ol>
<ul>
<li>Copy all data under the directories specified in /dataStore/dataPath and /dataStore/transactionLogPath in the node definition file to a new machine.</li>
</ul>
<ol start="5">
<li>Start the cluster on a new machine.</li>
</ol>
<h3 id="how-to-migrate-data-if-the-existing-database-is-not-compatible">How to migrate data if the existing database is not compatible</h3>
<p>If the current database becomes incompatible after upgrading GridDB or for other reasons, make sure to perform data migration by exporting and importing data.</p>
<p>Exporting and importing may take time depending on the amount of data and the performance of disk I/O.</p>
<ol>
<li>Export all data in the cluster.</li>
</ol>
<ul>
<li>gs_export -u admin/admin &ndash;all -acl</li>
</ul>
<ol start="2">
<li>
<p>Perform an upgrade installation to install GridDB.</p>
</li>
<li>
<p>Import all data.</p>
</li>
</ol>
<ul>
<li>gs_import -u admin/admin &ndash;all &ndash;acl</li>
</ul>
<p>[Memo]
A database conversion tool is available to upgrade GridDB from V4 to V5. For details, see the &ldquo;<a href="../5.md_reference_operation_tool/md_reference_operation_tool.md">GridDB Operation Tools Reference</a>&rdquo; .</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-211b02b2197d3ef4084be614dc8abd5c">11 - Error Codes</h1>
    <div class="lead">Describes the error codes that GridDB records in the event log, their meanings, causes, and fix</div>
	<p>The table below is the list of the error codes recorded in the GridDB event log.</p>
<p>See &ldquo;<a href="../3.md_reference_feature/md_reference_feature.md#label_event_log">GridDB Features Reference</a>&rdquo; about the event log function.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Error code</th>
<th style="text-align:left">Error code</th>
<th style="text-align:left">Error type</th>
<th>Description of the circumstances under which the problem occurred</th>
<th>Explanation of possible causes</th>
<th style="text-align:left">Countermeasures</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1001</td>
<td style="text-align:left">CM_NO_MEMORY</td>
<td style="text-align:left">ERROR</td>
<td></td>
<td>Securing of memory may have failed.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">1005</td>
<td style="text-align:left">CM_IO_ERROR</td>
<td style="text-align:left">ERROR</td>
<td></td>
<td>Data file I/O error may have occurred.</td>
<td style="text-align:left">Check whether the data folder specified in the config file exists.</td>
</tr>
<tr>
<td style="text-align:left">1007</td>
<td style="text-align:left">CM_NOT_SUPPORTED</td>
<td style="text-align:left">ERROR</td>
<td></td>
<td>Operation may not be supported.</td>
<td style="text-align:left">Check whether the specified index type can be set for the specified column.</td>
</tr>
<tr>
<td style="text-align:left">1008</td>
<td style="text-align:left">CM_LIMITS_EXCEEDED</td>
<td style="text-align:left">ERROR</td>
<td></td>
<td>Limit value may have been exceeded.</td>
<td style="text-align:left">Either the number or size below has reached the upper limit.<br>Number of connected clients<br>Number of connected nodes<br>Number of replicas<br>Number of containers<br>URL size of trigger notification destination<br>Number of registered triggers<br>Based on the message, reduce the number of connected clients, number of connected nodes, etc.</td>
</tr>
<tr>
<td style="text-align:left">1012</td>
<td style="text-align:left">CM_TIMEOUT</td>
<td style="text-align:left">ERROR</td>
<td>Transaction timeout occurred.</td>
<td></td>
<td style="text-align:left">Set a longer transaction timeout time.</td>
</tr>
<tr>
<td style="text-align:left">1017</td>
<td style="text-align:left">CM_FILE_NOT_FOUND</td>
<td style="text-align:left">ERROR</td>
<td></td>
<td>Data file may not exist.</td>
<td style="text-align:left">Check whether the data file exists.</td>
</tr>
<tr>
<td style="text-align:left">1042</td>
<td style="text-align:left">CM_PLATFORM_ERROR</td>
<td style="text-align:left">ERROR</td>
<td>OS system call failed.</td>
<td></td>
<td style="text-align:left">Check the value of errno in the error message.</td>
</tr>
<tr>
<td style="text-align:left">1043</td>
<td style="text-align:left">CM_MEMORY_LIMIT_EXCEEDED</td>
<td style="text-align:left"></td>
<td></td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">1044</td>
<td style="text-align:left">CM_SIZE_LIMIT_EXCEEDED</td>
<td style="text-align:left"></td>
<td></td>
<td>Limit value may have been exceeded.</td>
<td style="text-align:left">Check the error message output section for the values of the items that are output besides this error code.</td>
</tr>
<tr>
<td style="text-align:left">1045</td>
<td style="text-align:left">CM_CANCELED</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution was canceled.</td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">1046</td>
<td style="text-align:left">CM_COMPRESSION_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Data file or log file compression failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">1047</td>
<td style="text-align:left">CM_UNCOMPRESSION_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Data file or log file decompression failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">1048</td>
<td style="text-align:left">CM_INCOMPATIBLE_ZLIB_VERSION</td>
<td style="text-align:left">ERROR</td>
<td>Data file or log file operation failed.</td>
<td>The library version may be wrong.</td>
<td style="text-align:left">Check if the library version is the same as the version described in the manual.</td>
</tr>
<tr>
<td style="text-align:left">1049</td>
<td style="text-align:left">CM_INVALID_SPLIT_COUNT</td>
<td style="text-align:left">ERROR</td>
<td>Data file operation failed.</td>
<td>The data file may be inconsistent.</td>
<td style="text-align:left">The number of file splitting recorded in the data file and the database settings are different. Check the file or the settings.</td>
</tr>
<tr>
<td style="text-align:left">1050</td>
<td style="text-align:left">CM_INVALID_SPLIT_STRIPE_SIZE</td>
<td style="text-align:left">ERROR</td>
<td>Data file operation failed.</td>
<td>The data file may be inconsistent.</td>
<td style="text-align:left">The file splitting stripe size recorded in the data file and the database settings are different. Check the file or the settings.</td>
</tr>
<tr>
<td style="text-align:left">1900</td>
<td style="text-align:left">CM_LONG_IO</td>
<td style="text-align:left">WARNING</td>
<td></td>
<td>Processing of the log file or data file may be taking longer than usual.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">1903</td>
<td style="text-align:left">CM_LONG_EVENT</td>
<td style="text-align:left">WARNING</td>
<td></td>
<td>Processing of the transaction may be taking longer than usual.</td>
<td style="text-align:left">Data registration and update may converge and the data may be output if the load gets high for a moment.<br>Check with support if data is output continuously for an extended period of time.</td>
</tr>
<tr>
<td style="text-align:left">1904</td>
<td style="text-align:left">CM_COMPRESSION_FAILED</td>
<td style="text-align:left">WARNING</td>
<td>Data file or log file compression was canceled.</td>
<td>A library error may have occurred.</td>
<td style="text-align:left">This indicates that compression was canceled and data were stored without compression by an error occurredin the compression-decompression library in compressing data blocks or log records.</td>
</tr>
<tr>
<td style="text-align:left">1906</td>
<td style="text-align:left">CM_PARTIAL_IO</td>
<td style="text-align:left">WARNING</td>
<td></td>
<td>An I/O error of the log file or the data file may occur.</td>
<td style="text-align:left">Data registration and update may converge and the data may be output if the load gets high for a moment. Automatic recovery is performed, so if there aren&rsquo;t any other errors, any operations aren&rsquo;t needed.</td>
</tr>
<tr>
<td style="text-align:left">10005</td>
<td style="text-align:left">TXN_AUTH_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>User name or password may be wrong.</td>
<td style="text-align:left">Check if the user name and password are correct.</td>
</tr>
<tr>
<td style="text-align:left">10006</td>
<td style="text-align:left">TXN_AUTH_REQUIRED</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Client may already have been disconnected.</td>
<td style="text-align:left">Set a longer client transaction timeout time.<br>Example) When the transaction timeout time is set to 60 seconds<br>Properties prop;<br>prop.setProperty(&ldquo;transactionTimeout&rdquo;, &ldquo;60&rdquo;);<br>GridStoreFactory.getInstance().setProperty(prop);<br>GridStore store = GridStoreFactory.getGridStore(prop);</td>
</tr>
<tr>
<td style="text-align:left">10008</td>
<td style="text-align:left">TXN_CLUSTER_ROLE_UNMATCH</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Cluster may not have been configured.</td>
<td style="text-align:left">Execute a gs_joincluster command and execute it again with the cluster in a constituted state.</td>
</tr>
<tr>
<td style="text-align:left">10009</td>
<td style="text-align:left">TXN_PARTITION_ROLE_UNMATCH</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Cluster may be in the process of being re-configured.</td>
<td style="text-align:left">Run the app again. If a value other than 0 is specified in the failover timeout time, the client will automatically run the app again.</td>
</tr>
<tr>
<td style="text-align:left">10010</td>
<td style="text-align:left">TXN_PARTITION_STATE_UNMATCH</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Cluster may be in the process of being re-configured.</td>
<td style="text-align:left">Run the app again. If a value other than 0 is specified in the failover timeout time, the client will automatically run the app again.</td>
</tr>
<tr>
<td style="text-align:left">10012</td>
<td style="text-align:left">TXN_STATEMENT_TYPE_NOT_EXECUTABLE</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Parameter setting may be wrong.</td>
<td style="text-align:left">Check whether a row lock has been specified in an operation for which a row lock cannot be requested. And check whether the query option that can use for the requested query has been specified.</td>
</tr>
<tr>
<td style="text-align:left">10013</td>
<td style="text-align:left">TXN_STATEMENT_TYPE_UNKNOWN</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Client version may be wrong.</td>
<td style="text-align:left">Check the version of the client and server.</td>
</tr>
<tr>
<td style="text-align:left">10016</td>
<td style="text-align:left">TXN_CONTAINER_NOT_FOUND</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Container may not exist.</td>
<td style="text-align:left">Check whether any target containers have been deleted during client processing.</td>
</tr>
<tr>
<td style="text-align:left">10017</td>
<td style="text-align:left">TXN_CONTAINER_SCHEMA_UNMATCH</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Container may have been changed.</td>
<td style="text-align:left">Check whether any target containers have been changed during client processing.</td>
</tr>
<tr>
<td style="text-align:left">10025</td>
<td style="text-align:left">TXN_REPLICATION_LOG_TYPE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Execution of replication failed.</td>
<td>Version of log data may be wrong.</td>
<td style="text-align:left">Check whether multiple versions of nodes are mixed in the same network.</td>
</tr>
<tr>
<td style="text-align:left">10026</td>
<td style="text-align:left">TXN_REPLICATION_LOG_LSN_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Execution of replication failed.</td>
<td>A failure may have occurred in the cluster.</td>
<td style="text-align:left">No response required as the cluster control section will automatically detect the replication failure and perform recovery processing.</td>
</tr>
<tr>
<td style="text-align:left">10028</td>
<td style="text-align:left">TXN_REPLICATION_LOG_APPLY_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Execution of replication failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system. Check with support if there is sufficient memory.</td>
</tr>
<tr>
<td style="text-align:left">10033</td>
<td style="text-align:left">TXN_CONSISTENCY_TYPE_UNMATCH</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Consistency level may be wrong.</td>
<td style="text-align:left">Specify &lsquo;IMMEDIATE&rsquo; as the value of the property &lsquo;consistency&rsquo;.</td>
</tr>
<tr>
<td style="text-align:left">10038</td>
<td style="text-align:left">TXN_DECODE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Client version may be wrong.</td>
<td style="text-align:left">Check the version of the client and server.</td>
</tr>
<tr>
<td style="text-align:left">10039</td>
<td style="text-align:left">TXN_ENCODE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">10040</td>
<td style="text-align:left">TXN_EVENT_NOTIFY_URL_METHOD_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Registration of trigger failed.</td>
<td>Trigger setting may be wrong.</td>
<td style="text-align:left">Check whether the URL follows the format of the API manual.</td>
</tr>
<tr>
<td style="text-align:left">10041</td>
<td style="text-align:left">TXN_EVENT_NOTIFY_URL_HOST_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Registration of trigger failed.</td>
<td>Trigger setting may be wrong.</td>
<td style="text-align:left">Check whether the URL follows the format of the API manual.</td>
</tr>
<tr>
<td style="text-align:left">10053</td>
<td style="text-align:left">TXN_CLUSTER_NAME_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Cluster name may be wrong.</td>
<td style="text-align:left">Check whether the cluster name specified by the client matches the cluster name that can be acquired by gs-stat.</td>
</tr>
<tr>
<td style="text-align:left">10054</td>
<td style="text-align:left">TXN_CLIENT_VERSION_NOT_ACCEPTABLE</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Client version may be wrong.</td>
<td style="text-align:left">Check the version of the client and server.</td>
</tr>
<tr>
<td style="text-align:left">10055</td>
<td style="text-align:left">TXN_STATEMENT_TYPE_UNSUPPORTED</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Client version may be wrong.</td>
<td style="text-align:left">Check the version of the client and server.</td>
</tr>
<tr>
<td style="text-align:left">10057</td>
<td style="text-align:left">TXN_PARTITION_STATE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Cluster may be in the process of being re-configured.</td>
<td style="text-align:left">Check whether multiple versions of nodes are mixed in the same network.</td>
</tr>
<tr>
<td style="text-align:left">10067</td>
<td style="text-align:left">TXN_OPTION_TYPE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Client version may be wrong.</td>
<td style="text-align:left">Check the version of the client and server.</td>
</tr>
<tr>
<td style="text-align:left">10068</td>
<td style="text-align:left">TXN_RESULT_TYPE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Client version may be wrong.</td>
<td style="text-align:left">Check the version of the client and server.</td>
</tr>
<tr>
<td style="text-align:left">10075</td>
<td style="text-align:left">TXN_AUTHENTICATION_SERVICE_NOT_READY</td>
<td style="text-align:left">ERROR</td>
<td>Connection failed.</td>
<td>User authentication service may be under preparation.</td>
<td style="text-align:left">Wait for a while before executing the command again.</td>
</tr>
<tr>
<td style="text-align:left">10077</td>
<td style="text-align:left">TXN_USER_NAME_ALREADY_EXISTS</td>
<td style="text-align:left">ERROR</td>
<td>User/DB administration operation failed.</td>
<td>User name may have been duplicated.</td>
<td style="text-align:left">Check the user name.</td>
</tr>
<tr>
<td style="text-align:left">10079</td>
<td style="text-align:left">TXN_OPERATION_NOT_ALLOWED</td>
<td style="text-align:left">ERROR</td>
<td>User/DB administration operation failed.</td>
<td>Operation may not have been permitted.</td>
<td style="text-align:left">Check whether the logged-in user is an administrator.</td>
</tr>
<tr>
<td style="text-align:left">10080</td>
<td style="text-align:left">TXN_USER_NAME_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>User/DB administration operation failed.</td>
<td>User name may be non-conforming.</td>
<td style="text-align:left">Check the user name.</td>
</tr>
<tr>
<td style="text-align:left">10081</td>
<td style="text-align:left">TXN_DATABASE_NAME_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>User/DB administration operation failed.</td>
<td>DB name may be non-conforming.</td>
<td style="text-align:left">Check the DB name.</td>
</tr>
<tr>
<td style="text-align:left">10082</td>
<td style="text-align:left">TXN_USER_LIMIT_OVER</td>
<td style="text-align:left">ERROR</td>
<td>User/DB administration operation failed.</td>
<td>Number of users may have exceeded the limit value.</td>
<td style="text-align:left">Check whether an unnecessary user can be deleted.</td>
</tr>
<tr>
<td style="text-align:left">10083</td>
<td style="text-align:left">TXN_DATABASE_LIMIT_OVER</td>
<td style="text-align:left">ERROR</td>
<td>User/DB administration operation failed.</td>
<td>Number of DB may have exceeded the limit value.</td>
<td style="text-align:left">Check whether an unnecessary DB can be deleted.</td>
</tr>
<tr>
<td style="text-align:left">10084</td>
<td style="text-align:left">TXN_CURRENT_USER_REMOVED</td>
<td style="text-align:left">ERROR</td>
<td>User/DB administration operation failed.</td>
<td>Current user may have been deleted during login.</td>
<td style="text-align:left">Check whether the administrator has deleted the general user.</td>
</tr>
<tr>
<td style="text-align:left">10085</td>
<td style="text-align:left">TXN_CURRENT_DATABASE_REMOVED</td>
<td style="text-align:left">ERROR</td>
<td>User/DB administration operation failed.</td>
<td>Current DB may have been deleted during login.</td>
<td style="text-align:left">Check whether the administrator has deleted the DB.</td>
</tr>
<tr>
<td style="text-align:left">10086</td>
<td style="text-align:left">TXN_USER_NOT_EXIST</td>
<td style="text-align:left">ERROR</td>
<td>User/DB administration operation failed.</td>
<td>User may not exist.</td>
<td style="text-align:left">Check the user name.</td>
</tr>
<tr>
<td style="text-align:left">10087</td>
<td style="text-align:left">TXN_DATABASE_NOT_EXIST</td>
<td style="text-align:left">ERROR</td>
<td>User/DB administration operation failed.</td>
<td>DB may not exist.</td>
<td style="text-align:left">Check the DB name.</td>
</tr>
<tr>
<td style="text-align:left">10088</td>
<td style="text-align:left">TXN_USER_OR_DATABASE_NOT_EXIST</td>
<td style="text-align:left">ERROR</td>
<td>User/DB administration operation failed.</td>
<td>User or DB may not exist.</td>
<td style="text-align:left">Check the user name and DB name.</td>
</tr>
<tr>
<td style="text-align:left">10090</td>
<td style="text-align:left">TXN_OTHER_PRIVILEGE_EXISTS</td>
<td style="text-align:left">ERROR</td>
<td>User/DB administration operation failed.</td>
<td>Authority may have been duplicated.</td>
<td style="text-align:left">Check the user name and DB name.</td>
</tr>
<tr>
<td style="text-align:left">10092</td>
<td style="text-align:left">TXN_AUTHENTICATION_TIMEOUT</td>
<td style="text-align:left">ERROR</td>
<td>Connection failed.</td>
<td>User authentication timeout may have occurred.</td>
<td style="text-align:left">Wait for a while before executing the command again.</td>
</tr>
<tr>
<td style="text-align:left">10093</td>
<td style="text-align:left">TXN_CONTAINER_ATTRIBUTE_UNMATCH</td>
<td style="text-align:left">ERROR</td>
<td>Container operation failed.</td>
<td>Operation rights may be insufficient.</td>
<td style="text-align:left">Check whether the operation is granted for the container or table.</td>
</tr>
<tr>
<td style="text-align:left">10094</td>
<td style="text-align:left">TXN_CONTAINER_PROPERTY_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of container failed.</td>
<td>Schema may be inconsistent.</td>
<td style="text-align:left">Check with support.</td>
</tr>
<tr>
<td style="text-align:left">10095</td>
<td style="text-align:left">TXN_INDEX_ALREADY_EXISTS</td>
<td style="text-align:left">ERROR</td>
<td>Creation of index failed.</td>
<td>Index may have been duplicated.</td>
<td style="text-align:left">Check whether the same name index exists.</td>
</tr>
<tr>
<td style="text-align:left">10096</td>
<td style="text-align:left">TXN_INDEX_NOT_FOUND</td>
<td style="text-align:left">ERROR</td>
<td>Deletion of index failed.</td>
<td>Index may not exist.</td>
<td style="text-align:left">Check whether the specified name index exists.</td>
</tr>
<tr>
<td style="text-align:left">10097</td>
<td style="text-align:left">TXN_REPLICATION_LOG_VERSION_NOT_ACCEPTABLE</td>
<td style="text-align:left">ERROR</td>
<td>Execution of replication failed.</td>
<td>Node version may be wrong.</td>
<td style="text-align:left">Check the version of each server.</td>
</tr>
<tr>
<td style="text-align:left">10099</td>
<td style="text-align:left">TXN_DATABASE_UNMATCH</td>
<td style="text-align:left">ERROR</td>
<td>Connection failed.</td>
<td>DB may have been changed.</td>
<td style="text-align:left">Check whether the administrator have deleted and recreated the DB.</td>
</tr>
<tr>
<td style="text-align:left">10100</td>
<td style="text-align:left">TXN_DB_ACCESS_INVALID</td>
<td style="text-align:left">ERROR</td>
<td><br>Execution of client request failed. <br></td>
<td>The permission may have been granted.</td>
<td style="text-align:left">Check the user name, DB name and the permission.</td>
</tr>
<tr>
<td style="text-align:left">10101</td>
<td style="text-align:left">TXN_LDAP_AUTH_FAILED</td>
<td style="text-align:left">ERROR</td>
<td><br>Authentication with the LDAP server has failed.<br></td>
<td>The user name or password may be incorrect.</td>
<td style="text-align:left">Check the user name and password.</td>
</tr>
<tr>
<td style="text-align:left">10102</td>
<td style="text-align:left">TXN_LDAP_ACCESS_FAILED</td>
<td style="text-align:left">ERROR</td>
<td><br>Connection to the LDAP server has failed.<br></td>
<td>The LDAP server settings may be incorrect.</td>
<td style="text-align:left">Check the settings pertaining to the LDAP server and the status of the server.</td>
</tr>
<tr>
<td style="text-align:left">10103</td>
<td style="text-align:left">TXN_LDAP_FAILED</td>
<td style="text-align:left">ERROR</td>
<td><br>Authentication with the LDAP server has failed.<br></td>
<td>The failure may have been caused by an incorrect operation.</td>
<td style="text-align:left">Check the LDAP settings on the server and the specification of the authentication method.</td>
</tr>
<tr>
<td style="text-align:left">10104</td>
<td style="text-align:left">TXN_LDAP_TIMEOUT</td>
<td style="text-align:left">ERROR</td>
<td><br>Authentication with the LDAP server has failed.<br></td>
<td>User authentication may have been timed out.</td>
<td style="text-align:left">Wait some time and retry the command.</td>
</tr>
<tr>
<td style="text-align:left">10900</td>
<td style="text-align:left">TXN_REPLY_CLIENT</td>
<td style="text-align:left">ERROR</td>
<td>Response to client request executed.</td>
<td></td>
<td style="text-align:left">Server event log data message.</td>
</tr>
<tr>
<td style="text-align:left">10901</td>
<td style="text-align:left">TXN_SEND_LOG</td>
<td style="text-align:left">ERROR</td>
<td>Processing of replication message executed.</td>
<td></td>
<td style="text-align:left">Server event log data message.</td>
</tr>
<tr>
<td style="text-align:left">10902</td>
<td style="text-align:left">TXN_SEND_ACK</td>
<td style="text-align:left">ERROR</td>
<td>Processing of replication message executed.</td>
<td></td>
<td style="text-align:left">Server event log data message.</td>
</tr>
<tr>
<td style="text-align:left">10903</td>
<td style="text-align:left">TXN_RECEIVE_LOG</td>
<td style="text-align:left">ERROR</td>
<td>Processing of replication event executed.</td>
<td></td>
<td style="text-align:left">Server event log data message.</td>
</tr>
<tr>
<td style="text-align:left">10904</td>
<td style="text-align:left">TXN_RECEIVE_ACK</td>
<td style="text-align:left">ERROR</td>
<td>Processing of replication event executed.</td>
<td></td>
<td style="text-align:left">Server event log data message.</td>
</tr>
<tr>
<td style="text-align:left">10905</td>
<td style="text-align:left">TXN_WAIT_FOR_TRANSACTION_END</td>
<td style="text-align:left">ERROR</td>
<td>Processing of transaction event continued to be in standby status.</td>
<td>Other transactions may be under execution.</td>
<td style="text-align:left">Multiple clients are executing transactions in the same container at the same time. Transactions on standby will be executed when the earlier transactions end.</td>
</tr>
<tr>
<td style="text-align:left">10906</td>
<td style="text-align:left">TXN_REQUEST_IGNORED</td>
<td style="text-align:left">ERROR</td>
<td>Unknown event detected by service.</td>
<td>Cluster version may be wrong.</td>
<td style="text-align:left">Check the version of each server.</td>
</tr>
<tr>
<td style="text-align:left">10908</td>
<td style="text-align:left">TXN_REPLICATION_TIMEOUT</td>
<td style="text-align:left">WARNING</td>
<td>Replication timeout detected.</td>
<td></td>
<td style="text-align:left">Check the replication timeout time setting.</td>
</tr>
<tr>
<td style="text-align:left">10909</td>
<td style="text-align:left">TXN_TRANSACTION_TIMEOUT</td>
<td style="text-align:left">WARNING</td>
<td>Transaction timeout detected.</td>
<td></td>
<td style="text-align:left">Check the transaction timeout time setting.</td>
</tr>
<tr>
<td style="text-align:left">10910</td>
<td style="text-align:left">TXN_SESSION_TIMEOUT</td>
<td style="text-align:left">WARNING</td>
<td>Transaction timeout detected.</td>
<td></td>
<td style="text-align:left">Check the transaction timeout time setting.</td>
</tr>
<tr>
<td style="text-align:left">10912</td>
<td style="text-align:left">TXN_CLUSTER_VERSION_UNMATCHED</td>
<td style="text-align:left">WARNING</td>
<td>Unknown event detected by service.</td>
<td>Cluster version may be wrong.</td>
<td style="text-align:left">Check the version of each server.</td>
</tr>
<tr>
<td style="text-align:left">10913</td>
<td style="text-align:left">TXN_AUTHENTICATION_TIMEOUT</td>
<td style="text-align:left">WARNING</td>
<td>Authentication timeout detected.</td>
<td></td>
<td style="text-align:left">Check the authentication timeout time setting.</td>
</tr>
<tr>
<td style="text-align:left">10914</td>
<td style="text-align:left">TXN_KEEPALIVE_TIMEOUT</td>
<td style="text-align:left">WARNING</td>
<td>Timeout of background processing occurs.</td>
<td></td>
<td style="text-align:left">Check whether other error events have occurred. Check with support if it occurs repeatedly.</td>
</tr>
<tr>
<td style="text-align:left">20000</td>
<td style="text-align:left">SYNC_SERVICE_START_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Startup of service failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Thread may fail to start due to insufficient memory. Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">20002</td>
<td style="text-align:left">SYNC_SERVICE_ENCODE_MESSAGE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Processing of cluster message failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Insufficient memory may be one possible reason. Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">20003</td>
<td style="text-align:left">SYNC_SERVICE_DECODE_MESSAGE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Processing of cluster message failed.</td>
<td>Cluster versions may be mismatched.</td>
<td style="text-align:left">When an error occurs due to a discrepancy error in the version, check and take the appropriate measure as the version of the message for the cluster of the node and the receiving partner node will be recorded in the event log.</td>
</tr>
<tr>
<td style="text-align:left">20012</td>
<td style="text-align:left">SYNC_PARTITION_CREATE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Startup of service failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Insufficient memory may be one possible reason. Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">20021</td>
<td style="text-align:left">SYNC_LOG_NOT_FOUND</td>
<td style="text-align:left">ERROR</td>
<td>Data synchronization of cluster failed.</td>
<td>The log file or data file required for cluster synchronization may have been deleted by a checkpoint execution.</td>
<td style="text-align:left">No countermeasure is required as the cluster will automatically detect this and continue retrying, but in this case, since the time to create the replica node will become longer, if this error event is output frequently, either set the checkpoint time longer or increase the count in /dataStore/retainedFileCount of the configuration. Check with support if the message continues to be recorded in the trace even after this countermeasure is implemented.</td>
</tr>
<tr>
<td style="text-align:left">20023</td>
<td style="text-align:left">SYNC_CHUNK_GET_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Data synchronization of cluster failed.</td>
<td>The log file or data file required for cluster synchronization may have been deleted by a checkpoint execution.</td>
<td style="text-align:left">No countermeasure is required as the cluster will automatically detect this and continue retrying, but in this case, since the time to create the replica node will become longer, if this error event is output frequently, set the checkpoint time longer. Check with support if the message continues to be recorded in the trace even after this countermeasure is implemented.</td>
</tr>
<tr>
<td style="text-align:left">20032</td>
<td style="text-align:left">SYNC_NO_CHUNK_GET_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Data synchronization of cluster failed.</td>
<td>Checkpoint may not have been executed before.</td>
<td style="text-align:left">No countermeasure is required as the cluster will automatically detect this and continue retrying but in this case, the time to create the replica node will become longer. If this event log is recorded, the data synchronization time may be brought forward by executing a forced checkpoint command against this node at this timing. Check the event log to see whether the checkpoint has been executed at least once.</td>
</tr>
<tr>
<td style="text-align:left">20034</td>
<td style="text-align:left">SYNC_CONTEXT_ALREADY_REMOVED</td>
<td style="text-align:left">ERROR</td>
<td>Data synchronization of cluster failed.</td>
<td>A new data synchronization process may have been executed during data synchronization.</td>
<td style="text-align:left">This indicates that the data synchronization process was cancelled midway but no countermeasure is required as this is not an error.</td>
</tr>
<tr>
<td style="text-align:left">20036</td>
<td style="text-align:left">SYNC_SERVICE_UNKNOWN_EVENT_TYPE</td>
<td style="text-align:left">ERROR</td>
<td>Processing of cluster message failed.</td>
<td>Cluster version may be wrong.</td>
<td style="text-align:left">Check the cluster version of each server.</td>
</tr>
<tr>
<td style="text-align:left">20037</td>
<td style="text-align:left">SYNC_CREATE_CONTEXT_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Data synchronization of cluster failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Insufficient memory may be one possible reason. Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">20039</td>
<td style="text-align:left">SYNC_OWNER_BACKUP_INVALID_RELATION</td>
<td style="text-align:left">WARNING</td>
<td>Data synchronization of cluster failed.</td>
<td></td>
<td style="text-align:left">This state may occur in a cluster but it is temporary and the cluster will continue normal operation. Check with support if it occurs repeatedly.</td>
</tr>
<tr>
<td style="text-align:left">20040</td>
<td style="text-align:left">SYNC_INVALID_CONTEXT</td>
<td style="text-align:left">WARNING</td>
<td>Data synchronization of cluster failed.</td>
<td></td>
<td style="text-align:left">This state may occur in a cluster but it is temporary and the cluster will continue normal operation. Check with support if it occurs repeatedly.</td>
</tr>
<tr>
<td style="text-align:left">20041</td>
<td style="text-align:left">SYNC_OWNER_MAX_LSN_CONSTRAINT</td>
<td style="text-align:left">ERROR</td>
<td>Partition operation failed.</td>
<td>A failure may have occurred during data synchronization.</td>
<td style="text-align:left">Access to certain partitions may be denied in order to protect data consistency when a node failure occurs.Rejoin the failed node to the cluster. If the error occurs repeatedly, restart the cluster.Check with support if the situation does not improve after this countermeasure.</td>
</tr>
<tr>
<td style="text-align:left">20042</td>
<td style="text-align:left">SYNC_OWNER_BACKUP_INVALID_LSN_CONSTRAINT</td>
<td style="text-align:left">ERROR</td>
<td>Partition operation failed.</td>
<td>Data synchronization may have failed.</td>
<td style="text-align:left">Access to certain partitions may be denied in order to protect data consistency when a node failure occurs.<br>Rejoin the failed node to the cluster. If the error occurs repeatedly, restart the cluster. Check with support if the situation does not improve after this countermeasure.</td>
</tr>
<tr>
<td style="text-align:left">20043</td>
<td style="text-align:left">SYNC_CHECK_LSN</td>
<td style="text-align:left">ERROR</td>
<td>Partition operation failed.</td>
<td>Data synchronization may have failed.</td>
<td style="text-align:left">This error may occur in a cluster when the master resynchronizes the data after detecting delay in the information transfer from the follower. The cluster will continue normal operation. Check with support if it occurs repeatedly.</td>
</tr>
<tr>
<td style="text-align:left">20900</td>
<td style="text-align:left">SYNC_HANDLER</td>
<td style="text-align:left">ERROR</td>
<td>Processing of cluster event executed.</td>
<td></td>
<td style="text-align:left">Server event log data message.</td>
</tr>
<tr>
<td style="text-align:left">20901</td>
<td style="text-align:left">SYNC_HANDLER_DETAIL</td>
<td style="text-align:left">ERROR</td>
<td>Processing of cluster event executed.</td>
<td></td>
<td style="text-align:left">Server event log data message.</td>
</tr>
<tr>
<td style="text-align:left">20902</td>
<td style="text-align:left">SYNC_OPERATION</td>
<td style="text-align:left">ERROR</td>
<td>Cluster status check executed.</td>
<td></td>
<td style="text-align:left">Server event log data message.</td>
</tr>
<tr>
<td style="text-align:left">20903</td>
<td style="text-align:left">SYNC_NORMAL</td>
<td style="text-align:left">ERROR</td>
<td>Update of cluster status detected.</td>
<td></td>
<td style="text-align:left">Server event log data message.</td>
</tr>
<tr>
<td style="text-align:left">20904</td>
<td style="text-align:left">SYNC_EVENT_SEND</td>
<td style="text-align:left">ERROR</td>
<td>Processing of cluster message executed.</td>
<td></td>
<td style="text-align:left">Server event log data message.</td>
</tr>
<tr>
<td style="text-align:left">30001</td>
<td style="text-align:left">CP_WRITE_HANDLER_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Backup or checkpoint execution failed.</td>
<td>A failure may have occurred in the storage at the data file storage location.</td>
<td style="text-align:left">Check whether there is empty space in the database file storage location, and whether a physical failure has occurred.</td>
</tr>
<tr>
<td style="text-align:left">30004</td>
<td style="text-align:left">CP_CHECKPOINT_FILE_READ_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Execution of backup or cluster data synchronization failed.</td>
<td>A failure may have occurred in the storage at the data file storage location.</td>
<td style="text-align:left">Check whether a physical failure has occurred in storing the database file storage location. For all other cases, check with support as an internal error may have occurred.</td>
</tr>
<tr>
<td style="text-align:left">30007</td>
<td style="text-align:left">CP_LOG_FILE_WRITE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Writing to log file failed.</td>
<td>A failure may have occurred in the storage at the log file storage location.</td>
<td style="text-align:left">Check whether a physical failure has occurred in storing the transaction log file storage location.</td>
</tr>
<tr>
<td style="text-align:left">30014</td>
<td style="text-align:left">CP_CONTROLLER_ILLEAGAL_STATE</td>
<td style="text-align:left">ERROR</td>
<td>Backup or checkpoint execution failed.</td>
<td>An error may have occurred in another process.</td>
<td style="text-align:left">Refer to the other traces and check whether a shutdown has been requested, or whether a system error has occurred.</td>
</tr>
<tr>
<td style="text-align:left">30022</td>
<td style="text-align:left">CP_BACKUP_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Backup execution failed.</td>
<td>Backup name may be wrong.</td>
<td style="text-align:left">Respond according to the trace error message.<br>&ldquo;BackupName is empty&rdquo;: Specify a backup name other than blank.<br>Backup name is already used: A directory with the same name as the specified backup name exists. Specify another backup name.<br>&ldquo;Failed to create backup top dir&rdquo;: Directory cannot be created for the parameter &ldquo;backupPath&rdquo;. Check whether the path name is correct and writable.<br>Failed to create backup dir: Directory with the specified backup name cannot be created. Check whether the path name is valid and writable.<br>Others: Internal error. Check with support.</td>
</tr>
<tr>
<td style="text-align:left">30024</td>
<td style="text-align:left">CP_GROUP_CHECKPOINT_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Backup or checkpoint execution failed.</td>
<td>A failure may have occurred in the storage.</td>
<td style="text-align:left">Check as detailed data may have appeared in another trace. Check whether there is any empty memory in the system, whether there is any empty space in the database file/log file/backup storage location, and whether a physical failure has occurred.</td>
</tr>
<tr>
<td style="text-align:left">30028</td>
<td style="text-align:left">CP_WRITE_CHECKPOINT_START_LOG_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Backup or checkpoint execution failed.</td>
<td>A failure may have occurred in the storage at the log file storage location.</td>
<td style="text-align:left">Check whether there is any empty memory in the system, whether there is any empty space in the transaction log storage location, and whether a physical failure has occurred. In addition, memory allocation may fail and this error may appear when there is a very high number of transactions at the checkpoint start point.</td>
</tr>
<tr>
<td style="text-align:left">30031</td>
<td style="text-align:left">CP_WRITE_CHUNK_META_DATA_LOG_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Backup or checkpoint execution failed.</td>
<td>A failure may have occurred in the storage at the log file storage location.</td>
<td style="text-align:left">Check whether there is any empty memory in the system, whether there is any empty space in the transaction log storage location, and whether a physical failure has occurred.</td>
</tr>
<tr>
<td style="text-align:left">30032</td>
<td style="text-align:left">CP_WRITE_LSN_INFO_FILE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Backup or checkpoint execution failed.</td>
<td>A failure may have occurred in the storage.</td>
<td style="text-align:left">Check whether there is any empty memory in the system, whether there is any empty space in the transaction log/backup storage location, and whether a physical failure has occurred.</td>
</tr>
<tr>
<td style="text-align:left">30900</td>
<td style="text-align:left">CP_CONTROLLER_ILLEAGAL_STATE</td>
<td style="text-align:left">ERROR</td>
<td>Backup or checkpoint execution cancelled.</td>
<td>Shutdown may have been executed already.</td>
<td style="text-align:left">After a shutdown is requested, a backup or checkpoint cannot be executed.</td>
</tr>
<tr>
<td style="text-align:left">30901</td>
<td style="text-align:left">CP_BACKUP_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Backup or checkpoint execution failed.</td>
<td>Value specified in backup storage destination may be wrong.</td>
<td style="text-align:left">Check whether the specified backup storage destination is correct.</td>
</tr>
<tr>
<td style="text-align:left">30902</td>
<td style="text-align:left">CP_STATUS</td>
<td style="text-align:left">ERROR</td>
<td>Backup or checkpoint execution started.</td>
<td></td>
<td style="text-align:left">Server event log data message.</td>
</tr>
<tr>
<td style="text-align:left">30903</td>
<td style="text-align:left">CP_CHECKPOINT_CANCELLED</td>
<td style="text-align:left">ERROR</td>
<td>Backup or checkpoint execution cancelled.</td>
<td>Shutdown may have been executed already.</td>
<td style="text-align:left">After a shutdown is requested, a backup or checkpoint cannot be executed.</td>
</tr>
<tr>
<td style="text-align:left">30904</td>
<td style="text-align:left">CP_PARAMETER_INFO</td>
<td style="text-align:left">ERROR</td>
<td>Checkpoint parameter changed.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that a change in the checkpoint-related parameter has been carried out from the WebAPI.</td>
</tr>
<tr>
<td style="text-align:left">30906</td>
<td style="text-align:left">CP_FLUSH_LOG</td>
<td style="text-align:left">ERROR</td>
<td>Writing to log file executed.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that data has been written to a log file in accordance with the set parameter.</td>
</tr>
<tr>
<td style="text-align:left">30910</td>
<td style="text-align:left">CP_PREPARE_LONG_ARCHIVE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Executing long term archive failed.</td>
<td>Parameter may be wrong.</td>
<td style="text-align:left">Check whether the WebAPI parameter is correct. Also check whether you have permission to create the specified directory.</td>
</tr>
<tr>
<td style="text-align:left">40006</td>
<td style="text-align:left">CS_SERVICE_REQUEST_GOSSIP_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Processing of cluster event failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Insufficient memory may be one possible reason. Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">40009</td>
<td style="text-align:left">CS_SERVICE_ENCODE_MESSAGE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Processing of cluster message failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Insufficient memory may be one possible reason. Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">40010</td>
<td style="text-align:left">CS_SERVICE_DECODE_MESSAGE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Processing of cluster message failed.</td>
<td>Cluster version may be wrong.</td>
<td style="text-align:left">When an error occurs due to a discrepancy error in the version, check and take the appropriate measure as the version of the message for the cluster of the node and the receiving partner node will be recorded in the event log.</td>
</tr>
<tr>
<td style="text-align:left">40028</td>
<td style="text-align:left">CS_ENCODE_DECODE_VERSION_CHECK</td>
<td style="text-align:left">ERROR</td>
<td>Processing of cluster message failed.</td>
<td>Cluster version may be wrong.</td>
<td style="text-align:left">Check and take the appropriate measure as the version of the message for the cluster of the node and the receiving partner node will be recorded in the event log.</td>
</tr>
<tr>
<td style="text-align:left">40031</td>
<td style="text-align:left">CS_REQUEST_EVENT_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Processing of cluster event failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Insufficient memory may be one possible reason. Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">40033</td>
<td style="text-align:left">CS_SERVICE_UNKNOWN_EVENT_TYPE</td>
<td style="text-align:left">ERROR</td>
<td>Processing of cluster message failed.</td>
<td>Cluster version may be wrong.</td>
<td style="text-align:left">When an error is caused by a discrepancy error in the version, check and take the appropriate measure as the version of the message for the cluster of the node and the receiving partner node will be recorded in the event log.</td>
</tr>
<tr>
<td style="text-align:left">40035</td>
<td style="text-align:left">CS_SERVICE_ENCODE_MESSAGE_PACK_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Processing of cluster message failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Insufficient memory may be one possible reason. Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">40044</td>
<td style="text-align:left">CS_CLUSTER_VERSION_UNMATCHED</td>
<td style="text-align:left">ERROR</td>
<td>Processing of cluster message failed.</td>
<td>Cluster version may be wrong.</td>
<td style="text-align:left">Check the version of each server. This event will be recorded in particular when a message is received from a cluster that is of version 1.5 or earlier.</td>
</tr>
<tr>
<td style="text-align:left">40047</td>
<td style="text-align:left">CS_CONFIG_ERROR</td>
<td style="text-align:left">ERROR</td>
<td>Startup of cluster failed.</td>
<td>Definition file setting value may be wrong.</td>
<td style="text-align:left">There is an error in the configuration file. Check the event log concerned to see if the description of the configuration file is correct.</td>
</tr>
<tr>
<td style="text-align:left">40048</td>
<td style="text-align:left">CS_PROVIDER_TIMEOUT</td>
<td style="text-align:left">ERROR</td>
<td>Cluster configuration change failed.</td>
<td>JSON response from the address provider may have failed.</td>
<td style="text-align:left">As the change in the cluster configuration could not be confirmed with the provider, the configuration data may not have been updated to the new data. In this case, the cluster configuration will be maintained in the configuration data before the failure but check whether a provider response has been provided or not.</td>
</tr>
<tr>
<td style="text-align:left">40049</td>
<td style="text-align:left">CS_ENTRY_ADDRESS_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Cluster configuration change failed.</td>
<td>JSON response from the address provider may be wrong.</td>
<td style="text-align:left">Cluster configuration was not changed as there is a contradiction in the cluster configuration data returned from the provider. Check whether there are any mistakes in the list of cluster configuration addresses returned by the provider.</td>
</tr>
<tr>
<td style="text-align:left">40051</td>
<td style="text-align:left">CS_MAX_PARTITION_REIVISION</td>
<td style="text-align:left">ERROR</td>
<td>Cluster configuration change failed.</td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">40052</td>
<td style="text-align:left">CS_PARTITION_OWNER_NOT_ASSGIN</td>
<td style="text-align:left">WARNING</td>
<td>Cluster configuration change failed.</td>
<td>A failure may have occurred in the cluster.</td>
<td style="text-align:left">The owner partition can not be determined due to the failure in the node with the latest information. Restore the failed node or execute the recovery command.</td>
</tr>
<tr>
<td style="text-align:left">40900</td>
<td style="text-align:left">CS_CLUSTER_STATUS</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of cluster configuration data successful.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that cluster configuration data is obtained from the WebAPI.</td>
</tr>
<tr>
<td style="text-align:left">40901</td>
<td style="text-align:left">CS_UPDATE_START_LSN</td>
<td style="text-align:left">ERROR</td>
<td>Status check of log file executed.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that a check of the log file status has been conducted together with the checkpoint execution.</td>
</tr>
<tr>
<td style="text-align:left">40902</td>
<td style="text-align:left">CS_HANDLER</td>
<td style="text-align:left">ERROR</td>
<td>Processing of cluster event executed.</td>
<td></td>
<td style="text-align:left">Event log data message related to cluster processing.</td>
</tr>
<tr>
<td style="text-align:left">40903</td>
<td style="text-align:left">CS_HANDLER_DETAIL</td>
<td style="text-align:left">ERROR</td>
<td>Processing of cluster event executed.</td>
<td></td>
<td style="text-align:left">Event log data message related to cluster processing.</td>
</tr>
<tr>
<td style="text-align:left">40904</td>
<td style="text-align:left">CS_OPERATION</td>
<td style="text-align:left">ERROR</td>
<td>Cluster status check executed.</td>
<td></td>
<td style="text-align:left">Event log data message related to cluster processing.</td>
</tr>
<tr>
<td style="text-align:left">40905</td>
<td style="text-align:left">CS_NORMAL</td>
<td style="text-align:left">ERROR</td>
<td>Update of cluster status detected.</td>
<td></td>
<td style="text-align:left">Event log data message related to cluster processing.</td>
</tr>
<tr>
<td style="text-align:left">40906</td>
<td style="text-align:left">CS_NORMAL_OPERATION</td>
<td style="text-align:left">ERROR</td>
<td>Update of cluster status detected.</td>
<td></td>
<td style="text-align:left">Event log data message related to cluster processing.</td>
</tr>
<tr>
<td style="text-align:left">40907</td>
<td style="text-align:left">CS_EVENT_SEND</td>
<td style="text-align:left">ERROR</td>
<td>Processing of cluster message executed.</td>
<td></td>
<td style="text-align:left">Event log data message related to cluster processing.</td>
</tr>
<tr>
<td style="text-align:left">50009</td>
<td style="text-align:left">SC_DECREASE_CLUSTER_PRECHECK_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Execution of WebAPI failed.</td>
<td>A node which can leave a cluster without data being lost may not exist.</td>
<td style="text-align:left">Execute a get partition command toward the master node in the cluster and check that the number of replicas is 1 or more for all partitions. If you want to permit the data lost and perform an immediate cluster degradation, determine directly the nodes in the cluster to be detached, and specify the gs_leavecluster command forced option to execute the detachment. In this case, client service will be stopped for the partition which lost data.</td>
</tr>
<tr>
<td style="text-align:left">50019</td>
<td style="text-align:left">SC_LEAVE_NOT_SAFETY_NODE</td>
<td style="text-align:left">ERROR</td>
<td>Execution of WebAPI failed.</td>
<td>Data may be lost due to a node leaving the cluster.</td>
<td style="text-align:left">If you want to permit the data lost and perform an immediate cluster degradation, determine directly the nodes in the cluster to be detached, and specify the gs_leavecluster command forced option to execute the detachment. In this case, client service will be stopped for the partition which lost data.</td>
</tr>
<tr>
<td style="text-align:left">50020</td>
<td style="text-align:left">SC_ARCHIVE_LOG_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Execution of WebAPI failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check the relevant event log and take the appropriate measure according to the error message indicated.</td>
</tr>
<tr>
<td style="text-align:left">50021</td>
<td style="text-align:left">SC_TOO_LARGE_REQUEST</td>
<td style="text-align:left">ERROR</td>
<td>Execution of WebAPI failed.</td>
<td>Limit value of Web request size may have been exceeded.</td>
<td style="text-align:left">Check the relevant event log and take the appropriate measure according to the error message indicated.</td>
</tr>
<tr>
<td style="text-align:left">50022</td>
<td style="text-align:left">SC_GOAL_DUPLICATE_PARTITION</td>
<td style="text-align:left">ERROR</td>
<td>Execution of WebAPI failed.</td>
<td>WebAPI parameter may be wrong.</td>
<td style="text-align:left">Check the relevant event log and take the appropriate measure according to the error message indicated.</td>
</tr>
<tr>
<td style="text-align:left">50023</td>
<td style="text-align:left">SC_GOAL_NOT_OWNER</td>
<td style="text-align:left">ERROR</td>
<td>Execution of WebAPI failed.</td>
<td>WebAPI parameter may be wrong.</td>
<td style="text-align:left">Check the relevant event log and take the appropriate measure according to the error message indicated.</td>
</tr>
<tr>
<td style="text-align:left">50024</td>
<td style="text-align:left">SC_GOAL_RESOLVE_NODE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Execution of WebAPI failed.</td>
<td>WebAPI parameter may be wrong.</td>
<td style="text-align:left">Check the relevant event log and take the appropriate measure according to the error message indicated.</td>
</tr>
<tr>
<td style="text-align:left">50025</td>
<td style="text-align:left">SC_GOAL_NOT_CLUSTERED_NODE</td>
<td style="text-align:left">ERROR</td>
<td>Execution of WebAPI failed.</td>
<td>WebAPI parameter may be wrong.</td>
<td style="text-align:left">Check the relevant event log and take the appropriate measure according to the error message indicated.</td>
</tr>
<tr>
<td style="text-align:left">50026</td>
<td style="text-align:left">SC_GOAL_INVALID_FORMAT</td>
<td style="text-align:left">ERROR</td>
<td>Execution of WebAPI failed.</td>
<td>WebAPI parameter may be wrong.</td>
<td style="text-align:left">Check the relevant event log and take the appropriate measure according to the error message indicated.</td>
</tr>
<tr>
<td style="text-align:left">50900</td>
<td style="text-align:left">SC_EVENT_LOG_STARTED</td>
<td style="text-align:left">ERROR</td>
<td>Generation of event log file successful.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that a new event log file has been created.</td>
</tr>
<tr>
<td style="text-align:left">50901</td>
<td style="text-align:left">SC_UNEXPECTED_SHUTDOWN_DETECTED</td>
<td style="text-align:left">ERROR</td>
<td>Error detected in node status.</td>
<td>Node might not have been shut down normally.</td>
<td style="text-align:left">Event log data message indicating that the last shutdown was not carried out normally.</td>
</tr>
<tr>
<td style="text-align:left">50902</td>
<td style="text-align:left">SC_SERVICE_STARTED</td>
<td style="text-align:left">INFO</td>
<td>Startup of service successful.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that a server has been started.</td>
</tr>
<tr>
<td style="text-align:left">50903</td>
<td style="text-align:left">SC_WEB_API_CALLED</td>
<td style="text-align:left">INFO</td>
<td>WebAPI executed.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that a WebAPI has been executed.</td>
</tr>
<tr>
<td style="text-align:left">50904</td>
<td style="text-align:left">SC_WEB_API_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Execution of WebAPI failed.</td>
<td>WebAPI parameters may be wrong.</td>
<td style="text-align:left">Check the WebAPI parameter is correct.</td>
</tr>
<tr>
<td style="text-align:left">50905</td>
<td style="text-align:left">SC_BAD_REQUEST</td>
<td style="text-align:left">WARNING</td>
<td>Execution of WebAPI failed.</td>
<td>WebAPI parameters may be wrong.</td>
<td style="text-align:left">Check the WebAPI parameter is correct.</td>
</tr>
<tr>
<td style="text-align:left">50906</td>
<td style="text-align:left">SC_BAD_STATUS</td>
<td style="text-align:left">INFO</td>
<td>Execution of WebAPI failed.</td>
<td>Node may not be a master node.</td>
<td style="text-align:left">Check whether the node requested for the execution of the WebAPI is a master node.</td>
</tr>
<tr>
<td style="text-align:left">50907</td>
<td style="text-align:left">SC_CONFIG_UPDATED</td>
<td style="text-align:left">INFO</td>
<td>Parameters changed.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that a change in the parameter has been carried out from the WebAPI.</td>
</tr>
<tr>
<td style="text-align:left">50908</td>
<td style="text-align:left">SC_EVENT_LOG_UPDATED</td>
<td style="text-align:left">INFO</td>
<td>Event log output level changed.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that a change in the event log output level has been carried out from the WebAPI.</td>
</tr>
<tr>
<td style="text-align:left">50909</td>
<td style="text-align:left">SC_ARCHIVE_LOG_MODE_ENABLED</td>
<td style="text-align:left">INFO</td>
<td>Log archive mode set.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that the log archive mode has been changed from the WebAPI.</td>
</tr>
<tr>
<td style="text-align:left">50910</td>
<td style="text-align:left">SC_ARCHIVE_LOG_START</td>
<td style="text-align:left">INFO</td>
<td>Log archive mode started.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that the log archive mode has been changed from the WebAPI.</td>
</tr>
<tr>
<td style="text-align:left">50911</td>
<td style="text-align:left">SC_ARCHIVE_LOG_END</td>
<td style="text-align:left">INFO</td>
<td>Log archive mode terminated.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that the log archive mode has been changed from the WebAPI.</td>
</tr>
<tr>
<td style="text-align:left">50912</td>
<td style="text-align:left">SC_TRACE_STATS</td>
<td style="text-align:left">INFO</td>
<td>Acquisition of node statistical data successful.</td>
<td></td>
<td style="text-align:left">Event log data message showing the node statistical data.</td>
</tr>
<tr>
<td style="text-align:left">50913</td>
<td style="text-align:left">SC_FORCE_SHUTDOWN</td>
<td style="text-align:left">WARNING</td>
<td>A forced shutdown of node was executed.</td>
<td>Node may be ABNORMAL status.</td>
<td style="text-align:left">This is an event log message to show the followings.  When a normal shutdown was requested, the node was ABNORMAL status so that a forced shutdown was executed.</td>
</tr>
<tr>
<td style="text-align:left">60015</td>
<td style="text-align:left">DS_DS_SCHEMA_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Schema check failed.</td>
<td>Schema settings may be wrong.</td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60016</td>
<td style="text-align:left">DS_DS_CHANGE_SCHEMA_DISABLE</td>
<td style="text-align:left">ERROR</td>
<td>Schema change failed.</td>
<td>Valid flag of schema revision specified in the container registration or update operation may be wrong.</td>
<td style="text-align:left">When changing the schema:<br>Set the input modifiable to true.<br>If a schema change has not been attempted:<br>Check whether the schema used in the operation is correct.<br>Check whether the versions of the server and client are the same.</td>
</tr>
<tr>
<td style="text-align:left">60017</td>
<td style="text-align:left">DS_DS_CHANGE_COLLECTION_SCHEMA_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Schema change failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60018</td>
<td style="text-align:left">DS_DS_CREATE_COLLECTION_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Generation of container failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60019</td>
<td style="text-align:left">DS_DS_DROP_COLLECTION_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Deletion of container failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60020</td>
<td style="text-align:left">DS_DS_GET_COLLECTION_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of container failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60024</td>
<td style="text-align:left">DS_DS_CHANGE_TIME_SERIES_SCHEMA_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Schema change failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60025</td>
<td style="text-align:left">DS_DS_CONTAINER_NAME_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of container failed.</td>
<td>Container name may be wrong.</td>
<td style="text-align:left">Check the specified container name. Constraint may be violated.</td>
</tr>
<tr>
<td style="text-align:left">60026</td>
<td style="text-align:left">DS_DS_CONTAINER_TYPE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of container failed.</td>
<td>Container type may be wrong.</td>
<td style="text-align:left">Check the specified container type.</td>
</tr>
<tr>
<td style="text-align:left">60027</td>
<td style="text-align:left">DS_DS_PARAMETER_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Startup of service failed.</td>
<td>Definition file setting value may be wrong.</td>
<td style="text-align:left">Check the contents of the definition file.</td>
</tr>
<tr>
<td style="text-align:left">60042</td>
<td style="text-align:left">DS_COL_INDEXINFO_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>TQL execution failed.</td>
<td>Index may be inconsistent.</td>
<td style="text-align:left">When executing a TQL, deletion of index was detected. Reexecute the query.</td>
</tr>
<tr>
<td style="text-align:left">60043</td>
<td style="text-align:left">DS_COL_CREATE_INDEX_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Registration of index failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60044</td>
<td style="text-align:left">DS_COL_DROP_INDEX_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Deletion of index failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60045</td>
<td style="text-align:left">DS_COL_GET_COLINFO_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of schema failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60047</td>
<td style="text-align:left">DS_COL_PUT_ROW_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Registration of row failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60048</td>
<td style="text-align:left">DS_COL_PUT_ROWLIST_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Registration of row set failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60049</td>
<td style="text-align:left">DS_COL_ROWKEY_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Row key check failed.</td>
<td>Row key setting in row registration, update, deletion, and search operation may be wrong.</td>
<td style="text-align:left">When deleting a row with a string-type row key: String size of the input row key exceeds the upper limit. Check the input.<br>When deleting a row with a time-type row key: Input row key time is out of range. Check the input.<br>For row update: Value of row key differs between the row data of the source and the row data of the input. Check with support.<br>For MultiGet: Data type of the row key specified in the argument differs from the data type of the row key of the actual container. Check the input.</td>
</tr>
<tr>
<td style="text-align:left">60050</td>
<td style="text-align:left">DS_COL_ROWKEY_UNDEFINED</td>
<td style="text-align:left">ERROR</td>
<td>Row key check failed.</td>
<td>Row key setting in row registration, update, deletion, and search operation may not be set.</td>
<td style="text-align:left">Row key has not been defined in the specified container. Check the schema definition.</td>
</tr>
<tr>
<td style="text-align:left">60052</td>
<td style="text-align:left">DS_COL_DELETE_ROW_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Deletion of row failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60053</td>
<td style="text-align:left">DS_COL_UPDATE_ROW_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Update of row failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60054</td>
<td style="text-align:left">DS_COL_LOCK_CONFLICT</td>
<td style="text-align:left">ERROR</td>
<td>Row lock failed.</td>
<td>Competing row locks may have occurred.</td>
<td style="text-align:left">Check the update operation. Wait for a while before performing the update operation.</td>
</tr>
<tr>
<td style="text-align:left">60055</td>
<td style="text-align:left">DS_COL_NOLOCK</td>
<td style="text-align:left">ERROR</td>
<td>Row status check failed.</td>
<td>A row lock may not have been executed.</td>
<td style="text-align:left">Set the fetch() methods input forUpdate to true and perform an update operation after executing a search.</td>
</tr>
<tr>
<td style="text-align:left">60056</td>
<td style="text-align:left">DS_COL_COMMIT_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Commit transaction failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60057</td>
<td style="text-align:left">DS_COL_ABORT_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Abort transaction failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60061</td>
<td style="text-align:left">DS_TIM_CREATE_INDEX_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Registration of index failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60062</td>
<td style="text-align:left">DS_TIM_DROP_INDEX_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Deletion of index failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60064</td>
<td style="text-align:left">DS_TIM_LOCK_CONFLICT</td>
<td style="text-align:left">ERROR</td>
<td>Row lock failed.</td>
<td>Competing row locks may have occurred.</td>
<td style="text-align:left">Check the update operation. Wait for a while before performing the update operation.</td>
</tr>
<tr>
<td style="text-align:left">60065</td>
<td style="text-align:left">DS_TIM_APPEND_ROW_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Registration of row failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60068</td>
<td style="text-align:left">DS_TIM_DELETE_ROW_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Deletion of row failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60069</td>
<td style="text-align:left">DS_TIM_COMMIT_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Commit transaction failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60070</td>
<td style="text-align:left">DS_TIM_ABORT_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Abort transaction failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60074</td>
<td style="text-align:left">DS_TIM_SAMPLING_TIME_UNIT_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Sampling of time series container failed.</td>
<td>Unit of the time interval specified in the sampling operation may not be supported.</td>
<td style="text-align:left">Specify the sampling requirement time in a unit that is not year or month.</td>
</tr>
<tr>
<td style="text-align:left">60075</td>
<td style="text-align:left">DS_TIM_INTERPOLATED_COLUMN_TYPE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Sampling of time series container failed.</td>
<td>Data type of the column applying the interpolation specified in the sampling operation may not be supported.</td>
<td style="text-align:left">Check the column name to correct.</td>
</tr>
<tr>
<td style="text-align:left">60076</td>
<td style="text-align:left">DS_TIM_INTERPOLATED_COLUMN_IDLIST_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Sampling of time series container failed.</td>
<td>Interpolation method setting specified in the sampling operation may be wrong.</td>
<td style="text-align:left">When using a sampling without correction:<br>Do not specify anything in the column name list (columnSet) subject to correction.<br>When using a sampling with correction:<br>Check the value of the correction method (mode). Specify LINEAR_OR_PREVIOUS.</td>
</tr>
<tr>
<td style="text-align:left">60079</td>
<td style="text-align:left">DS_TIM_ROW_DATA_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Registration of row failed.</td>
<td>Value of column in row specified for row registration, update or delete operation may have exceeded the limit value.</td>
<td style="text-align:left">Check whether the schema used in the operation is correct.<br>Check whether the versions of the server and client are the same.<br>Check whether the number and size below have exceeded the upper limit or range.<br>Number of array elements<br>Size of string, spatial, or BLOB data<br>Time value</td>
</tr>
<tr>
<td style="text-align:left">60081</td>
<td style="text-align:left">DS_TIM_CREATEINDEX_ON_ROWKEY</td>
<td style="text-align:left">ERROR</td>
<td>Registration of index failed.</td>
<td>Column name specified in the index registration, deletion operation may be wrong.</td>
<td style="text-align:left">Index cannot be set for the row key of a time series. Check the column name specified in the index setting.</td>
</tr>
<tr>
<td style="text-align:left">60084</td>
<td style="text-align:left">DS_TIM_INVALID_SCHEMA_OPTION</td>
<td style="text-align:left">ERROR</td>
<td>Schema change failed.</td>
<td>Container option specified in the container registration, update operation may be wrong.</td>
<td style="text-align:left">Check the configuration data related to the deadline release and compression used in the operation.<br>Check whether the versions of the server and client are the same.</td>
</tr>
<tr>
<td style="text-align:left">60086</td>
<td style="text-align:left">DS_TIM_UPDATE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Row operation failed.</td>
<td>Row registration, update and deletion may not be supported as operations in a time series container set to be compressed.</td>
<td style="text-align:left">Check the time of the operation and data.</td>
</tr>
<tr>
<td style="text-align:left">60098</td>
<td style="text-align:left">DS_TYPE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Container operation failed.</td>
<td>Data type of the column applying the interpolation specified in the sampling operation may not be supported.</td>
<td style="text-align:left">Check the data type of the column specified as a interpolation target when an error occurs in the TQL sampling search. Check with support for all other inquiries.</td>
</tr>
<tr>
<td style="text-align:left">60099</td>
<td style="text-align:left">DS_KEY_RANGE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Sampling of time series container failed.</td>
<td>Value of search key specified in the search operation may have exceeded the limit value.</td>
<td style="text-align:left">Check the start time and end time. Specify the value.<br>Check whether the time of the data has exceeded the range.</td>
</tr>
<tr>
<td style="text-align:left">60100</td>
<td style="text-align:left">DS_AGGREGATED_COLUMN_TYPE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Consolidated processing of time series container failed.</td>
<td>Column settings may be wrong.</td>
<td style="text-align:left">Check the specified column name and its data type.</td>
</tr>
<tr>
<td style="text-align:left">60101</td>
<td style="text-align:left">DS_FILTERING_CONDITION_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Sampling of time series container failed.</td>
<td>Search condition settings may be wrong.</td>
<td style="text-align:left">Remove the filter conditions specified.</td>
</tr>
<tr>
<td style="text-align:left">60102</td>
<td style="text-align:left">DS_COLUMN_ID_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Container operation failed.</td>
<td>Column name specified in container operation may be wrong.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">60109</td>
<td style="text-align:left">DS_DS_GET_CONTAINER_LIST_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of container list failed.</td>
<td>The value specifed in container list acquisition operation may be wrong.</td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60121</td>
<td style="text-align:left">DS_COL_GET_INDEX_INFO_LIST_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of index failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60132</td>
<td style="text-align:left">DS_DS_RESULT_ID_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of row failed.</td>
<td>Timeout may have occurred.</td>
<td style="text-align:left">Set a longer client transaction timeout time.<br>Example) When the transaction timeout time is set to 60 seconds<br>Properties prop;<br>prop.setProperty(&ldquo;transactionTimeout&rdquo;, &ldquo;60&rdquo;);<br>GridStoreFactory.getInstance().setProperty(prop);<br>GridStore store = GridStoreFactory.getGridStore(prop);</td>
</tr>
<tr>
<td style="text-align:left">60133</td>
<td style="text-align:left">DS_FETCH_START_POS_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of row failed.</td>
<td>Cursor position specified in searching operation may be wrong.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">60134</td>
<td style="text-align:left">DS_PUT_TRIGGER_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Registration of trigger failed.</td>
<td></td>
<td style="text-align:left">Check if there is sufficient memory space in the system. Check with support if there is sufficient memory.</td>
</tr>
<tr>
<td style="text-align:left">60135</td>
<td style="text-align:left">DS_UPDATE_TRIGGER_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Update of trigger failed.</td>
<td></td>
<td style="text-align:left">Check if there is sufficient memory space in the system. Check with support if there is sufficient memory.</td>
</tr>
<tr>
<td style="text-align:left">60136</td>
<td style="text-align:left">DS_DELETE_TRIGGER_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Deletion of trigger failed.</td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">60137</td>
<td style="text-align:left">DS_GET_TRIGGER_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of trigger failed.</td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">60141</td>
<td style="text-align:left">DS_COL_GET_LOCK_ID_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Row lock failed.</td>
<td></td>
<td style="text-align:left">Check other error logs first, if any.</td>
</tr>
<tr>
<td style="text-align:left">60142</td>
<td style="text-align:left">DS_TIM_GET_LOCK_ID_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Row lock failed.</td>
<td></td>
<td style="text-align:left">Check other error logs first, if any.</td>
</tr>
<tr>
<td style="text-align:left">60144</td>
<td style="text-align:left">DS_CON_GET_ROW_ID_LIST_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of row failed.</td>
<td></td>
<td style="text-align:left">Check other error logs first, if any.</td>
</tr>
<tr>
<td style="text-align:left">60145</td>
<td style="text-align:left">DS_CON_GET_OID_LIST_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of row failed.</td>
<td></td>
<td style="text-align:left">Check other error logs first, if any.</td>
</tr>
<tr>
<td style="text-align:left">60147</td>
<td style="text-align:left">DS_CON_GET_ROW_LIST_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of row failed.</td>
<td></td>
<td style="text-align:left">Check other error logs first, if any.</td>
</tr>
<tr>
<td style="text-align:left">60149</td>
<td style="text-align:left">DS_DS_SCHEMA_CHANGE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Schema change failed.</td>
<td>Schema specified in the container registration, update operation may be wrong.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">60149</td>
<td style="text-align:left">DS_DS_SCHEMA_CHANGE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Schema change failed.</td>
<td>Schema settings may be wrong.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">60150</td>
<td style="text-align:left">DS_TIM_UPDATE_ROW_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Update of row failed.</td>
<td></td>
<td style="text-align:left">Check other error logs first, if any.</td>
</tr>
<tr>
<td style="text-align:left">60151</td>
<td style="text-align:left">DS_CON_STATUS_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Container operation failed.</td>
<td>Container data may be corrupted.</td>
<td style="text-align:left">Check with support.<br>A non-conforming status has been detected in the data in a specific container. Although service is continued, the container concerned cannot be updated subsequently. Search result may become invalid as well.</td>
</tr>
<tr>
<td style="text-align:left">60153</td>
<td style="text-align:left">DS_CON_ACCESS_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Container operation failed.</td>
<td>Container operation may be wrong.</td>
<td style="text-align:left">Check the DB name, container name, container attribute type.</td>
</tr>
<tr>
<td style="text-align:left">60154</td>
<td style="text-align:left">CON_PUT_ROW_OPTION_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Row operation failed.</td>
<td>Container registration or update operation may be wrong.</td>
<td style="text-align:left">Constraint is violated. Check the row operation constraints. For example, there may already be a row has same key when using INSERT or there may not be a row has specified key when using UPDATE.</td>
</tr>
<tr>
<td style="text-align:left">60155</td>
<td style="text-align:left">DS_FETCH_PARAMETER_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>TQL operation failed.</td>
<td>Search condition settings may be wrong.</td>
<td style="text-align:left">Set a fetch size setting of 1 or more in the fetch option.</td>
</tr>
<tr>
<td style="text-align:left">60157</td>
<td style="text-align:left">DS_CONTAINER_UNEXPECTEDLY_REMOVED</td>
<td style="text-align:left">ERROR</td>
<td>Deletion of container executed.</td>
<td>Container may not exist.</td>
<td style="text-align:left">Reacquire the container by name.</td>
</tr>
<tr>
<td style="text-align:left">60159</td>
<td style="text-align:left">DS_INPUT_MESSAGE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Row operation failed.</td>
<td>Data may be broken by registering, deleting, or searching row.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">60160</td>
<td style="text-align:left">DS_BACKGROUND_TASK_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Background event processing was executed.</td>
<td></td>
<td style="text-align:left">This is a server event log message.</td>
</tr>
<tr>
<td style="text-align:left">60161</td>
<td style="text-align:left">DS_DS_CONTAINER_EXPIRED</td>
<td style="text-align:left">INFO</td>
<td>Reading expired table partition detected.</td>
<td></td>
<td style="text-align:left">This is a server event log message.</td>
</tr>
<tr>
<td style="text-align:left">60163</td>
<td style="text-align:left">DS_DS_ARCHIVE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Writing long archive failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">60164</td>
<td style="text-align:left">DS_DS_ARCHIVE_INFO</td>
<td style="text-align:left">ERROR</td>
<td>Generation of long archive started.</td>
<td></td>
<td style="text-align:left">Event log data message related to long arcchive processing.</td>
</tr>
<tr>
<td style="text-align:left">60165</td>
<td style="text-align:left">DS_DS_DROP_CONTAINER_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Failed in deleting a container.</td>
<td></td>
<td style="text-align:left">Check the error message output section for the descriptions and workarounds for the circumstances under which error codes that are output besides this error code occur.</td>
</tr>
<tr>
<td style="text-align:left">60166</td>
<td style="text-align:left">DS_CON_LOCK_CONFLICT</td>
<td style="text-align:left">ERROR</td>
<td>Failed in locking a row.</td>
<td></td>
<td style="text-align:left">Check the update operation. Wait for a while before performing the update operation.</td>
</tr>
<tr>
<td style="text-align:left">60167</td>
<td style="text-align:left">DS_CON_CREATE_INDEX_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Failed in creating an index.</td>
<td></td>
<td style="text-align:left">Check the error message output section for the descriptions and workarounds for the circumstances under which error codes that are output besides this error code occur.</td>
</tr>
<tr>
<td style="text-align:left">60168</td>
<td style="text-align:left">DS_CON_DROP_INDEX_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Failed in deleting an index.</td>
<td></td>
<td style="text-align:left">Check the error message output section for the descriptions and workarounds for the circumstances under which error codes that are output besides this error code occur.</td>
</tr>
<tr>
<td style="text-align:left">60169</td>
<td style="text-align:left">DS_CON_DELETE_ROW_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Failed in deleting a row.</td>
<td></td>
<td style="text-align:left">Check other error logs first, if any.</td>
</tr>
<tr>
<td style="text-align:left">60170</td>
<td style="text-align:left">DS_CON_UPDATE_ROW_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Failed in updating a row.</td>
<td></td>
<td style="text-align:left">Check other error logs first, if any.</td>
</tr>
<tr>
<td style="text-align:left">60171</td>
<td style="text-align:left">DS_CON_ABORT_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Failed in aborting a transaction.</td>
<td></td>
<td style="text-align:left">Check the error message output section for the descriptions and workarounds for the circumstances under which error codes that are output besides this error code occur.</td>
</tr>
<tr>
<td style="text-align:left">60172</td>
<td style="text-align:left">DS_CON_COMMIT_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Failed in committing a transaction.</td>
<td></td>
<td style="text-align:left">Check the error message output section for the descriptions and workarounds for the circumstances under which error codes that are output besides this error code occur.</td>
</tr>
<tr>
<td style="text-align:left">60173</td>
<td style="text-align:left">DS_CON_GET_LOCK_ID_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Failed in locking a row.</td>
<td></td>
<td style="text-align:left">Check other error logs first, if any.</td>
</tr>
<tr>
<td style="text-align:left">60900</td>
<td style="text-align:left">DS_DS_CREATE_CONTAINER</td>
<td style="text-align:left">ERROR</td>
<td>Generation of container executed.</td>
<td></td>
<td style="text-align:left">Event log data message related to data processing.</td>
</tr>
<tr>
<td style="text-align:left">60901</td>
<td style="text-align:left">DS_DS_UPDATE_CONTAINER</td>
<td style="text-align:left">ERROR</td>
<td>Update of container executed.</td>
<td></td>
<td style="text-align:left">Event log data message related to data processing.</td>
</tr>
<tr>
<td style="text-align:left">60902</td>
<td style="text-align:left">DS_DS_DROP_CONTAINER</td>
<td style="text-align:left">ERROR</td>
<td>Deletion of container executed.</td>
<td></td>
<td style="text-align:left">Event log data message related to data processing.</td>
</tr>
<tr>
<td style="text-align:left">60903</td>
<td style="text-align:left">DS_DS_DROP_PARTITION</td>
<td style="text-align:left">ERROR</td>
<td>Deletion of partition executed.</td>
<td></td>
<td style="text-align:left">Event log data message related to data processing.</td>
</tr>
<tr>
<td style="text-align:left">60904</td>
<td style="text-align:left">DS_DS_CONTAINER_ID_TABLE_STATUS</td>
<td style="text-align:left">ERROR</td>
<td>Update of container list executed.</td>
<td></td>
<td style="text-align:left">Event log data message related to data processing.</td>
</tr>
<tr>
<td style="text-align:left">60906</td>
<td style="text-align:left">DS_CON_DATA_AFFINITY_DEFINED</td>
<td style="text-align:left">ERROR</td>
<td>Data affinity set in container.</td>
<td></td>
<td style="text-align:left">Event log data message related to data processing.</td>
</tr>
<tr>
<td style="text-align:left">60907</td>
<td style="text-align:left">DS_CON_CREATE_INDEX</td>
<td style="text-align:left">ERROR</td>
<td>Index set in container.</td>
<td></td>
<td style="text-align:left">Event log data message related to data processing.</td>
</tr>
<tr>
<td style="text-align:left">60908</td>
<td style="text-align:left">DS_CON_DROP_INDEX</td>
<td style="text-align:left">ERROR</td>
<td>Container index deleted.</td>
<td></td>
<td style="text-align:left">Event log data message related to data processing.</td>
</tr>
<tr>
<td style="text-align:left">60909</td>
<td style="text-align:left">DS_CON_CREATE_TRIGGER</td>
<td style="text-align:left">ERROR</td>
<td>Trigger set in container</td>
<td></td>
<td style="text-align:left">Event log data message related to data processing.</td>
</tr>
<tr>
<td style="text-align:left">60910</td>
<td style="text-align:left">DS_CON_UPDATE_TRIGGER</td>
<td style="text-align:left">ERROR</td>
<td>Container trigger changed.</td>
<td></td>
<td style="text-align:left">Event log data message related to data processing.</td>
</tr>
<tr>
<td style="text-align:left">60911</td>
<td style="text-align:left">DS_TIM_COMPRESSION_INVALID_WARNING</td>
<td style="text-align:left">ERROR</td>
<td>Update of row failed.</td>
<td>Row registration, update and deletion may not be supported as operations in a time series container set to be compressed.</td>
<td style="text-align:left">Registration of rows at an earlier time and update/deletion of rows already registered is not possible for a time series container set for compression.</td>
</tr>
<tr>
<td style="text-align:left">60912</td>
<td style="text-align:left">DS_HASH_CHANGE_STATUS</td>
<td style="text-align:left">ERROR</td>
<td>Update of index executed.</td>
<td></td>
<td style="text-align:left">Event log data message related to data processing.</td>
</tr>
<tr>
<td style="text-align:left">60913</td>
<td style="text-align:left">DS_DS_CHANGE_STATUS</td>
<td style="text-align:left">ERROR</td>
<td>Store parameter changed.</td>
<td></td>
<td style="text-align:left">Event log data message related to data processing.</td>
</tr>
<tr>
<td style="text-align:left">65006</td>
<td style="text-align:left">VC_INVALID_CREATE_CONTAINER_SCHEMA</td>
<td style="text-align:left">ERROR</td>
<td>Creating virtual table failed.</td>
<td>Schema definition may be wrong.</td>
<td style="text-align:left">Virtual table that stores vector data must have one or more BLOB type columns. In addition, only one virtual column that stores distances for vector search can be specified.</td>
</tr>
<tr>
<td style="text-align:left">65007</td>
<td style="text-align:left">VC_INVALID_CREATE_INDEX_PARAMS</td>
<td style="text-align:left">ERROR</td>
<td>Creating vector index failed.</td>
<td>Parameter may be wrong.</td>
<td style="text-align:left">Check the parameter of vector index creation.</td>
</tr>
<tr>
<td style="text-align:left">65008</td>
<td style="text-align:left">VC_INVALID_SEARCH_PARAMS</td>
<td style="text-align:left">ERROR</td>
<td>Execution of vector search failed.</td>
<td>Parameter may be wrong.</td>
<td style="text-align:left">Check the vector search parameter and search vector.</td>
</tr>
<tr>
<td style="text-align:left">65012</td>
<td style="text-align:left">VC_INVALID_ROW_FIELD</td>
<td style="text-align:left">ERROR</td>
<td>Checking vector data failed.</td>
<td>The number of dimensions of vector data may not match that of the index.</td>
<td style="text-align:left">When assigning an index using LSH, check whether the number of dimensions of vector data when LSH is created matches that of vector data stored in table. When assigning an index that does not use LSH, check whether the number of dimensions of vector data to be stored matches the dimension number of already stored vector data.</td>
</tr>
<tr>
<td style="text-align:left">65015</td>
<td style="text-align:left">VC_CHANGE_PARAMETER_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Execution of WebAPI failed.</td>
<td>WebAPI parameter may be wrong.</td>
<td style="text-align:left">Check the specified parameter of parameter changing  for vector operation.</td>
</tr>
<tr>
<td style="text-align:left">65900</td>
<td style="text-align:left">VC_PLUGIN_INFO</td>
<td style="text-align:left">ERROR</td>
<td>Virtual table operation executed.</td>
<td></td>
<td style="text-align:left">Event log data message related to vector processing.</td>
</tr>
<tr>
<td style="text-align:left">65901</td>
<td style="text-align:left">VC_PLUGIN_CREATE_INDEX</td>
<td style="text-align:left">ERROR</td>
<td>Creating vector index executed.</td>
<td></td>
<td style="text-align:left">Event log data message related to vector processing.</td>
</tr>
<tr>
<td style="text-align:left">65902</td>
<td style="text-align:left">VC_PLUGIN_OPEN</td>
<td style="text-align:left">ERROR</td>
<td>Opening vector index executed.</td>
<td></td>
<td style="text-align:left">Event log data message related to vector processing.</td>
</tr>
<tr>
<td style="text-align:left">68051</td>
<td style="text-align:left">CF_INVALID_DIRECTORY</td>
<td style="text-align:left">ERROR</td>
<td>Checking of data file failed.</td>
<td>Definition file may be wrong.</td>
<td style="text-align:left">Check the specified directory of the definition file. Check whether the specified directory exists and can be accessed, and whether a physical failure has occurred in the device as well.</td>
</tr>
<tr>
<td style="text-align:left">68054</td>
<td style="text-align:left">CF_OPEN_FILE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Opening of data file failed.</td>
<td>A failure may have occurred in the storage.</td>
<td style="text-align:left">Check whether the data file exists and can be read, and whether a physical failure has occurred in the data file output destination device.</td>
</tr>
<tr>
<td style="text-align:left">68055</td>
<td style="text-align:left">CF_READ_CHUNK_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Reading of data file failed.</td>
<td>A failure may have occurred in the storage.</td>
<td style="text-align:left">Check whether the data file exists and can be read, and whether a physical failure has occurred in the data file output destination device.</td>
</tr>
<tr>
<td style="text-align:left">68056</td>
<td style="text-align:left">CF_WRITE_CHUNK_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Writing to data file failed.</td>
<td>A failure may have occurred in the storage.</td>
<td style="text-align:left">Check whether the data file exists and can be read, and whether a physical failure has occurred in the data file output destination device.</td>
</tr>
<tr>
<td style="text-align:left">68062</td>
<td style="text-align:left">CHM_CHECKPOINT_FILE_FLUSH_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Writing to data file failed.</td>
<td>A failure may have occurred in the storage.</td>
<td style="text-align:left">Check whether the data file exists and can be read, and whether a physical failure has occurred in the data file output destination device.</td>
</tr>
<tr>
<td style="text-align:left">68071</td>
<td style="text-align:left">CHM_CID_LIMIT_OVER</td>
<td style="text-align:left">ERROR</td>
<td>Update of transaction failed.</td>
<td>Limit value of store size may have been exceeded.</td>
<td style="text-align:left">As long as the data size of a single, huge container has not reached the upper limit, registration may still be possible by increasing the number of partitions set in another DB.</td>
</tr>
<tr>
<td style="text-align:left">68073</td>
<td style="text-align:left">CHM_GET_CHECKPOINT_CHUNK_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Reading of data file failed.</td>
<td>A failure may have occurred in the storage.</td>
<td style="text-align:left">Check whether the data file exists and can be read, and whether a physical failure has occurred in the data file output destination device.</td>
</tr>
<tr>
<td style="text-align:left">68076</td>
<td style="text-align:left">CHM_INCOMPATIBLE_ZLIB_VERSION</td>
<td style="text-align:left">ERROR</td>
<td>Checking library failed.</td>
<td>Library version may be wrong.</td>
<td style="text-align:left">Check the version compatibility of the system library.</td>
</tr>
<tr>
<td style="text-align:left">68900</td>
<td style="text-align:left">CHM_INTERNAL_INFO</td>
<td style="text-align:left">ERROR</td>
<td>Store status check executed.</td>
<td></td>
<td style="text-align:left">Event log data message related to data processing.</td>
</tr>
<tr>
<td style="text-align:left">68902</td>
<td style="text-align:left">CHM_INVALID_PARAMETER</td>
<td style="text-align:left">INFO</td>
<td>Data file compression can not be executed.</td>
<td>The execution environment may be unsupported.</td>
<td style="text-align:left">Check the supported environment.</td>
</tr>
<tr>
<td style="text-align:left">68903</td>
<td style="text-align:left">CHM_CONFIG</td>
<td style="text-align:left">INFO</td>
<td>Store status check executed.</td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">68906</td>
<td style="text-align:left">CHM_CP_FILE_FLUSH_SIZE</td>
<td style="text-align:left">INFO</td>
<td>Changed data file parameters.</td>
<td></td>
<td style="text-align:left">Event log information message related to the flush interval setting of the checkpoint file.</td>
</tr>
<tr>
<td style="text-align:left">70001</td>
<td style="text-align:left">QP_ROW_KEY_UNDEFINED</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of row failed.</td>
<td>Row key may not have been set up.</td>
<td style="text-align:left">Check the schema of the container subject to the operation.</td>
</tr>
<tr>
<td style="text-align:left">70002</td>
<td style="text-align:left">QP_ROW_KEY_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of row failed.</td>
<td>Number of search operations may have exceeded the limit value.</td>
<td style="text-align:left">When executing a Get for a collection:<br>Length of the string key given as a Get input exceeds the upper limit. Check the input.<br>When conducting a range search on collection whose row key is a string:<br>A range search cannot be used on containers whose row key is a string. Check the specifications.<br>When conducting a range search on collections whose row key is a time:<br>Input time exceeds the range. Check the input.</td>
</tr>
<tr>
<td style="text-align:left">70004</td>
<td style="text-align:left">QP_INTERVAL_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Sampling of time series container failed.</td>
<td>Unit of the time interval specified in the sampling operation may not be supported.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">70006</td>
<td style="text-align:left">QP_COLUMN_ID_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Sampling of time series container failed.</td>
<td>Column name specified in sampling operation may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">70007</td>
<td style="text-align:left">QP_TIMESTAMP_RANGE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of row failed.</td>
<td>Number of search operations may have exceeded the limit value.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">70008</td>
<td style="text-align:left">QP_COL_GET_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of row failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">70009</td>
<td style="text-align:left">QP_TIM_SEARCH_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of row failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">70010</td>
<td style="text-align:left">QP_TIM_SAMPLE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Sampling of time series container failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">70011</td>
<td style="text-align:left">QP_TIM_AGGREGATE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Consolidated processing of time series container failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">70012</td>
<td style="text-align:left">QP_TIM_GET_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of row failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">70013</td>
<td style="text-align:left">QP_TIM_INTERPOLATE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Sampling of time series container failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">70017</td>
<td style="text-align:left">QP_COL_RANGE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Acquisition of row failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">70018</td>
<td style="text-align:left">QP_COL_QUERY_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>TQL execution failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">70020</td>
<td style="text-align:left">QP_SEARCH_GEOM_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Execution of spatial search failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">70021</td>
<td style="text-align:left">QP_SEARCH_GEOM_RELATED_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Execution of spatial search failed.</td>
<td></td>
<td style="text-align:left">Check the description of the circumstances in which other error codes besides this error code is generated and the countermeasures to be adopted in the error message output section.</td>
</tr>
<tr>
<td style="text-align:left">75000</td>
<td style="text-align:left">QF_VALUE_OVERFLOW</td>
<td style="text-align:left">ERROR</td>
<td>The query execution failed.</td>
<td>Data calculation may have exceeded the limit value.</td>
<td style="text-align:left">Check the value to be calculated.</td>
</tr>
<tr>
<td style="text-align:left">75001</td>
<td style="text-align:left">QF_DIVIDE_BY_ZERO</td>
<td style="text-align:left">ERROR</td>
<td>The query execution failed.</td>
<td>Data calculation argument may be incorrect.</td>
<td style="text-align:left">Check if division is performed.</td>
</tr>
<tr>
<td style="text-align:left">75002</td>
<td style="text-align:left">QF_VALUE_OUT_OF_RANGE</td>
<td style="text-align:left">ERROR</td>
<td>The query execution failed.</td>
<td>Data calculation argument may be incorrect.</td>
<td style="text-align:left">Make sure that the value constraints specific to the syntax and functions are not violated.</td>
</tr>
<tr>
<td style="text-align:left">80000</td>
<td style="text-align:left">LM_WRITE_LOG_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Writing to log file failed.</td>
<td>A failure may have occurred in the storage at the log file storage location.</td>
<td style="text-align:left">Check whether there is any empty memory in the system, whether there is any empty space in the transaction log storage location, and whether a physical failure has occurred.</td>
</tr>
<tr>
<td style="text-align:left">80001</td>
<td style="text-align:left">LM_FLUSH_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Writing to log file failed.</td>
<td>A failure may have occurred in the storage at the log file storage location.</td>
<td style="text-align:left">Check whether a physical failure has occurred in storing the transaction log storage location.</td>
</tr>
<tr>
<td style="text-align:left">80005</td>
<td style="text-align:left">LM_OPEN_LOG_FILE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Opening of log file failed.</td>
<td>A failure may have occurred in the storage at the log file storage location.</td>
<td style="text-align:left">Check as detailed data may have appeared in another trace. Check whether there is any empty memory in the system, whether the log file exists and can be read, and whether a physical failure has occurred in the log file storage location.</td>
</tr>
<tr>
<td style="text-align:left">80006</td>
<td style="text-align:left">LM_READ_LOG_BLOCK_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Reading of log file failed.</td>
<td>A failure may have occurred in the storage at the log file storage location.</td>
<td style="text-align:left">Check whether the log file exists and can be read, and whether a physical failure has occurred in the log file storage location.</td>
</tr>
<tr>
<td style="text-align:left">80007</td>
<td style="text-align:left">LM_WRITE_LOG_BLOCK_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Writing to log file failed.</td>
<td>A failure may have occurred in the storage at the log file storage location.</td>
<td style="text-align:left">Check whether the log file can be created and written, and whether a physical failure has occurred in the log file storage location.</td>
</tr>
<tr>
<td style="text-align:left">80008</td>
<td style="text-align:left">LM_SYNC_LOG_FILE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Writing to log file failed.</td>
<td>A failure may have occurred in the storage at the log file storage location.</td>
<td style="text-align:left">Check whether the log file exists and can be written, whether other applications have opened the log file, and whether a physical failure has occurred in the log file storage location.</td>
</tr>
<tr>
<td style="text-align:left">80009</td>
<td style="text-align:left">LM_CREATE_LOG_FILE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Generation of log file failed.</td>
<td>Definition file setting value may be wrong.</td>
<td style="text-align:left">Check whether the log file can be created and written, and whether a physical failure has occurred in the log file storage location. In addition, this error may appear even if a log file that ought to exist does not exist. When creating a new log file, delete the files below the parameter &ldquo;dbPath&rdquo;. When starting from a backup, copy all the files stored in the backup directory after deleting the files under &ldquo;dbPath&rdquo;.</td>
</tr>
<tr>
<td style="text-align:left">80010</td>
<td style="text-align:left">LM_PREPARE_CHECKPOINT_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Writing to log file failed.</td>
<td>A failure may have occurred in the storage at the log file storage location.</td>
<td style="text-align:left">Check as detailed data may have appeared in another trace. Check whether there is any empty memory in the system, whether the log file exists and can be read, and whether a physical failure has occurred in the log file storage location.</td>
</tr>
<tr>
<td style="text-align:left">80011</td>
<td style="text-align:left">LM_POST_CHECKPOINT_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Deletion of log file failed.</td>
<td>A failure may have occurred in the storage at the log file storage location.</td>
<td style="text-align:left">Check as detailed data may have appeared in another trace. Check whether there is any empty memory in the system, whether the log file exists and can be read, and whether a physical failure has occurred in the log file storage location.</td>
</tr>
<tr>
<td style="text-align:left">80012</td>
<td style="text-align:left">LM_LOG_FILES_CONFIGURATION_UNMATCHED</td>
<td style="text-align:left">ERROR</td>
<td>Checking of log file failed.</td>
<td>The log file may not match the setting value of the definition file</td>
<td style="text-align:left">Respond according to the trace error message.<br>&ldquo;Existing log files do not match the server configuration&rdquo;: Definition file setting value contradicts the contents in the existing log file. If the definition file settings are changed, delete the files below the parameter &ldquo;dbPath&rdquo;. When starting from a backup, copy all the files stored in the backup directory after deleting the files under &ldquo;dbPath&rdquo; and restore the parameter file as well.<br>&ldquo;Directory not found despite check only&rdquo;: Data directory does not exist. Check the value of the parameter &ldquo;dbPath&rdquo; and check whether the file can be read and accessed.<br>&ldquo;Log file not found despite check only&rdquo;: Log file does not exist. Check the value of the parameter &ldquo;dbPath&rdquo; and check whether the file exists and can be read and accessed.</td>
</tr>
<tr>
<td style="text-align:left">80016</td>
<td style="text-align:left">LM_REMOVE_LOGFILE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Deletion of log file failed.</td>
<td>Log file may not exist.</td>
<td style="text-align:left">Check whether the log file subject to deletion exists and whether it can be deleted.</td>
</tr>
<tr>
<td style="text-align:left">80017</td>
<td style="text-align:left">LM_COPY_LOG_FILE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Backup execution failed.</td>
<td>A failure may have occurred in the storage at the backup file storage location.</td>
<td style="text-align:left">Check whether a backup directory can be created, and whether there is sufficient empty space to create a file under it.</td>
</tr>
<tr>
<td style="text-align:left">80018</td>
<td style="text-align:left">LM_CLOSE_LOG_FILE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Closing of log file failed.</td>
<td>A failure may have occurred in the storage at the log file storage location.</td>
<td style="text-align:left">Check whether a physical failure has occurred in storing the log file storage location.</td>
</tr>
<tr>
<td style="text-align:left">80019</td>
<td style="text-align:left">LM_INVALID_LOG_BLOCK</td>
<td style="text-align:left">ERROR</td>
<td>Checking of log file failed.</td>
<td>Log file may be inconsistent.</td>
<td style="text-align:left">Recovery process will be carried out automatically except for internal errors, so no measure is required in particular if there are no problems after restarting. Check with support for internal errors that appear as ERROR.</td>
</tr>
<tr>
<td style="text-align:left">80021</td>
<td style="text-align:left">LM_INVALID_LOG_INDEX</td>
<td style="text-align:left">ERROR</td>
<td>Checking of log file failed.</td>
<td>Log file version may be wrong.</td>
<td style="text-align:left">When opening the old version of a database file, follow the database migration procedure to migrate the database file. For all other cases, check with support as an internal error may have occurred.</td>
</tr>
<tr>
<td style="text-align:left">80022</td>
<td style="text-align:left">LM_LOG_FILE_VERSION_UNMATCHED</td>
<td style="text-align:left">ERROR</td>
<td>Checking of log file failed.</td>
<td>Log file version may be wrong.</td>
<td style="text-align:left">When opening the old version of a database file, follow the database migration procedure to migrate the database file. For all other cases, check with support as an internal error may have occurred.</td>
</tr>
<tr>
<td style="text-align:left">80900</td>
<td style="text-align:left">LM_OPEN_SKIP_PARTITIONGROUP</td>
<td style="text-align:left">INFO</td>
<td>Opening of log file skipped.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that a partition with no log file existing in the recovery process has been skipped.</td>
</tr>
<tr>
<td style="text-align:left">80901</td>
<td style="text-align:left">LM_UNSUPPORTED_LOGTYPE</td>
<td style="text-align:left">WARNING</td>
<td>Reading of log file skipped.</td>
<td>Log file version may be wrong.</td>
<td style="text-align:left">Event log data message indicating the detection of a log record with a different version.</td>
</tr>
<tr>
<td style="text-align:left">80902</td>
<td style="text-align:left">LM_UNKNOWN_LOGTYPE</td>
<td style="text-align:left">WARNING</td>
<td>Reading of log file skipped.</td>
<td>Log file version may be wrong.</td>
<td style="text-align:left">Event log data message indicating the detection of a log record with a different version.</td>
</tr>
<tr>
<td style="text-align:left">80903</td>
<td style="text-align:left">LM_PUT_LOG_START</td>
<td style="text-align:left">INFO</td>
<td>Writing to log file executed.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that data has been written to a log file.</td>
</tr>
<tr>
<td style="text-align:left">80904</td>
<td style="text-align:left">LM_PUT_LOG_INFO</td>
<td style="text-align:left">INFO</td>
<td>Writing to log file executed.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that data has been written to a log file.</td>
</tr>
<tr>
<td style="text-align:left">80905</td>
<td style="text-align:left">LM_WRITE_DUPLICATE_LOG_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Writing to auto backup file failed.</td>
<td>A failure may have occurred in the storage at the log file storage location.</td>
<td style="text-align:left">Check whether a physical failure has occurred in storing the transaction log storage location.</td>
</tr>
<tr>
<td style="text-align:left">80906</td>
<td style="text-align:left">LM_FLUSH_DUPLICATE_LOG_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Writing to auto backup file failed.</td>
<td>A failure may have occurred in the storage at the log file storage location.</td>
<td style="text-align:left">Check whether a physical failure has occurred in storing the transaction log storage location.</td>
</tr>
<tr>
<td style="text-align:left">80907</td>
<td style="text-align:left">LM_CREATE_LOG_FILE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Error detected in status of auto backup file.</td>
<td>Log file may be duplicated.</td>
<td style="text-align:left">Check whether the log file exists in the auto backup location.</td>
</tr>
<tr>
<td style="text-align:left">80909</td>
<td style="text-align:left">LM_CLEANUP_LOG_FILES</td>
<td style="text-align:left">INFO</td>
<td>Deletion of log file executed.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that the old log file has been deleted together with the checkpoint execution.</td>
</tr>
<tr>
<td style="text-align:left">80910</td>
<td style="text-align:left">LM_INCOMPLETE_TAIL_BLOCK</td>
<td style="text-align:left">WARNING</td>
<td>Error detected in status of log file.</td>
<td>Log file may be non-conforming.</td>
<td style="text-align:left">Event log data message indicating that an error in the area where the log file was last written has been detected. Logs in areas written last will be discarded. Server process may have been forced to terminate during the last start-up.</td>
</tr>
<tr>
<td style="text-align:left">80912</td>
<td style="text-align:left">LM_PREPARE_CHECKPOINT_FAILED</td>
<td style="text-align:left">WARNING</td>
<td>Writing to data synchronization log file failed.</td>
<td>A failure may have occurred in the storage at the data synchronization log file storage location.</td>
<td style="text-align:left">Check whether a physical failure has occurred in storing the data synchronization log file storage location.</td>
</tr>
<tr>
<td style="text-align:left">80913</td>
<td style="text-align:left">LM_POST_CHECKPOINT_FAILED</td>
<td style="text-align:left">WARNING</td>
<td>Writing to data synchronization log file failed.</td>
<td>A failure may have occurred in the storage at the data synchronization log file storage location.</td>
<td style="text-align:left">Check whether a physical failure has occurred in storing the data synchronization log file storage location.</td>
</tr>
<tr>
<td style="text-align:left">80914</td>
<td style="text-align:left">LM_FLUSH_SYNC_TEMP_LOG_FAILED</td>
<td style="text-align:left">WARNING</td>
<td>Writing to data synchronization log file failed.</td>
<td>A failure may have occurred in the storage at the data synchronization log file storage location.</td>
<td style="text-align:left">Check whether a physical failure has occurred in storing the data synchronization log file storage location.</td>
</tr>
<tr>
<td style="text-align:left">80915</td>
<td style="text-align:left">LM_PUT_SYNC_TEMP_LOG_FAILED</td>
<td style="text-align:left">WARNING</td>
<td>Writing to data synchronization log file failed.</td>
<td>A failure may have occurred in the storage at the data synchronization log file storage location.</td>
<td style="text-align:left">Check whether a physical failure has occurred in storing the data synchronization log file storage location.</td>
</tr>
<tr>
<td style="text-align:left">80916</td>
<td style="text-align:left">LM_CHUNK_META_LOG_SIZE</td>
<td style="text-align:left">INFO</td>
<td>Compression of log file was executed.</td>
<td></td>
<td style="text-align:left">This is an event log message to show that compression of checkpoint log was executed.</td>
</tr>
<tr>
<td style="text-align:left">80917</td>
<td style="text-align:left">LM_LOG_VERSION</td>
<td style="text-align:left">INFO</td>
<td>The log file version has been updated.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that the log file version has been updated.</td>
</tr>
<tr>
<td style="text-align:left">80918</td>
<td style="text-align:left">LM_FADVISE_LOG_FILE_FAILED</td>
<td style="text-align:left">WARNING</td>
<td>Log file operation failed.</td>
<td>The execution environment may not be supported.</td>
<td style="text-align:left">OS file cache clear of log file failed. Check if the OS and file system are supported.</td>
</tr>
<tr>
<td style="text-align:left">80919</td>
<td style="text-align:left">LM_FADVISE_LOG_FILE_INFO</td>
<td style="text-align:left">INFO</td>
<td>A log file operation was executed.</td>
<td></td>
<td style="text-align:left">This is an event log message indicating that OS file cache clear of the log file is executed.</td>
</tr>
<tr>
<td style="text-align:left">90000</td>
<td style="text-align:left">PT_CREATE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Startup of service failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">90002</td>
<td style="text-align:left">PT_UPDATE_SYNC_PARTITION</td>
<td style="text-align:left">ERROR</td>
<td>Operation of partition table failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">90003</td>
<td style="text-align:left">PT_UPDATE_GOAL_PARTITION</td>
<td style="text-align:left">ERROR</td>
<td>Operation of partition table failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">90004</td>
<td style="text-align:left">PT_INVALID_NODE_ADDRESS</td>
<td style="text-align:left">ERROR</td>
<td>Operation of partition table failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">90005</td>
<td style="text-align:left">PT_SET_INVALID_NODE_ID</td>
<td style="text-align:left">ERROR</td>
<td>Operation of partition table failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">90006</td>
<td style="text-align:left">PT_INVALID_PARTITON_ROLE_TYPE</td>
<td style="text-align:left">ERROR</td>
<td>Operation of partition table failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">100000</td>
<td style="text-align:left">CT_PARAMETER_FILE_LOAD_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Reading of definition file failed.</td>
<td>Path specified during startup may be wrong.</td>
<td style="text-align:left">Check the directory path of the parameter file given during startup. Check whether the format of the parameter file is correct as well.</td>
</tr>
<tr>
<td style="text-align:left">100001</td>
<td style="text-align:left">CT_PARAMETER_FILE_TOO_LARGE</td>
<td style="text-align:left">ERROR</td>
<td>Reading of definition file failed.</td>
<td>Size of definition file may be large.</td>
<td style="text-align:left">Check whether the file size of the parameter file (gs_node.json, gs_cluster.json) has exceeded 32 KB.</td>
</tr>
<tr>
<td style="text-align:left">100002</td>
<td style="text-align:left">CT_PARAMETER_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Reading of definition file failed.</td>
<td>Definition file setting value may be wrong.</td>
<td style="text-align:left">Check whether the correct value has been specified for parameters with a number of fixed values. (Example: replication method, etc.)</td>
</tr>
<tr>
<td style="text-align:left">100003</td>
<td style="text-align:left">CT_PARAMETER_LESS_THAN_LOWER_LIMIT</td>
<td style="text-align:left">ERROR</td>
<td>Reading of definition file failed.</td>
<td>Definition file setting value may be less than the limit value.</td>
<td style="text-align:left">Check the value of the parameter and its lower limit.</td>
</tr>
<tr>
<td style="text-align:left">100004</td>
<td style="text-align:left">CT_PARAMETER_GREATER_THAN_UPPER_LIMIT</td>
<td style="text-align:left">ERROR</td>
<td>Reading of definition file failed.</td>
<td>Definition file setting value may have exceeded the limit value.</td>
<td style="text-align:left">Check the value of the parameter and its upper limit.</td>
</tr>
<tr>
<td style="text-align:left">100005</td>
<td style="text-align:left">CT_PARAMETER_TYPE_MISMATCH</td>
<td style="text-align:left">ERROR</td>
<td>Reading of definition file failed.</td>
<td>Data type of definition file setting value (numerical value, string) may not be consistent.</td>
<td style="text-align:left">Check the data type of the parameter value (numerical value or string).</td>
</tr>
<tr>
<td style="text-align:left">110003</td>
<td style="text-align:left">TM_SESSION_NOT_FOUND</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Transaction may not exist.</td>
<td style="text-align:left">Lengthen the failover timeout time. However, check with support if the error still persists despite lengthening the time.</td>
</tr>
<tr>
<td style="text-align:left">110005</td>
<td style="text-align:left">TM_TRANSACTION_NOT_FOUND</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Transaction may not exist.</td>
<td style="text-align:left">Check whether the transaction timeout time has been exceeded.</td>
</tr>
<tr>
<td style="text-align:left">110008</td>
<td style="text-align:left">TM_TRANSACTION_COMMIT_NOT_ALLOWED</td>
<td style="text-align:left">ERROR</td>
<td>Commit transaction failed.</td>
<td>Failover may have failed.</td>
<td style="text-align:left">Check whether a failure has occurred in the network. However, check with support if this occurred, even if no failure has occurred.</td>
</tr>
<tr>
<td style="text-align:left">110009</td>
<td style="text-align:left">TM_TRANSACTION_ABORT_NOT_ALLOWED</td>
<td style="text-align:left">ERROR</td>
<td>Abort transaction failed.</td>
<td>Failover may have failed.</td>
<td style="text-align:left">Check whether a failure has occurred in the network. However, check with support if this occurred, even if no failure has occurred.</td>
</tr>
<tr>
<td style="text-align:left">110010</td>
<td style="text-align:left">TM_TRANSACTION_ALREADY_BEGIN</td>
<td style="text-align:left">ERROR</td>
<td>Start transaction failed.</td>
<td>Failover may have failed.</td>
<td style="text-align:left">Check whether a failure has occurred in the network. However, check with support if this occurred, even if no failure has occurred.</td>
</tr>
<tr>
<td style="text-align:left">110013</td>
<td style="text-align:left">TM_STATEMENT_ALREADY_EXECUTED</td>
<td style="text-align:left">ERROR</td>
<td>Transaction failover detected.</td>
<td>A failure may have occurred in the cluster.</td>
<td style="text-align:left">No countermeasure is required since the data indicates that a failover has been carried out.</td>
</tr>
<tr>
<td style="text-align:left">110016</td>
<td style="text-align:left">TM_SESSION_UUID_UNMATCHED</td>
<td style="text-align:left">ERROR</td>
<td>Execution of transaction failed.</td>
<td>Transaction may be non-conforming.</td>
<td style="text-align:left">Lengthen the failover timeout time. However, check with support if the error still persists despite lengthening the time.</td>
</tr>
<tr>
<td style="text-align:left">110022</td>
<td style="text-align:left">TM_TRANSACTION_COMMIT_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Commit transaction failed.</td>
<td>Transaction may be non-conforming.</td>
<td style="text-align:left">Check other error logs first, if any.</td>
</tr>
<tr>
<td style="text-align:left">110030</td>
<td style="text-align:left">TM_CREATION_MODE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Execution of transaction failed.</td>
<td>Client version may be wrong.</td>
<td style="text-align:left">Check the version of the client and server.</td>
</tr>
<tr>
<td style="text-align:left">110031</td>
<td style="text-align:left">TM_TRANSACTION_MODE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Execution of transaction failed.</td>
<td>Client version may be wrong.</td>
<td style="text-align:left">Check the version of the client and server.</td>
</tr>
<tr>
<td style="text-align:left">110032</td>
<td style="text-align:left">TM_REPLICATION_NOT_FOUND</td>
<td style="text-align:left">ERROR</td>
<td>Execution of replication failed.</td>
<td>Replication timeout may have occurred.</td>
<td style="text-align:left">Check whether a failure has occurred in a cluster or network. However, increase the replication timeout time if a failure occurs despite not having occurred in the past.</td>
</tr>
<tr>
<td style="text-align:left">110033</td>
<td style="text-align:left">TM_STATEMENT_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Execution of transaction failed.</td>
<td>Replication may have failed.</td>
<td style="text-align:left">Check whether a failure has occurred in a cluster or network. However, check with support if this occurred, even if no failure has occurred.</td>
</tr>
<tr>
<td style="text-align:left">110035</td>
<td style="text-align:left">TM_AUTHENTICATION_NOT_FOUND</td>
<td style="text-align:left">ERROR</td>
<td>Authentication execution failed.</td>
<td>User authentication timeout may have occurred.</td>
<td style="text-align:left">Wait for a while before executing the command again.</td>
</tr>
<tr>
<td style="text-align:left">121000</td>
<td style="text-align:left">JSON_INVALID_SYNTAX</td>
<td style="text-align:left">ERROR</td>
<td>Reading of JSON data failed.</td>
<td>A syntax error may have occurred in the JSON response from the address provider.</td>
<td style="text-align:left">Check whether the output details of the address provider are in the correct JSON syntax.</td>
</tr>
<tr>
<td style="text-align:left">121001</td>
<td style="text-align:left">JSON_KEY_NOT_FOUND</td>
<td style="text-align:left">ERROR</td>
<td>Reading of JSON data failed.</td>
<td>JSON response from the address provider may be wrong.</td>
<td style="text-align:left">Check whether the JSON output format of the address provider conforms to the specifications.</td>
</tr>
<tr>
<td style="text-align:left">121002</td>
<td style="text-align:left">JSON_VALUE_OUT_OF_RANGE</td>
<td style="text-align:left">ERROR</td>
<td>Reading of JSON data failed.</td>
<td>JSON response from the address provider may be wrong.</td>
<td style="text-align:left">Check whether the JSON output format of the address provider conforms to the specifications.</td>
</tr>
<tr>
<td style="text-align:left">121003</td>
<td style="text-align:left">JSON_UNEXPECTED_TYPE</td>
<td style="text-align:left">ERROR</td>
<td>Reading of JSON data failed.</td>
<td>JSON response from the address provider may be wrong.</td>
<td style="text-align:left">Check whether the JSON output format of the address provider conforms to the specifications.</td>
</tr>
<tr>
<td style="text-align:left">121500</td>
<td style="text-align:left">JC_JSON_INVALID_SYNTAX</td>
<td style="text-align:left">ERROR</td>
<td>Reading of JSON data failed.</td>
<td>A syntax error may have occurred in the JSON response from the address provider.</td>
<td style="text-align:left">Check whether the output details of the address provider are in the correct JSON syntax.</td>
</tr>
<tr>
<td style="text-align:left">121501</td>
<td style="text-align:left">JC_JSON_KEY_NOT_FOUND</td>
<td style="text-align:left">ERROR</td>
<td>Reading of JSON data failed.</td>
<td>JSON response from the address provider may be wrong.</td>
<td style="text-align:left">Check whether the JSON output format of the address provider conforms to the specifications.</td>
</tr>
<tr>
<td style="text-align:left">121502</td>
<td style="text-align:left">JC_JSON_VALUE_OUT_OF_RANGE</td>
<td style="text-align:left">ERROR</td>
<td>Reading of JSON data failed.</td>
<td>JSON response from the address provider may be wrong.</td>
<td style="text-align:left">Check whether the JSON output format of the address provider conforms to the specifications.</td>
</tr>
<tr>
<td style="text-align:left">121503</td>
<td style="text-align:left">JC_JSON_UNEXPECTED_TYPE</td>
<td style="text-align:left">ERROR</td>
<td>Reading of JSON data failed.</td>
<td>JSON response from the address provider may be wrong.</td>
<td style="text-align:left">Check whether the JSON output format of the address provider conforms to the specifications.</td>
</tr>
<tr>
<td style="text-align:left">122002</td>
<td style="text-align:left">HTTP_UNEXPECTED_MESSAGE</td>
<td style="text-align:left">ERROR</td>
<td>Checking of HTTP message failed.</td>
<td>HTTP response from the address provider may be different from expected.</td>
<td style="text-align:left">Check the status of the address provider or the connection setting for the address provider. In addition, check whether the output format of the address provider conforms to the specifications.</td>
</tr>
<tr>
<td style="text-align:left">122003</td>
<td style="text-align:left">HTTP_INVALID_MESSAGE</td>
<td style="text-align:left">ERROR</td>
<td>Reading of HTTP message failed.</td>
<td>A syntax error may have occurred in the HTTP response from the address provider.</td>
<td style="text-align:left">Check whether the address provider conforms to HTTP.</td>
</tr>
<tr>
<td style="text-align:left">122502</td>
<td style="text-align:left">JC_HTTP_UNEXPECTED_MESSAGE</td>
<td style="text-align:left">ERROR</td>
<td>Checking of HTTP message failed.</td>
<td>HTTP response from the address provider may be different from expected.</td>
<td style="text-align:left">Check the status of the address provider or the connection setting for the address provider. In addition, check whether the output format of the address provider conforms to the specifications.</td>
</tr>
<tr>
<td style="text-align:left">123002</td>
<td style="text-align:left">SA_INVALID_CONFIG</td>
<td style="text-align:left">ERROR</td>
<td>Checking of address provider setting failed.</td>
<td>Address provider settings may be wrong.</td>
<td style="text-align:left">Check whether the URL format, etc. of the address provider is correct.</td>
</tr>
<tr>
<td style="text-align:left">123003</td>
<td style="text-align:left">SA_ADDRESS_CONFLICTED</td>
<td style="text-align:left">ERROR</td>
<td>Checking of address or address list of nodes subject to notification failed.</td>
<td>The response from the address provider or the address list in the connection settings may have been duplicated.</td>
<td style="text-align:left">Check whether the response from the address provider, the client connection settings, or address list included in the server configuration file comply with the specifications.</td>
</tr>
<tr>
<td style="text-align:left">123004</td>
<td style="text-align:left">SA_ADDRESS_NOT_ASSIGNED</td>
<td style="text-align:left">ERROR</td>
<td>Checking of address or address list of nodes subject to notification failed.</td>
<td>The response from the address provider or the address list in the connection settings may not exist.</td>
<td style="text-align:left">Check whether the response from the address provider, the client connection settings, or address list included in the server configuration file comply with the specifications.</td>
</tr>
<tr>
<td style="text-align:left">123005</td>
<td style="text-align:left">SA_INVALID_ADDRESS</td>
<td style="text-align:left">ERROR</td>
<td>Checking of address or address list of nodes subject to notification failed.</td>
<td>The response from the address provider or the address list in the connection settings may be wrong.</td>
<td style="text-align:left">Check whether the response from the address provider, the client connection settings, or address list included in the server configuration file comply with the specifications.</td>
</tr>
<tr>
<td style="text-align:left">123502</td>
<td style="text-align:left">JC_SA_INVALID_CONFIG</td>
<td style="text-align:left">ERROR</td>
<td>Checking of address provider setting failed.</td>
<td>Address provider settings may be wrong.</td>
<td style="text-align:left">Check whether the URL format, etc. of the address provider is correct.</td>
</tr>
<tr>
<td style="text-align:left">123503</td>
<td style="text-align:left">JC_SA_ADDRESS_CONFLICTED</td>
<td style="text-align:left">ERROR</td>
<td>Checking of address or address list of nodes subject to notification failed.</td>
<td>The response from the address provider or the address list in the connection settings may have been duplicated.</td>
<td style="text-align:left">Check whether the response from the address provider and address list included in the client connection settings comply with the specifications.</td>
</tr>
<tr>
<td style="text-align:left">123504</td>
<td style="text-align:left">JC_SA_ADDRESS_NOT_ASSIGNED</td>
<td style="text-align:left">ERROR</td>
<td>Checking of address or address list of nodes subject to notification failed.</td>
<td>The response from the address provider or the address list in the connection settings may not exist.</td>
<td style="text-align:left">Check whether the response from the address provider and address list included in the client connection settings comply with the specifications.</td>
</tr>
<tr>
<td style="text-align:left">123505</td>
<td style="text-align:left">JC_SA_INVALID_ADDRESS</td>
<td style="text-align:left">ERROR</td>
<td>Checking of address or address list of nodes subject to notification failed.</td>
<td>The response from the address provider or the address list in the connection settings may be wrong.</td>
<td style="text-align:left">Check whether the response from the address provider and address list included in the client connection settings comply with the specifications.</td>
</tr>
<tr>
<td style="text-align:left">124002</td>
<td style="text-align:left">AUTH_INVALID_CREDENTIALS</td>
<td style="text-align:left">ERROR</td>
<td>Authentication check failed.</td>
<td>User name or password may be wrong.</td>
<td style="text-align:left">Check if the user name and password are correct.</td>
</tr>
<tr>
<td style="text-align:left">130003</td>
<td style="text-align:left">EE_OPERATION_NOT_ALLOWED</td>
<td style="text-align:left">ERROR</td>
<td>Service status check failed.</td>
<td>Definition file setting value may be wrong.</td>
<td style="text-align:left">Check the contents of the definition file.</td>
</tr>
<tr>
<td style="text-align:left">130010</td>
<td style="text-align:left">EE_CONNECT_TIMEOUT</td>
<td style="text-align:left">ERROR</td>
<td>Processing of service message failed.</td>
<td>Cluster may not be in a stable state.</td>
<td style="text-align:left">Cluster node could not be connected. The relevant node may be down due to a failure, etc. No response needed as the cluster control section detects the change in configuration automatically and excludes the relevant node from the cluster.</td>
</tr>
<tr>
<td style="text-align:left">130012</td>
<td style="text-align:left">EE_IO_READ_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Processing of service message failed.</td>
<td>Network I/O error may have occurred.</td>
<td style="text-align:left">The connection with the client or cluster node has been interrupted. No response is required as a re-connection (failover) will be carried out on the client side if it is a client, while the cluster control section will automatically perform a re-connection if it is a cluster node.</td>
</tr>
<tr>
<td style="text-align:left">130013</td>
<td style="text-align:left">EE_IO_WRITE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Processing of service message failed.</td>
<td>Network I/O error may have occurred.</td>
<td style="text-align:left">The connection with the client or cluster node has been interrupted. No response is required as a re-connection (failover) will be carried out on the client side if it is a client, while the cluster control section will automatically perform a re-connection if it is a cluster node.</td>
</tr>
<tr>
<td style="text-align:left">130015</td>
<td style="text-align:left">EE_MESSAGE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Processing of service message failed.</td>
<td>Network I/O error may have occurred.</td>
<td style="text-align:left">Client and server version may be different, or nodes of multiple versions may exist on the same network. Check the version and network environment.</td>
</tr>
<tr>
<td style="text-align:left">130029</td>
<td style="text-align:left">EE_FD_LIMIT_EXCEEDED</td>
<td style="text-align:left">ERROR</td>
<td>Service status check failed.</td>
<td>Definition file setting value may have exceeded the limit value.</td>
<td style="text-align:left">Check the connectionLimit specified in gs_node.json.</td>
</tr>
<tr>
<td style="text-align:left">130035</td>
<td style="text-align:left">EE_REQUEST_SYNC_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Processing of service event failed.</td>
<td>A failure may have occurred in another process.</td>
<td style="text-align:left">Check whether the node is in the high load state (a query with a large amount of hits has been executed, a large amount of swaps has been generated).</td>
</tr>
<tr>
<td style="text-align:left">130900</td>
<td style="text-align:left">EE_TIME_DIFF_ERROR</td>
<td style="text-align:left">ERROR</td>
<td>Error detected in OS time status.</td>
<td>OS time may have been changed.</td>
<td style="text-align:left">Check whether the OS time has been forced to change and whether the mode has been set to the slew mode if time adjustment is carried out automatically by NTP.</td>
</tr>
<tr>
<td style="text-align:left">130901</td>
<td style="text-align:left">EE_WAIT_COMPLETION</td>
<td style="text-align:left">WARNING</td>
<td>Processing of service event continued to be in standby status.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that a wait event that is caused by an event with a dependency relationship has occurred in the event processing engine.</td>
</tr>
<tr>
<td style="text-align:left">130902</td>
<td style="text-align:left">EE_UNKNOWN_EVENT</td>
<td style="text-align:left">WARNING</td>
<td>Unknown event detected by service.</td>
<td>Client version may be wrong.</td>
<td style="text-align:left">Event log data message indicating that an unsupported event has been detected in the event processing engine.</td>
</tr>
<tr>
<td style="text-align:left">130903</td>
<td style="text-align:left">EE_UNEXPECTED_SHUTDOWN</td>
<td style="text-align:left">ERROR</td>
<td>Closing of client connection detected.</td>
<td>Client might not have been shut down normally.</td>
<td style="text-align:left">Event log data message indicating that a disconnection with the client has been detected in the event processing engine.</td>
</tr>
<tr>
<td style="text-align:left">140001</td>
<td style="text-align:left">CC_EMPTY_PARAMETER</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the value of the parameter.</td>
</tr>
<tr>
<td style="text-align:left">140002</td>
<td style="text-align:left">CC_ILLEGAL_PARAMETER</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the value of the parameter.</td>
</tr>
<tr>
<td style="text-align:left">140003</td>
<td style="text-align:left">CC_UNSUPPORTED_OPERATION</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Operation may not be supported.</td>
<td style="text-align:left">Check whether the function used is supported.</td>
</tr>
<tr>
<td style="text-align:left">140004</td>
<td style="text-align:left">CC_SIZE_VALUE_OUT_OF_RANGE</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">140005</td>
<td style="text-align:left">CC_ILLEGAL_PROPERTY_ENTRY</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the property details.</td>
</tr>
<tr>
<td style="text-align:left">140006</td>
<td style="text-align:left">CC_ILLEGAL_VALUE_FORMAT</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the format of the value.</td>
</tr>
<tr>
<td style="text-align:left">140007</td>
<td style="text-align:left">CC_ILLEGAL_SYMBOL_CHARACTER</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the symbol name.</td>
</tr>
<tr>
<td style="text-align:left">140008</td>
<td style="text-align:left">CC_UNKNOWN_COLUMN_NAME</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the column name.</td>
</tr>
<tr>
<td style="text-align:left">140009</td>
<td style="text-align:left">CC_UNSUPPORTED_KEY_TYPE</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Row key may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">140010</td>
<td style="text-align:left">CC_UNSUPPORTED_FIELD_TYPE</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Column may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">140011</td>
<td style="text-align:left">CC_UNSUPPORTED_ROW_MAPPING</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Operation may not be supported.</td>
<td style="text-align:left">Check whether an unsupported function has been used.</td>
</tr>
<tr>
<td style="text-align:left">140012</td>
<td style="text-align:left">CC_UNKNOWN_ELEMENT_TYPE_OPTION</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">140013</td>
<td style="text-align:left">CC_UNKNOWN_GEOMETRY_OPERATOR</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">140014</td>
<td style="text-align:left">CC_UNKNOWN_AGGREGATION</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">140015</td>
<td style="text-align:left">CC_UNKNOWN_TIME_OPERATOR</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">140016</td>
<td style="text-align:left">CC_UNKNOWN_INDEX_FLAG</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">140017</td>
<td style="text-align:left">CC_UNKNOWN_FETCH_OPTION</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">140018</td>
<td style="text-align:left">CC_UNKNOWN_TIME_UNIT</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">140019</td>
<td style="text-align:left">CC_UNSUPPORTED_DEFAULT_INDEX</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the container type, column type, and whether it is a row key or not.</td>
</tr>
<tr>
<td style="text-align:left">140020</td>
<td style="text-align:left">CC_BINDING_ENTRY_NOT_FOUND</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the schema definition.</td>
</tr>
<tr>
<td style="text-align:left">140021</td>
<td style="text-align:left">CC_MULTIPLE_KEYS_FOUND</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Row key may be wrong.</td>
<td style="text-align:left">Check the schema definition.</td>
</tr>
<tr>
<td style="text-align:left">140022</td>
<td style="text-align:left">CC_COLUMN_NAME_CONFLICTED</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Column may be wrong.</td>
<td style="text-align:left">Check the column name.</td>
</tr>
<tr>
<td style="text-align:left">140023</td>
<td style="text-align:left">CC_ILLEGAL_SCHEMA</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the schema definition.</td>
</tr>
<tr>
<td style="text-align:left">140024</td>
<td style="text-align:left">CC_KEY_NOT_FOUND</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Row key may not exist.</td>
<td style="text-align:left">Check the schema definition.</td>
</tr>
<tr>
<td style="text-align:left">140025</td>
<td style="text-align:left">CC_KEY_NOT_ACCEPTED</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Row key argument may be wrong.</td>
<td style="text-align:left">Check the operating details.</td>
</tr>
<tr>
<td style="text-align:left">140026</td>
<td style="text-align:left">CC_EMPTY_ROW_FIELD</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the details of the row data.</td>
</tr>
<tr>
<td style="text-align:left">140028</td>
<td style="text-align:left">CC_BAD_CONNECTION</td>
<td style="text-align:left"></td>
<td>Processing of client request message failed.</td>
<td>Cluster may not be in a stable state.</td>
<td style="text-align:left">Check the status of the servers and machines whose servers are in operation.</td>
</tr>
<tr>
<td style="text-align:left">140029</td>
<td style="text-align:left">CC_CONNECTION_TIMEOUT</td>
<td style="text-align:left"></td>
<td>Timeout of client request occurred.</td>
<td>Cluster may not be in a stable state.</td>
<td style="text-align:left">Check the status of the servers and machines whose servers are in operation.</td>
</tr>
<tr>
<td style="text-align:left">140030</td>
<td style="text-align:left">CC_WRONG_NODE</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Cluster may not be in a stable state.</td>
<td style="text-align:left">Check that the value of the clusterStatus that can be acquired by a gs_stat command is MASTER or FOLLOWER. In addition, check that several seconds or tens of seconds have passed after the value of this clusterStatus stops fluctuating.</td>
</tr>
<tr>
<td style="text-align:left">140031</td>
<td style="text-align:left">CC_MESSAGE_CORRUPTED</td>
<td style="text-align:left"></td>
<td>Processing of client request message failed.</td>
<td>Cluster version may be wrong.</td>
<td style="text-align:left">Check whether the versions of the server and client are the same.</td>
</tr>
<tr>
<td style="text-align:left">140032</td>
<td style="text-align:left">CC_PARTITION_NOT_FOUND</td>
<td style="text-align:left"></td>
<td>Processing of client request message failed.</td>
<td>Cluster may not be in a stable state.</td>
<td style="text-align:left">In addition, check that several seconds or tens of seconds have passed after the value of this clusterStatus that can be acquired by a gs-stat command stops fluctuating.</td>
</tr>
<tr>
<td style="text-align:left">140033</td>
<td style="text-align:left">CC_ILLEGAL_PARTITION_COUNT</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Cluster may have been duplicated.</td>
<td style="text-align:left">Check whether multiple versions of nodes are mixed in the same network.</td>
</tr>
<tr>
<td style="text-align:left">140034</td>
<td style="text-align:left">CC_CONTAINER_NOT_OPENED</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Perform the operation after acquiring the container object subject to the operation again.</td>
</tr>
<tr>
<td style="text-align:left">140035</td>
<td style="text-align:left">CC_ILLEGAL_COMMIT_MODE</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Check the commit mode.</td>
</tr>
<tr>
<td style="text-align:left">140036</td>
<td style="text-align:left">CC_TRANSACTION_CLOSED</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Check whether a container operation has been carried out in the middle of a row update operation.</td>
</tr>
<tr>
<td style="text-align:left">140037</td>
<td style="text-align:left">CC_NO_SHCH_ELEMENT</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Check the operating procedure of the cursor.</td>
</tr>
<tr>
<td style="text-align:left">140038</td>
<td style="text-align:left">CC_CONTAINER_CLOSED</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Check whether a container subject to the operation has been closed by mistake.<br>Perform the operation after acquiring the container object subject to the operation again.</td>
</tr>
<tr>
<td style="text-align:left">140039</td>
<td style="text-align:left">CC_NOT_LOCKED</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Carry out the operation after performing an update lock.</td>
</tr>
<tr>
<td style="text-align:left">140040</td>
<td style="text-align:left">CC_RESOURCE_CLOSED</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Check whether a resource subject to the operation has been closed by mistake.</td>
</tr>
<tr>
<td style="text-align:left">140041</td>
<td style="text-align:left">CC_ALLOCATION_FAILED</td>
<td style="text-align:left"></td>
<td>Status error in client request occurred.</td>
<td>Securing of memory may have failed.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">140042</td>
<td style="text-align:left">CC_RECOVERABLE_CONNECTION_PROBLEM</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may not be supported.</td>
<td style="text-align:left">Check whether an unsupported function has been used.</td>
</tr>
<tr>
<td style="text-align:left">140043</td>
<td style="text-align:left">CC_RECOVERABLE_ROW_SET_LOST</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may not be supported.</td>
<td style="text-align:left">Check whether an unsupported function has been used.</td>
</tr>
<tr>
<td style="text-align:left">140046</td>
<td style="text-align:left">CC_PLATFORM_ERROR</td>
<td style="text-align:left"></td>
<td>OS system call failed.</td>
<td></td>
<td style="text-align:left">Check the value of errno in the error message.</td>
</tr>
<tr>
<td style="text-align:left">145001</td>
<td style="text-align:left">JC_EMPTY_PARAMETER</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the value of the parameter.</td>
</tr>
<tr>
<td style="text-align:left">145002</td>
<td style="text-align:left">JC_ILLEGAL_PARAMETER</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the value of the parameter.</td>
</tr>
<tr>
<td style="text-align:left">145003</td>
<td style="text-align:left">JC_UNSUPPORTED_OPERATION</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Operation may not be supported.</td>
<td style="text-align:left">Check whether the function used is supported.</td>
</tr>
<tr>
<td style="text-align:left">145004</td>
<td style="text-align:left">JC_SIZE_VALUE_OUT_OF_RANGE</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">145005</td>
<td style="text-align:left">JC_ILLEGAL_PROPERTY_ENTRY</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the property details.</td>
</tr>
<tr>
<td style="text-align:left">145006</td>
<td style="text-align:left">JC_ILLEGAL_VALUE_FORMAT</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the format of the value.</td>
</tr>
<tr>
<td style="text-align:left">145007</td>
<td style="text-align:left">JC_ILLEGAL_SYMBOL_CHARACTER</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the symbol name.</td>
</tr>
<tr>
<td style="text-align:left">145008</td>
<td style="text-align:left">JC_UNKNOWN_COLUMN_NAME</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the column name.</td>
</tr>
<tr>
<td style="text-align:left">145009</td>
<td style="text-align:left">JC_UNSUPPORTED_KEY_TYPE</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Row key may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">145010</td>
<td style="text-align:left">JC_UNSUPPORTED_FIELD_TYPE</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Column may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">145011</td>
<td style="text-align:left">JC_UNSUPPORTED_ROW_MAPPING</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Operation may not be supported.</td>
<td style="text-align:left">Check whether an unsupported function has been used.</td>
</tr>
<tr>
<td style="text-align:left">145012</td>
<td style="text-align:left">JC_UNKNOWN_ELEMENT_TYPE_OPTION</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">145013</td>
<td style="text-align:left">JC_UNKNOWN_GEOMETRY_OPERATOR</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">145014</td>
<td style="text-align:left">JC_UNKNOWN_AGGREGATION</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">145015</td>
<td style="text-align:left">JC_UNKNOWN_TIME_OPERATOR</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">145016</td>
<td style="text-align:left">JC_UNKNOWN_INDEX_FLAG</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">145017</td>
<td style="text-align:left">JC_UNKNOWN_FETCH_OPTION</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">145018</td>
<td style="text-align:left">JC_UNKNOWN_TIME_UNIT</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the input.</td>
</tr>
<tr>
<td style="text-align:left">145019</td>
<td style="text-align:left">JC_UNSUPPORTED_DEFAULT_INDEX</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the container type, column type, and whether it is a row key or not.</td>
</tr>
<tr>
<td style="text-align:left">145020</td>
<td style="text-align:left">JC_BINDING_ENTRY_NOT_FOUND</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the schema definition.</td>
</tr>
<tr>
<td style="text-align:left">145021</td>
<td style="text-align:left">JC_MULTIPLE_KEYS_FOUND</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Row key may be wrong.</td>
<td style="text-align:left">Check the schema definition.</td>
</tr>
<tr>
<td style="text-align:left">145022</td>
<td style="text-align:left">JC_COLUMN_NAME_CONFLICTED</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Column may be wrong.</td>
<td style="text-align:left">Check the column name.</td>
</tr>
<tr>
<td style="text-align:left">145023</td>
<td style="text-align:left">JC_ILLEGAL_SCHEMA</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the schema definition.</td>
</tr>
<tr>
<td style="text-align:left">145024</td>
<td style="text-align:left">JC_KEY_NOT_FOUND</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Row key may not exist.</td>
<td style="text-align:left">Check the schema definition.</td>
</tr>
<tr>
<td style="text-align:left">145025</td>
<td style="text-align:left">JC_KEY_NOT_ACCEPTED</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Row key argument may be wrong.</td>
<td style="text-align:left">Check the operating details.</td>
</tr>
<tr>
<td style="text-align:left">145026</td>
<td style="text-align:left">JC_EMPTY_ROW_FIELD</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Check the details of the row data.</td>
</tr>
<tr>
<td style="text-align:left">145028</td>
<td style="text-align:left">JC_BAD_CONNECTION</td>
<td style="text-align:left"></td>
<td>Processing of client request message failed.</td>
<td>Cluster may not be in a stable state.</td>
<td style="text-align:left">Check the status of the servers and machines whose servers are in operation.</td>
</tr>
<tr>
<td style="text-align:left">145029</td>
<td style="text-align:left">JC_CONNECTION_TIMEOUT</td>
<td style="text-align:left"></td>
<td>Timeout of client request occurred.</td>
<td>Cluster may not be in a stable state.</td>
<td style="text-align:left">Check the status of the servers and machines whose servers are in operation.</td>
</tr>
<tr>
<td style="text-align:left">145030</td>
<td style="text-align:left">JC_WRONG_NODE</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Cluster may not be in a stable state.</td>
<td style="text-align:left">Check that the value of the clusterStatus that can be acquired by a gs_stat command is MASTER or FOLLOWER. In addition, check that several seconds or tens of seconds have passed after the value of this clusterStatus stops fluctuating.</td>
</tr>
<tr>
<td style="text-align:left">145031</td>
<td style="text-align:left">JC_MESSAGE_CORRUPTED</td>
<td style="text-align:left"></td>
<td>Processing of client request message failed.</td>
<td>Cluster version may be wrong.</td>
<td style="text-align:left">Check whether the versions of the server and client are the same.</td>
</tr>
<tr>
<td style="text-align:left">145032</td>
<td style="text-align:left">JC_PARTITION_NOT_AVAILABLE</td>
<td style="text-align:left"></td>
<td>Processing of client request message failed.</td>
<td>Cluster may not be in a stable state.</td>
<td style="text-align:left">In addition, check that several seconds or tens of seconds have passed after the value of this clusterStatus that can be acquired by a gs-stat command stops fluctuating.</td>
</tr>
<tr>
<td style="text-align:left">145033</td>
<td style="text-align:left">JC_ILLEGAL_PARTITION_COUNT</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Cluster may have been duplicated.</td>
<td style="text-align:left">Check whether multiple versions of nodes are mixed in the same network.</td>
</tr>
<tr>
<td style="text-align:left">145034</td>
<td style="text-align:left">JC_CONTAINER_NOT_OPENED</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Perform the operation after acquiring the container object subject to the operation again.</td>
</tr>
<tr>
<td style="text-align:left">145035</td>
<td style="text-align:left">JC_ILLEGAL_COMMIT_MODE</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Check the commit mode.</td>
</tr>
<tr>
<td style="text-align:left">145036</td>
<td style="text-align:left">JC_TRANSACTION_CLOSED</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Check whether a container operation has been carried out in the middle of a row update operation.</td>
</tr>
<tr>
<td style="text-align:left">145037</td>
<td style="text-align:left">JC_NO_SHCH_ELEMENT</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Check the operating procedure of the cursor.</td>
</tr>
<tr>
<td style="text-align:left">145038</td>
<td style="text-align:left">JC_CONTAINER_CLOSED</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Check whether a container subject to the operation has been closed by mistake.<br>Perform the operation after acquiring the container object subject to the operation again.</td>
</tr>
<tr>
<td style="text-align:left">145039</td>
<td style="text-align:left">JC_NOT_LOCKED</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Carry out the operation after performing an update lock.</td>
</tr>
<tr>
<td style="text-align:left">145040</td>
<td style="text-align:left">JC_RESOURCE_CLOSED</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Check whether a resource subject to the operation has been closed by mistake.</td>
</tr>
<tr>
<td style="text-align:left">145041</td>
<td style="text-align:left">JC_ALLOCATION_FAILED</td>
<td style="text-align:left"></td>
<td>Status error in client request occurred.</td>
<td>Securing of memory may have failed.</td>
<td style="text-align:left">Check the memory capacity used.</td>
</tr>
<tr>
<td style="text-align:left">145042</td>
<td style="text-align:left">JC_RECOVERABLE_CONNECTION_PROBLEM</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may not be supported.</td>
<td style="text-align:left">Check whether an unsupported function has been used.</td>
</tr>
<tr>
<td style="text-align:left">145043</td>
<td style="text-align:left">JC_RECOVERABLE_ROW_SET_LOST</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may not be supported.</td>
<td style="text-align:left">Check whether an unsupported function has been used.</td>
</tr>
<tr>
<td style="text-align:left">145044</td>
<td style="text-align:left">JC_ILLEGAL_CONFIG</td>
<td style="text-align:left"></td>
<td>Reading of client configuration file failed.</td>
<td>Client configuration file settings may be wrong.</td>
<td style="text-align:left">Regarding the client configuration file, conduct the following check in accordance with the exception message.<br>There must be a directory including the client configuration file in the class path<br>Multiple client configuration files must be included in the class path<br>The category name (factory, etc.) of each property name in the configuration file must be correctly specified</td>
</tr>
<tr>
<td style="text-align:left">145045</td>
<td style="text-align:left">JC_DATABASE_NOT_EMPTY</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Number of DB containers may not be zero.</td>
<td style="text-align:left">Delete all containers in the DB targeted for deletion.</td>
</tr>
<tr>
<td style="text-align:left">147001</td>
<td style="text-align:left">JDBC_NOT_SUPPORTED</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Operation may not be supported.</td>
<td style="text-align:left">Out of the standard functions that ought to be supported by a driver conforming to the JDBC specifications, a function that is currently not supported by this driver was used. Check the driver instructions.</td>
</tr>
<tr>
<td style="text-align:left">147002</td>
<td style="text-align:left">JDBC_OPTIONAL_FEATURE_NOT_SUPPORTED</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Operation may not be supported.</td>
<td style="text-align:left">A function not supported by this driver that is positioned as an optional function in the JDBC specifications and for which a SQLFeatureNotSupportedException may occur was used. Check the driver instructions.</td>
</tr>
<tr>
<td style="text-align:left">147003</td>
<td style="text-align:left">JDBC_EMPTY_PARAMETER</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">Null has been specified for a JDBC API method argument for which null is not permitted. Check the driver instructions.</td>
</tr>
<tr>
<td style="text-align:left">147004</td>
<td style="text-align:left">JDBC_ALREADY_CLOSED</td>
<td style="text-align:left"></td>
<td>Status check of client request failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">A method other than isClosed() was invoked for an object that has a close() method, e.g. a Java.sql.Connection object, etc. after it has been closed. Check the method invoking sequence.</td>
</tr>
<tr>
<td style="text-align:left">147005</td>
<td style="text-align:left">JDBC_COLUMN_INDEX_OUT_OF_RANGE</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">A column number outside the range has been specified. Check whether the column data conforms to the column number.</td>
</tr>
<tr>
<td style="text-align:left">147006</td>
<td style="text-align:left">JDBC_VALUE_TYPE_CONVERSION_FAILED</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Data type of data operation (numerical value, string) may not be consistent.</td>
<td style="text-align:left">Conversion between SQL and Java data type failed. Check whether the data type conversion rules described in the driver instructions are conformed to.</td>
</tr>
<tr>
<td style="text-align:left">147007</td>
<td style="text-align:left">JDBC_UNWRAPPING_NOT_SUPPORTED</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Operation may not be supported.</td>
<td style="text-align:left">An unsupported data type was specified for a JDBC object installed with java.sql.Wrapper#unwrap (Class).</td>
</tr>
<tr>
<td style="text-align:left">147008</td>
<td style="text-align:left">JDBC_ILLEGAL_PARAMETER</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Argument of operation may be wrong.</td>
<td style="text-align:left">A value with a non-permitted format was specified for the JDBC API method argument. Check the driver instructions.</td>
</tr>
<tr>
<td style="text-align:left">147009</td>
<td style="text-align:left">JDBC_UNSUPPORTED_PARAMETER_VALUE</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Operation may not be supported.</td>
<td style="text-align:left">A value that is currently not supported was specified for the JDBC API method argument. Check the driver instructions.</td>
</tr>
<tr>
<td style="text-align:left">147010</td>
<td style="text-align:left">JDBC_ILLEGAL_STATE</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">A function with a specific status whose execution is not permitted was invoked. Check the driver instructions.</td>
</tr>
<tr>
<td style="text-align:left">147011</td>
<td style="text-align:left">JDBC_INVALID_CURSOR_POSITION</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Cursor position of the java.sql.ResultSet object, etc. is not appropriate. For example, access to the column value has been requested despite the cursor being located in front of the leading row. Check the driver instructions.</td>
</tr>
<tr>
<td style="text-align:left">147012</td>
<td style="text-align:left">JDBC_STATEMENT_CATEGORY_UNMATCHED</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Operation may not have been permitted.</td>
<td style="text-align:left">There may have been an attempt to execute a reference SQL with a executeUpdate, or a updateSQL with an executeQuery, or a SQL having a bind parameter with a NormalStatement (instead of a PreparedStatement). Check the detailed message.</td>
</tr>
<tr>
<td style="text-align:left">147013</td>
<td style="text-align:left">JDBC_MESSAGE_CORRUPTED</td>
<td style="text-align:left"></td>
<td>Checking of client request failed.</td>
<td>Client version may be wrong.</td>
<td style="text-align:left">Check whether the versions of the server and client are the same.</td>
</tr>
<tr>
<td style="text-align:left">160002</td>
<td style="text-align:left">RM_PUT_CHUNK_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Data synchronization of cluster failed.</td>
<td></td>
<td style="text-align:left">Countermeasure is not required as the operation will be automatically carried out again.</td>
</tr>
<tr>
<td style="text-align:left">160005</td>
<td style="text-align:left">RM_REDO_LOG_LSN_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Execution of recovery failed.</td>
<td>Log file may be wrong.</td>
<td style="text-align:left">When starting from a backup file, delete the files under the parameter &ldquo;dbPath&rdquo; first and then copy all the files from the backup directory to &ldquo;dbPath&rdquo; and execute again. Check with the support desk for all other cases.</td>
</tr>
<tr>
<td style="text-align:left">160006</td>
<td style="text-align:left">RM_RECOVERY_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Execution of recovery failed.</td>
<td>Log file or data file may be wrong.</td>
<td style="text-align:left">Check as detailed data may have appeared in another trace. Check whether any files below the parameter &ldquo;dbPath&rdquo; have been deleted or moved. Check that there is sufficient empty space in the storage. In addition, when starting from a backup file, delete the files under the parameter &ldquo;dbPath&rdquo; first and then copy all the files from the backup directory to &ldquo;dbPath&rdquo; and execute again. Check with the support desk for all other cases.</td>
</tr>
<tr>
<td style="text-align:left">160008</td>
<td style="text-align:left">RM_CHECKPOINT_END_LOG_NOT_FOUND</td>
<td style="text-align:left">ERROR</td>
<td>Execution of recovery failed.</td>
<td>Log file may be wrong.</td>
<td style="text-align:left">Check whether any files below the parameter &ldquo;dbPath&rdquo; have been deleted or moved. In addition, when starting from a backup file, delete the files under the parameter &ldquo;dbPath&rdquo; first and then copy all the files from the backup directory to &ldquo;dbPath&rdquo; and restart. Check with the support desk for all other cases.</td>
</tr>
<tr>
<td style="text-align:left">160012</td>
<td style="text-align:left">RM_PARTITION_GROUP_NUM_NOT_MATCH</td>
<td style="text-align:left">ERROR</td>
<td>Checking of data file failed.</td>
<td>The data file may not match the setting value of the definition file.</td>
<td style="text-align:left">If the value of a parameter is changed, delete the files under the parameter &ldquo;dbPath&rdquo;. When starting from a backup, copy all the files stored in the backup directory after deleting the files under &ldquo;dbPath&rdquo; and restore the parameter file as well.</td>
</tr>
<tr>
<td style="text-align:left">160013</td>
<td style="text-align:left">RM_LOG_FILE_NOT_FOUND</td>
<td style="text-align:left">ERROR</td>
<td>Checking of log file failed.</td>
<td>Log file may not exist.</td>
<td style="text-align:left">Check whether any files below the parameter &ldquo;dbPath&rdquo; have been deleted or moved. In addition, when starting from a backup file, delete the files under the parameter &ldquo;dbPath&rdquo; first and then copy all the files from the backup directory to &ldquo;dbPath&rdquo; and restart.</td>
</tr>
<tr>
<td style="text-align:left">160014</td>
<td style="text-align:left">RM_LOG_FILE_CP_FILE_MISMATCH</td>
<td style="text-align:left">ERROR</td>
<td>Checking of data file failed.</td>
<td>Data file may not exist.</td>
<td style="text-align:left">Check whether any files below the parameter &ldquo;dbPath&rdquo; have been deleted or moved. In addition, when starting from a backup file, delete the files under the parameter &ldquo;dbPath&rdquo; first and then copy all the files from the backup directory to &ldquo;dbPath&rdquo; and restart.</td>
</tr>
<tr>
<td style="text-align:left">160015</td>
<td style="text-align:left">RM_CP_FILE_WITH_NO_LOG_FILE</td>
<td style="text-align:left">ERROR</td>
<td>Checking of log file failed.</td>
<td>Log file may not exist.</td>
<td style="text-align:left">Check whether any files below the parameter &ldquo;dbPath&rdquo; have been deleted or moved. In addition, when starting from a backup file, delete the files under the parameter &ldquo;dbPath&rdquo; first and then copy all the files from the backup directory to &ldquo;dbPath&rdquo; and restart.</td>
</tr>
<tr>
<td style="text-align:left">160016</td>
<td style="text-align:left">RM_BACKUP_WITH_NO_LOG_FILE</td>
<td style="text-align:left">ERROR</td>
<td>Checking of log file failed.</td>
<td>Log file may not exist.</td>
<td style="text-align:left">When starting from a backup file, delete the files under the parameter &ldquo;dbPath&rdquo; first and then copy all the files from the backup directory to &ldquo;dbPath&rdquo; and restart.</td>
</tr>
<tr>
<td style="text-align:left">160017</td>
<td style="text-align:left">RM_WRITE_BACKUP_INFO_FILE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Writing to backup data file failed.</td>
<td>A failure may have occurred in the storage at the backup file storage location.</td>
<td style="text-align:left">Check whether the directory of the backup location can be written, whether there is sufficient empty capacity in the backup storage location, and whether a physical failure has occurred.</td>
</tr>
<tr>
<td style="text-align:left">160018</td>
<td style="text-align:left">RM_READ_BACKUP_INFO_FILE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Reading of backup data file failed.</td>
<td>Backup data file may not exist.</td>
<td style="text-align:left">When starting from a backup file, delete the files under the parameter &ldquo;dbPath&rdquo; first and then copy all the files from the backup directory to &ldquo;dbPath&rdquo; and restart. In addition, do not overwrite the backup data file and checkpoint file. Check with support if the above is not applicable.</td>
</tr>
<tr>
<td style="text-align:left">160019</td>
<td style="text-align:left">RM_REMOVE_BACKUP_INFO_FILE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Deletion of backup data file failed.</td>
<td>A failure may have occurred in the storage at the data file storage location.</td>
<td style="text-align:left">Check whether the backup data file can be deleted, and whether a physical failure has occurred in the target storage of the parameter &ldquo;dbPath&rdquo;. In addition, when starting from a backup file, delete the files under the parameter &ldquo;dbPath&rdquo; first and then copy all the files from the backup directory to &ldquo;dbPath&rdquo; in a readable form and restart.</td>
</tr>
<tr>
<td style="text-align:left">160021</td>
<td style="text-align:left">RM_PARTITION_NUM_NOT_MATCH</td>
<td style="text-align:left">ERROR</td>
<td>Checking of data file failed.</td>
<td>The data file may not match the setting value of the definition file.</td>
<td style="text-align:left">Number of partitions cannot be changed after a database is created. Empty the database and restart it if the number of partitions in the configuration file is changed.</td>
</tr>
<tr>
<td style="text-align:left">160025</td>
<td style="text-align:left">RM_INVALID_PARTITION</td>
<td style="text-align:left">ERROR</td>
<td>Execution of recovery failed.</td>
<td>Start-up settings may be wrong.</td>
<td style="text-align:left">Either enumerate the partition ID by separating it with commas or specify a range using hyphens. When specifying a range, the start ID needs to be smaller than the termination ID. In addition, an ID that is larger than the number of partitions set cannot be specified.</td>
</tr>
<tr>
<td style="text-align:left">160026</td>
<td style="text-align:left">RM_ALREADY_APPLY_LOG</td>
<td style="text-align:left">ERROR</td>
<td>Data synchronization of cluster failed.</td>
<td>Data synchronization may have been executed already.</td>
<td style="text-align:left">This event may be recorded depending on the timing of the data synchronization but this is not an error and so no countermeasure is required.</td>
</tr>
<tr>
<td style="text-align:left">160028</td>
<td style="text-align:left">RM_INVALID_CPFILE_SPLIT_COUNT</td>
<td style="text-align:left">ERROR</td>
<td>Execution of recovery failed.</td>
<td>The startup setting may be incorrect.</td>
<td style="text-align:left">The number of directories specified when splitting a checkpoint file must be less than or equal to the number of splitting.</td>
</tr>
<tr>
<td style="text-align:left">160029</td>
<td style="text-align:left">RM_INVALID_FILE_FOUND</td>
<td style="text-align:left">ERROR</td>
<td>Execution of recovery failed.</td>
<td>Data file configuration may have failed.</td>
<td style="text-align:left">Checkpoint file placement does not match the configuration file specification. Be especially careful when dividing checkpoint files.</td>
</tr>
<tr>
<td style="text-align:left">160030</td>
<td style="text-align:left">RM_INCOMPLETE_CP_FILE</td>
<td style="text-align:left">ERROR</td>
<td>Execution of recovery failed.</td>
<td>The data file may not exist.</td>
<td style="text-align:left">When splitting a checkpoint file, all split files must exist at the time of restart.</td>
</tr>
<tr>
<td style="text-align:left">160900</td>
<td style="text-align:left">RM_RECOVERY_INFO</td>
<td style="text-align:left">ERROR</td>
<td>Recovery operation executed.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that a recovery process has been executed.</td>
</tr>
<tr>
<td style="text-align:left">160901</td>
<td style="text-align:left">RM_COMPLETE_UNDO</td>
<td style="text-align:left">ERROR</td>
<td>Abort transaction executed.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that uncommitted transactions were aborted when the recovery process was down.</td>
</tr>
<tr>
<td style="text-align:left">160902</td>
<td style="text-align:left">RM_APPLY_LOG_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Data file change skipped.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that restoration of update details that have already been reflected in the recovery process has been skipped.</td>
</tr>
<tr>
<td style="text-align:left">160903</td>
<td style="text-align:left">RM_REDO_LOG_STATUS</td>
<td style="text-align:left">ERROR</td>
<td>Recovery operation executed.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that a recovery process has been executed.</td>
</tr>
<tr>
<td style="text-align:left">160904</td>
<td style="text-align:left">RM_BACKUP_INFO_FILE_DIGEST</td>
<td style="text-align:left">ERROR</td>
<td>Backup operation executed.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that a backup process has been executed.</td>
</tr>
<tr>
<td style="text-align:left">170000</td>
<td style="text-align:left">TRIG_SERVICE_START_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Startup of service failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system. Check with support if there is sufficient memory.</td>
</tr>
<tr>
<td style="text-align:left">170001</td>
<td style="text-align:left">TRIG_TYPE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Registration of trigger failed.</td>
<td>Trigger setting may be wrong.</td>
<td style="text-align:left">Specify the trigger type as JMS or REST.</td>
</tr>
<tr>
<td style="text-align:left">170003</td>
<td style="text-align:left">TRIG_TARGET_OPERATION_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Registration of trigger failed.</td>
<td>Trigger setting may be wrong.</td>
<td style="text-align:left">Specify 1 or more update operation subject to monitoring.</td>
</tr>
<tr>
<td style="text-align:left">170004</td>
<td style="text-align:left">TRIG_JMS_PROVIDER_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Registration of trigger failed.</td>
<td>Trigger setting may be wrong.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">170005</td>
<td style="text-align:left">TRIG_JMS_DESTINATION_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Registration of trigger failed.</td>
<td>Trigger setting may be wrong.</td>
<td style="text-align:left">Check the specification of the JMS destination type.</td>
</tr>
<tr>
<td style="text-align:left">170006</td>
<td style="text-align:left">TRIG_JMS_DESTINATION_NAME_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Registration of trigger failed.</td>
<td>Trigger setting may be wrong.</td>
<td style="text-align:left">Check the specification of the JMS destination name.</td>
</tr>
<tr>
<td style="text-align:left">170007</td>
<td style="text-align:left">TRIG_CHECK_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Notification of trigger failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">170008</td>
<td style="text-align:left">TRIG_REST_SEND_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Notification of trigger failed.</td>
<td>Trigger notification destination may not exist.</td>
<td style="text-align:left">Check whether the URI specified when the trigger is created is correct, whether the REST server corresponding to the URI is working correctly, and whether the network connection to the REST server is valid.</td>
</tr>
<tr>
<td style="text-align:left">170010</td>
<td style="text-align:left">TRIG_REST_CHECK_RESPONSE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Notification of trigger failed.</td>
<td>Trigger notification destination may be wrong.</td>
<td style="text-align:left">Check the REST server settings of the trigger notification destination.</td>
</tr>
<tr>
<td style="text-align:left">170011</td>
<td style="text-align:left">TRIG_TIMEOUT</td>
<td style="text-align:left">ERROR</td>
<td>Trigger timeout occurred.</td>
<td>Trigger notification destination may not exist.</td>
<td style="text-align:left">Check whether the trigger notification destination server exists and has been configured correctly.</td>
</tr>
<tr>
<td style="text-align:left">170013</td>
<td style="text-align:left">TRIG_JMS_CONNECTION_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Notification of trigger failed.</td>
<td>Trigger notification destination may not exist.</td>
<td style="text-align:left">Check whether the URI specified when the trigger is created is correct, whether the JMS server corresponding to the URI is working correctly, and whether the network connection to the JMS server is valid.</td>
</tr>
<tr>
<td style="text-align:left">170014</td>
<td style="text-align:left">TRIG_ENCODE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Registration of trigger failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">170015</td>
<td style="text-align:left">TRIG_DECODE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Notification of trigger failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system.</td>
</tr>
<tr>
<td style="text-align:left">170016</td>
<td style="text-align:left">TRIG_SIZE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>Registration of trigger failed.</td>
<td>Trigger setting may have exceeded the limit value.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">170900</td>
<td style="text-align:left">TRIG_SEND</td>
<td style="text-align:left">ERROR</td>
<td>Trigger notification executed.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that trigger notification was carried out.</td>
</tr>
<tr>
<td style="text-align:left">170901</td>
<td style="text-align:left">TRIG_CONNECTION_POOL</td>
<td style="text-align:left">ERROR</td>
<td>Trigger connection successful.</td>
<td></td>
<td style="text-align:left">Event log data message indicating that the connection for trigger notification was successful.</td>
</tr>
<tr>
<td style="text-align:left">180000</td>
<td style="text-align:left">CLM_CONSTRUCT_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Startup of service failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check if there is sufficient memory space in the system. Check with support if there is sufficient memory.</td>
</tr>
<tr>
<td style="text-align:left">180001</td>
<td style="text-align:left">CLM_NODE_STATUS_CHECK_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Cluster status check failed.</td>
<td>Node may not be active.</td>
<td style="text-align:left">No countermeasure is required as it is not an error. Follow the trace description to check the unexecuted cluster operation history.</td>
</tr>
<tr>
<td style="text-align:left">180002</td>
<td style="text-align:left">CLM_CLUSTER_OPERATION_CHECK_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Cluster status check failed.</td>
<td>Operation may not be executable with the current node status.</td>
<td style="text-align:left">The reason why the requested cluster operation could not be executed is described in the trace, so follow the instructions there to perform the cluster operation again.</td>
</tr>
<tr>
<td style="text-align:left">180018</td>
<td style="text-align:left">CLM_DETECT_DOUBLE_MASTER</td>
<td style="text-align:left">ERROR</td>
<td>Status error detected by cluster.</td>
<td>Multiple cluster configurations with the same settings may exist.</td>
<td style="text-align:left">When configuring a cluster initially, check that the number of nodes constituting the cluster matches the number of nodes constituting the cluster specified in the argument. If the operation was executed with the wrong cluster configuration procedure and this trace was recorded, quickly check the cluster configuration and stop the node group belonging to the duplicated cluster that has been started separately.</td>
</tr>
<tr>
<td style="text-align:left">180037</td>
<td style="text-align:left">CLM_CLUSTER_STATUS_NOT_JOIN_CLUSTER</td>
<td style="text-align:left">ERROR</td>
<td>Cluster status check failed.</td>
<td>Processing command to add WebAPI node may not have been executed.</td>
<td style="text-align:left">Use a gs_joincluster command to let a node join a cluster.</td>
</tr>
<tr>
<td style="text-align:left">180038</td>
<td style="text-align:left">CLM_CLUSTER_STATUS_IS_SUBMASTER</td>
<td style="text-align:left">ERROR</td>
<td>Cluster status check failed.</td>
<td>Cluster may be in the process of configuration change.</td>
<td style="text-align:left">The system will automatically switch to a normal cluster status, but this is not an error so no countermeasure is required.</td>
</tr>
<tr>
<td style="text-align:left">180039</td>
<td style="text-align:left">CLM_CLUSTER_STATUS_IS_FOLLOWER</td>
<td style="text-align:left">ERROR</td>
<td>Cluster status check failed.</td>
<td>Cluster may be in the process of configuration change.</td>
<td style="text-align:left">The system will automatically switch to a normal cluster status, but this is not an error so no countermeasure is required.</td>
</tr>
<tr>
<td style="text-align:left">180040</td>
<td style="text-align:left">CLM_CLUSTER_STATUS_NOT_MASTER</td>
<td style="text-align:left">ERROR</td>
<td>Cluster status check failed.</td>
<td>Cluster may be in the process of configuration change.</td>
<td style="text-align:left">The system will automatically switch to a normal cluster status, but this is not an error so no countermeasure is required.</td>
</tr>
<tr>
<td style="text-align:left">180041</td>
<td style="text-align:left">CLM_CLUSTER_STATUS_NOT_FOLLOWER</td>
<td style="text-align:left">ERROR</td>
<td>Cluster status check failed.</td>
<td>Cluster may be in the process of configuration change.</td>
<td style="text-align:left">The system will automatically switch to a normal cluster status, but this is not an error so no countermeasure is required.</td>
</tr>
<tr>
<td style="text-align:left">180042</td>
<td style="text-align:left">CLM_CLUSTER_STATUS_NOT_SUBMASTER</td>
<td style="text-align:left">ERROR</td>
<td>Cluster status check failed.</td>
<td>Cluster may be in the process of configuration change.</td>
<td style="text-align:left">The system will automatically switch to a normal cluster status, but this is not an error so no countermeasure is required.</td>
</tr>
<tr>
<td style="text-align:left">180043</td>
<td style="text-align:left">CLM_CLUSTER_STATUS_ALREADY_JOIN_CLUSTER</td>
<td style="text-align:left">ERROR</td>
<td>Cluster status check failed.</td>
<td>Processing command to add WebAPI node may have been executed already.</td>
<td style="text-align:left">No countermeasure is required as there is no problem even if execution is duplicated.</td>
</tr>
<tr>
<td style="text-align:left">180044</td>
<td style="text-align:left">CLM_CLUSTER_IS_PENDING</td>
<td style="text-align:left">ERROR</td>
<td>Cluster configuration failed.</td>
<td>Cluster may be in the process of configuration change.</td>
<td style="text-align:left">The system will automatically switch to a normal cluster status, but this is not an error so no countermeasure is required.</td>
</tr>
<tr>
<td style="text-align:left">180045</td>
<td style="text-align:left">CLM_CLUSTER_ALREADY_MAX_NODE</td>
<td style="text-align:left">ERROR</td>
<td>Cluster configuration failed.</td>
<td>Cluster may have reached the maximum number of nodes constituting a cluster.</td>
<td style="text-align:left">If the maximum number of nodes constituting a cluster is exceeded and the number of nodes needs to be increased, increase the number of nodes with a gs_appendcluster command.</td>
</tr>
<tr>
<td style="text-align:left">180046</td>
<td style="text-align:left">CLM_CLUSTER_FOLLOWER_IS_STABLE</td>
<td style="text-align:left">ERROR</td>
<td>Cluster configuration failed.</td>
<td>Cluster may have reached the maximum number of nodes constituting a cluster.</td>
<td style="text-align:left">If the maximum number of nodes constituting a cluster is exceeded and the number of nodes needs to be increased, increase the number of nodes with a gs_appendcluster command.</td>
</tr>
<tr>
<td style="text-align:left">180047</td>
<td style="text-align:left">CLM_NEW_NODE_NEED_TO_FOLLOW_MASTER</td>
<td style="text-align:left">ERROR</td>
<td>Cluster configuration failed.</td>
<td>Cluster configuration may have failed as no cluster with operating nodes exists.</td>
<td style="text-align:left">If the cluster is still being constituted and not in operation yet, or if the cluster has been stopped, a node cannot be allowed to join the cluster using an add-node command. In this case, either wait for the cluster to go into operation, or if the cluster has been stopped normally, allow the cluster configuration to be recovered first before adding the node.</td>
</tr>
<tr>
<td style="text-align:left">180048</td>
<td style="text-align:left">CLM_UNMATCH_CLUSTER_NAME</td>
<td style="text-align:left">ERROR</td>
<td>Cluster configuration failed.</td>
<td>Cluster name may not be consistent.</td>
<td style="text-align:left">Check whether a gs_joincluster command with the same cluster name has been executed for all nodes constituting the cluster. Take note of and manage the cluster name, address and port as this trace will be output even if the cluster notification address and port in gs_cluster.json are the same but the cluster name is different.</td>
</tr>
<tr>
<td style="text-align:left">180049</td>
<td style="text-align:left">CLM_UNMATCH_RESERVE_NUM</td>
<td style="text-align:left">ERROR</td>
<td>Cluster configuration failed.</td>
<td>Specified number of nodes constituting a cluster may not be consistent.</td>
<td style="text-align:left">Check whether a gs_joincluster command with the same number of nodes constituting the cluster has been executed for all nodes constituting the cluster.</td>
</tr>
<tr>
<td style="text-align:left">180050</td>
<td style="text-align:left">CLM_UNMATCH_DIGEST</td>
<td style="text-align:left">ERROR</td>
<td>Cluster configuration failed.</td>
<td>Cluster definition file may not be consistent.</td>
<td style="text-align:left">Check that all nodes constituting a cluster have been started by the same cluster definition file.</td>
</tr>
<tr>
<td style="text-align:left">180051</td>
<td style="text-align:left">CLM_INVALID_PARTIION_NUM</td>
<td style="text-align:left">ERROR</td>
<td>Cluster configuration failed.</td>
<td>Cluster definition file may not be consistent.</td>
<td style="text-align:left">Check that all nodes constituting a cluster have been started by the same cluster definition file.</td>
</tr>
<tr>
<td style="text-align:left">180052</td>
<td style="text-align:left">CLM_ALREADY_STABLE</td>
<td style="text-align:left">ERROR</td>
<td>Cluster configuration failed.</td>
<td>Cluster may have reached the maximum number of nodes constituting a cluster.</td>
<td style="text-align:left">If the maximum number of nodes constituting a cluster is exceeded and the number of nodes needs to be increased, increase the number of nodes with a gs_appendcluster command.</td>
</tr>
<tr>
<td style="text-align:left">180053</td>
<td style="text-align:left">CLM_JOIN_CLUSTER_INVALID_CLUSTER_NAME</td>
<td style="text-align:left">ERROR</td>
<td>Cluster configuration failed.</td>
<td>Cluster name may have exceeded the limit value.</td>
<td style="text-align:left">Check whether the cluster name has 64 or less characters and whether the cluster naming rules are as per the manual.</td>
</tr>
<tr>
<td style="text-align:left">180054</td>
<td style="text-align:left">CLM_JOIN_CLUSTER_UNMATCH_CLUSTER_NAME</td>
<td style="text-align:left">ERROR</td>
<td>Cluster configuration failed.</td>
<td>Cluster name may not match the setting value of the definition file.</td>
<td style="text-align:left">When executing a gs_joincluster command, check that the cluster name in the argument matches the cluster name in gs_cluster.json.</td>
</tr>
<tr>
<td style="text-align:left">180055</td>
<td style="text-align:left">CLM_NOT_STABLE</td>
<td style="text-align:left">ERROR</td>
<td>Cluster configuration failed.</td>
<td>Some nodes of the cluster may be down.</td>
<td style="text-align:left">If the node in the cluster is down, allow the node to recover first before executing the command again to let the node join the cluster. In addition, as cluster add or reduce commands cannot be executed consecutively, be sure to execute the procedure in stages as follows: Add cluster  Add node  Add cluster  Add node.</td>
</tr>
<tr>
<td style="text-align:left">180057</td>
<td style="text-align:left">CLM_PENDING_SHUTDOWN</td>
<td style="text-align:left">ERROR</td>
<td>Update of cluster status detected.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Execute a gs_leavecluster command. As the node status will become inactive after the command is executed, a normal shutdown will be executed automatically.</td>
</tr>
<tr>
<td style="text-align:left">180059</td>
<td style="text-align:left">CLM_UNPREPARED_HEARTBEAT</td>
<td style="text-align:left">ERROR</td>
<td>Cluster status check failed.</td>
<td>Cluster configuration may have failed.</td>
<td style="text-align:left">Shutdown may occur depending on the cluster configuration timing but this is not an error. No countermeasure is required as the system will automatically perform a retry.</td>
</tr>
<tr>
<td style="text-align:left">180060</td>
<td style="text-align:left">CLM_STATUS_TO_SUBMASTER</td>
<td style="text-align:left">ERROR</td>
<td>Update of cluster status detected.</td>
<td>A node failure may have occurred.</td>
<td style="text-align:left">Status differs depending on the entry status of the cluster. If it is a master node in a cluster that has already been constituted, this status will result if errors are detected in a majority of the nodes. If it is a follower node in a cluster that has already been constituted, this status will result if an error is detected in the master node. In this case, if a majority of the nodes constituting the cluster are operating normally, no countermeasure is required as the cluster will be constituted automatically after a fixed period of time.</td>
</tr>
<tr>
<td style="text-align:left">180062</td>
<td style="text-align:left">CLM_RECEIVE_SUBMASTER_HEARTBEAT</td>
<td style="text-align:left">ERROR</td>
<td>Update of cluster status detected.</td>
<td>A node failure may have occurred.</td>
<td style="text-align:left">As the cluster cannot continue operating, the cluster will be reset once and then re-constituted. No countermeasure is required as the system will automatically perform this procedure.</td>
</tr>
<tr>
<td style="text-align:left">180064</td>
<td style="text-align:left">CLM_DETECT_HEARTBEAT_TO_MASTER</td>
<td style="text-align:left">ERROR</td>
<td>Update of cluster status detected.</td>
<td>A node failure may have occurred.</td>
<td style="text-align:left">This event log is recorded when there is no heartbeat response from the applicable follower node for a fixed period of time. However, if a majority of the nodes is secured, no countermeasure is required as the cluster will automatically failover.</td>
</tr>
<tr>
<td style="text-align:left">180065</td>
<td style="text-align:left">CLM_DETECT_HEARTBEAT_TO_FOLLOWER</td>
<td style="text-align:left">ERROR</td>
<td>Update of cluster status detected.</td>
<td>A node failure may have occurred.</td>
<td style="text-align:left">This event log is recorded when there is no heartbeat response from the applicable master node for a fixed period of time. No countermeasure is required as the cluster will be automatically detached from the cluster it currently joined to before a re-connection request is sent to connect to the cluster again if possible.</td>
</tr>
<tr>
<td style="text-align:left">190002</td>
<td style="text-align:left">SYM_INVALID_PARTITION_STATUS</td>
<td style="text-align:left">ERROR</td>
<td>Data synchronization of cluster failed.</td>
<td>A new failover process may have been executed during data synchronization.</td>
<td style="text-align:left">No countermeasure is required since the data indicates that a new failover has been carried out during synchronization.</td>
</tr>
<tr>
<td style="text-align:left">190003</td>
<td style="text-align:left">SYM_INVALID_PARTITION_ROLE</td>
<td style="text-align:left">ERROR</td>
<td>Data synchronization of cluster failed.</td>
<td>A new failover process may have been executed during data synchronization.</td>
<td style="text-align:left">No countermeasure is required since the data indicates that a new failover has been carried out during synchronization.</td>
</tr>
<tr>
<td style="text-align:left">190004</td>
<td style="text-align:left">SYM_INVALID_PARTITION_REVISION</td>
<td style="text-align:left">ERROR</td>
<td>Data synchronization of cluster failed.</td>
<td>A new failover process may have been executed during data synchronization.</td>
<td style="text-align:left">No countermeasure is required since the data indicates that a new failover process has been carried out during data synchronization.</td>
</tr>
<tr>
<td style="text-align:left">190005</td>
<td style="text-align:left">SYM_INVALID_CLUSTER_INFO</td>
<td style="text-align:left">ERROR</td>
<td>Data synchronization of cluster failed.</td>
<td>A new failover process may have been executed during data synchronization.</td>
<td style="text-align:left">No countermeasure is required since the data indicates that a new failover process has been carried out during data synchronization.</td>
</tr>
<tr>
<td style="text-align:left">190006</td>
<td style="text-align:left">SYM_CREATE_SYNC_CONTEXT_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Data synchronization of cluster failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check other error events first, if any. Check with support if the data appears to be recorded continuously.</td>
</tr>
<tr>
<td style="text-align:left">190007</td>
<td style="text-align:left">SYM_GET_SYNC_CONTEXT_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Data synchronization of cluster failed.</td>
<td>A new failover process may have been executed during data synchronization.</td>
<td style="text-align:left">No countermeasure is required since the data indicates that a new failover process has been carried out during data synchronization.</td>
</tr>
<tr>
<td style="text-align:left">190008</td>
<td style="text-align:left">SYM_REMOVE_SYNC_CONTEXT_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Data synchronization of cluster failed.</td>
<td>A new failover process may have been executed during data synchronization.</td>
<td style="text-align:left">No countermeasure is required since the data indicates that a new failover process has been carried out during data synchronization.</td>
</tr>
<tr>
<td style="text-align:left">190011</td>
<td style="text-align:left">SYM_SYNC_CONTEXT_TABLE_CONSTRUCTOR_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Data synchronization of cluster failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check other error events first, if any. Check with support if the data appears to be recorded continuously.</td>
</tr>
<tr>
<td style="text-align:left">190012</td>
<td style="text-align:left">SYM_CREATE_SYNC_CONTEXT_TABLE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Data synchronization of cluster failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check other error events first, if any. Check with support if the data appears to be recorded continuously.</td>
</tr>
<tr>
<td style="text-align:left">190013</td>
<td style="text-align:left">SYM_REMOVE_SYNC_CONTEXT_TABLE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Data synchronization of cluster failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Check other error events first, if any. Check with support if the data appears to be recorded continuously.</td>
</tr>
<tr>
<td style="text-align:left">200007</td>
<td style="text-align:left">SQL_CANCELLED</td>
<td style="text-align:left">ERROR</td>
<td>SQL cancellation occurred.</td>
<td>Cancellation may have been executed.</td>
<td style="text-align:left">SQL under execution has been cancelled. Either execute a cancel command implicitly to cancel, or if the command is executed when the statement timeout is exceeded, review the timeout time if the command is cancelled even though the cancel command has not been called implicitly.</td>
</tr>
<tr>
<td style="text-align:left">200009</td>
<td style="text-align:left">SQL_VALUETYPE_UNSUPPORTED</td>
<td style="text-align:left">ERROR</td>
<td>Unsupported data type detected.</td>
<td>Data type of search operation (numerical value, string) may not be consistent.</td>
<td style="text-align:left">If BLOB is used as a bind parameter of the PreparedStatement, an error may occur depending on the query. (BLOB cannot be used in filtering conditions using a parallel query.)</td>
</tr>
<tr>
<td style="text-align:left">200010</td>
<td style="text-align:left">SQL_BIND_PARAMETER_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>PreparedStatement parameter bind occurred.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Regarding the bind parameters of the PreparedStatement, other errors may have occurred e.g. some of the parameters have not been set up, the press holder number is out of range, the parameter value is invalid, the memory is insufficient, and so on. Check the detailed message.</td>
</tr>
<tr>
<td style="text-align:left">200012</td>
<td style="text-align:left">SQL_INVALID_AUTHORIZATION</td>
<td style="text-align:left">ERROR</td>
<td>Authentication failed.</td>
<td>User name or password may be wrong.</td>
<td style="text-align:left">Check if the user name and password are correct.</td>
</tr>
<tr>
<td style="text-align:left">200013</td>
<td style="text-align:left">SQL_INVALID_USER</td>
<td style="text-align:left">ERROR</td>
<td>Database administration operation failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Check whether any operations which require administrator rights have been executed by a general user.</td>
</tr>
<tr>
<td style="text-align:left">200014</td>
<td style="text-align:left">SQL_INVALID_NAME</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Check whether there are any mistakes in the index name and table name subject to SQL operation.</td>
</tr>
<tr>
<td style="text-align:left">200015</td>
<td style="text-align:left">SQL_DML_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>DML execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Check whether there are any mistakes in the name of the table subject to SQL operation, and whether it matches the number of columns in the INSERT command. Other execution processes may have failed in the remote server. Check the detailed message.</td>
</tr>
<tr>
<td style="text-align:left">200016</td>
<td style="text-align:left">SQL_DDL_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>DDL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">There may be errors in the specification of the database name/table name/option subject to SQL operation or in the case of a DROP DATABASE, a table created by a user may have been left behind. Check the detailed message.</td>
</tr>
<tr>
<td style="text-align:left">200018</td>
<td style="text-align:left">SQL_UNSUPPORTED</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Batch execution of multiple queries is not supported.</td>
</tr>
<tr>
<td style="text-align:left">200019</td>
<td style="text-align:left">SQL_CONNECTION_ALREADY_CLOSED</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Client may already have been disconnected.</td>
<td style="text-align:left">No countermeasure is required as the data indicates the process is for a client that is already disconnected.</td>
</tr>
<tr>
<td style="text-align:left">200021</td>
<td style="text-align:left">SQL_CONTAINER_NOT_FOUND</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Check whether there are any mistakes in the table name subject to SQL operation.</td>
</tr>
<tr>
<td style="text-align:left">200022</td>
<td style="text-align:left">SQL_INVALID_DATABASE</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Operation of a database different from the one connected may have been attempted. Check whether there are any mistakes in the database name.</td>
</tr>
<tr>
<td style="text-align:left">200023</td>
<td style="text-align:left">SQL_TABLE_ALREADY_EXIST</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Creation of an existing table may have been attempted. Check whether there are any mistakes in the table name.</td>
</tr>
<tr>
<td style="text-align:left">200024</td>
<td style="text-align:left">SQL_STATEMENT_CATEGORY_UNMATCHED</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">There may have been an attempt to execute a reference SQL with a executeUpdate, or a updateSQL with an executeQuery, or a SQL having a bind parameter with a NormalStatement (instead of a PreparedStatement). Check the detailed message.</td>
</tr>
<tr>
<td style="text-align:left">200025</td>
<td style="text-align:left">SQL_FETCH_SIZE_INVALID</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Fetch size cannot be set as 0. Set a value of 1 or higher.</td>
</tr>
<tr>
<td style="text-align:left">200026</td>
<td style="text-align:left">SQL_INACCESIBLE_TABLE</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">A SQL may have been executed against a table with no viewing rights. Check whether there are any mistakes in the table name.</td>
</tr>
<tr>
<td style="text-align:left">200027</td>
<td style="text-align:left">SQL_CLUSTER_FAILOVER</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Cluster may be in the process of configuration change.</td>
<td style="text-align:left">Execute the query again.</td>
</tr>
<tr>
<td style="text-align:left">200028</td>
<td style="text-align:left">SQL_TYPE_MISMATCH</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">A data type discrepancy has been detected in the SQL requirement section. Check whether the data type on both sides of an operation is the same, and whether the data type of the value set is the same if it is a PreparedStatement.</td>
</tr>
<tr>
<td style="text-align:left">200030</td>
<td style="text-align:left">SQL_PARTITION_STATE_UNDEFINED</td>
<td style="text-align:left">ERROR</td>
<td>Execution of client request failed.</td>
<td>Cluster may not have been configured.</td>
<td style="text-align:left">Execute a gs_joincluster command and execute it again with the cluster in a constituted state.</td>
</tr>
<tr>
<td style="text-align:left">200036</td>
<td style="text-align:left">SQL_CLIENT_FAILOVER_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Failover may not be supported.</td>
<td style="text-align:left">Reconfiguration of cluster was detected, but the executing operation doesn&rsquo;t support failover so that the operation failed.  Reexecute the operation.</td>
</tr>
<tr>
<td style="text-align:left">200037</td>
<td style="text-align:left">SQL_MSG_VERSION_NOT_ACCEPTABLE</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Cluster version may be wrong.</td>
<td style="text-align:left">Check whether multiple versions of nodes are mixed in the same network.</td>
</tr>
<tr>
<td style="text-align:left">200903</td>
<td style="text-align:left">LONG_EVENT_WAITING</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution continued in the waiting.</td>
<td>Transaction may be processing.</td>
<td style="text-align:left">If it takes a long time to process the transaction to the store tier for processing the target SQL, this trace will be recorded at about 15 seconds intervals. Although this trace may be recorded when the processing involves execution of heavy index processing etc., the execution itself is executed normally.</td>
</tr>
<tr>
<td style="text-align:left">200906</td>
<td style="text-align:left">SQL_CANCEL</td>
<td style="text-align:left">ERROR</td>
<td>SQL cancellation occurred.</td>
<td>Cancellation may be executed.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">200907</td>
<td style="text-align:left">SQL_NOSQL_OPERATION_ALREADY_CANCEL</td>
<td style="text-align:left">WARNING</td>
<td>SQL execution was canceled.</td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">200908</td>
<td style="text-align:left">SQL_FAILOVER_WORKING</td>
<td style="text-align:left">WARNING</td>
<td>SQL failover was executed.</td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">200909</td>
<td style="text-align:left">SQL_EXECUTION_INFO</td>
<td style="text-align:left">INFO</td>
<td>SQL execution started.</td>
<td></td>
<td style="text-align:left">This is a server event log message.</td>
</tr>
<tr>
<td style="text-align:left">200910</td>
<td style="text-align:left">SQL_DDL_TABLE_PARTITIONING_PRIMARY_KEY</td>
<td style="text-align:left">WARNING</td>
<td>Non primary key column has been specified as a partitioning key.</td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">200911</td>
<td style="text-align:left">SQL_RECOVER_CONTAINER</td>
<td style="text-align:left">WARNING</td>
<td>The inconsistency of the partitioning table has been recovered.</td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">200913</td>
<td style="text-align:left">SQL_LONG_QUERY</td>
<td style="text-align:left">WARNING</td>
<td>SQL execution has ended.</td>
<td>Processing of the SQL statement may be taking longer than usual.</td>
<td style="text-align:left">This trace is recorded when a query is completed whose SQL statement execution took a longer time than the specified period.</td>
</tr>
<tr>
<td style="text-align:left">240000</td>
<td style="text-align:left">SQL_COMPILE_UNSUPPORTED</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">A SQL outside the support range may have been executed. Check the detailed message.</td>
</tr>
<tr>
<td style="text-align:left">240001</td>
<td style="text-align:left">SQL_COMPILE_SYNTAX_ERROR</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">There is a syntax error in the SQL command. Check the detailed message.</td>
</tr>
<tr>
<td style="text-align:left">240002</td>
<td style="text-align:left">SQL_COMPILE_INVALID_SCHEMA</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">There may be mistakes in the SQL column type, column name. Check the detailed message.</td>
</tr>
<tr>
<td style="text-align:left">240003</td>
<td style="text-align:left">SQL_COMPILE_INACCESIBLE_DATABASE</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">The name of a database that cannot be accessed may have been specified. Check the detailed message.</td>
</tr>
<tr>
<td style="text-align:left">240005</td>
<td style="text-align:left">SQL_COMPILE_INVALID_ARG_COUNT</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">240006</td>
<td style="text-align:left">SQL_COMPILE_DATABASE_NOT_FOUND</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>DB name may be wrong.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">240007</td>
<td style="text-align:left">SQL_COMPILE_TABLE_NOT_FOUND</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Table name may be wrong.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">240008</td>
<td style="text-align:left">SQL_COMPILE_COLUMN_NOT_FOUND</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Column name may be wrong.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">240009</td>
<td style="text-align:left">SQL_COMPILE_COLUMN_NOT_RESOLVED</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Column name may be wrong.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">240010</td>
<td style="text-align:left">SQL_COMPILE_FUNCTION_NOT_FOUND</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">240011</td>
<td style="text-align:left">SQL_COMPILE_COLUMN_LIST_UNMATCH</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">240012</td>
<td style="text-align:left">SQL_COMPILE_INVALID_NODE_ASSIGN</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Cluster configuration can not execute specified SQL.</td>
<td style="text-align:left">The cluster configuration at the start of execution may not be active, or the node holding the specified table may be inactive in the current cluster configuration. Check the cluster configuration.</td>
</tr>
<tr>
<td style="text-align:left">240014</td>
<td style="text-align:left">SQL_COMPILE_MISMATCH_SCHEMA</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">The number of columns of schema specification in SQL may mismatch that in actual table. Check the error message.</td>
</tr>
<tr>
<td style="text-align:left">240015</td>
<td style="text-align:left">SQL_COMPILE_INVALID_INSERT_COLUMN</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">All columns in INSERT VALUES must be specified.</td>
</tr>
<tr>
<td style="text-align:left">240016</td>
<td style="text-align:left">SQL_COMPILE_PARTITIONING_KEY_NOT_UPDATABLE</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">UPDATE syntax to change partitioning key can not be described for partitioning specified table.</td>
</tr>
<tr>
<td style="text-align:left">240017</td>
<td style="text-align:left">SQL_COMPILE_LIMIT_EXCEEDED</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Number of columns may have exceeded the limit value.</td>
<td style="text-align:left">Number of columns may have exceeded the limit value during SQL processing. Check the detailed message.</td>
</tr>
<tr>
<td style="text-align:left">240901</td>
<td style="text-align:left">SQL_HINT_WARNING</td>
<td style="text-align:left">WARNING</td>
<td>SQL hint was ignored.</td>
<td>SQL hint may be wrong.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">240902</td>
<td style="text-align:left">SQL_HINT_INFO</td>
<td style="text-align:left">INFO</td>
<td>SQL hint was ignored.</td>
<td>SQL hint may be wrong.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">250006</td>
<td style="text-align:left">SQL_EXECUTION_BIND_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Execution of bind operation in SQL may have failed. Check the number of the bind set and error message.</td>
</tr>
<tr>
<td style="text-align:left">250007</td>
<td style="text-align:left">SQL_EXECUTION_RETRY_MAX</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>SQL statement retry count may reach the limit.</td>
<td style="text-align:left">If the schema is changed during SQL processing or the internal cluster state is changed, SQL processing is retried but the limit of retries has been reached and SQL processing has been terminated. Check that operations such as DDL are not performed frequently and that the cluster configuration has not been changed significantly.</td>
</tr>
<tr>
<td style="text-align:left">250011</td>
<td style="text-align:left">SQL_COMPILE_METATABLE_NOT_UPDATABLE</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may not have been permitted.</td>
<td style="text-align:left">Registration, update and deletion of SQL metatable are not possible.</td>
</tr>
<tr>
<td style="text-align:left">250013</td>
<td style="text-align:left">SQL_EXECUTION_RETRY_QUERY_LIMIT</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Cluster may be in the process of configuration change.</td>
<td style="text-align:left">This error may be detected when SQL execution during cluster configuration change continues for a certain period. Try again after the cluster configuration has become stable.</td>
</tr>
<tr>
<td style="text-align:left">260007</td>
<td style="text-align:left">JOB_RESOLVE_NODE_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Cluster configuration can not execute specified SQL.</td>
<td style="text-align:left">The cluster configuration at the start of execution may not be active, or the node holding the specified table may be inactive in the current cluster configuration. Check the cluster configuration.</td>
</tr>
<tr>
<td style="text-align:left">260014</td>
<td style="text-align:left">JOB_CANCELLED</td>
<td style="text-align:left">ERROR</td>
<td>SQL cancellation occurred.</td>
<td>Cancellation may be executed.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">270003</td>
<td style="text-align:left">SQL_DML_INVALID_CONTAINER_ATTRIBUTE</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">The table (container) for updating may not be writable. Check the attributes of the table (container).</td>
</tr>
<tr>
<td style="text-align:left">280001</td>
<td style="text-align:left">SQL_DDL_INVALID_USER</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">An error occurred while executing the SQL of the user operation. Check the error message for details.</td>
</tr>
<tr>
<td style="text-align:left">280002</td>
<td style="text-align:left">SQL_DDL_UNSUPPORTED_COMMAND_TYPE</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Specified SQL statement is unsupported in this version. Check the error message and the manuals.</td>
</tr>
<tr>
<td style="text-align:left">280003</td>
<td style="text-align:left">SQL_DDL_TABLE_ALREADY_EXISTS</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Specified table in CREATE TABLE already exists. Add IF NOT EXIST or drop that table and re-execute.</td>
</tr>
<tr>
<td style="text-align:left">280004</td>
<td style="text-align:left">SQL_DDL_DATABASE_NOT_EMPTY</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">At least one table exists in the database specified in DROP DATABASE. In order to execute DROP DATABASE, it is necessary to delete all the tables of the target database.</td>
</tr>
<tr>
<td style="text-align:left">280005</td>
<td style="text-align:left">SQL_DDL_TABLE_NOT_EXISTS</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Specified table in DDL statement does not exist. Check the existence of that table.</td>
</tr>
<tr>
<td style="text-align:left">280007</td>
<td style="text-align:left">SQL_DDL_INDEX_ALREADY_EXISTS</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Specified index name already exists. Add IF NOT EXIST or drop that index name.</td>
</tr>
<tr>
<td style="text-align:left">280008</td>
<td style="text-align:left">SQL_DDL_INDEX_NOT_EXISTS</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Specified index in DDL statement does not exist. Check the existence of that index.</td>
</tr>
<tr>
<td style="text-align:left">280009</td>
<td style="text-align:left">SQL_DDL_INDEX_INVALID_COLUMN</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Primary key must be the first column.</td>
</tr>
<tr>
<td style="text-align:left">280010</td>
<td style="text-align:left">SQL_DDL_INVALID_CONTAINER_ATTRIBUTE</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">The table (container) for updating may not be writable. Check the attributes of the table (container).</td>
</tr>
<tr>
<td style="text-align:left">280011</td>
<td style="text-align:left">SQL_DDL_INVALID_CONNECTED_DATABASE</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Current database does not match the database specified in SQL. Check the error message.</td>
</tr>
<tr>
<td style="text-align:left">280013</td>
<td style="text-align:left">SQL_DDL_INVALID_PARTITION_COLUMN</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Column name specifying partitioning does not exist. Check the schema of the target table.</td>
</tr>
<tr>
<td style="text-align:left">280014</td>
<td style="text-align:left">SQL_DDL_INVALID_PRIMARY_KEY</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Primary key must be the first column.</td>
</tr>
<tr>
<td style="text-align:left">280015</td>
<td style="text-align:left">SQL_DDL_INVALID_PARTITION_COUNT</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Check the partition count.</td>
</tr>
<tr>
<td style="text-align:left">280019</td>
<td style="text-align:left">SQL_INVALID_TABLE_FORMAT</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Schema data may be broken.</td>
<td style="text-align:left">Check with support.</td>
</tr>
<tr>
<td style="text-align:left">280023</td>
<td style="text-align:left">SQL_DDL_INVALID_PARTITIONING_TABLE_NAME</td>
<td style="text-align:left">ERROR</td>
<td>Creating table failed.</td>
<td>Table name may be wrong.</td>
<td style="text-align:left">Node affinity cannot be specified for table partitioning.</td>
</tr>
<tr>
<td style="text-align:left">280024</td>
<td style="text-align:left">SQL_DDL_INVALID_PARTITIONING_TABLE_TYPE</td>
<td style="text-align:left">ERROR</td>
<td>Deleting table partition failed.</td>
<td>Operation may not have been permitted.</td>
<td style="text-align:left">Deletion of table partitioning can be performed only for partition table that is allowed to be deleted.</td>
</tr>
<tr>
<td style="text-align:left">280026</td>
<td style="text-align:left">SQL_TABLE_PARTITION_MAX_ASSIGN_COUNT</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Number of table partitons may have exceeded the limit value.</td>
<td style="text-align:left">Delete unnecessary table partitions.</td>
</tr>
<tr>
<td style="text-align:left">280032</td>
<td style="text-align:left">SQL_TABLE_PARTITION_SCHEMA_UNMATCH</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>The setting of the table partition may not be correct.</td>
<td style="text-align:left">Check whether a supported partitioning method is specified for the creation of the partitioning table or not.</td>
</tr>
<tr>
<td style="text-align:left">280033</td>
<td style="text-align:left">SQL_TABLE_PARTITION_INVALID_INDEX</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Index may be non-conforming.</td>
<td style="text-align:left">Delete and re-create the index for the column which the error occurred.</td>
</tr>
<tr>
<td style="text-align:left">280034</td>
<td style="text-align:left">SQL_DDL_TABLE_ALREADY_EXISTS_WITH_EXECUTION</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Table may already exist.</td>
<td style="text-align:left">When this error is occurred, recovery processing is being performed by detecting inconsistency in a partitioning table.</td>
</tr>
<tr>
<td style="text-align:left">280035</td>
<td style="text-align:left">SQL_DDL_INDEX_ALREADY_EXISTS_WITH_EXECUTION</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Index may already exist.</td>
<td style="text-align:left">When this error is occurred, recovery processing is being performed by detecting inconsistency of index in a partitioning table.</td>
</tr>
<tr>
<td style="text-align:left">280036</td>
<td style="text-align:left">SQL_DDL_MISMATCH_CONTAINER_ATTRIBUTE</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Parameter may be wrong.</td>
<td style="text-align:left">The view can not be created because a regular table with the same name as the view name specified in CREATE VIEW already exists.</td>
</tr>
<tr>
<td style="text-align:left">280037</td>
<td style="text-align:left">SQL_DDL_VIEW_NOT_EXISTS</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Parameter may be wrong.</td>
<td style="text-align:left">The view specified by DROP VIEW does not exist.</td>
</tr>
<tr>
<td style="text-align:left">300034</td>
<td style="text-align:left">STATE_DATA_EXCEPTION</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">A data-related error has been detected. SQL may be too long, string or BLOB size may have exceeded the upper limit, data type conversion may not be possible, and so on.</td>
</tr>
<tr>
<td style="text-align:left">300035</td>
<td style="text-align:left">STATE_INTEGRITY_CONSTRAINT_VIOLATION</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">A constraint condition violation has been detected.</td>
</tr>
<tr>
<td style="text-align:left">300040</td>
<td style="text-align:left">STATE_INVALID_AUTHORIZATION_SPECIFICATION</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">An authentication error has been detected.</td>
</tr>
<tr>
<td style="text-align:left">300055</td>
<td style="text-align:left">STATE_SQL_SYNTAX_ERROR</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">There is a syntax error in the SQL command. Check the detailed message.</td>
</tr>
<tr>
<td style="text-align:left">300064</td>
<td style="text-align:left">STATE_TRANSACTION_ROLLBACK</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Transaction may not have been carried out.</td>
<td style="text-align:left">SQL execution may have been interrupted due to a cancel request, etc.</td>
</tr>
<tr>
<td style="text-align:left">300066</td>
<td style="text-align:left">STATE_ACCESS_RULE_VIOLATION</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Acquisition of requested access rights to a database failed.</td>
</tr>
<tr>
<td style="text-align:left">300113</td>
<td style="text-align:left">STATE_INVALID_SYSTEM_STATE</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">Detection of inability to continue operation e.g. database subject to update is DROPPED, etc.</td>
</tr>
<tr>
<td style="text-align:left">300114</td>
<td style="text-align:left">STATE_INSUFFICIENT_RESOURCES</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Storage may be insufficient.</td>
<td style="text-align:left">Disk is full and an update failure may have occurred. Check the storage capacity.</td>
</tr>
<tr>
<td style="text-align:left">300115</td>
<td style="text-align:left">STATE_OUT_OF_MEMORY</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Memory may be insufficient.</td>
<td style="text-align:left">Requested operation cannot be completed due to insufficient memory. Check memory space available.</td>
</tr>
<tr>
<td style="text-align:left">300116</td>
<td style="text-align:left">STATE_IO_ERROR</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>A failure may have occurred in the storage.</td>
<td style="text-align:left">Requested operation cannot be completed due to an I/O error. Check the storage status.</td>
</tr>
<tr>
<td style="text-align:left">305004</td>
<td style="text-align:left">SQL_PROC_VALUE_OVERFLOW</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Data operation may exceed the limit.</td>
<td style="text-align:left">Check the values to operate.</td>
</tr>
<tr>
<td style="text-align:left">305005</td>
<td style="text-align:left">SQL_PROC_VALUE_SYNTAX_ERROR</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Syntax error may have occurred by a column value.</td>
<td style="text-align:left">Check whether the value that can not be parsed is included in the values to operate.</td>
</tr>
<tr>
<td style="text-align:left">305006</td>
<td style="text-align:left">SQL_PROC_DIVIDE_BY_ZERO</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Argument of data operation may be wrong.</td>
<td style="text-align:left">Check that division by 0 is not done.</td>
</tr>
<tr>
<td style="text-align:left">305007</td>
<td style="text-align:left">SQL_PROC_LIMIT_EXCEEDED</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Data operation may exceed the limit.</td>
<td style="text-align:left">Check that operation that violate the data size limit such as upper limit of character string length is not done.</td>
</tr>
<tr>
<td style="text-align:left">305008</td>
<td style="text-align:left">SQL_PROC_INVALID_EXPRESSION_INPUT</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Argument of data operation may be wrong.</td>
<td style="text-align:left">Check whether the constraints specific to the syntax and function values are not violated</td>
</tr>
<tr>
<td style="text-align:left">305009</td>
<td style="text-align:left">SQL_PROC_MULTIPLE_TUPLE</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Data operation may be duplicated.</td>
<td style="text-align:left">Check that multiple rows are not selected in places where only up to a single row is selected, as in a scalar subquery.</td>
</tr>
<tr>
<td style="text-align:left">305010</td>
<td style="text-align:left">SQL_PROC_UNSUPPORTED_TYPE_CONVERSION</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Argument of data operation may be wrong.</td>
<td style="text-align:left">Check that unsupported type conversions are not explicitly or implicitly executed.</td>
</tr>
<tr>
<td style="text-align:left">305012</td>
<td style="text-align:left">SQL_PROC_INVALID_CONSTRAINT_NULL</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Schema may be inconsistent.</td>
<td style="text-align:left">SQL was reexecuted due to the detection of index inconsistency.</td>
</tr>
<tr>
<td style="text-align:left">305013</td>
<td style="text-align:left">SQL_PROC_INTERNAL_INDEX_UNMATCH</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Index may be inconsistent.</td>
<td style="text-align:left">SQL was reexecuted due to the detection of index inconsistency.</td>
</tr>
<tr>
<td style="text-align:left">410002</td>
<td style="text-align:left">LTS_NOT_IMPLEMENTED</td>
<td style="text-align:left">ERROR</td>
<td>SQL store operation failed.</td>
<td>Operation may be wrong.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">410008</td>
<td style="text-align:left">LTS_INVALID_PARAMETER</td>
<td style="text-align:left">ERROR</td>
<td>Starting SQL store failed.</td>
<td>Definition file setting value may be wrong.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">410022</td>
<td style="text-align:left">LTS_SWAP_IN_BLOCK_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Reading SQL swap file failed.</td>
<td>A failure may have occurred in the storage.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">410023</td>
<td style="text-align:left">LTS_SWAP_OUT_BLOCK_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Writing SQL swap file failed.</td>
<td>A failure may have occurred in the storage.</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">410025</td>
<td style="text-align:left">LTS_BLOCK_VALIDATION_FAILED</td>
<td style="text-align:left">ERROR</td>
<td>Checking of internal data failed.</td>
<td>Data in the memory may be corrupted.</td>
<td style="text-align:left">An error in DB data has been detected during SQL processing.</td>
</tr>
<tr>
<td style="text-align:left">410026</td>
<td style="text-align:left">LTS_TUPLELIST_LIMIT_EXCEEDED</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>Operation may be wrong.</td>
<td style="text-align:left">It may have exceeded some limit value during SQL processing. Check the detailed message.</td>
</tr>
<tr>
<td style="text-align:left">410027</td>
<td style="text-align:left">LTS_LIMIT_EXCEEDED</td>
<td style="text-align:left">ERROR</td>
<td>SQL execution failed.</td>
<td>The SQL swap file may have exceeded the limit value.</td>
<td style="text-align:left">It may have exceeded some limit value during SQL processing. Check the error message.</td>
</tr>
</tbody>
</table>
<p>* If an error code not found in this error code table occurs, an internal error may have occurred. Check with support.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f624f1746d838e10efa3bf63783d05bc">12 - Operation Tools Reference</h1>
    <div class="lead">Explanation on operational tool usage such as startup command and export/import for system designer and database admin</div>
	<h2 id="----introduction----">&mdash; Introduction &mdash;</h2>
<h2 id="purpose-and-structure-of-this-manual">Purpose and structure of this manual</h2>
<p>This manual describes the operating tools of GridDB.</p>
<p>It is written for system designers and system administrators responsible for GridDB system&rsquo;s construction and operation management respectively.</p>
<p>The contents of each chapter is as follows:</p>
<ul>
<li>
<p>Service<br>
This section explains the GridDB service performed automatically during OS start-up.</p>
</li>
<li>
<p>Operating commands<br>
This section explains the various operating commands of GridDB.</p>
</li>
<li>
<p>Cluster operation control command interpreter (gs_sh)<br>
This section explains the GridDB cluster operation control functions and the command interpreter (gs_sh) to provide data operations.</p>
</li>
<li>
<p>Integrated operation control GUI (gs_admin)<br>
This section explains the web-based integrated operation control GUI (gs_admin) integrating the operating functions of a GridDB cluster.</p>
</li>
<li>
<p>Export/import tools<br>
This section explains the export/import tools of GridDB.</p>
</li>
</ul>
<p><a id="griddb_service"></a></p>
<h2 id="----service----">&mdash; Service &mdash;</h2>
<p><a id="preparing_to_use_the_service"></a></p>
<h2 id="preparing-to-use-the-service">Preparing to use the service</h2>
<p>The procedure to use and install GridDB service is as follows.</p>
<ol>
<li>Install GridDB server package and client package.</li>
<li>Configure the respective GridDB nodes that constitute a GridDB cluster.</li>
<li>Configure the start configuration file.</li>
</ol>
<p>See the &ldquo;<a href="../4.md_administrators_guide/md_administrators_guide.md">GridDB Administrator Guide</a>&rdquo; for the procedure to install GridDB and configure a GridDB node.</p>
<p>The table above shows the kinds of files used in GridDB services.</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>systemd unit file</td>
<td>systemd unit definition file. It is installed in /usr/lib/systemd/system/gridstore.service by the server package of GridDB and  registered on the system as GridDB service.</td>
</tr>
<tr>
<td>Service script</td>
<td>Script file is executed automatically during OS startup. <br />It is installed in /usr/griddb/bin/gridstore by the server package of GridDB.</td>
</tr>
<tr>
<td>PID file</td>
<td>File containing only the process ID (PID) of the gsserver process. This is created in $GS_HOME/conf/gridstore.pid when the gsserver process is started.</td>
</tr>
<tr>
<td>Start configuration file</td>
<td>File containing the parameters that can be set while in service. <br />Depending on the GridDB server package, it is installed in /etc/sysconfig/gridstore/gridstore.conf.</td>
</tr>
</tbody>
</table>
<h2 id="parameter-setting">Parameter setting</h2>
<p>A list of parameters is available to control the GridDB service operations. A list of the parameters is given below.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Default</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>GS_USER</td>
<td>admin</td>
<td>GridDB user name</td>
</tr>
<tr>
<td>GS_PASSWORD</td>
<td>admin</td>
<td><code>GS_USER</code> password</td>
</tr>
<tr>
<td>CLUSTER_NAME</td>
<td>INPUT_YOUR_CLUSTER_NAME_HERE</td>
<td>Cluster name to join</td>
</tr>
<tr>
<td>MIN_NODE_NUM</td>
<td>1</td>
<td>Number of nodes constituting a cluster</td>
</tr>
</tbody>
</table>
<p>To change the parameters, edit the start configuration file (<code>/etc/sysconfig/gridstore/gridstore.conf</code> ).</p>
<p>When a server package is updated or uninstalled, the start configuration file will not be overwritten or uninstalled.</p>
<p>[Notes]</p>
<ul>
<li>Do not directly edit a parameter described in service script. The edited file will be lost when the server package is uninstalled or updated.  When changing the parameters, edit the start configuration file.</li>
<li>When composing a cluster with multiple nodes, use the same parameter file for each node to be attached to the cluster.  In particular, if a cluster is expanded by an operation control command, command interpreter, etc. during system operation, the parameter <code>MIN_NODE_NUM</code> of all the nodes needs to be changed to the number of nodes constituting a cluster after the expansion.</li>
</ul>
<h2 id="log">Log</h2>
<p>See the boot log( <code>/var/log/boot.log</code> ) and operating command log(<code>$GS_HOME/log</code> ) for details of the service log.</p>
<h2 id="command">Command</h2>
<p>GridDB service commands are shown below.</p>
<p>[Notes]</p>
<ul>
<li>If, on the GridDB cluster, SSL connection is enabled and non-SSL connection is disabled (i.e., /system/serverSslMode is set to REQUIRED), set the environment variable <code>GS_SSL_MODE</code> and enable SSL connection for communication for issuing operation commands. For details on SSL connection, see the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>.
<ul>
<li>Setting the environment variable <code>GS_SSL_MODE</code> to REQUIRED will validate SSL connection for communication for issuing operation commands; setting the variable to VERIFY will validate SSL connection for communication for issuing operation commands and perform server certificate verification.</li>
<li>To validate server certificate verification (by setting the environment variable <code>GS_SSL_MODE</code> to VERIFY), specify the path to the certificate by the Certificate Authority (CA) for the environment variable <code>SSL_CERT_FILE</code>.</li>
<li>Set the environment variable in the bash_profile file for the OS user gsadm.</li>
</ul>
</li>
</ul>
<pre tabindex="0"><code class="language-example" data-lang="example">vi .bash_profile
GS_SSL_MODE=VERIFY
export GS_SSL_MODE
SSL_CERT_FILE=$GS_HOME/security/ca.crt
export SSL_CERT_FILE
</code></pre><h3 id="start">start</h3>
<p>Action:</p>
<ul>
<li>Start a node and join to a cluster.</li>
</ul>
<pre tabindex="0"><code class="language-example" data-lang="example">$ sudo systemctl start gridstore
</code></pre><ul>
<li>This function executes gs_startnode command to start a node and gs_joincluster command to join to a cluster.</li>
<li>When the gs_startnode command is executed, the system waits for the recovery process to end.</li>
<li>When the gs_joincluster command is executed, the system doesn&rsquo;t wait for the cluster to start operation.</li>
<li><code>Set the cluster name in </code>CLUSTER_NAME` .</li>
<li><code>Set the number of nodes constituting a cluster in </code>MIN_NODE_NUM` .</li>
</ul>
<p>[Notes]</p>
<ul>
<li>If an error occurs in the middle of a cluster operation, the gsserver process will be stopped.</li>
</ul>
<h3 id="stop">stop</h3>
<p>Action:</p>
<ul>
<li>Leave from a cluster and stop a node.</li>
</ul>
<pre tabindex="0"><code class="language-example" data-lang="example">$ sudo systemctl stop gridstore
</code></pre><ul>
<li>End if there are no more processes, and error if the timeout time has passed (termination code 150).</li>
<li>If there are no processes started by the service, termination code 0 will be returned.</li>
<li>This function executes gs_leavecluster command to leave a node from a cluster before stopping a node.</li>
<li>This function executes gs_leavecluster command to leave a node from a cluster before stopping a node.</li>
<li>When the gs_leavecluster command is executed, the system waits for the node to leave from the cluster.</li>
<li>A node stopping process will be performed. regardless of the termination code of the gs_leavecluster command.</li>
</ul>
<p>[Notes]</p>
<ul>
<li>**When stopping the cluster, execute the gs_stopcluster command and leave/stop each node by a service stop. If you do not stop the cluster with the gs_stopcluster command, autonomous data arrangement may occur due to node leaving. If data relocation happens frequently, network or disk I/O may become a load. If you leave the node after stopping the cluster, data arrangement will not occur. To prevent unnecessary data arrangement, be sure to stop the cluster. To stop the cluster, execute an operating command gs_stopcluster, integrated operation control gs_admin, gs_sh, etc.</li>
<li>A node started by an operating command or command interpreter (gs_sh) cannot be stopped by a service stop.  Use the respective tools to stop the node.</li>
</ul>
<h3 id="status">status</h3>
<p>Action:</p>
<ul>
<li>Display whether the node process is under execution or not.</li>
</ul>
<pre tabindex="0"><code class="language-example" data-lang="example">$ sudo systemctl status gridstore
</code></pre><h3 id="restart">restart</h3>
<p>Action:</p>
<ul>
<li>Stop and start continuously.</li>
</ul>
<h3 id="condrestart">condrestart</h3>
<p>Action:</p>
<ul>
<li>Restart if there is a lock file.</li>
</ul>
<h2 id="error-message-list">Error message list</h2>
<p>Service error messages are as shown below.</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>F00003</td>
<td>Json load error</td>
<td>Reading of definition file failed.</td>
</tr>
<tr>
<td>F01001</td>
<td>Stop service timed out</td>
<td>Stop node process timed out.</td>
</tr>
<tr>
<td>F01002</td>
<td>Startnode error</td>
<td>An error occurred in the node startup process.</td>
</tr>
<tr>
<td>F01003</td>
<td>Startnode timed out</td>
<td>Start node process timed out.</td>
</tr>
<tr>
<td>F01004</td>
<td>Joincluster error</td>
<td>An error occurred in the join cluster process.</td>
</tr>
<tr>
<td>F01005</td>
<td>Joincluster timed out</td>
<td>Join cluster process timed out.</td>
</tr>
<tr>
<td>F01006</td>
<td>Leavecluster error</td>
<td>An error occurred in the leave cluster process.</td>
</tr>
<tr>
<td>F02001</td>
<td>Command execution error</td>
<td>An error occurred in the command execution.</td>
</tr>
<tr>
<td>F02002</td>
<td>Command execution timed out</td>
<td>Command execution timed out.</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>If an error occurs with each command execution, the operating command error will be displayed and recorded at the same time.  Refer to the item on operating commands (gs_startnode, gs_joincluster, and gs_leavecluster) as well when troubleshooting errors.</li>
</ul>
<p><a id="griddb_commands"></a></p>
<h2 id="----operating-commands----">&mdash; Operating commands &mdash;</h2>
<h2 id="command-list">Command list</h2>
<p>The following commands are available in GridDB.</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Functions</th>
<th>Command</th>
<th>RPM package</th>
</tr>
</thead>
<tbody>
<tr>
<td>(1) Start/stop node</td>
<td>start node</td>
<td>gs_startnode</td>
<td>server</td>
</tr>
<tr>
<td></td>
<td>stop node</td>
<td>gs_stopnode</td>
<td>client</td>
</tr>
<tr>
<td>(2) User management</td>
<td>Registration of administrator user</td>
<td>gs_adduser</td>
<td>server</td>
</tr>
<tr>
<td></td>
<td>Deletion of administrator user</td>
<td>gs_deluser</td>
<td>server</td>
</tr>
<tr>
<td></td>
<td>Change the password of an administrator user</td>
<td>gs_passwd</td>
<td>server</td>
</tr>
<tr>
<td>(3) Cluster management</td>
<td>Joining a cluster configuration</td>
<td>gs_joincluster</td>
<td>client</td>
</tr>
<tr>
<td></td>
<td>Leaving a cluster configuration</td>
<td>gs_leavecluster</td>
<td>client</td>
</tr>
<tr>
<td></td>
<td>Stopping a cluster</td>
<td>gs_stopcluster</td>
<td>client</td>
</tr>
<tr>
<td></td>
<td>Getting cluster configuration data</td>
<td>gs_config</td>
<td>client</td>
</tr>
<tr>
<td></td>
<td>Getting node status</td>
<td>gs_stat</td>
<td>client</td>
</tr>
<tr>
<td></td>
<td>Adding a node to a cluster</td>
<td>gs_appendcluster</td>
<td>client</td>
</tr>
<tr>
<td></td>
<td>Manual failover of a cluster</td>
<td>gs_failovercluster</td>
<td>client</td>
</tr>
<tr>
<td></td>
<td>Getting partition data</td>
<td>gs_partition</td>
<td>client</td>
</tr>
<tr>
<td></td>
<td>Increasing the no. of nodes of the cluster</td>
<td>gs_increasecluster</td>
<td>client</td>
</tr>
<tr>
<td></td>
<td>Set up autonomous data redistribution of a cluster</td>
<td>gs_loadbalance</td>
<td>client</td>
</tr>
<tr>
<td></td>
<td>Set up data redistribution goal of a cluster</td>
<td>gs_goalconf</td>
<td>client</td>
</tr>
<tr>
<td></td>
<td>Controlling the checkpoint of the node</td>
<td>gs_checkpoint</td>
<td>server</td>
</tr>
<tr>
<td>(4) Log data</td>
<td>Displaying recent event logs</td>
<td>gs_logs</td>
<td>client</td>
</tr>
<tr>
<td></td>
<td>Displaying and changing the event log output level</td>
<td>gs_logconf</td>
<td>client</td>
</tr>
<tr>
<td>(5) Backup/restoration</td>
<td>backup execution</td>
<td>gs_backup</td>
<td>server</td>
</tr>
<tr>
<td></td>
<td>Check backup data</td>
<td>gs_backuplist</td>
<td>server</td>
</tr>
<tr>
<td></td>
<td>Backup/restoration</td>
<td>gs_restore</td>
<td>server</td>
</tr>
<tr>
<td>(6) Import/export</td>
<td>Import</td>
<td>gs_import</td>
<td>client</td>
</tr>
<tr>
<td></td>
<td>Export</td>
<td>gs_export</td>
<td>client</td>
</tr>
<tr>
<td>(7) Maintenance</td>
<td>Displaying and changing parameters</td>
<td>gs_paramconf</td>
<td>client</td>
</tr>
<tr>
<td></td>
<td>Managing user cache for authentication</td>
<td>gs_authcache</td>
<td>client</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>Operating commands can be executed by an administrator user only.</li>
<li>See the chapter on &ldquo;Import/Export&rdquo; for details on import/export.</li>
</ul>
<h2 id="common-functions-of-operating-commands">Common functions of operating commands</h2>
<p><strong>[Command option]</strong></p>
<p>The options below are common options that can be used in all commands.</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>-h&ndash;help</td>
<td>Display the command help.</td>
</tr>
<tr>
<td>--version</td>
<td>Display the version of the operating command.</td>
</tr>
</tbody>
</table>
<p>[Example]</p>
<ul>
<li>
<p>Display the command help and version.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_startnode -h
Usage: gs_startnode [-u USER/PASS [-w [WAIT_TIME]] ]

Start the GridDB node.

$ gs_stat --version
gs_stat [V5.0.00]
</code></pre></li>
</ul>
<p>The options below are common options that can be used in some of the commands.</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>[-s &lt;Server&gt;[:&lt;Port no.&gt;]</td>
<td>-p &lt;Port no.&gt;]</td>
</tr>
<tr>
<td>-u &lt;User name&gt;/&lt;Password&gt;</td>
<td>Specify authentication user and password.</td>
</tr>
<tr>
<td>-w|&ndash;wait [&lt;No. of sec&gt;]</td>
<td>Wait for the process to end. <br>There is no time limit if the time is not set or if the time is set to 0.</td>
</tr>
<tr>
<td>-a</td>
<td>--address-type &lt;Address type&gt;</td>
</tr>
<tr>
<td>--no-proxy</td>
<td>If specified, the proxy will not be used.</td>
</tr>
<tr>
<td>--ssl&ndash;ssl-verify</td>
<td>Specifying &ndash;ssl will validate SSL connection for communication for operation commands; specifying &ndash;ssl-verify will additionally perform server certificate verification as well.</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>When executing an operating command, specify the administrator user as the authentication user.</li>
<li>As a substitute for the &ndash;ssl &ndash;ssl-verify option, the environment variable <code>GS_SSL_MODE</code> is available. Specifying REQUIRED for  the environment variable <code>GS_SSL_MODE</code> will validate connection for SSL communications for operation commands; specifying VERIF&rsquo;Y will validate SSL connection for communication for operation commands and perform server certificate verification as well.</li>
</ul>
<p>[Notes]</p>
<ul>
<li>To enable SSL connection through communication for operational commands by setting the  &ndash;ssl &ndash;ssl-verify option or the environment variable <code>GS_SSL_MODE</code>, the following is required:
<ul>
<li>Enable SSL connection on the GridDB cluster. For details, see the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a> .</li>
<li>To validate server certificate verification (by specifying the &ndash;ssl-verify option or setting the environment variable <code>GS_SSL_MODE</code> to VERIFY), specify the path to the certificate by the Certificate Authority (CA) for the environment variable <code>SSL_CERT_FILE</code>.</li>
</ul>
</li>
<li>Set the environment variable in the bash_profile file for the OS user gsadm.</li>
</ul>
<pre tabindex="0"><code class="language-example" data-lang="example">vi .bash_profile
GS_SSL_MODE=VERIFY
export GS_SSL_MODE
SSL_CERT_FILE=$GS_HOME/security/ca.crt
export SSL_CERT_FILE
</code></pre><p><strong>[Termination status]</strong></p>
<p>The end status of the command is shown below.</p>
<ul>
<li>0:Normal</li>
<li>1:Error</li>
<li>2:Timeout</li>
</ul>
<p><strong>[Log file]</strong></p>
<p>Log file of the command will be saved in ${GS_LOG}/command name.log.</p>
<p>[Example] The log file below is created if the GS_LOG value is &ldquo;/var/lib/gridstore/log (default)&rdquo; and the &ldquo;gs_startnode&rdquo; command is executed.</p>
<ul>
<li>/var/lib/gridstore/log/gs_startnode.log</li>
</ul>
<h2 id="points-to-note">Points to note</h2>
<p><strong>[Before using an operating command]</strong></p>
<ul>
<li>
<p>If a proxy variable (http_proxy) has been set up, specify the &ndash;no-proxy option or set the address (group) of the GridDB node in no_proxy and exclude it from the proxy.
As an operating command will perform REST/http communications, the proxy server may be connected by mistake, thereby deactivating the operating command.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ export http_proxy=proxy.example.net:8080
$ gs_paramconf -u admin/admin --show storeMemoryLimit
A00110: Check the network setting. (HTTP Error 403: Forbidden)

$ gs_paramconf -u admin/admin --show storeMemoryLimit --no-proxy
&#34;1024MB&#34;
</code></pre></li>
<li>
<p>For commands which has the optional setting &ldquo;server: port&rdquo;, there is no need to specify the option if the port setting has not been changed from the default.
In addition, if the optional setting &ldquo;server: port&rdquo; is specified, this command can be executed from a computer that is different from the one that started the node.</p>
</li>
<li>
<p>When specifying the server:port used in an operating command, specify the value of /system/serviceAddress of the node definition file gs_node.json in the server and the value of /system/servicePort in the port.</p>
</li>
</ul>
<p><strong>[To compose a cluster]</strong></p>
<p>A cluster is composed of a group of 1 or more nodes, consisting of a master with the rest being followers.</p>
<p>In a cluster configuration, the number of nodes already participating in a cluster and the number of nodes constituting a cluster are important. The number of nodes already participating in a cluster is the actual number of nodes joined to the cluster. The number of nodes constituting a cluster is the number of nodes that can join the cluster which is specified in the gs_joincluster command.</p>
<p>The number of nodes already participating in a cluster and the number of nodes constituting a cluster can be checked by executing a gs_stat command on the master node, with the values being /cluster/activeCount and /cluster/designatedCount respectively.</p>
<p>The main procedure to create/change a cluster configuration is shown below for reference purposes.  See the following sections for details of each command.</p>
<ul>
<li>
<p>To compose a cluster</p>
<ul>
<li>1. Start all nodes joining the cluster (gs_startnode command execution).</li>
<li>2. Specify the number of nodes constituting a cluster and cluster name for all nodes and attach them (join) to the cluster (gs_joincluster command execution).</li>
<li>3. When Step 1) and 2) are completed, the master node is determined and service will be started.</li>
<li>4. Check the cluster configuration status (gs_config command execution).</li>
</ul>
</li>
<li>
<p>To make a node stop</p>
<ul>
<li>1. Detach the node to stop from the cluster configuration (gs_leavecluster command execution).</li>
<li>2. Stop the node (gs_stopnode command execution).</li>
</ul>
</li>
<li>
<p>To stop a cluster</p>
<ul>
<li>1. Stop the cluster and let all the nodes leave the cluster configuration (gs_stopcluster command execution).</li>
<li>2. Stop each node when stopping all the nodes instead of just the cluster (gs_stopnode command execution).</li>
</ul>
</li>
<li>
<p>To restart a cluster</p>
<ul>
<li>1. Start a stopped node if the node has been stopped (gs_startnode command execution).</li>
<li>2. Attach (join) all nodes constituting the cluster to the cluster (gs_joincluster command execution).</li>
<li>3. Check the cluster configuration status (gs_config command execution).</li>
</ul>
</li>
<li>
<p>To add a node to a cluster in operation without stopping it</p>
<ul>
<li>1. Specify the destination cluster and attach (join) the nodes to the cluster (gs_appendcluster command execution).</li>
<li>2. Check the cluster configuration status (gs_config command execution).</li>
</ul>
</li>
<li>
<p>To remove a node from a cluster</p>
<ul>
<li>1. Detach the node from the cluster (gs_leavecluster command execution).</li>
<li>2. Check the cluster configuration status (gs_config command execution).</li>
</ul>
</li>
</ul>
<h2 id="startingstopping-a-node">Starting/stopping a node</h2>
<h3 id="starting-a-node">Starting a node</h3>
<p>Execute the GridDB start node command on the machine executing the node. This command needs to be executed for each GridDB node.</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_startnode</td>
<td>[-w|&ndash;wait [&lt;No. of sec&gt;] -u &lt;User name&gt;/&lt;Password&gt;]<br>[&ndash;releaseUnusedFileBlocks] <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>--releaseUnusedFileBlocks</td>
<td>Deallocate unused file blocks.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>Specify the user name and password with -u option. If omitted, <a href="#preparing_to_use_the_service">start configuration file</a> will be referred.
<ul>
<li>If the specified user name or password is invalid, an authentication error occurs.</li>
</ul>
</li>
<li>By waiting for start completion with -w option, the following gs_joincluster command can be executed safely.
<ul>
<li>Start completion means that the recovery of the database is completed.</li>
</ul>
</li>
<li>See the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a> for details of the &ndash;releaseUnusedFileBlocks option.</li>
</ul>
<h3 id="stopping-a-node">Stopping a node</h3>
<p>The following command is used to stop the GridDB node. To stop a node, the GridDB cluster management process needs to be stopped first.</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_stopnode</td>
<td>[-f|&ndash;force]<br>[-k|&ndash;kill]<br>[-w|&ndash;wait [&lt;No. of sec&gt;]]<br>[-s &lt;Server&gt;[:&lt;Port no.&gt;] | -p &lt;Port no.&gt;]<br>-u &lt;User name&gt;/&lt;Password&gt; <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>-f&ndash;force</td>
<td>Stop a node by force.</td>
</tr>
<tr>
<td>-k&ndash;kill</td>
<td>Force the node process of a local machine to stop.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>When stopping a specific node, the node cannot be stopped if it is joined to the cluster configuration. Stop the node after its detachment from the cluster (gs_leavecluster).</li>
<li>When stopping all nodes, stop the GridDB cluster management process (gs_stopcluster) first and then stop the nodes in sequence.</li>
<li>When a node is stopped, it may take a while for the process to be actually terminated due to the checkpoint process. Wait for a while until the node has stopped completely.</li>
<li>Although a node can be forced to stop by specifying a &ndash;force option or &ndash;kill option, there is a risk that data may be lost.</li>
<li>The node process of a remote machine cannot be stopped with the &ndash;kill option.</li>
</ul>
<h2 id="user-management">User management</h2>
<p>The user management is used to perform registration/deletion/password change for GridDB administrator user.</p>
<p>The default user below exists after installation.</p>
<ul>
<li>Default user
<table>
<thead>
<tr>
<th>User</th>
<th>&lt;Password&gt;</th>
<th>Use case example</th>
</tr>
</thead>
<tbody>
<tr>
<td>admin</td>
<td>admin</td>
<td>Operation administrator user, for executing operation commands</td>
</tr>
<tr>
<td>system</td>
<td>manager</td>
<td>Application user, for client operation</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Notes]</p>
<ul>
<li>A GridDB user is different from an OS user.</li>
<li>In order to use it for authentication purposes in the client, the same user data needs to be registered in all the nodes constituting the cluster.  Copy the user definition file etc. so that the same user data will be referenced by all the nodes.  The default file is as shown below.
<ul>
<li><code>/var/lib/gridstore/conf/password</code></li>
</ul>
</li>
<li>When user registration/deletion/password change is carried out, distribute the revised user definition file to all the nodes, stop the cluster, restart the nodes, and then recompose the cluster.</li>
</ul>
<h3 id="registration-of-administrator-user">Registration of administrator user</h3>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_adduser</td>
<td>&lt;User name&gt;<br>[-p|&ndash;password &lt;Password&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;User name&gt;</td>
<td>Specify the name of the user to be created. The username should start with &ldquo;gs#&rdquo;, and only one or more ASCII alphanumeric characters and the underscore sign &ldquo;_&rdquo; can be used after &ldquo;gs#&rdquo;.</td>
</tr>
<tr>
<td>-p</td>
<td>&ndash;password &lt;Password&gt;</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>Execute as an OS user gsadm.</li>
<li>The password is encrypted during registration.</li>
<li>When an administration user is registered, distribute the user definition file of the node which executed the command to all the nodes, stop the cluster, restart the nodes, and then recompose the cluster.</li>
<li>Only &ldquo;admin&rdquo;, &ldquo;system&rdquo; can be re-registered even after they are deleted.</li>
</ul>
<p>[Example]</p>
<ul>
<li>
<p>Add an administrator user (&ldquo;user name (gs#someone)&rdquo;, &ldquo;password (opensesame)&rdquo;) to the user definition file.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_adduser -p opensesame gs#someone
$ gs_stopcluster -u admin/admin
Execute the following in all the nodes
$ gs_stopnode -u admin/admin
$ cp [User definition file with additional users] /var/lib/gridstore/conf/password
$ gs_startnode
$ gs_joincluster -c clsA  -n XX -u admin/admin
</code></pre></li>
</ul>
<h3 id="deletion-of-administrator-user">Deletion of administrator user</h3>
<ul>
<li>Command
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_deluser</td>
<td>&lt;User name&gt;</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>Execute as an OS user gsadm.</li>
<li>When an administration user is deleted, distribute the user definition file of the node which executed the command to all the nodes, stop the cluster, restart the nodes, and then recompose the cluster.</li>
</ul>
<p>[Example]</p>
<ul>
<li>
<p>Delete the specified administrator user (gs#someone).</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_deluser gs#someone
$ gs_stopcluster -u admin/admin    
Execute the following in all the nodes
$ gs_stopnode -u admin/admin
$ cp [User definition file with deleted users] /var/lib/gridstore/conf/password
$ gs_startnode
$ gs_joincluster -c clsA  -n XX -u admin/admin
</code></pre></li>
</ul>
<h3 id="update-password">Update password</h3>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_passwd</td>
<td>&lt;User name&gt;<br>[-p|&ndash;password &lt;Password&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;User name&gt;</td>
<td>The name of the administrator user whose password is going to be changed.</td>
</tr>
<tr>
<td>-p</td>
<td>&ndash;password &lt;Password&gt;</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>Execute as an OS user gsadm.</li>
<li>The password is encrypted during registration.</li>
<li>When the password of an administration user is changed, distribute the user definition file of the node which executed the command to all the nodes, stop the cluster, restart the nodes, and then recompose the cluster.</li>
</ul>
<p>[Example]</p>
<ul>
<li>
<p>Change the password of a specified administrator user (&ldquo;user name (gs#someone)&rdquo;) to foobarxyz.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_passwd -p foobarxyz gs#someone
$ gs_stopcluster -u admin/admin    
Execute the following in all the nodes
$ gs_stopnode -u admin/admin
$ cp [Revised user definition file] /var/lib/gridstore/conf/password
$ gs_startnode
$ gs_joincluster -c clsA  -n XX -u admin/admin
</code></pre></li>
</ul>
<h2 id="cluster-management">Cluster management</h2>
<h3 id="joining-a-cluster-configuration">Joining a cluster configuration</h3>
<p>When composing a GridDB cluster, the nodes need to be attached (joined) to the cluster.</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_joincluster</td>
<td>[-c|&ndash;clusterName &lt;Cluster name&gt;]<br>[-n|&ndash;nodeNum &lt;No. of nodes constituting a cluster&gt;]<br>[-w|&ndash;wait [&lt;No. of sec&gt;]]<br>[-s &lt;Server&gt;[:&lt;Port no.&gt;]| -p &lt;Port no.&gt;]<br>-u &lt;User name&gt;/&lt;Password&gt; <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>-c|&ndash;clusterName &lt;Cluster name&gt;</td>
<td>Specify the cluster name. Default value is &ldquo;defaultCluster&rdquo;.</td>
</tr>
<tr>
<td>-n|&ndash;nodeNum &lt;No. of nodes constituting a cluster&gt;</td>
<td>Specify the number of nodes of the cluster to be composed. Default value is 1 (single node configuration).</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li><strong>It is recommended to use a different cluster name than the default.</strong></li>
<li>If the cluster name of the cluster definition file (<code>/cluster/clusterName</code> ) has been set up, an error will occur if the specified cluster name does not match the value set.</li>
<li>When attaching a new node to a stable cluster, use the node expansion command (gs_appendcluster).</li>
<li>When composing a cluster by attaching a node to the cluster from a specific machine, use the -w option to wait for the process to complete.</li>
<li>If a large scale expansion is required, stop the cluster once and then reconstitute the cluster with the new set of nodes.</li>
</ul>
<p>[Example] Compose a 3-node cluster with the cluster name &ldquo;example_three_nodes_cluster&rdquo; using node A - C</p>
<ul>
<li>
<p>Start the nodes constituting the cluster and attach them to the cluster.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">Execute on node A
$ gs_startnode
$ gs_joincluster -c example_three_nodes_cluster -n 3 -u admin/admin -w
Execute on node B
$ gs_startnode
$ gs_joincluster -c example_three_nodes_cluster -n 3 -u admin/admin -w
Execute on node C
$ gs_startnode
$ gs_joincluster -c example_three_nodes_cluster -n 3 -u admin/admin -w
</code></pre></li>
<li>
<p>Node commencement is done separately in each of the nodes (as shown above) and node entry is performed from a specific node (as shown below).</p>
<pre tabindex="0"><code class="language-example" data-lang="example">Execute on node A - C respectively
$ gs_startnode
Execute on node A
$ gs_joincluster -c example_three_nodes_cluster -n 3 -s &lt;node B&#39;s server address&gt; -u admin/admin
$ gs_joincluster -c example_three_nodes_cluster -n 3 -s &lt;node C&#39;s server address&gt; -u admin/admin
$ gs_joincluster -c example_three_nodes_cluster -n 3 -u admin/admin -w
</code></pre></li>
</ul>
<h3 id="leaving-a-cluster-configuration">Leaving a cluster configuration</h3>
<p>The following command is used to detach a node from a cluster.</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_leavecluster</td>
<td>[-f | &ndash;force]<br>[-w | &ndash;wait [&lt;No. of sec&gt;]]<br>[-s &lt;Server&gt;[:&lt;Port no.&gt;] | -p &lt;Port no.&gt;]<br>-u &lt;User name&gt;/&lt;Password&gt;<br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>-f&ndash;force</td>
<td>Detach a node by force.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>
<p>Use the cluster stop command (gs_stopcluster) to stop a cluster with a single node configuration.</p>
</li>
<li>
<p>If there is a risk of data loss, the node cannot leave the cluster.</p>
<ul>
<li>Use the &ndash;force option to force the node to leave the cluster.  <strong>Stop the cluster first to detach the node safely off of the cluster.</strong></li>
</ul>
</li>
<li>
<p>A cluster will be stopped automatically if the number of nodes participating in a cluster is reduced to less than half the number of nodes constituting the cluster due to nodes leaving the cluster.</p>
</li>
<li>
<p><strong>When stopping the cluster, execute the gs_stopcluster command, instead of executing gs_leavecluster command for each node.</strong>
you do not stop the cluster with the gs_stopcluster command, autonomous data arrangement may occur due to node leaving.
If data relocation happens frequently, network or disk I/O may become a load.
If you leave the node after stopping the cluster, data arrangement will not occur. To prevent unnecessary data arrangement, be sure to stop the cluster.
To stop the cluster, execute an operating command gs_stopcluster, integrated operation control gs_admin, gs_sh, etc.</p>
</li>
</ul>
<p>[Example]</p>
<ul>
<li>
<p>Execute a leave cluster command on the node that you want to detach from the cluster.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_leavecluster -u admin/admin
</code></pre></li>
</ul>
<h3 id="stop-all-clusters">Stop all clusters</h3>
<p>The following command is used to stop a cluster.</p>
<ul>
<li>Command
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_stopcluster</td>
<td>[-w|&ndash;wait [&lt;No. of sec&gt;]]<br>[-s &lt;Server&gt;[:&lt;Port no.&gt;] | -p &lt;Port no.&gt;]<br>-u &lt;User name&gt;/&lt;Password&gt;<br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>To confirm that a cluster has come to a complete stop, check the status of all nodes constituting the cluster.</li>
<li>To detach a node from a cluster not in operation, use the leave cluster command (gs_leavecluster).</li>
</ul>
<p>[Example]</p>
<ul>
<li>
<p>Execute a cluster stop command.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_stopcluster -u admin/admin
</code></pre></li>
</ul>
<h3 id="getting-cluster-configuration-data">Getting cluster configuration data</h3>
<p>The following command is used to get the cluster configuration data (data on list of nodes joined to a cluster).</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_config</td>
<td>[-s &lt;Server&gt;[:&lt;Port no.&gt;]| -p &lt;Port no.&gt;]<br>-u &lt;User name&gt;/&lt;Password&gt;<br>[-a|&ndash;address-type &lt;Address type&gt;] <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a | &ndash;address-type &lt;Address type&gt;</td>
<td>Specify the service type of the port, address to display. <br>system: Connection address of operating command<br>cluster: Reception address used for cluster administration<br>transaction: Reception address for transaction process<br>sync: Reception address used for synchronization process</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>Address and port information of &ldquo;master&rdquo; (master node), &ldquo;follower&rdquo; (follower node), &ldquo;self&rdquo; (node which executed the command) will be displayed.</li>
<li>Address and port information for multicast distribution to the clients will be displayed in &ldquo;multicast&rdquo;.</li>
<li>The system status (status) will be one of the following.
<ul>
<li>INACTIVE: Stop</li>
<li>ACTIVATING: Start operation</li>
<li>ACTIVE: In operation</li>
<li>DEACTIVATING: Start stop</li>
<li>ABNORMAL: Abnormal stop</li>
<li>NORMAL_SHUTDOWN: Start normal shutdown</li>
</ul>
</li>
</ul>
<p>[Example]</p>
<ul>
<li>
<p>The following data is output when the cluster is composed of 3 nodes and cluster configuration data is acquired from the master.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_config -u admin/admin
{
    &#34;follower&#34;: [                       // [array] follower data
        {
            &#34;address&#34;: &#34;192.168.11.10&#34;, //   [string] connection address of operating command
            &#34;port&#34;: 10040               //   [number] connection port of operating command
        },
        {
           &#34;address&#34;: &#34;192.168.11.11&#34;,
           &#34;port&#34;: 10040
        }
    ],
    &#34;master&#34;: {                         // master data
        &#34;address&#34;: &#34;192.168.11.12&#34;,     //   [string] connection address of operating command
        &#34;port&#34;: 10040                   //   [number] connection port of operating command
    },
    &#34;multicast&#34;: {                      // multicast data
        &#34;address&#34;: &#34;239.0.0.20&#34;,        //   [string] address for multi-cast distribution to client
        &#34;port&#34;: 31999                   //   [number] Port for multi-cast distribution to client
    },
    &#34;self&#34;: {                           // own node data
        &#34;address&#34;: &#34;192.168.11.12&#34;,     //   [string] connection address of operating command
        &#34;port&#34;: 10040,                  //   [number] connection port of operating command
        &#34;status&#34;: &#34;ACTIVE&#34;              //   [string] system status
    }
}
</code></pre></li>
</ul>
<h3 id="getting-node-status">Getting node status</h3>
<p>The following command gets the cluster data (cluster configuration data and internal data), or backup progress status.</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_stat</td>
<td>[-t|&ndash;type &lt;Type&gt;]<br>[-a|&ndash;address-type &lt;Address type&gt;]<br>[&ndash;member]<br>[&ndash;csv]<br>[-s &lt;Server&gt;[:&lt;Port no.&gt;]| -p &lt;Port no.&gt;]<br>-u &lt;User name&gt;/&lt;Password&gt; <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>-t|&ndash;type &lt;Type&gt;</td>
<td>Display data of the specified type. <br>backup: Display the backup status</td>
</tr>
<tr>
<td>-a | &ndash;address-type &lt;Address type&gt;</td>
<td>Specify the service type of the port, address to display. <br>system: Connection address of operating command<br>cluster: Reception address used for cluster administration<br>transaction: Reception address for transaction process<br>sync: Reception address used for synchronization process</td>
</tr>
<tr>
<td>&ndash;csv</td>
<td>Cluster information is displayed in CSV format.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>The cluster status (/cluster/clusterStatus) will be one of the following.
<ul>
<li>MASTER: Master</li>
<li>SUB_MASTER: Sub-master</li>
<li>FOLLOWER: Follower</li>
<li>SUB_FOLLOWER: Sub-follower</li>
<li>SUB_CLUSTER: cluster is not in operation</li>
</ul>
</li>
<li>The system status (/cluster/nodeStatus) will be one of the following.
<ul>
<li>INACTIVE: Stop</li>
<li>ACTIVATING: Start operation</li>
<li>ACTIVE: In operation</li>
<li>DEACTIVATING: Start stop</li>
<li>ABNORMAL: Abnormal stop</li>
<li>NORMAL_SHUTDOWN: Start normal shutdown</li>
</ul>
</li>
<li>The name of the backup process under execution or last executed is displayed in the backup status (/checkpoint/mode).
<ul>
<li>-: Completed or not in operation</li>
<li>NORMAL_CHECKPOINT: Periodic checkpoint</li>
<li>REQUESTED_CHECKPOINT: Manual checkpoint</li>
<li>BACKUP: Full backup</li>
<li>RECOVERY_CHECKPOINT: Checkpoint (during recovery)</li>
<li>SHUTDOWN_CHECKPOINT: Checkpoint (during shutdown)</li>
<li>INCREMENTAL_BACKUP_LEVEL_0: baseline of differential/incremental backup</li>
<li>INCREMENTAL_BACKUP_LEVEL_1_CUMULATIVE: differential backup</li>
<li>INCREMENTAL_BACKUP_LEVEL_1_DIFFERENTIAL: Incremental backup</li>
</ul>
</li>
</ul>
<p>[Example]</p>
<ul>
<li>
<p>The following data is output when cluster data is acquired by nodes joined to the cluster in operation.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_stat -u admin/admin
{
                
                
    &#34;cluster&#34;: {
        &#34;activeCount&#34;: 1,
        &#34;clusterName&#34;: &#34;defaultCluster&#34;,
        &#34;clusterStatus&#34;: &#34;MASTER&#34;,
        &#34;designatedCount&#34;: 1,
        &#34;loadBalancer&#34;: &#34;ACTIVE&#34;,
        &#34;master&#34;: {
            &#34;address&#34;: &#34;192.168.10.11&#34;,
            &#34;port&#34;: 10010
        },
        &#34;nodeList&#34;: [
            {
                &#34;address&#34;: &#34;192.168.10.11&#34;,
                &#34;port&#34;: 10010
            }
        ],
        &#34;nodeStatus&#34;: &#34;ACTIVE&#34;,
        &#34;partitionStatus&#34;: &#34;NORMAL&#34;,
        &#34;startupTime&#34;: &#34;2014-08-29T09:56:20+0900&#34;,
        &#34;syncCount&#34;: 3
    },
                
                
}
</code></pre></li>
</ul>
<h3 id="adding-a-node-to-a-cluster">Adding a node to a cluster</h3>
<p>Add a new node to a cluster in operation.</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_appendcluster</td>
<td>&ndash;cluster &lt;Server&gt;:&lt;Port no.&gt;<br>[-w|&ndash;wait [&lt;No. of sec&gt;]]<br>[-s &lt;Server&gt;[:&lt;Port no.&gt;] | -p &lt;Port no.&gt;]<br>-u &lt;User name&gt;/&lt;Password&gt; <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>--cluster &lt;Server&gt;:&lt;Port no.&gt;</td>
<td>Specify the server name (address) and port no. of the node to be added to the cluster.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>It runs only when the cluster is running and it is in stable state.</li>
<li>If a large scale expansion is required, stop the cluster once and then reconstitute the cluster with the new set of nodes.</li>
<li>When expanding a cluster with a single node configuration that is in operation, stop the cluster once first before re-composing the cluster.</li>
</ul>
<p>[Example]</p>
<ul>
<li>
<p>Add a new node to a cluster in operation.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">Check the status of the cluster to add the nodes
$ gs_stat -s 192.168.33.29:10040  -u admin/admin
{
        :
    &#34;cluster&#34;:{                                 //cluster-related
        &#34;activeCount&#34;:5,                        //number of nodes already participating in a cluster
        &#34;clusterName&#34;:&#34;function_1&#34;,             //cluster name
        &#34;clusterStatus&#34;:&#34;MASTER&#34;,               //cluster status
        &#34;designatedCount&#34;:5,                    //number of nodes constituting a cluster
        :
}
Check that the number of nodes = number of nodes already participating in a cluster
If the number of nodes constituting a cluster\&gt; number of nodes already participating in a cluster, execute a gs_joincluster (add node to cluster configuration)

Start the node you want to add and specify the server address and port no. of the node joined to the cluster in operation.
$ gs_startnode
$ gs_appendcluster --cluster 192.168.33.29:10040 -u admin/admin

Check the cluster status to see if the node has been added successfully to the cluster.
$ gs_stat  -u admin/admin
{
        :
    &#34;cluster&#34;:{                                 //cluster-related
        &#34;activeCount&#34;:6,                        //number of nodes already participating in a cluster
        &#34;clusterName&#34;:&#34;function_1&#34;,             //cluster name
        &#34;clusterStatus&#34;:&#34;MASTER&#34;,               //cluster status
        &#34;designatedCount&#34;:6,                    //number of nodes constituting a cluster
        :
}
</code></pre></li>
</ul>
<h3 id="manual-failover-of-a-cluster">Manual failover of a cluster</h3>
<p>The following command is used to execute GridDB cluster failover.</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_failovercluster</td>
<td>[&ndash;repair]<br>[-s &lt;Server&gt;[:&lt;Port no.&gt;] | -p &lt;Port no.&gt;]<br>-u &lt;User name&gt;/&lt;Password&gt; <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>--repair</td>
<td>Accept the data lost and execute a forced failover.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>This command can only be executed when the cluster is in operation.</li>
<li>Basically, the command is valid in the following cases as the cluster algorithm will be executed as a normal process.
<ul>
<li>The user detects a cluster error and executes a failover immediately.</li>
<li>At the end of the data recovery from the backup data, database recovery will be deemed to be complete and the system will be started even if the partition LSN maintained by the cluster is younger than the final update LSN (Permit data lost).</li>
</ul>
</li>
</ul>
<p>[Example]</p>
<ul>
<li>
<p>Execute a cluster failover.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_failovercluster -u admin/admin
</code></pre></li>
</ul>
<h3 id="getting-partition-data">Getting partition data</h3>
<p>The following command is used to display the partition data of a GridDB node.</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_partition</td>
<td>[[-n|&ndash;partitionId &lt;Partition ID&gt;]<br>[&ndash;loss]<br>[-a|&ndash;address-type &lt;Address type&gt;]<br>[-s &lt;Server&gt;[:&lt;Port no.&gt;] | -p &lt;Port no.&gt;]<br>-u &lt;User name&gt;/&lt;Password&gt; <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>-n|&ndash;partitionId &lt;Partition ID&gt;</td>
<td>Specify the partition ID to display data. (Display all data by default)</td>
</tr>
<tr>
<td>&ndash;loss</td>
<td>Display only data from missing partitions.</td>
</tr>
<tr>
<td>-a | &ndash;address-type &lt;Address type&gt;</td>
<td>Specify the service type of the port, address to display.  <br>system: Connection address of operating command<br>cluster: Reception address used for cluster administration<br>transaction: Reception address for transaction process<br>sync: Reception address used for synchronization process</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>&ndash; The loss option can be used only while a cluster is working.</li>
<li>Missing partitions are partitions that cannot be accessed, including those holding replicas.</li>
</ul>
<p>[Example]</p>
<ul>
<li>
<p>Get the partition data of a specific node of a cluster in operation.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_partition -u admin/admin
[
    {
        &#34;backup&#34;: [],
        &#34;catchup&#34;: [],
        &#34;maxLsn&#34;: 300008,
        &#34;owner&#34;: {
            &#34;address&#34;: &#34;192.168.11.10&#34;,
            &#34;lsn&#34;: 300008,
            &#34;port&#34;: 10010
        },
        &#34;pId&#34;: &#34;0&#34;,
        &#34;status&#34;: &#34;ON&#34;
    },
        
]
</code></pre></li>
</ul>
<h3 id="increasing-the-no-of-nodes-of-the-cluster">Increasing the no. of nodes of the cluster</h3>
<p>Increase the no. of nodes of the GridDB cluster.</p>
<ul>
<li>Command
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_increasecluster</td>
<td>[-s &lt;Server&gt;[:&lt;Port no.&gt;] | -p &lt;Port no.&gt;]<br>-u &lt;User name&gt;/&lt;Password&gt; <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>It runs only when the cluster is running and it is in stable state. Therefore, when adding a node to an active cluster, it is necessary to add one at a time.</li>
<li>If you want to perform a large-scale expansion, stop the cluster and then reconfigure the cluster by specifying the number of expanded nodes as the number of initial configuration nodes.</li>
<li>When a cluster is expanded by this command, if there is a node to be expanded, that node will join to the cluster. If there are multiple nodes to be added, one of the nodes will join to the cluster.</li>
<li>If the node to be expanded is not present and the cluster is expanded by this command, if the node to be expanded is specified, that node will join to the cluster.</li>
<li>It is not possible to extend a single node configuration cluster while it is running. Please reconfigure the cluster after stopping the cluster.</li>
</ul>
<p>[Example]</p>
<ul>
<li>
<p>Increase the no. of nodes of the GridDB cluster and append node to the cluster.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">Confirm the cluster status.
$ gs_stat -s 192.168.33.29:10040  -u admin/admin
{
        :
    &#34;cluster&#34;:{                                 //cluster-related
        &#34;activeCount&#34;:5,                        //number of nodes already participating in a cluster
        &#34;clusterName&#34;:&#34;function_1&#34;,             //cluster name
        &#34;clusterStatus&#34;:&#34;MASTER&#34;,               //cluster status
        &#34;designatedCount&#34;:5,                    //number of nodes constituting a cluster
        :
}
Check that the number of nodes = number of nodes already participating in a cluster

Start the node to be expanded, execute the gs_joincluster command with the no. of nodes after expansion (6 nodes).
$ gs_startnode -u admin/admin -w
$ gs_joincluster -u admin/admin -c function_1 -n 6

Execute the gs_increasecluster for the cluster to be expanded.
$ gs_increasecluster -s 192.168.33.29:10040 -u admin/admin

Confirm that the node to be expanded has been added to the cluster.
$ gs_stat  -u admin/admin
{
        :
    &#34;cluster&#34;:{                                 //cluster-related
        &#34;activeCount&#34;:6,                        //number of nodes already participating in a cluster
        &#34;clusterName&#34;:&#34;function_1&#34;,             //cluster name
        &#34;clusterStatus&#34;:&#34;MASTER&#34;,               //cluster status
        &#34;designatedCount&#34;:6,                    //number of nodes constituting a cluster
        :
}
</code></pre></li>
</ul>
<p><a id="set_up_autonomous_data_redistribution_of_a_cluster"></a></p>
<h3 id="set-up-autonomous-data-redistribution-of-a-cluster">Set up autonomous data redistribution of a cluster</h3>
<p>Enable/disable autonomous data redistribution of a GridDB cluster, or display the setting.  As in the case of stopping nodes and rejoining them in a cluster for rolling upgrade, by disabling autonomous data redistribution, you can eliminate redundant redistribution processing and reduce the load on the operations.</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_loadbalance</td>
<td>[&ndash;on|&ndash;off] [&ndash;cluster]<br>[-s &lt;Server&gt;[:&lt;Port no.&gt;] | -p &lt;Port no.&gt;]<br>-u &lt;User name&gt;/&lt;Password&gt; <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&ndash;on&ndash;off</td>
<td>Enable (&ndash;on) or Disable (&ndash;off) autonomous data redistribution. <br>If these options are omitted, the current setting value is displayed.</td>
</tr>
<tr>
<td>&ndash;cluster</td>
<td>The setting is applied to all nodes of the cluster by specifying this option. <br>If this option is omitted, the setting is applied to only the specified node.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>When you disable the autonomous data redistribution, you have to restore the setting to enable it again later.  While it is not active, data replication is not performed so that the availability against node failure becomes lower.</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">Confirm the settings of autonomous data redistribution on all nodes in a cluster.
$ gs_loadbalance -s 192.168.33.29:10040  -u admin/admin --cluster
192.168.33.29 ACTIVE
192.168.33.30 ACTIVE
192.168.33.31 ACTIVE

Disable the setting of the node, &#34;192.168.33.31&#34;.
$ gs_loadbalance -s 192.168.33.31:10040  -u admin/admin --off
</code></pre><h3 id="set-up-data-redistribution-goal-of-a-cluster">Set up data redistribution goal of a cluster</h3>
<p>Enabled/disable GridDB autonomous data redistribution, display the present data redistribution goal, and manual setting.
These commands are used during rolling upgrades, to detach the node safely off the cluster.</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_goalconf</td>
<td>[&ndash;on|&ndash;off] [&ndash;cluster]<br>[-s &lt;Server&gt;[:&lt;Port no.&gt;] | -p &lt;Port no.&gt;]<br>-u &lt;User name&gt;/&lt;Password&gt; <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_goalconf</td>
<td>&ndash;manual [[&ndash;set JSON_FILE | &ndash;switch PARTITION_ID | &ndash;leaveNode HOST[:PORT]] [&ndash;cluster]]<br>[-s &lt;Server&gt;[:&lt;Port no.&gt;] | -p &lt;Port no.&gt;]<br>-u &lt;User name&gt;/&lt;Password&gt; <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&ndash;on&ndash;off</td>
<td>Enable (&ndash;on) or disable (&ndash;off) autonomous data redistribution. <br>If these options are omitted, the current setting value is displayed.</td>
</tr>
<tr>
<td>&ndash;cluster</td>
<td>The setting is applied to all nodes of the cluster by specifying this option. <br>If this option is omitted, the setting is applied to only the specified node.</td>
</tr>
<tr>
<td>&ndash;manual</td>
<td>Display the present data redistribution goal. When setting up a data redistribution goal, specify also one of the following options: set, switch, or leaveNode.</td>
</tr>
<tr>
<td>&ndash;set JSON_FILE</td>
<td>Set the specified JSON file as a data redistribution goal.</td>
</tr>
<tr>
<td>&ndash;switch PARTITION_ID</td>
<td>Set a data redistribution goal with the owner and the backup of specified partition ID replaced with each other.</td>
</tr>
<tr>
<td>&ndash;leaveNode HOST[:PORT]</td>
<td>Set a data redistribution goal with the owner and the backup of all the specified nodes replaced with each other.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">Confirm the settings of autonomous data redistribution on all nodes in a cluster.
$ gs_goalconf -s 192.168.33.29:10040  -u admin/admin --cluster
192.168.33.29 ACTIVE
192.168.33.30 ACTIVE
192.168.33.31 ACTIVE

Disable the setting of the node, &#34;192.168.33.31&#34;.
$ gs_goalconf -s 192.168.33.31:10040  -u admin/admin --off

Set up the data redistribution goal to leave the node of &#34;192.168.33.31&#34; for all the nodes in a cluster.
$ gs_goalconf -u admin/admin --manual --leaveNode 192.168.33.31 --cluster
Switching 43 owners to backup on 192.168.33.31:10040 ...
Setting goal requests have been sent. Sync operations will be started when loadbalancer is active.
</code></pre><h3 id="controlling-the-checkpoint">Controlling the checkpoint</h3>
<p>Enable/disable the periodic checkpoint of a GridDB node, or execute manual checkpoint.</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_checkpoint</td>
<td>[&ndash;on|&ndash;off] | [&ndash;manual [-w|&ndash;wait [No. of sec]]]<br>[-s &lt;Server&gt;[:&lt;Port no.&gt;] | -p &lt;Port no.&gt;]<br>-u &lt;User name&gt;/&lt;Password&gt; <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&ndash;on&ndash;off</td>
<td>Enable (&ndash;on) or Disable (&ndash;off) the periodic checkpoint. <br>If these options are omitted, the current setting value is displayed.</td>
</tr>
<tr>
<td>&ndash;manual</td>
<td># Perform the manual checkpoint and wait to complete.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>In operation, in case of disabling the periodic checkpoint temporarily, please be sure to re-enable it. While it is disabled, the size of transaction log file become larger and the time of backup operation or the time of recovery operation when restarting gets longer.</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">Disable the periodic checkpoint
$ gs_checkpoint -u admin/admin --off

Perform the manual checkpoint and wait to complete.
$ gs_checkpoint -u admin/admin --manual -w
...
The manual checkpoint has been completed.

Re-enable the periodic checkpoint
$ gs_checkpoint -u admin/admin --on
</code></pre><h2 id="log-data">Log data</h2>
<h3 id="displaying-recent-event-logs">Displaying recent event logs</h3>
<p>The following command is used to get the most recent GridDB event log.</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_logs</td>
<td>[-l | &ndash;lines &lt;No. of rows acquired&gt;]<br>[-g | &ndash;ignore &lt;Exclusion key word&gt;]<br>[-s &lt;Server&gt;[:&lt;Port no.&gt;] | -p &lt;Port no.&gt;]<br>[&ndash;tracestats] [&ndash;slowlogs] [&ndash;csv]<br>-u &lt;User name&gt;/&lt;Password&gt;<br>[&lt;First key word&gt; [&lt;Second key word&gt;]] <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>-l|&ndash;lines &lt;No. of rows acquired&gt;</td>
<td>Specify the no. of rows to acquire.</td>
</tr>
<tr>
<td>-g|&ndash;ignore &lt;Exclusion key word&gt;</td>
<td>Ignore rows that include exclusion key words.</td>
</tr>
<tr>
<td>&ndash;tracestats</td>
<td>Display the performance trace information in an event log in JSON format.</td>
</tr>
<tr>
<td>&ndash;slowlogs</td>
<td>Display the slow query information in an event log in JSON format.</td>
</tr>
<tr>
<td>&ndash;csv</td>
<td>When specifies with &ndash;tracestats, display the performance trace information in an event log in CSV format. <br>When specifies with &ndash;slowlogs, display the slow query information in an event log in CSV format.</td>
</tr>
<tr>
<td>&lt;First key word&gt; [&lt;Second key word&gt;]</td>
<td>Get only rows that contain the key word.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>Only the information of the latest event log file is displayed. The contents of the old event log files are not displayed.</li>
<li>For the event log function and output format, refer to the event log function in &ldquo;<a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>&rdquo; .</li>
<li>For details of the slow query information, refer to the <a href="../15.md_sql_tuning_guide/md_sql_tuning_guide.md">GridDB SQL Tuning Guide</a>.</li>
</ul>
<p>[Example]</p>
<ul>
<li>
<p>Get logs terminated by the checkpoint 3 times.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_logs -u admin/admin CP_END -l 3
2014-08-04T11:02:52.754+0900 NODE1 1143 INFO CHECKPOINT_SERVICE ../server/checkpoint_service.cpp void CheckpointService::runCheckpoint(EventContext&amp;, int32_t, const std::string&amp;) line=866 : [CP_END] mode=NORMAL_CHECKPOINT, backupPath=, commandElapsedMillis=132
2014-08-04T11:22:54.095+0900 NODE1 1143 INFO CHECKPOINT_SERVICE ../server/checkpoint_service.cpp void CheckpointService::runCheckpoint(EventContext&amp;, int32_t, const std::string&amp;) line=866 : [CP_END] mode=NORMAL_CHECKPOINT, backupPath=, commandElapsedMillis=141
2014-08-04T11:42:55.433+0900 NODE1 1143 INFO CHECKPOINT_SERVICE ../server/checkpoint_service.cpp void CheckpointService::runCheckpoint(EventContext&amp;, int32_t, const std::string&amp;) line=866 : [CP_END] mode=NORMAL_CHECKPOINT, backupPath=, commandElapsedMillis=138
</code></pre></li>
</ul>
<h3 id="displaying-and-changing-the-event-log-output-level">Displaying and changing the event log output level</h3>
<p>The following command is used to display or change the event log output level. Get the list of settings if the argument is not specified.</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_logconf</td>
<td>[-s &lt;Server&gt;[:&lt;Port no.&gt;]| -p &lt;Port no.&gt;]<br>-u &lt;User name&gt;/&lt;Password&gt;<br>[&lt;Category name&gt; &lt;Output level&gt;] <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>[&lt;Category name&gt; &lt;Output level&gt;]</td>
<td>Specify the category name and output level.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>When displaying a list of the event log output level, omit [Category output level] and execute.</li>
<li>All output log data with an output level higher than the level specified will be output. For example, if INFO is set, the INFO, WARNING, and ERROR logs will be output.</li>
<li>A list of the output levels from high to low is shown below.
<ul>
<li>ERROR</li>
<li>WARNING</li>
<li>INFO</li>
<li>DEBUG</li>
</ul>
</li>
<li>When a node is shutdown, settings changed by the executed command will not be saved.</li>
<li>The log output level is either the default value given in gs_node.json of the sample, or a level lower than that is recommended to be set.
See the parameter list of &ldquo;<a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>&rdquo;  for initial values.</li>
</ul>
<p>[Example]</p>
<ul>
<li>
<p>Change the log output level and display the event log status.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_logconf -u admin/admin CHUNK_MANAGER INFO
$ gs_logconf -u admin/admin
{
    &#34;levels&#34;: {
        &#34;CHECKPOINT_SERVICE&#34;: &#34;INFO&#34;,
        &#34;CHECKPOINT_SERVICE_DETAIL&#34;: &#34;ERROR&#34;,
        &#34;CHUNK_MANAGER&#34;: &#34;INFO&#34;,
        &#34;CLUSTER_OPERATION&#34;: &#34;INFO&#34;,
            
            
    }
}
</code></pre></li>
</ul>
<h2 id="backuprestoration">Backup/restoration</h2>
<h3 id="backup">Backup</h3>
<p>The following command is used to get GridDB backup data on a per-node basis while continuing services.</p>
<p>A backup of the entire cluster can be carried out while continuing services by backing up all the nodes constituting the cluster in sequence.</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_backup</td>
<td>&ndash;mode &lt;Mode&gt; [&ndash;skipBaseline]]<br>-u &lt;User name&gt;/&lt;Password&gt;<br>&lt;Backup name&gt; <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&ndash;mode &lt;Mode&gt;</td>
<td>Specify the backup mode. <br>- auto: auto backup_- auto_nostop: auto backup (no Node stop when an error occurs)- baseline: Create a full backup of the differential/incremental backup baseline- since: After creating a baseline, perform a differential backup from the baseline of the updated data blocks- incremental: After creating a baseline, or After the last incremental, since backup, perform an incremental backup of the updated data blocks</td>
</tr>
<tr>
<td>&ndash;skipBaseline</td>
<td>If mode is auto or auto_nostop, omit a baseline backup operation. <br>Otherwise, ignore this option.</td>
</tr>
<tr>
<td>&lt;Backup name&gt;</td>
<td>Specify the directory name of the backup data.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>&lt;mode option&gt;</p>
<ul>
<li>
<p>auto</p>
<ul>
<li>The transaction log file is automatically copied to the backup directory. As such, the user does not need to perform any backup. Note, however, recovery may take a while in the event of an error because backup is performed by capturing the transaction log file. A full backup is recommended to be performed regularly.</li>
</ul>
</li>
<li>
<p>auto_nostop</p>
<ul>
<li>Even if an error occurs in transaction log output at the backup site, the node does not stop while trace log output is generated and a duplicated output is stopped. If auto_nostop is not specified, the node will stop as a system error.</li>
</ul>
</li>
<li>
<p>baseline</p>
<ul>
<li>Create a backup data baseline. In a differential backup, differential data updated from the baseline is backed up.</li>
</ul>
</li>
<li>
<p>since</p>
<ul>
<li>After executing a backup with a specified baseline, updated data will be backed up (differential backup).</li>
</ul>
</li>
<li>
<p>incremental</p>
<ul>
<li>After executing a backup with a specified baseline, or after the last incremental, since backup was executed, updated data blocks will be backed up (incremental backup).</li>
</ul>
</li>
</ul>
<figure>
<img src="img/bkup.png" alt="Backup" width="500"/>
<figcaption>Backup</figcaption>
</figure>
<p>[Memo]</p>
<ul>
<li>Up to 12 alphanumeric characters can be set for the backup name.</li>
<li>See &ldquo;<a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>&rdquo; for the details of backup.</li>
<li>The backup file is created under the backup file directory specified in the node definition file (gs_node.json). It is recommended to store the backup file in a separate physical location from the data directory.</li>
<li>When restoring a GridDB cluster database to the correct status, the backup and restoration processes need to be carried out for the entire cluster.</li>
<li>Control will return after the command is executed but depending on the data size and online processing load, it may take several hours or more for the backup to complete. The progress status of the backup can be acquired with a gs_stat command.</li>
<li>When a backup is performed while the cluster is in operation, the backup may be created with the entire cluster in a non-conforming state if multiple containers have are created. If necessary, ban transaction services so that the backup can be executed in the static state.</li>
<li>In GridDB, data will be automatically re-arranged when a failure occurs. Therefore, if a failure occurs during backup, perform the backup again starting from the first node.</li>
<li>When specifying &ndash;skipBaseline option with the automatic log backup, please take a backup using the other method instead of the online backup function of GridDB.
For details, see the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a> .</li>
</ul>
<p>[Example]</p>
<ul>
<li>
<p>Perform a backup in the node being started</p>
<pre tabindex="0"><code class="language-example" data-lang="example">Check the directory where the backup file is stored (backup directory)
$ cat /var/lib/gridstore/conf/gs_node.json         # configuration check
{
    &#34;dataStore&#34;:{
        &#34;dbPath&#34;:&#34;/var/lib/gridstore/data&#34;,
        &#34;transactionLogPath&#34;:&#34;/var/lib/gridstore/txnlog&#34;,
        &#34;backupPath&#34;:&#34;/var/lib/gridstore/backup&#34;,  # backup directory
        &#34;storeMemoryLimit&#34;:&#34;1024MB&#34;,
        &#34;concurrency&#34;:4,
        &#34;logWriteMode&#34;:1,
        &#34;persistencyMode&#34;:&#34;NORMAL&#34;
            
            
}
Execute backup
$ gs_backup -u admin/admin 20150425        # backup execution

Depending on the data size and load condition, it may take several hours or more for the backup to be completed.
The progress status of the backup can be checked with a gs_stat command.
$ gs_stat -u admin/admin --type backup        
BackupStatus: Processing                          # backup in progress
</code></pre></li>
<li>
<p>The backup status output by gs_stat (BackupStatus) is one of the following.</p>
<ul>
<li>Processing: Full backup execution in progress</li>
<li>Processing (Baseline): Creation of differential/incremental backup baseline in progress (full backup)</li>
<li>Processing (Since): Differential backup in progress</li>
<li>Processing (Incremental): Incremental backup in progress</li>
<li>-: Completed or not in operation</li>
</ul>
</li>
<li>
<p>The following file is created upon executing a backup.</p>
<ul>
<li>Directory specified in BACKUPNAME will be created under the backup directory ( <code>/var/lib/gridstore/backup</code> ).  During a differential/incremental backup, BACKUPNAME_lv0 (baseline directory of differential/incremental backup ), BACKUPNAME_lv1_NNN_MMM (differential (Since) and incremental (Incremental) directory of differential/incremental backup) are created.</li>
<li>The backup files below will be created.
<ul>
<li>data file (m_part_n.dat)</li>
<li>checkpoint log file (m_n.cplog)</li>
<li>transaction log file (m_n.xlog)</li>
<li>backup data file (gs_backup_info.json,gs_backup_info_digest.json)</li>
<li>LSN data file (gs_lsn_info.json)
* m and n denote numerals.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="checking-backup-data">Checking backup data</h3>
<p>The following is used to get a list of the backup data in the backup directory set up in the node definition file (gs_node.json).</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_backuplist</td>
<td>-u &lt;User name&gt;/&lt;Password&gt;<br>[&ndash;partitionId &lt;Partition ID&gt;|&lt;Backup name&gt;] <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>--partitionId &lt;Partition ID&gt;</td>
<td>Display the LSN data of the specified partition in a list.</td>
</tr>
<tr>
<td>&lt;Backup name&gt;</td>
<td>Specify the backup name.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>A list of the backup data can be displayed regardless of the startup status of the nodes. The Status appears as &ldquo;P&rdquo; if the backup process is in progress with the nodes started.</li>
<li>If the status displayed is NG, the backup file may be damaged and so restoration is not possible.</li>
<li>Backup names marked with an &ldquo;*&rdquo; at the start of the name in the list display is differential/incremental backup data.</li>
<li>The status of the differential/incremental backup is always displayed as &ldquo;-&rdquo;. Multiple backups taken in differential/incremental backup can be checked with detailed data specifying the backup name.</li>
</ul>
<p>[Example]</p>
<ul>
<li>
<p>Verify the backup data in the node where you want to check the list of backup data.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">Display the list of backup names.
$ gs_backuplist -u admin/admin

 BackupName   Status  StartTime                 EndTime
-------------------------------------------------------------------------
*201912           --  2019-12-01T05:20:00+09:00 2019-12-01T06:10:55+09:00
*201911           --  2019-11-01T05:20:00+09:00 2019-11-01T06:10:55+09:00
  :
 20191025NO2      OK  2019-10-25T06:37:10+09:00 2019-10-25T06:38:20+09:00


Specify the individual backup name and display the detailed data.
$ gs_backuplist -u admin/admin 201911

BackupName : 201911

BackupData            Status StartTime                 EndTime
--------------------------------------------------------------------------------
201911_lv0                OK 2019-11-01T05:20:00+09:00 2019-11-01T06:10:55+09:00
201911_lv1_000_001        OK 2019-11-02T05:20:00+09:00 2019-11-02T05:20:52+09:00
201911_lv1_000_002        OK 2019-11-03T05:20:00+09:00 2019-11-03T05:20:25+09:00
201911_lv1_000_003        OK 2019-11-04T05:20:00+09:00 2019-11-04T05:20:33+09:00
201911_lv1_000_004        OK 2019-11-05T05:20:00+09:00 2019-11-05T05:21:25+09:00
201911_lv1_000_005        OK 2019-11-06T05:20:00+09:00 2019-11-06T05:21:05+09:00
201911_lv1_001_000        OK 2019-11-07T05:20:00+09:00 2019-11-07T05:22:11+09:00
201911_lv1_001_001        OK 2019-11-08T05:20:00+09:00 2019-11-08T05:20:55+09:00


When investigating the LSN no. of the data maintained in the partition.
$ gs_backuplist -u admin/admin --partitionId=50
 BackupName    ID   LSN
----------------------------------------------------------
*201912        50   2349
*201911        50   118
 20190704      50   0
</code></pre></li>
</ul>
<h3 id="restoration">Restoration</h3>
<p>The following command is used to restore a GridDB backup file.</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_restore</td>
<td>[&ndash;test] [&ndash;updateLogs] &lt;Backup name&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&ndash;test</td>
<td>Get backup data used for restoration purposes without performing a restoration.</td>
</tr>
<tr>
<td>&ndash;updateLogs</td>
<td>If specified, restore only log and json files <br>and overwrite existing files.</td>
</tr>
<tr>
<td>&lt;Backup name&gt;</td>
<td>Specify the directory name of the backup file to restore.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>When restoring data, the node needs to be stopped.</li>
<li>Pay attention to the number of partitions and the parameter value of the processing parallelism in the cluster definition file. Make sure that these configuration values of backup nodes and those of nodes to be restored are the same. If they are not the same, the node cannot start correctly.</li>
<li>If the data file is set to be split, pay attention to the parameter value for the splitting count in the node definition file. Make sure that the backup nodes and the nodes to be restored should have the same number of splitting. If they are not the same, restoration will fail.</li>
<li>If you want to restore the backup state correctly, the backup and restoration tasks need to be carried out for the entire cluster.</li>
<li>For example, even if some of the nodes are restored, these nodes cannot be returned to the state they were in at the time of the backup. After restoration, it is necessary to attach the nodes to the cluster in operation in order to use the data. However, if the data is updated in the cluster after backup, the restored data will be updated by the (updated) cluster data.   In particular, if the cluster configuration has changed from the time the backup was created, there will be no restoration effect. As the data will be autonomously re-arranged if the node is forced to join a cluster, there is a high probability that the data will become invalid even when restored.</li>
<li>If data is missing in the backup data file, or if the contents have been revised, a GridDB node will not be able to start services.</li>
<li>If a signal (Ctrl+C) is sent in the middle of a restoration and the process gets interrupted, the data in the middle of the restoration will be deleted.</li>
</ul>
<p>[Example]</p>
<ul>
<li>
<p>Restore backup data. Execute a restoration with the executing node stopped.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">Move the files in the database file directory
Specify the database file directory with the node definition file (gs_node.json)
$ mv ${GS_HOME}/data/* ${GS_HOME}/temp_db          # Move the data file and the checkpoint log file.
$ mv ${GS_HOME}/txnlog/* ${GS_HOME}/temp_txnlog    # Move the transaction log file.

Check the data to be restored prior to the restoration
$ gs_restore --test 20190901

BackupName : 20190901
BackupFolder : /var/lib/gridstore/backup

RestoreData           Status StartTime                 EndTime
--------------------------------------------------------------------------------
20190901_lv0              OK 2019-09-01T17:50:00+09:00 2019-09-01T17:52:10+09:00
20190901_lv1_001_000      OK 2019-09-02T17:50:00+09:00 2019-09-02T17:50:15+09:00


Execute a restoration
$ gs_restore 20190901                       # restoration
</code></pre></li>
<li>
<p>In this example, when a restore is run, backup files in the 20190901_lv0 directory under the backup directory ( /var/lib/gridstore/backup ) are copied to the database directories (/var/lib/gridstore/data and /var/lib/gridstore/txnlog) first; then, the data in 20190901_lv1_001_000 is copied in the same way.</p>
</li>
<li>
<p>At the end of the restoration, follow the same procedure as a normal start-up to start the restored node and let it join a cluster.</p>
</li>
<li>
<p>After start-up, the database file (backup file group) arranged by the restoration is imported and at the end of the import, the GridDB node starts services.</p>
</li>
</ul>
<h2 id="maintenance">Maintenance</h2>
<h3 id="displaying-and-changing-parameters">Displaying and changing parameters</h3>
<p>The following command is used to display or change the node parameters.</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_paramconf</td>
<td>[-s &lt;Server&gt;[:&lt;Port no.&gt;]| -p &lt;Port no.&gt;]<br>-u &lt;User name&gt;/&lt;Password&gt;<br>&ndash;show [&lt;Parameter name&gt;] | &ndash;set &lt;Parameter name&gt; &lt;Value&gt; <br>[&ndash;ssl&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>--show [&lt;Parameter name&gt;]</td>
<td>Display the specified parameter. If the parameter is not specified in the command, all parameters will be displayed instead.</td>
</tr>
<tr>
<td>--set &lt;Parameter name&gt; &lt;Value&gt;</td>
<td>Change the specified parameter to the specified value.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>
<p>A parameter change (&ndash;set) changes the parameter value of a node in operation dynamically. When a node is shutdown, settings changed by the executed command will not be saved. Since the changes are not perpetuated, update the definition file manually.</p>
</li>
<li>
<p>The following parameters can be specified.</p>
<ul>
<li>storeMemoryLimit: Upper limit of the store memory</li>
<li>traceLimitExecutionTime : Lower limit of execution time of a slow query to write in an event log</li>
<li>traceLimitQuerySize : Upper limit of the query character string size to be regarded as a slow query</li>
</ul>
</li>
<li>
<p>See the parameter list of &ldquo;<a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>&rdquo;
[Example]</p>
</li>
<li>
<p>Change the parameter <code>storeMemoryLimit</code> and display the value.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_paramconf -u admin/admin --set storeMemoryLimit 2048MB
$ gs_paramconf -u admin/admin --show storeMemoryLimit
&#34;2048MB&#34;
</code></pre></li>
<li>
<p>Change the parameter traceLimitExecutionTime and display the value.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_paramconf -u admin/admin --set traceLimitExecutionTime 30s
$ gs_paramconf -u admin/admin --show traceLimitExecutionTime
&#34;30s&#34;
</code></pre></li>
</ul>
<h3 id="managing-user-cache-for-authentication">Managing user cache for authentication</h3>
<p>The following command lists and deletes cache for user information for faster authentication of general users and of LDAP.</p>
<p>For details on the authentication method, see the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a> .</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_authcache</td>
<td>&ndash;show<br>[-s server[:port number]  | -p port number] <br> -u user name/password <br> [&ndash;db database name] <br> [&ndash;username user name ]<br>[&ndash;cluster] <br>[&ndash;ssl-verify]</td>
</tr>
<tr>
<td>gs_authcache</td>
<td>&ndash;clear<br>[-s server[:port number]  | -p port number] <br> -u user name/password <br> &ndash;db database name | &ndash;username user name <br>[&ndash;cluster] <br>[&ndash;ssl-verify]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&ndash;show</td>
<td>Display a list of user information stored in cache.</td>
</tr>
<tr>
<td>&ndash;clear</td>
<td>Delete user information stored in cache.</td>
</tr>
<tr>
<td>&ndash;db</td>
<td>Specify the name of a database where users&rsquo; information stored in cache is to be operated.</td>
</tr>
<tr>
<td>&ndash;username</td>
<td>Specify the user name of the user whose information stored in cache is to be operated.</td>
</tr>
<tr>
<td>&ndash;cluster</td>
<td>The setting is applied to all nodes of the cluster by specifying this option. <br>If this option is omitted, the setting is applied to only the specified node.</td>
</tr>
<tr>
<td>[Memo]</td>
<td></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>If the &ndash;show option is specified but the &ndash;db and &ndash;username options are left unspecified, information on all the users stored in cache will be displayed.</p>
</li>
<li>
<p>&ndash;If the &ndash;clear option is specified, either the &ndash;db option or the &ndash;username option must be specified.</p>
</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">Display a list of information on all the users stored in cache.
$ gs_authcache -u admin/admin --show
{
    &#34;usercache&#34;: [
      {
        &#34;count&#34;: 30,
        &#34;dbname&#34;: &#34;mydb&#34;,
        &#34;username&#34;: &#34;user01&#34;
      },
      {
        &#34;count&#34;: 8,
        &#34;dbname&#34;: &#34;mydb&#34;,
        &#34;username&#34;: &#34;user02&#34;
      },
      
    ]
  }
}
</code></pre><p><a id="griddb_gs_sh"></a></p>
<h2 id="----cluster-operation-control-command-interpreter-gs_sh----">&mdash; Cluster operation control command interpreter (gs_sh) &mdash;</h2>
<h2 id="overview">Overview</h2>
<p>The cluster operation control command interpreter (hereinafter referred to gs_sh) is a command line interface tool to manage GridDB cluster operations and data operations.</p>
<p>The following can be carried out by gs_sh.</p>
<ul>
<li>Operation control of GridDB cluster
<ul>
<li>Definition of GridDB cluster</li>
<li>Starting and stopping a GridDB node and cluster</li>
<li>Displaying status and logs</li>
</ul>
</li>
<li>GridDB cluster data operation
<ul>
<li>Database and user management</li>
<li>Container management</li>
<li>Index setting, deletion</li>
<li>Search using a TQL/SQL</li>
</ul>
</li>
</ul>
<h2 id="using-gs_sh">Using gs_sh</h2>
<h3 id="preliminary-preparations">Preliminary preparations</h3>
<p>Carry out the following preparations before using gs_sh.</p>
<ul>
<li>
<p>GridDB setup</p>
<ul>
<li>Installation of GridDB node and client library</li>
<li>User creation</li>
<li>Network setting (GridDB cluster definition file, node definition file)</li>
</ul>
<p>* For details of the procedure, refer to the &ldquo;Installation of GridDB&rdquo; section of &ldquo;<a href="../2.md_quickstart_guide/md_quickstart_guide.md">GridDB Quickstart Guide</a>&rdquo; .</p>
</li>
<li>
<p>Remote connection setting using SSH</p>
<ul>
<li>This setting is necessary in order to connect to each GridDB node execution environment from the gs_sh execution environment as an OS user &ldquo;gsadm&rdquo;.
* See the manual of each OS for details on the SSH connection procedure.
[Memo]
For Ubuntu Server, add a key exchange algorithm.
<pre tabindex="0"><code class="language-example" data-lang="example">$ vi /etc/ssh/sshd_config
...
Kexalgorithms +diffie-hellman-group14-sha1

$ sudo systemctl reload sshd
</code></pre></li>
</ul>
</li>
</ul>
<h3 id="gs_sh-start-up">gs_sh start-up</h3>
<p>There are two types of start modes in gs_sh.</p>
<ul>
<li>
<p>Startup in interactive mode</p>
<ul>
<li>
<p>The interactive mode is started when gs_sh is executed without any arguments. The gs_sh prompt will appear, allowing sub-commands to be entered.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_sh
//execution of sub-command &#34;version&#34;
gs&gt; version
gs_sh version 5.0.0
</code></pre></li>
</ul>
</li>
<li>
<p>Startup in batch mode</p>
<ul>
<li>
<p>When the script file for user creation is specified in gs_sh, the system will be started in the batch mode. Batch processing of a series of sub-commands described in the script file will be carried out. gs_sh will terminate at the end of the batch processing.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">// specify the script file (test.gsh) and execute
$ gs_sh test.gsh
</code></pre></li>
</ul>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>When a sub-command is started in the interactive mode,
<ul>
<li>a .gssh_history file is created in the home directory of the execution user and saved in the history.</li>
<li>Click the arrow key to display/execute up to 20 sub-commands started earlier.</li>
<li>Enter some of the sub-commands and click the Tab key to display a list of the sub-command input candidates.</li>
</ul>
</li>
<li>Execute gs_sh commands as the OS user &ldquo;gsadm&rdquo;.</li>
<li>During gs_sh startup, .gsshrc script files under the gsadm user home directory are imported automatically. The .gsshrc contents will also be imported to the destination from other script files.</li>
<li>Extension of script file is gsh.</li>
<li>A script file is described using the character code UTF-8.</li>
</ul>
<h2 id="definition-of-a-griddb-cluster">Definition of a GridDB cluster</h2>
<p>The definition below is required in advance when executing a GridDB cluster operation control or data operation.</p>
<ul>
<li>Define each node data in the node variable</li>
<li>Use the node variable to define the GridDB cluster configuration in the cluster variable</li>
<li>Define the user data of the GridDB cluster</li>
</ul>
<p>An explanation of node variables, cluster variables, and how to define user data is given below. An explanation of the definition of an arbitrary variable, display of variable definition details, and how to save and import variable definition details in a script file is also given below.</p>
<h3 id="definition-of-node-variable">Definition of node variable</h3>
<p>Define the IP address and port no. of a GridDB node in the node variable.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>setnode &lt;Node variable&gt; &lt;IP address&gt; &lt;Port no.&gt; [&lt;SSH port no.&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node variable</td>
<td>Specify the node variable name. If the same variable name already exists, its definition will be overwritten.</td>
</tr>
<tr>
<td>IP address</td>
<td>Specify the IP address of the GridDB node (for connecting operation control tools).</td>
</tr>
<tr>
<td>Port no.</td>
<td>Specify the port no. of the GridDB node (for connecting operation control tools).</td>
</tr>
<tr>
<td>SSH port no.</td>
<td>Specify the SSH port number. Number 22 is used by default.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//Define 4 GridDB nodes
gs&gt; setnode node0 192.168.0.1 10000
gs&gt; setnode node1 192.168.0.2 10000
gs&gt; setnode node2 192.168.0.3 10000
gs&gt; setnode node3 192.168.0.4 10000
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Only single-byte alphanumeric characters and the symbol &ldquo;_&rdquo; can be used in the node variable name.</li>
<li>Check the GridDB node &ldquo;IP address&rdquo; and &ldquo;port no. &quot; for connecting the operation control tools in the node definition file of each tool.
<ul>
<li>IP address: /system/serviceAddress</li>
<li>Port no. : /system/servicePort</li>
</ul>
</li>
</ul>
<h3 id="definition-of-cluster-variable">Definition of cluster variable</h3>
<p>Define the GridDB cluster configuration in the cluster variable.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Multicast method</td>
<td>setcluster &lt;Cluster variable&gt; &lt;Cluster name&gt; &lt;Multicast address&gt; &lt;Port no.&gt; [&lt;Node variable&gt; &hellip;]</td>
</tr>
<tr>
<td>Fixed list method</td>
<td>setcluster &lt;Cluster variable&gt; &lt;Cluster name&gt; FIXED_LIST &lt;Address list of fixed list method&gt; [&lt;Node variable&gt; &hellip;]</td>
</tr>
<tr>
<td>Provider method</td>
<td>setcluster &lt;Cluster variable&gt; &lt;Cluster name&gt; PROVIDER &lt;URL of provider method&gt; [&lt;Node variable&gt; &hellip;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Cluster variable&gt;</td>
<td>Specify the cluster variable name. If the same variable name already exists, its definition will be overwritten.</td>
</tr>
<tr>
<td>cluster name</td>
<td>Specify the cluster name.</td>
</tr>
<tr>
<td>Multicast address</td>
<td>[For the multicast method] Specify the GridDB cluster multicast address (for client connection).</td>
</tr>
<tr>
<td>Port no.</td>
<td>[For the multicast method] Specify the GridDB cluster multicast port no. (for client connection).</td>
</tr>
<tr>
<td>Node variable</td>
<td>Specify the nodes constituting a GridDB cluster with a node variable. When not performing operation management of GridDB clusters, the node variable may be omitted.</td>
</tr>
<tr>
<td>Address list of fixed list method</td>
<td>[For fixed list method] Specify the list of transaction addresses and ports. Example: 192.168.15.10:10001,192.168.15.11:10001<br>When the cluster configuration defined in the cluster definition file (gs_cluster.json) is a fixed list method, specify the transaction address and port list of /cluster/notificationMember in the cluster definition file.</td>
</tr>
<tr>
<td>URL of provider method</td>
<td>[For the provider method] Specify the URL of the address provider. <br>If the cluster configuration defined in the cluster definition file (gs_cluster.json) is the provider method, specify the value of /cluster/notificationprovider/url in the cluster definition file.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//define the GridDB cluster configuration
gs&gt; setcluster cluster0 name 200.0.0.1 1000 $node0 $node1 $node2
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>[For the provider method] Specify the URL of the address provider.Only single-byte alphanumeric characters and the symbol &ldquo;_&rdquo; can be used in the cluster variable name.</li>
<li>Prepend a &ldquo;$&rdquo; to the node variable name.</li>
<li>Check the &ldquo;cluster name&rdquo;, &ldquo;multicast address&rdquo; and &ldquo;port no.&rdquo; defined in a cluster variable in the cluster definition file of each GridDB node.
<ul>
<li>
<p>Cluster name: /cluster/clusterName</p>
</li>
<li>
<p>Multicast address: /transaction/notificationAddress</p>
</li>
<li>
<p>Port no.: /transaction/notificationPort</p>
<p>*All settings in the cluster definition file of a node constituting a GridDB cluster have to be configured the same way. If the settings are configured differently, the cluster cannot be composed.</p>
</li>
</ul>
</li>
</ul>
<p>In addition, node variables can be added or deleted for a defined cluster variable.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>modcluster &lt;Cluster variable&gt; add | remove &lt;Node variable&gt; &hellip;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Cluster variable&gt;</td>
<td>Specify the name of a cluster variable to add or delete a node.</td>
</tr>
<tr>
<td>add | remove</td>
<td>Specify &ldquo;add&rdquo; when adding node variables, and &ldquo;remove&rdquo; when deleting node variables.</td>
</tr>
<tr>
<td>Node variable</td>
<td>Specify node variables to add or delete a cluster variable.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//Add a node to a defined GridDB cluster configuration
gs&gt; modcluster cluster0 add $node3
//Delete a node from a defined GridDB cluster configuration
gs&gt; modcluster cluster0 remove $node3
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Prepend a &ldquo;$&rdquo; to the node variable name.</li>
</ul>
<h3 id="defining-the-sql-connection-destination-of-a-cluster">Defining the SQL connection destination of a cluster</h3>
<p>Define the SQL connection destination in the GridDB cluster configuration.  <strong>This is set up only when using the GridDB NewSQL interface.</strong></p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Multicast method</td>
<td>setclustersql &lt;Cluster variable&gt; &lt;Cluster name&gt; &lt;SQL address&gt; &lt;SQL port no.&gt;</td>
</tr>
<tr>
<td>Fixed list method</td>
<td>setclustersql &lt;Cluster variable&gt; &lt;Cluster name&gt; FIXED_LIST &lt; SQL address list of fixed list method&gt;</td>
</tr>
<tr>
<td>Provider method</td>
<td>setclustersql &lt;Cluster variable&gt; &lt;Cluster name&gt; PROVIDER &lt;URL of provider method&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Cluster variable&gt;</td>
<td>Specify the cluster variable name. If the same variable name already exists, the SQL connection data will be overwritten.</td>
</tr>
<tr>
<td>cluster name</td>
<td>Specify the cluster name.</td>
</tr>
<tr>
<td>SQL address</td>
<td>[For multicast method] Specify the reception address for the SQL client connection.</td>
</tr>
<tr>
<td>SQL port no.</td>
<td>[For multicast method] Specify the port no. for the SQL client connection.</td>
</tr>
<tr>
<td>SQL address list of fixed list method</td>
<td>[For fixed list method] Specify the list of transaction addresses and ports.  Example: 192.168.15.10:20001,192.168.15.11:20001<br>When the cluster configuration defined in the cluster definition file (gs_cluster.json) is a fixed list method, specify the sql address and port list of /cluster/notificationMember in the cluster definition file.</td>
</tr>
<tr>
<td>URL of provider method</td>
<td>[For the provider method] Specify the URL of the address provider. <br>If the cluster configuration defined in the cluster definition file (gs_cluster.json) is the provider method, specify the value of /cluster/notificationprovider/url in the cluster definition file.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">// Definition method when using both NoSQL interface and NewSQL interface to connect to a NewSQL server
gs&gt; setcluster    cluster0 name 239.0.0.1 31999 $node0 $node1 $node2
gs&gt; setclustersql cluster0 name 239.0.0.1 41999
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>[For the provider method] Specify the URL of the address provider.Only single-byte alphanumeric characters and the symbol &ldquo;_&rdquo; can be used in the cluster variable name.</li>
<li>When an existing cluster variable name is specified, only the section containing SQL connection data will be overwritten. When overwriting, the same method as the existing connection method needs to be specified.</li>
<li>Execute only this command when using SQL only.</li>
<li>Check the &ldquo;SQL address&rdquo; and &ldquo;SQL port no.&rdquo; defined in a cluster variable in the cluster definition file of each GridDB node.
<ul>
<li>SQL address: /sql/notificationAddress</li>
<li>SQL port no.:/sql/notificationPort</li>
</ul>
</li>
</ul>
<h3 id="definition-of-a-user">Definition of a user</h3>
<p>Define the user and password to access the GridDB cluster.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>setuser &lt;User name&gt; &lt;Password&gt; [&lt;gsadm password&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;User name&gt;</td>
<td>Specify the name of the user accessing the GridDB cluster.</td>
</tr>
<tr>
<td>&lt;Password&gt;</td>
<td>Specify the corresponding password.</td>
</tr>
<tr>
<td>gsadm password</td>
<td>Specify the password of the OS user &lsquo;gsadm&rsquo;. This may be omitted if start node (startnode sub-command) is not going to be executed.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//Define the user, password and gsadm password to access a GridDB cluster
gs&gt; setuser admin admin gsadm
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>
<p>After a user is defined, the following variables are set.</p>
<table>
<thead>
<tr>
<th>Variable Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>user</td>
<td>&lt;User name&gt;</td>
</tr>
<tr>
<td>password</td>
<td>&lt;Password&gt;</td>
</tr>
<tr>
<td>ospassword</td>
<td>gsadm password</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Multiple users cannot be defined. The user and password defined earlier will be overwritten. When operating multiple GridDB clusters in gs_sh, reset the user and password with the setuser sub-command every time the connection destination cluster is changed.</p>
</li>
</ul>
<h3 id="definition-of-arbitrary-variables">Definition of arbitrary variables</h3>
<p>Define an arbitrary variable.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>set &lt;Variable name&gt; [&lt;Value&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Variable Name</td>
<td>Specify the variable name.</td>
</tr>
<tr>
<td>Value</td>
<td>Specify the setting value. The setting value of the variable concerned can be cleared by omitting the specification.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//Define variable
gs&gt; set GS_PORT 10000
//Clear variable settings
gs&gt; set GS_PORT
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Node variable and cluster variable settings can also be cleared with the set sub-command.</li>
<li>Only single-byte alphanumeric characters and the symbol &ldquo;_&rdquo; can be used in the variable name.</li>
</ul>
<h3 id="displaying-the-variable-definition">Displaying the variable definition</h3>
<p>Display the detailed definition of the specified variable.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>show [&lt;Variable name&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Variable Name</td>
<td>Specify the name of the variable to display the definition details. If the name is not specified, details of all defined variables will be displayed.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//Display all defined variables
gs&gt; show
Node variable:
  node0=Node[192.168.0.1:10000,ssh=22]
  node1=Node[192.168.0.2:10000,ssh=22]
  node2=Node[192.168.0.3:10000,ssh=22]
  node3=Node[192.168.0.4:10000,ssh=22]
Cluster variable:
  cluster0=Cluster[name=name,200.0.0.1:1000,nodes=(node0,node1,node2)]
Other variables:
  user=admin
  password=*****
  ospassword=*****
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Password character string will not appear. Display replaced by &ldquo;***&rdquo;.</li>
</ul>
<h3 id="saving-a-variable-definition-in-a-script-file">Saving a variable definition in a script file</h3>
<p>Save the variable definition details in the script file.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>save [&lt;Script file name&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Script file name</td>
<td>Specify the name of the script file serving as the storage destination. Extension of script file is gsh. If the name is not specified, the data will be saved in the .gsshrc file in the gsadm user home directory.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//Save the defined variable in a file
gs&gt; save test.gsh
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>If the storage destination script file does not exist, a new file will be created. If the storage destination script file exists, the contents will be overwritten.</li>
<li>A script file is described using the character code UTF-8.</li>
<li>Contents related to the user definition (user, password, gsadm password) will not be output to the script file.</li>
<li>Contents in the .gsshrc script file will be automatically imported during gs_sh start-up.</li>
</ul>
<h3 id="executing-a-script-file">Executing a script file</h3>
<p>Read and execute a script file.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>load [&lt;Script file name&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Script file name</td>
<td>Specify the script file to execute. <br>If the script file is not specified, the .gsshrc file in the gsadm user home directory will be imported again.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//Execute script file
gs&gt; load test.gsh
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Extension of script file is gsh.</li>
<li>A script file is described using the character code UTF-8.</li>
</ul>
<h3 id="synchronizing-cluster-and-node-variable-definitions">Synchronizing cluster and node variable definitions</h3>
<p>Connect to the running GridDB cluster and automatically define a cluster variable and a node variable.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>sync IP address port number  [cluster variable name [node variable] ]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>IP address</td>
<td>Specify the IP address of a GridDB node participating in the GridDB cluster.</td>
</tr>
<tr>
<td>port number</td>
<td>port number of a GridDB node for connecting to the operation control tool)</td>
</tr>
<tr>
<td>cluster variable name</td>
<td>Specify the cluster variable name. <br>If omitted, the cluster variable name is set to &ldquo;scluster&rdquo;.</td>
</tr>
<tr>
<td>node variable name</td>
<td>Specify the node variable name. <br>If omitted, the node variable name is set to &ldquo;snodeX&rdquo; where X is a sequential number.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs&gt; sync 192.168.0.1 10040 mycluster mynode

// Check the settings.
gs&gt; show
Node variable:
mynode1=Node[192.168.0.1:10040,ssh=22]
mynode2=Node[192.168.0.2:10040,ssh=22]
mynode3=Node[192.168.0.3:10040,ssh=22]
mynode4=Node[192.168.0.4:10040,ssh=22]
mynode5=Node[192.168.0.5:10040,ssh=22]
Cluster variable:
mycluster=Cluster[name=mycluster,mode=MULTICAST,transaction=239.0.0.20:31999,sql=239.0.0.20:41999,nodes=($mynode1,$mynode2,$mynode3,$mynode4,$mynode5)]

// Save the settings
gs&gt; save
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>This command can be run by administrative users only.</li>
<li>Only single-byte alphanumeric characters and the symbol &ldquo;_&rdquo; can be used in the variable name.</li>
<li>If you exit the command gs_sh, variables will be discarded. Save them before exiting using the subcommand save.</li>
<li>If a variable exists with the same name as the one you are working on, it will be overwritten in all cases.</li>
</ul>
<h2 id="griddb-cluster-operation-controls">GridDB cluster operation controls</h2>
<p>The following operations can be executed by the administrator user only as functions to manage GridDB cluster operations.</p>
<ul>
<li>GridDB node start, stop, join cluster, leave cluster (startnode/stopnode/joincluster/leavecluster)</li>
<li>GridDB cluster operation start, operation stop (startcluster/stopcluster)</li>
<li>Increase the number of new nodes in a GridDB cluster (appendcluster)</li>
<li>Get various data</li>
</ul>
<p><a id="cluster_and_node_status"></a></p>
<h3 id="status-1">Status</h3>
<p>This section explains the status of a GridDB node and GridDB cluster.</p>
<p>A cluster is composed of 1 or more nodes.
A node status represents the status of the node itself e.g. start or stop etc.
A cluster status represents the acceptance status of data operations from a client. A cluster status is determined according to the status of the node group constituting the cluster.</p>
<p>An example of the change in the node status and cluster status due to a gs_sh sub-command operation is shown below.
A cluster is composed of 4 nodes.
When the nodes constituting the cluster are started (startnode), the node status changes to &ldquo;Start&rdquo;. When the cluster is started after starting the nodes (startcluster), each node status changes to &ldquo;Join&rdquo;, and the cluster status also changes to &ldquo;In Operation&rdquo;.</p>
<figure>
<img src="img/statusSample.png" alt="Status example" width="700"/>
<figcaption>Status example</figcaption>
</figure>
<p>A detailed explanation of the node status and cluster status is given below.</p>
<p><strong>Node status</strong></p>
<p>Node status changes to &ldquo;Stop&rdquo;, &ldquo;Start&rdquo; or &ldquo;Join&rdquo; depending on whether a node is being started, stopped, joined or detached.
If a node has joined a cluster, there are 2 types of node status depending on the status of the joined cluster.</p>
<figure>
<img src="img/nodeStatus.png" alt="Node status" width="650"/>
<figcaption>Node status</figcaption>
</figure>
<table>
<thead>
<tr>
<th>Status</th>
<th>Status name</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Join</td>
<td>SERVICING</td>
<td>Node is joined to the cluster, and the status of the joined cluster is &ldquo;In Operation&rdquo;</td>
</tr>
<tr>
<td></td>
<td>WAIT</td>
<td>Node is joined to the cluster, and the status of the joined cluster is &ldquo;Halted&rdquo;</td>
</tr>
<tr>
<td>Start</td>
<td>STARTED</td>
<td>Node is started but has not joined a cluster</td>
</tr>
<tr>
<td></td>
<td>STARTING</td>
<td>Starting node</td>
</tr>
<tr>
<td>Stop</td>
<td>STOP</td>
<td>Stopped node</td>
</tr>
<tr>
<td></td>
<td>STOPPING</td>
<td>Stopping node</td>
</tr>
</tbody>
</table>
<p><strong>Cluster status</strong></p>
<p>GridDB cluster status changes to &ldquo;Stop&rdquo;, &ldquo;Halted&rdquo; or &ldquo;In Operation&rdquo; depending on the operation start/stop status of the GridDB cluster or the join/leave operation of the GridDB node.  Data operations from the client can be accepted only when the GridDB cluster status is &ldquo;In Operation&rdquo;.</p>
<figure>
<img src="img/clusterStatus.png" alt="Cluster status" width="500"/>
<figcaption>Cluster status</figcaption>
</figure>
<table>
<thead>
<tr>
<th>Status</th>
<th>Status name</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>In Operation</td>
<td>SERVICE_STABLE</td>
<td>All nodes defined in the cluster configuration have joined the cluster</td>
</tr>
<tr>
<td></td>
<td>SERVICE_UNSTABLE</td>
<td>More than half the nodes defined in the cluster configuration have joined the cluster</td>
</tr>
<tr>
<td>Halted</td>
<td>WAIT</td>
<td>Half and more of the nodes defined in the cluster configuration have left the cluster</td>
</tr>
<tr>
<td></td>
<td>INIT_WAIT</td>
<td>1 or more of the nodes defined in the cluster configuration have left the cluster (when the cluster is operated for the first time, the status will not change to &ldquo;In Operation&rdquo; unless all nodes have joined the cluster)</td>
</tr>
<tr>
<td>Stop</td>
<td>STOP</td>
<td>All nodes defined in the cluster configuration have left the cluster</td>
</tr>
</tbody>
</table>
<p>The GridDB cluster status will change from &ldquo;Stop&rdquo; to &ldquo;In Operation&rdquo; when all nodes constituting the GridDB cluster are allowed to join the cluster. In addition, the GridDB cluster status will change to &ldquo;Halted&rdquo; when half and more of the nodes have left the cluster, and &ldquo;Stop&rdquo; when all the nodes have left the cluster.</p>
<p>Join and leave operations (which affect the cluster status) can be applied in batch to all the nodes in the cluster, or to individual node.</p>
<table>
<thead>
<tr>
<th>When the operating target is a single node</th>
<th>Operation</th>
<th>When the operating targets are all nodes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Join</td>
<td><a href="#batch_entry_of_nodes_in_a_cluster">startcluster</a> : Batch entry of a group of nodes that are already operating but have not joined the cluster yet.</td>
<td><a href="#node_entry_in_a_cluster">joincluster</a> : Entry by a node that is in operation but has not joined the cluster yet.</td>
</tr>
<tr>
<td>Leave</td>
<td><a href="#batch_detachment_of_nodes_from_a_cluster">stopcluster</a> : Batch detachment of a group of nodes joined to a cluster.</td>
<td><a href="#detaching_a_node_from_a_cluster">leavecluster</a> : Detachment of a node joined to a cluster.</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>Join and leave cluster operations can be carried out on nodes that are in operation only.</li>
<li>A node which has failed will be detached automatically from the GridDB cluster.</li>
<li>The GridDB cluster status can be checked with the cluster status data display sub-command (<a href="#displaying_cluster_status_data">configcluster</a>).</li>
</ul>
<p>Details of the various operating methods are explained below.</p>
<h3 id="starting-a-node-1">Starting a node</h3>
<p>Start the specified node.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>startnode &lt;Node variable&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node variable | cluster variable</td>
<td>Specify the node to start by its node variable or cluster variable. <br>If the cluster variable is specified, all nodes defined in the cluster variable will be started.</td>
</tr>
<tr>
<td>Timeout time in sec.</td>
<td>Set the number of seconds the command or a script is allowed to run. <br>Timeout time = -1, return to the console immediately without waiting for the command to finish. Timeout time = 0 or not set, no timeout time, wait for the command to finish indefinitely.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//Start the node
gs&gt; startnode $node1
The GridDB node node1 is starting up.
All GridDB node has been started.
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
<li>Prepend a &ldquo;$&rdquo; to the node variable name or the cluster variable name.</li>
<li>The cluster start process (startcluster sub-command) can be executed in batches by waiting for the start process to complete.</li>
</ul>
<h3 id="stopping-a-node-1">Stopping a node</h3>
<p>Stop the specified node.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>stopnode &lt;Node variable&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node variable | Cluster variable</td>
<td>Specify the node to stop by its node variable or cluster variable. <br>If the cluster variable is specified, all nodes defined in the cluster variable will be stopped.</td>
</tr>
<tr>
<td>Timeout time in sec.</td>
<td>Set the number of seconds the command or a script is allowed to run. <br>Timeout time = -1, return to the console immediately without waiting for the command to finish. Timeout time = 0 or not set, no timeout time, wait for the command to finish indefinitely.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//stop node
gs&gt; stopnode $node1
The GridDB node node1 is stopping down.
The GridDB node node1 has started stopping down.
Waiting for a node to complete the stopping processing.
All GridDB node has been stopped.
</code></pre></li>
</ul>
<p>In addition, the specified node can be forced to stop as well.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>stopnodeforce &lt;Node variable&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node variable | Cluster variable</td>
<td>Specify the node to stop by force by its node variable or cluster variable. <br>If the cluster variable is specified, all nodes defined in the cluster variable will be stopped by force.</td>
</tr>
<tr>
<td>Timeout time in sec.</td>
<td>Set the number of seconds the command or a script is allowed to run. <br>Timeout time = -1, return to the console immediately without waiting for the command to finish. Timeout time = 0 or not set, no timeout time, wait for the command to finish indefinitely.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//stop node by force
gs&gt; stopnodeforce $node1
The GridDB node node1 is stopping down.
The GridDB node node1 has started stopping down.
Waiting for a node to complete the stopping processing.
All GridDB node has been stopped.
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
<li>Prepend a &ldquo;$&rdquo; to the node variable name or the cluster variable name.</li>
<li>In a stopnode sub-command, nodes which have joined the GridDB cluster cannot be stopped. In a stopnodeforce command, nodes which have joined the GridDB cluster can also be stopped but data may be lost.</li>
</ul>
<p><a id="batch_entry_of_nodes_in_a_cluster"></a></p>
<h3 id="batch-entry-of-nodes-in-a-cluster">Batch entry of nodes in a cluster</h3>
<p>Explanation on how to add batch nodes into a cluster is shown below. In this case when a group of unattached but operating nodes are added to the cluster, the cluster status will change to &ldquo;In Operation&rdquo;.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>startcluster &lt;Cluster variable&gt; [&lt;Timeout time in sec.&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster variable</td>
<td>Specify a GridDB cluster by its cluster variable.</td>
</tr>
<tr>
<td>Timeout time in sec.</td>
<td>Set the number of seconds the command or a script is allowed to run. <br>Timeout time = -1, return to the console immediately without waiting for the command to finish. Timeout time = 0 or not set, no timeout time, wait for the command to finish indefinitely.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//start GridDB cluster
gs&gt; startcluster $cluster1
Waiting for the GridDB cluster to start.
The GridDB cluster has been started.
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
<li>Prepend a &ldquo;$&rdquo; to the cluster variable name.</li>
<li>To change the status of a GridDB cluster from &ldquo;Stop&rdquo; to &ldquo;In Operation&rdquo;, all nodes must be allowed to join the cluster. Check beforehand that all nodes constituting the GridDB cluster are in operation.</li>
</ul>
<p><a id="batch_detachment_of_nodes_from_a_cluster"></a></p>
<h3 id="batch-detachment-of-nodes-from-a-cluster">Batch detachment of nodes from a cluster</h3>
<p>To stop a GridDB cluster, simply make the attached nodes leave the cluster using the stopcluster command.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>stopcluster &lt;Cluster variable&gt; [&lt;Timeout time in sec.&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster variable</td>
<td>Specify a GridDB cluster by its cluster variable.</td>
</tr>
<tr>
<td>Timeout time in sec.</td>
<td>Set the number of seconds the command or a script is allowed to run. <br>Timeout time = -1, return to the console immediately without waiting for the command to finish. Timeout time = 0 or not set, no timeout time, wait for the command to finish indefinitely.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//stop GridDB cluster
  gs&gt; stopcluster $cluster1
  Waiting for the GridDB cluster to stop.
The GridDB cluster has been stopped.
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
<li>Prepend a &ldquo;$&rdquo; to the cluster variable name.</li>
</ul>
<p><a id="node_entry_in_a_cluster"></a></p>
<h3 id="node-entry-in-a-cluster">Node entry in a cluster</h3>
<p>Join a node that is temporarily left from the cluster by leavecluster sub-command or failure into the cluster.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>joincluster &lt;Cluster variable&gt; &lt;Node variable&gt; [&lt;Timeout time in sec.&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster variable</td>
<td>Specify a GridDB cluster by its cluster variable.</td>
</tr>
<tr>
<td>Node variable</td>
<td>Specify the node to join by its node variable.</td>
</tr>
<tr>
<td>Timeout time in sec.</td>
<td>Set the number of seconds the command or a script is allowed to run. <br>Timeout time = -1, return to the console immediately without waiting for the command to finish. Timeout time = 0 or not set, no timeout time, wait for the command to finish indefinitely.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//Start the node
  gs&gt; startnode $node2
  The GridDB node node2 is starting up.
All GridDB node has been started.
//join node
</code></pre></li>
</ul>
<p>joincluster $cluster1 $node2
Waiting for the GridDB node to join the GridDB cluster.
The GridDB node has joined to the GridDB cluster.</p>
<pre tabindex="0"><code>
[Memo]
- Command can be executed by an administrator user only.
- Prepend a &#34;$&#34; to the cluster variable name and the node variable name.
- Only nodes that are in operation can join a GridDB cluster. Check that the nodes joining a cluster are in operation.
- Use the appendcluster sub-command when adding a node that is not yet defined in the cluster&#39;s configuration to the cluster (the node is not part of the cluster).



&lt;a id=&#34;detaching_a_node_from_a_cluster&#34;&gt;&lt;/a&gt;
### Detaching a node from a cluster

Detach the specified node from the cluster. Also force the specified active node to be detached from the cluster.

- Sub-command

| |
|-|
| leavecluster \&lt;Node variable\&gt; [\&lt;Timeout time in sec.\&gt;] |
| leaveclusterforce \&lt;Node variable\&gt; [\&lt;Timeout time in sec.\&gt;] |

- Argument

| Argument      | Note                                                                                                |
|------------------|-----------------------------------------------------------------------------------------------------|
| Node variable | Specify the node to detach by its node variable.                                                          |
| Timeout time in sec. | Set the number of seconds the command or a script is allowed to run. &lt;br&gt;Timeout time = -1, return to the console immediately without waiting for the command to finish. Timeout time = 0 or not set, no timeout time, wait for the command to finish indefinitely. |

- Example:

``` example
//leave node
  gs&gt; leavecluster $node2
  Waiting for the GridDB node to leave the GridDB cluster.
The GridDB node has leaved the GridDB cluster.
</code></pre><p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
<li>Prepend a &ldquo;$&rdquo; to the node variable name.</li>
<li>A node can safely leave a GridDB cluster only when the data has been duplicated in other nodes. However, a leavecluster sub-command forces a node to leave regardless of whether the data has been duplicated or not and so there is always a risk of data loss. Use the gs_leavecluster command to detach a node.
See &ldquo;<a href="../4.md_administrators_guide/md_administrators_guide.md">GridDB Administrator Guide</a>&rdquo;  for the details about data duplication settings.</li>
<li>A leaveclusterforce command forces a node to leave a cluster even if there is a risk that data may be lost due to the detachment.</li>
</ul>
<h3 id="adding-a-node-to-a-cluster-1">Adding a node to a cluster</h3>
<p>Add an undefined node to a pre-defined cluster.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>appendcluster &lt;Cluster variable&gt; &lt;Node variable&gt; [&lt;Timeout time in sec.&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster variable</td>
<td>Specify a GridDB cluster by its cluster variable.</td>
</tr>
<tr>
<td>Node variable</td>
<td>Specify the node to join by its node variable.</td>
</tr>
<tr>
<td>Timeout time in sec.</td>
<td>Set the number of seconds the command or a script is allowed to run. <br>Timeout time = -1, return to the console immediately without waiting for the command to finish. Timeout time = 0 or not set, no timeout time, wait for the command to finish indefinitely.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//define node
  gs&gt; setnode node5 192.168.0.5 10044
  //start node
  gs&gt; startnode $node5
  //increase the number of nodes
  gs&gt; appendcluster $cluster1 $node5
  Waiting for a node to be added to a cluster.
A node has been added to the cluster.
Add node variables $node5 to cluster variable $cluster1. (Execute a save command when saving changes to a variable. )

Cluster[name=name1,239.0.5.111:33333,nodes=($node1,$node2,$node3,$node4,$node5)]
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
<li>Prepend a &ldquo;$&rdquo; to the cluster variable name and the node variable name.</li>
<li>To increase the number of new nodes, all nodes that constitute a GridDB cluster needs to join the cluster. If there is any node detached from the GridDB cluster, re-attach the nodes first. In addition, check that the new node to be added is in operation.</li>
<li>When executing an appendcluster sub-command, the node variable to be added is added to the cluster variable automatically. There is no need to manually change the cluster variable definition.</li>
<li>If a variable is changed, execute a save command to save the data. Unsaved contents will be discarded when gs_sh is terminated.</li>
<li>See the chapter &ldquo;construction&rdquo; of &ldquo;<a href="../4.md_administrators_guide/md_administrators_guide.md">GridDB Administrator Guide</a>&rdquo;  about setting up a new node.</li>
</ul>
<p><a id="displaying_cluster_status_data"></a></p>
<h3 id="displaying-cluster-status-data">Displaying cluster status data</h3>
<p>Display the status of an active GridDB cluster, and each node constituting the cluster.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>configcluster &lt;Cluster variable&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster variable</td>
<td>Specify a GridDB cluster by its cluster variable.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//display cluster data
  gs&gt; configcluster $cluster1
  Name                  : cluster1
  ClusterName           : defaultCluster
  Designated Node Count : 4
  Active Node Count     : 4
  ClusterStatus         : SERVICE_STABLE

  Nodes:
    Name    Role Host:Port              Status
  -------------------------------------------------
    node1     F  10.45.237.151:10040    SERVICING
    node2     F  10.45.237.152:10040    SERVICING
    node3     M  10.45.237.153:10040    SERVICING
    node4     F  10.45.237.154:10040    SERVICING
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
<li>ClusterStatus will be one of the following.
<ul>
<li>INIT_WAIT : Waiting for cluster to be composed</li>
<li>SERVICE_STABLE : In operation</li>
<li>SERVICE_UNSTABLE : Unstable (specified number of nodes constituting a cluster has not been reached)</li>
</ul>
</li>
<li>Role will be one of the following.
<ul>
<li>M: MASTER</li>
<li>F: FOLLOWER</li>
<li>S: SUB_CLUSTER (temporary status in a potential master candidate)</li>
<li>-: Not in operation</li>
</ul>
</li>
</ul>
<h3 id="displaying-configuration-data">Displaying configuration data</h3>
<p>Display the cluster configuration data.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>config &lt;Node variable&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node variable</td>
<td>Specify the node belonging to a GridDB cluster to be displayed with a node variable.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//display cluster configuration data
  gs&gt; config $node1
  {
    &#34;follower&#34; : [ {
      &#34;address&#34; : &#34;10.45.237.151&#34;,
      &#34;port&#34; : 10040
    }, {
      &#34;address&#34; : &#34;10.45.237.152&#34;,
      &#34;port&#34; : 10040
    }, {
      &#34;address&#34; : &#34;10.45.237.153&#34;,
      &#34;port&#34; : 10040
    }, {
      &#34;address&#34; : &#34;10.45.237.154&#34;,
      &#34;port&#34; : 10040
    } ],
    &#34;master&#34; : {
      &#34;address&#34; : &#34;10.45.237.155&#34;,
      &#34;port&#34; : 10040
    },
    &#34;multicast&#34; : {
      &#34;address&#34; : &#34;239.0.5.111&#34;,
      &#34;port&#34; : 33333
    },
    &#34;self&#34; : {
      &#34;address&#34; : &#34;10.45.237.150&#34;,
      &#34;port&#34; : 10040,
      &#34;status&#34; : &#34;ACTIVE&#34;
    }
  }
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
<li>Prepend a &ldquo;$&rdquo; to the node variable name.</li>
<li>The output contents differ depending on the version of the GridDB node. Check with the support desk for details.</li>
</ul>
<h3 id="displaying-node-status">Displaying node status</h3>
<p>Display the node configuration data.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>stat &lt;Node variable&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node variable</td>
<td>Specify the node to display by its node variable.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//display node status, statistical data
  gs&gt; stat $node1
  {
    &#34;checkpoint&#34; : {
      &#34;archiveLog&#34; : 0,
      &#34;backupOperation&#34; : 0,
      &#34;duplicateLog&#34; : 0,
      &#34;endTime&#34; : 1413852025843,
      &#34;mode&#34; : &#34;NORMAL_CHECKPOINT&#34;,
               :
               :
  }
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
<li>Prepend a &ldquo;$&rdquo; to the node variable name.</li>
<li>The output contents differ depending on the version of the GridDB node.</li>
</ul>
<h3 id="displaying-event-log">Displaying event log</h3>
<p>Displays the log of the specified node.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>logs &lt;Node variable&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node variable</td>
<td>Specify the node to display by its node variable.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//display log of node
  gs&gt; logs $node0
  2013-02-26T13:45:58.613+0900 c63x64n1 4051 INFO SYSTEM_SERVICE ../server/system_service.cpp void SystemService::joinCluster(const char8_t*, uint32_t) line=179 : joinCluster requested (clusterName=&#34;defaultCluster&#34;, minNodeNum=1)
  2013-02-26T13:45:58.616+0900 c63x64n1 4050 INFO SYSTEM_SERVICE ../server/system_service.cpp virtual void SystemService::JoinClusterHandler::callback(EventEngine&amp;, util::StackAllocator&amp;, Event*, NodeDescriptor) line=813 : ShutdownClusterHandler called g
  2013-02-26T13:45:58.617+0900 c63x64n1 4050 INFO SYSTEM_SERVICE ../server/system_service.cpp void SystemService::completeClusterJoin() line=639 : completeClusterJoin requested
  2013-02-26T13:45:58.617+0900 c63x64n1 4050 INFO SYSTEM_SERVICE ../server/system_service.cpp virtual void SystemService::CompleteClusterJoinHandler::callback(EventEngine&amp;, util::StackAllocator&amp;, Event*, NodeDescriptor) line=929 : CompleteClusterJoinHandler called
</code></pre></li>
</ul>
<p>The output level of a log can be displayed and changed.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>logconf &lt;Node variable&gt; [&lt;Category name&gt; [&lt;Log level&gt;]]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node variable</td>
<td>Specify the node to operate by its node variable.</td>
</tr>
<tr>
<td>Category name</td>
<td>Specify the log category name subject to the operation. Output level of all log categories will be displayed by default.</td>
</tr>
<tr>
<td>Log level</td>
<td>Specify the log level to change the log level of the specified category. <br>Log level of the specified category will be displayed by default.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//display log level of node
  gs&gt; logconf $node0
  {
    &#34;CHECKPOINT_SERVICE&#34; : &#34;INFO&#34;,
    &#34;CHUNK_MANAGER&#34; : &#34;ERROR&#34;,
           :
  }

  // change the log level
  gs&gt; logconf $node0 SYSTEM WARNING

  // display the log level specifying the category name
  gs&gt; logconf $node0 SYSTEM
  {
    &#34;SYSTEM&#34; : &#34;WARNING&#34;
  }
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
<li>Log levels are ERROR, WARNING, INFO, and DEBUG. Be sure to follow the instructions of the support desk when changing the log level.</li>
<li>Log level is initialized by restarting the node. Changes to the log level are not saved.</li>
<li>Batch changes cannot be made to the log level of multiple categories.</li>
</ul>
<h3 id="displaying-sql-processing-under-execution">Displaying SQL processing under execution</h3>
<p>Display the SQL processing under execution.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>showsql &lt;Query ID&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Query ID</td>
<td>ID to specify the SQL processing to be displayed. <br>When specified, display only the SQL processing information on specified query ID. <br>When not specified, display the list of SQL processes in progress. <br>Query ID can be obtained by displaying the SQL processing in progress.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Display item</p>
<ul>
<li>elapsed time: Lapsed time calculated from the gs_sh start time and the system time of the terminal which is executing the gs_sh. (Unit: second)</li>
</ul>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; showsql
  =======================================================================
  query id: e6bf24f5-d811-4b45-95cb-ecc643922149:3
  start time: 2019-04-02T06:02:36.93900
  elapsed time: 53
  database name: public
  application name: gs_admin
  node: 192.168.56.101:10040
  sql: INSERT INTO TAB_711_0101 SELECT a.id, b.longval FROM TAB_711_0001 a LEFT OU
    job id: e6bf24f5-d811-4b45-95cb-ecc643922149:3:5:0
    node: 192.168.56.101:10040
  #---------------------------
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>For start time, the value that reflects the time zone set by the settimezone subcommand is displayed. If the time zone is not set, the value that reflects the default time zone value is displayed.</li>
</ul>
<h3 id="displaying-executing-event">Displaying executing event</h3>
<p>Display the event list executed by the thread in each node in a cluster.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>showevent</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Display item</p>
<ul>
<li>elapsed time: Lapsed time calculated from the gs_sh start time and the system time of the terminal which is executing the gs_sh. (Unit: second)</li>
</ul>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; showevent
  =======================================================================
  worker id: 0
  start time: 2019-03-05T05:28:21.00000
  elapsed time: 1
  application name:
  node: 192.168.56.101:10040
  service type: TRANSACTION_SERVICE
  event type: PUT_MULTIPLE_ROWS
  cluster partition id: 5
  #---------------------------
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>For start time, the value that reflects the time zone set by the settimezone subcommand is displayed. If the time zone is not set, the value that reflects the default time zone value is displayed.</li>
</ul>
<h3 id="displaying-connection">Displaying connection</h3>
<p>Display the list of connections.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>showconnection</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Display item</p>
<ul>
<li>elapsed time: Lapsed time calculated from the creation time and the system time of the terminal which is executing the gs_sh. (Unit: second)</li>
</ul>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; showconnection
  =======================================================================
  application name: gs_admin
  creation time: 2019-04-02T06:09:42.52300 service type: TRANSACTION
  elapsed time: 106 node: 192.168.56.101:10001 remote: 192.168.56.101:56166
  dispatching event count: 5 sending event count: 5
  #---------------------------
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>For creation time, the value reflecting the time zone set by the settimezone subcommand is displayed. If the time zone is not set, the value that reflects the default time zone value is displayed.</li>
</ul>
<h3 id="sql-cancellation">SQL cancellation</h3>
<p>Cancel the SQL processing in progress.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>killsql &lt;query ID&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Query ID</td>
<td>ID to specify SQL processing to be canceled. <br>Can be obtained by displaying the SQL processing in progress.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; killsql 5b9662c0-b34f-49e8-92e7-7ca4a9c1fd4d:1
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
</ul>
<h2 id="data-operation-in-a-database">Data operation in a database</h2>
<p>To execute a data operation, there is a need to connect to the cluster subject to the operation.
Data in the database configured during the connection (&ldquo;public&rdquo; when the database name is omitted) will be subject to the operation.</p>
<h3 id="connecting-to-a-cluster">Connecting to a cluster</h3>
<p>Establish connection to a GridDB cluster to execute a data operation.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>connect &lt;Cluster variable&gt; [&lt;Database name&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster variable</td>
<td>Specify a GridDB cluster serving as the connection destination by its cluster variable.</td>
</tr>
<tr>
<td>&lt;Database name&gt;</td>
<td>Specify the database name.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//connect to GridDB cluster
  //for NoSQL
  gs&gt; connect $cluster1
  The connection attempt was successful(NoSQL).
gs[public]&gt;

  gs&gt; connect $cluster1 userDB
  The connection attempt was successful(NoSQL).
gs[userDB]&gt;

  //For NewSQL (configure both NoSQL/NewSQL interfaces)
  gs&gt; connect $cluster1
  The connection attempt was successful(NoSQL).
The connection attempt was successful(NewSQL).
gs[public]&gt;
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Connect to the database when the database name is specified. Connect to the &ldquo;public&rdquo; database if the database name is omitted.</li>
<li>If the connection is successful, the connection destination database name appears in the prompt.</li>
<li>Prepend a &ldquo;$&rdquo; to the cluster variable name.</li>
<li>When executing a data operation sub-command, it is necessary to connect to a GridDB cluster.</li>
<li>If the SQL connection destination is specified (execution of setclustersql sub-command), SQL connection is also carried out.</li>
<li>If the time zone setting is changed with the settimezone subcommand after executing the connect subcommand, the changed timezone setting is not reflected until the connect subcommand is executed again. After changing the time zone setting, execute the connect subcommand again.</li>
</ul>
<h3 id="search-tql">Search (TQL)</h3>
<p>Execute a search and retain the search results.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>tql &lt;Container name&gt; &lt;Query;&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Container name&gt;</td>
<td>Specify the container subject to the search.</td>
</tr>
<tr>
<td>Query;</td>
<td>Specify the TQL command to execute. A semicolon (;) is required at the end of a TQL command.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//execute a search
gs[public]&gt; tql c001 select *;
5 results. (25 ms)
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>When executing a data operation sub-command, it is necessary to connect to a GridDB cluster.</li>
<li>A return can be inserted in the middle of a TQL command.</li>
<li>Display the elapsed time of query as milliseconds.</li>
<li>Retain the latest search result. Search results are discarded when a tql or sql sub-command is executed.</li>
<li>See the chapter on TQL Syntax and Calculation Functions&rdquo; in the &ldquo;<a href="../11.md_reference_tql/md_reference_tql.md">GridDB TQL Reference</a>&rdquo;  for the TQL details.</li>
</ul>
<h3 id="sql-command-execution">SQL command execution</h3>
<p>Execute an SQL command and retains the search result.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>sql &lt;SQL command;&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;SQL command;&gt;</td>
<td>Specify the SQL command to execute. A semicolon (;) is required at the end of the SQL command.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; sql select * from con1;          -&gt; search for SQL
  10000 results. (52 ms)
  gs[public]&gt; get 1                            -&gt; display SQL results
  id,name
  ----------------------
  0,tanaka
  The 1 result has been acquired.
</code></pre></li>
</ul>
<p>Sub-command name &lsquo;sql&rsquo; can be omitted when the first word of SQL statement is one of the follows.</p>
<ul>
<li>select update insert replace delete create drop alter grant revoke pragma explain</li>
</ul>
<p>[Memo]</p>
<ul>
<li>
<p>Before executing a sql subcommand, there is a need to specify the SQL connection destination and perform a connection first.</p>
</li>
<li>
<p>Retain the latest search result. Search results are discarded when a sql or tql sub-command is executed.</p>
</li>
<li>
<p>Sub-command name &lsquo;sql&rsquo; can not be omitted when specifying the &lsquo;set password&rsquo; command or the command includes comments in header.</p>
</li>
<li>
<p>Count the number of hits when querying.</p>
</li>
<li>
<p>Display the elapsed time of query as milliseconds. It does not include the time of counting.</p>
</li>
<li>
<p>The following results will appear depending on the type of SQL command.</p>
<table>
<thead>
<tr>
<th>Operation</th>
<th>Execution results when terminated normally</th>
</tr>
</thead>
<tbody>
<tr>
<td>Search SELECT</td>
<td>Display the no. of search results found. Search results are displayed in sub-command get/getcsv/getnoprint.</td>
</tr>
<tr>
<td>Update INSERT/UPDATE/DELETE</td>
<td>Display the no. of rows updated.</td>
</tr>
<tr>
<td>DDL statement</td>
<td>Nothing is displayed.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>See &ldquo;<a href="../14.md_reference_sql/md_reference_sql.md">GridDB SQL Reference</a>&rdquo; for the SQL details.</p>
</li>
</ul>
<h3 id="getting-search-results">Getting search results</h3>
<p>The following command gets the inquiry results and presents them in different formats. There are 3 ways to output the results as listed below.</p>
<p>(A) Display the results obtained in a standard output.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>get [&lt;No. of acquires&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>No. of acquires</td>
<td>Specify the number of search results to be acquired. All search results will be obtained and displayed by default.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>(B) Save the results obtained in a file in the CSV format.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>getcsv &lt;CSV file name&gt; [&lt;No. of acquires&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>CSV file name</td>
<td>Specify the name of the csv file where the search results are saved.</td>
</tr>
<tr>
<td>No. of acquires</td>
<td>Specify the number of search results to be acquired. All search results will be obtained and saved in the file by default.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>(C) Results obtained will not be output.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>getnoprint [&lt;No. of acquires&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>No. of acquires</td>
<td>Specify the number of search results to be acquired. All search results will be obtained by default.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//execute a search
gs[public]&gt; tql c001 select *;
5 results.   

//Get first result and display
gs[public]&gt; get 1
name,status,count
mie,true,2
The 1 result has been acquired.

//Get second and third results and save them in a file
gs[public]&gt; getcsv /var/lib/gridstore/test2.csv 2
The 2 results had been acquired.

//Get fourth result
gs[public]&gt; getnoprint 1
The 1 result has been acquired.

//Get fifth result and display
gs[public]&gt; get 1
name,status,count
akita,true,45
The 1 result has been acquired.
</code></pre><p>[Memo]</p>
<ul>
<li>When executing a data operation sub-command, it is necessary to connect to a GridDB cluster.</li>
<li>Output the column name to the first row of the search results</li>
<li>An error will occur if the search results are obtained when a search has not been conducted, or after all search results have been obtained or discarded.</li>
<li>A NULL value is output by each command as follows.
<ul>
<li>get: (NULL)</li>
<li>getcsv: an unquoted empty string</li>
</ul>
</li>
<li>A value of TIMESTAMP is output as following format:
<ul>
<li>Date and time format: ISO8601 format</li>
<li>Time zone: Time zone value set by the settimezone subcommand, if no value is set, UTC is used</li>
<li>Example: 2018-11-07T12:30:00.417Z, 2019-05-01T09:30:00.000+09:00</li>
</ul>
</li>
</ul>
<h3 id="getting-the-execution-plan">Getting the execution plan</h3>
<p>Execute the specified TQL command and display the execution plan and actual measurement values such as the number of cases processed etc. Search is not executed.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>tqlexplain &lt;Container name&gt; &lt;Query;&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Container name&gt;</td>
<td>Specify the target container.</td>
</tr>
<tr>
<td>Query;</td>
<td>Specify the TQL command to get the execution plan. A semicolon (;) is required at the end of a TQL command.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//Get an execution plan
gs[public]&gt; tqlexplain c001 select * ;
0       0       SELECTION       CONDITION       NULL
1       1       INDEX   BTREE   ROWMAP
2       0       QUERY_EXECUTE_RESULT_ROWS       INTEGER 0
</code></pre></li>
</ul>
<p>In addition, the actual measurement values such as the number of processing rows etc. can also be displayed together with the executive plan by actually executing the specified TQL command.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>tqlanalyze &lt;Container name&gt; &lt;Query;&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Container name&gt;</td>
<td>Specify the target container.</td>
</tr>
<tr>
<td>Query;</td>
<td>Specify the TQL command to get the execution plan. A semicolon (;) is required at the end of a TQL command.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//Execute a search to get an execution plan
gs[public]&gt; tqlanalyze c001 select *;
0       0       SELECTION       CONDITION       NULL
1       1       INDEX   BTREE   ROWMAP
2       0       QUERY_EXECUTE_RESULT_ROWS       INTEGER 5
3       0       QUERY_RESULT_TYPE       STRING  RESULT_ROW_ID_SET
4       0       QUERY_RESULT_ROWS       INTEGER 5
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>When executing a data operation sub-command, it is necessary to connect to a GridDB cluster.</li>
<li>See the chapter on &ldquo;SQL execution plan&rdquo; in the &ldquo;<a href="../15.md_sql_tuning_guide/md_sql_tuning_guide.md">GridDB SQL Tuning Guide</a>&rdquo; for the detailed execution plan.</li>
<li>Since search results are not retained, search results cannot be acquired and thus there is also no need to execute a tqlclose sub-command. When the search results are required, execute a query with the tql sub-command.</li>
<li>A partitioned table (container) is not supported. If executed, an error will occur.</li>
</ul>
<h3 id="discarding-search-results">Discarding search results</h3>
<p>Close the tql and discard the search results saved.</p>
<ul>
<li>Sub-command
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>tqlclose</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>Close the query and discard the search results saved.</p>
<ul>
<li>Sub-command
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>queryclose</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//Discard search results
gs[public]&gt; tqlclose

gs[public]&gt; queryclose
</code></pre><p>[Memo]</p>
<ul>
<li>Search results are discarded at the following timing.
<ul>
<li>When a tqlclose or query close sub-command is executed</li>
<li>When executing a new search using a tql or sql sub-command</li>
<li>When disconnecting from a GridDB cluster using a disconnect sub-command</li>
</ul>
</li>
<li>An error will occur if search results are acquired (get sub-command, etc.) after they have been discarded.</li>
</ul>
<h3 id="disconnecting-from-a-cluster">Disconnecting from a cluster</h3>
<p>Disconnect from a GridDB cluster.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>disconnect</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//Disconnect from a GridDB cluster
gs[public]&gt; disconnect
gs&gt;
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Retained search results are discarded.</li>
<li>When disconnected, the connection database name will disappear from the prompt.</li>
</ul>
<h3 id="hit-count-setting">Hit count setting</h3>
<p>Set whether to execute count query when SQL querying.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>sqlcount <Boolean></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Boolean</td>
<td>If FALSE is specified, gs_sh does not count the number of the result when querying by sql sub-command. And hit count does not be displayed. Default is TRUE.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; sql select * from mycontainer;
25550 results. (33 ms)

gs[public]&gt; sqlcount FALSE

gs[public]&gt; sql select * from mycontainer;
A search was executed. (33 ms)
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>If FALSE is specified, the response will be faster instead of displaying no hit count. The execution time is not affected by this setting.</li>
</ul>
<h2 id="database-management">Database management</h2>
<p>This section explains the available sub-commands that can be used for database management.  Connect to the cluster first prior to performing database management with connect sub-command. (Subcommand connect)</p>
<h3 id="creating-a-database">Creating a database</h3>
<p>Create a database with the specified name.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>createdatabase &lt;Database name&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Database name&gt;</td>
<td>Specify the name of the database to be created.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//Create a database with the name &#34;db1&#34;
gs[public]&gt; createdatabase db1
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
<li>Only the administrator user can access a database immediately after it has been created. Assign access rights to general users where necessary.</li>
</ul>
<h3 id="deleting-a-database">Deleting a database</h3>
<p>Delete the specified database.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>dropdatabase &lt;Database name&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Database name&gt;</td>
<td>Specify the name of the database to be deleted.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//Delete databases shown below
//db1No container exists in the database
//db2Database does not exist
//db3Container exists in the database

gs[public]&gt; dropdatabase db1                  // No error occurs
gs[public]&gt; dropdatabase db2                  // An error occurs
D20340: This database &#34;db2&#34; does not exists.
gs[public]&gt; dropdatabase db3                  // An error occurs
D20336: An unexpected error occurred while dropping the database.  : msg=[[145045:JC_DATABASE_NOT_EMPTY]
Illegal target error by non-empty database.]
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
<li>A public database which is a default connection destination cannot be deleted.</li>
</ul>
<h3 id="displaying-current-database">Displaying current database</h3>
<p>Display the current database name.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>getcurrentdatabase</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[db1]&gt; getcurrentdatabase
db1
</code></pre></li>
</ul>
<h3 id="database-list">Database list</h3>
<p>List the databases with access right information.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>showdatabase [&lt;Database name&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Database name&gt;</td>
<td>Specify the name of the database to be displayed.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; showdatabase
Name             ACL
---------------------------------
public           ALL_USER
DATABASE001      user01      ALL
DATABASE001      user02      READ
DATABASE002      user03      ALL
DATABASE003

gs[public]&gt; showdatabase DATABASE001
Name             ACL
---------------------------------
DATABASE001      user01      ALL
DATABASE001      user02      READ
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>For general users, only databases for which access rights have been assigned will be displayed. For administrator users, a list of all the databases will be displayed.</li>
</ul>
<h3 id="granting-access-rights">Granting access rights</h3>
<p>Grant the database access rights to user.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>grantacl &lt;Access rights&gt; &lt;Database name&gt; &lt;User name&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Access right&gt;</td>
<td>Specify the access right (ALL, READ). <br>&ldquo;ALL&rdquo; permission indicates all operations to a container are allowed such as creating a container, adding a row, searching, and creating an index. <br>&ldquo;READ&rdquo; permission indicates only search operations are allowed.</td>
</tr>
<tr>
<td>&lt;Database name&gt;</td>
<td>Specify the name of the database for which access rights are going to be granted</td>
</tr>
<tr>
<td>&lt;User name&gt;</td>
<td>Specify the name of the user to assign access rights to.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; grantacl ALL DATABASE001 user01
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
<li>If a user who has already been granted any access right to the database is specified, an error will occur.
<ul>
<li>Execute this command after revoking the access rights (&ldquo;revokeacl&rdquo; command) if necessary.</li>
</ul>
</li>
<li>More than one user can be granted an access right to one database.</li>
</ul>
<h3 id="revoking-access-rights">Revoking access rights</h3>
<p>Revoke access rights to the database.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>revokeacl <Access right> <Database name> <User name></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Access right&gt;</td>
<td>Specify the access right (ALL, READ).</td>
</tr>
<tr>
<td>&lt;Database name&gt;</td>
<td>Specify the name of the database for which access rights are going to be revoked.</td>
</tr>
<tr>
<td>&lt;User name&gt;</td>
<td>Specify the name of the user whose access rights are going to be revoked.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; revokeacl ALL DATABASE001 user02
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
</ul>
<p><a id="user_management"></a></p>
<h2 id="user-management-1">User management</h2>
<p>This section explains the available sub-commands that can be used to perform user management.  Connect to the cluster first prior to performing user management (sub-command connect).</p>
<h3 id="creating-a-general-user">Creating a general user</h3>
<p>Create a general user (username and password).</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>createuser &lt;User name&gt; &lt;Password&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;User name&gt;</td>
<td>Specify the name of the user to be created.</td>
</tr>
<tr>
<td>&lt;Password&gt;</td>
<td>Specify the password of the user to be created.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; createuser user01 pass001
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
<li>A name starting with &ldquo;gs#&rdquo; cannot be specified as the name of a general user as it is reserved for use by the administrator user.</li>
<li>When creating an administrator user, use the gs_adduser command in all the nodes constituting the cluster.</li>
</ul>
<h3 id="deleting-a-general-user">Deleting a general user</h3>
<p>Delete the specified general user</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>dropuser &lt;User name&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;User name&gt;</td>
<td>Specify the name of the user to be deleted.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; dropuser user01
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
</ul>
<h3 id="update-password-1">Update password</h3>
<p>Update the user password.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>General user only</td>
<td>setpassword &lt;password&gt;</td>
</tr>
<tr>
<td>Administrator user only</td>
<td>setpassword &lt;User name&gt; &lt;Password&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Password&gt;</td>
<td>Specify the password to change.</td>
</tr>
<tr>
<td>&lt;User name&gt;</td>
<td>Specify the name of the user whose password is going to be changed.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; setpassword newPass009
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>The general user can change its own password only.</li>
<li>An administrator user can change the passwords of other general users only.</li>
</ul>
<h3 id="listing-general-users">Listing general users</h3>
<p>List information on a general user data and a role.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>showuser [user name | role name]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;User name&gt;</td>
<td>Specify the name of the user or role to be displayed.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; showuser
Name                            Type           
--------------------------------------------
user001                         General User  
ldapUser                        Role
ldapGroup                       Role

gs[public]&gt; showuser user01
Name     : user001
Type     : General User
GrantedDB: public
           DATABASE001      ALL
           DATABASE003      READ

gs[public]&gt; showuser ldapUser
Name     : ldapUser
Type     : Role
GrantedDB: public
           DATABASE002      ALL
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Command can be executed by an administrator user only.</li>
</ul>
<h2 id="container-management">Container management</h2>
<p>This section explains the available sub-commands that can be used when performing container operations.  Connect to the cluster first before performing container management (sub-command connect).  The container in the connected database will be subject to the operation.</p>
<h3 id="creating-a-container">Creating a container</h3>
<p>Create a container.</p>
<ul>
<li>
<p>Sub-command (Simple version)</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Container (collection)</td>
<td>createcollection &lt;Container name&gt; &lt;Column name&gt; &lt;Column type&gt; [&lt;Column name&gt; &lt;Column type&gt; &hellip;]</td>
</tr>
<tr>
<td>Container (timeseries container)</td>
<td>createtimeseries &lt;Container name&gt; &lt;Compression method&gt; &lt;Column name&gt; &lt;Column type&gt; [&lt;Column name&gt; &lt;Column type&gt; &hellip;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Sub-command (Detailed version)</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Container (collection/timeseries container)</td>
<td>Createcontainer &lt;Container definition file&gt; [&lt;Container name&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Description of each argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Container name&gt;</td>
<td>Specify the name of the container to be created. If the name is omitted in the createcontainer command, a container with the name given in the container definition file will be created.</td>
</tr>
<tr>
<td>Column name</td>
<td>Specify the column name.</td>
</tr>
<tr>
<td>Column type</td>
<td>Specify the column type.</td>
</tr>
<tr>
<td>Compression method</td>
<td>For time series data, specify the data compression method.</td>
</tr>
<tr>
<td>Container data file</td>
<td>Specify the file that stores the container definition information in JSON format.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p><strong>Simplified version</strong></p>
<p>Specify the container name and column data (column name and type) to create the container.</p>
<ul>
<li>The timeseries compression function is removed from GridDB V5.0. Only &ldquo;NO&rdquo; can be specified for the compression method of timeseries data. &ldquo;SS&rdquo; and &ldquo;HI&rdquo; cannot be specified.</li>
<li>The collection will be created with a specified row key. The first column will become the row key.</li>
<li>To specify a composite row key, a composite index, column constraints, and index names, use the detailed version.</li>
</ul>
<p><strong>Detailed version</strong></p>
<p>Specify the container definition data in the json file to create a container.</p>
<ul>
<li>
<p>The container definition data has the same definition as the metadata file output by the export tool. See the <a href="#format_of_container_data_file">container data file format</a> and <a href="#metadata_file">Metadata files</a> for the column type and data compression method, container definition format, etc. However, the following data will be invalid in this command even though it is defined in the metadata file of the export command.</p>
<ul>
<li>Version : Export tool version</li>
<li>database : Database name</li>
<li>ContainerFileType : Export data file type</li>
<li>ContainerFile : Export file name</li>
<li>PartitionNo : Partition no.</li>
</ul>
</li>
<li>
<p>Describe a single container definition in a single container definition file.</p>
</li>
<li>
<p>If the container name is omitted in the argument, create the container with the name described in the container definition file.</p>
</li>
<li>
<p>If the container name is specified in the argument, ignore the container name in the container definition file and create the container with the name described in the argument.</p>
</li>
<li>
<p>An error will not occur even if the database name is described in the container definition file but the name will be ignored and the container will be created in the database currently being connected.</p>
</li>
<li>
<p>Partitioned tables are not applicable. An error will occur when table partitioning data is described in the container definition file.</p>
</li>
<li>
<p>When using the container definition file, the metadata file will be output when the &ndash;out option is specified in the <a href="#export_function">export function</a>. The output metadata file can be edited and used as a container definition file.</p>
</li>
<li>
<p>Example: When using the output metadata file as a container definition file</p>
<pre tabindex="0"><code class="language-example" data-lang="example">{
    &#34;version&#34;:&#34;2.1.00&#34;,                              unused
    &#34;container&#34;:&#34;container_354&#34;,
    &#34;database&#34;:&#34;db2&#34;,                                unused
    &#34;containerType&#34;:&#34;TIME_SERIES&#34;,
    &#34;containerFileType&#34;:&#34;binary&#34;,                    unused
    &#34;containerFile&#34;:&#34;20141219_114232_098_div1.mc&#34;,   unused
    &#34;rowKeyAssigned&#34;:true,
    &#34;partitionNo&#34;:0,                                 unused
    &#34;columnSet&#34;:[
        {
            &#34;columnName&#34;:&#34;timestamp&#34;,
            &#34;type&#34;:&#34;timestamp&#34;,
            &#34;notNull&#34;:true
        },
        {
            &#34;columnName&#34;:&#34;active&#34;,
            &#34;type&#34;:&#34;boolean&#34;,
            &#34;notNull&#34;:true
        },
        {
            &#34;columnName&#34;:&#34;voltage&#34;,
            &#34;type&#34;:&#34;double&#34;,
            &#34;notNull&#34;:true
        }
    ]
}
</code></pre></li>
</ul>
<h3 id="deleting-container">Deleting container</h3>
<p>Delete a container</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>dropcontainer &lt;Container name&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Container name&gt;</td>
<td>Specify the name of the container to be deleted.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; dropcontainer  Con001
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>A partitioned table (container) is not supported. If executed, an error will occur.
<ul>
<li>To drop partitioned table (container), use SQL.</li>
</ul>
</li>
</ul>
<h3 id="registering-a-row">Registering a row</h3>
<p>Register a row in a container</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>putrow container name value [value&hellip;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>container name</td>
<td>Specify the name of a container where a row is to be registered.</td>
</tr>
<tr>
<td>value</td>
<td>Specify the value of a row to be registered,</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; putrow mycontainer &#39;key1&#39; 1 1.0
gs[public]&gt; putrow mycontainer &#39;key2&#39; 2 2.0
gs[public]&gt; putrow mycontainer &#39;key3&#39; 3 null

// Check the results.
gs[public]&gt; tql mycontainer select *;
3 results. (1 ms)

gs[public]&gt; get
key,val1,val2
key1,1,1.0
key2,2,2.0
key3,3,(NULL)
3 results had been acquired.
</code></pre></li>
</ul>
<h3 id="deleting-a-row">Deleting a row</h3>
<p>Delete a row from a container</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>removerow container name row key value [row key value&hellip;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>container name</td>
<td>Specify the name of a container from which a row is to be deleted.</td>
</tr>
<tr>
<td>value</td>
<td>Specify the row key value of a row to be deleted.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; removerow mycontainer &#39;key1&#39;
gs[public]&gt; removerow mycontainer &#39;key2&#39;

// Check the results.
gs[public]&gt; tql mycontainer select *;
1 results. (1 ms)

gs[public]&gt; get
key,val1,val2
key3,3,(NULL)
1 results had been acquired.
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>If a composite row key is set in the container, all the row keys must be specified.</li>
</ul>
<h3 id="displaying-a-container-data">Displaying a container data</h3>
<p>Display the container data.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>showcontainer [&lt;Container name&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Container name&gt;</td>
<td>Specify the container name to be displayed. Display a list of all containers if omitted.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//display container list
gs[public]&gt; showcontainer
Database : public
Name                 Type        PartitionId
---------------------------------------------
TEST_TIME_0001       TIME_SERIES           3
TEST_TIME_0004       TIME_SERIES          12
TEST_TIME_0005       TIME_SERIES          26
cont003              COLLECTION           27
TABLE_01             COLLECTION           58
TEST_COLLECTION_0001 COLLECTION           79

//display data of specified container
gs[public]&gt; showcontainer cont003
Database    : public
Name        : cont003
Type        : COLLECTION
Partition ID: 27
DataAffinity: -

Columns:
No  Name                  Type            CSTR  RowKey
------------------------------------------------------------------------------
 0  col1                  INTEGER         NN    [RowKey]
 1  col2                  STRING
 2  col3                  TIMESTAMP

Indexes:
Name        :
Type        : TREE
Columns:
No  Name
--------------------------
 0  col1

Name        :
Type        : TREE
Columns:
No  Name
--------------------------
 0  col2

Name        : myIndex
Type        : TREE
Columns:
No  Name
--------------------------
 0  col2
 1  col3
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>
<p>Container data of the current database will be displayed.</p>
</li>
<li>
<p>The data displayed in a container list are the &ldquo;Container name&rdquo;, &ldquo;Container type&rdquo; and &ldquo;Partition ID&rdquo;.</p>
</li>
<li>
<p>The data displayed in the specified container are the &ldquo;Container name&rdquo;, &ldquo;Container type&rdquo;, &ldquo;Partition ID&rdquo;, &ldquo;Defined column name&rdquo;, &ldquo;Column data type&rdquo;, &ldquo;Column constraints&rdquo; as CSTR, &ldquo;Index information&rdquo;, and &ldquo;Table partitioning data&rdquo;.</p>
</li>
<li>
<p>In &ldquo;Column constraints&rdquo; column, &ldquo;NOT NULL constraint&rdquo; as NN is displayed.</p>
</li>
<li>
<p>In the case of connecting through JDBC, the details of &ldquo;Table partitioning data&rdquo; are displayed. The displayed items are &ldquo;Partitioning Type&rdquo;, &ldquo;Partitioning Column&rdquo;, &ldquo;Partition Interval Value&rdquo;, &ldquo;Partition Interval Unit&rdquo; of interval partitioning, and &ldquo;Partition Division Count&rdquo; of hash partitioning. For interval-hash partitioning, the items of interval partitioning and hash partitioning are both displayed.</p>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//Display the specified container data (in the case of connecting through JDBC)
gs[userDB]&gt; showcontainer time018
Database    : userDB
Name        : time018
Type        : TIME_SERIES
Partition ID: 37
DataAffinity: -
Partitioned : true
Partition Type           : INTERVAL
Partition Column         : date
Partition Interval Value : 730
Partition Interval Unit  : DAY
Sub Partition Type           : HASH
Sub Partition Column         : date
Sub Partition Division Count : 16
      :
      :

//Display the specified container data (not in the case of connecting through JDBC)
gs[userDB]&gt; showcontainer time018
Database    : userDB
Name        : time018
Type        : TIME_SERIES
Partition ID: 37
DataAffinity: -
Partitioned : true (need SQL connection for details)
      :
      :
</code></pre></li>
</ul>
<h3 id="displaying-a-table-data">Displaying a table data</h3>
<p>Display the table data. It is compatible command of showcontainer.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>showtable [&lt;Table name&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Table name&gt;</td>
<td>Specify the table name to be displayed. Display a list of all tables if omitted.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h3 id="searching-for-container">Searching for container</h3>
<p>Search for a container by specifying a container name.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>searchcontainer [container name]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>container name</td>
<td>Specify the container name to search for. Otherwise, all containers are displayed. Wild cards (where % represents zero or more characters, and _ represents a single character) can be specified for a container name.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; searchcontainer mycontainer
mycontainer

gs[public]&gt; searchcontainer my%
my
my_container
mycontainer

gs[public]&gt; searchcontainer my\_container
my_container
</code></pre></li>
</ul>
<h3 id="searching-for-a-view">Searching for a view</h3>
<p>Search for a view by specifying a view name.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>searchview [view name]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>view name</td>
<td>Specify the view name to search for. Otherwise, all views are displayed. Wild cards (where % represents zero or more characters, and _ represents a single character) can be specified for a view name.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; searchview myview
myview

gs[public]&gt; searchview my%
my
my_view
myview

gs[public]&gt; searchview my\_view
my_view
</code></pre></li>
</ul>
<h3 id="creating-an-index">Creating an index</h3>
<p>Create an index in the column of a specified container.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>createindex &lt;Container name&gt; &lt;Column name&gt; &lt;Index type&gt; &hellip;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Container name&gt;</td>
<td>Specify the name of container that the column subject to the index operation belongs to.</td>
</tr>
<tr>
<td>Column name</td>
<td>Specify the name of the column subject to the index operation.</td>
</tr>
<tr>
<td>Index type &hellip;</td>
<td>Specify the index type. Specify TREE or SPATIAL for the index type.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//create index
gs[public]&gt; createindex cont003 col2 tree

gs[public]&gt; showcontainer cont003
Database    : public
Name        : cont003
Type        : COLLECTION
Partition ID: 27
DataAffinity: -

Columns:
No  Name                  Type            CSTR  RowKey
------------------------------------------------------------------------------
 0  col1                  INTEGER         NN    [RowKey]
 1  col2                  STRING                
 2  col3                  TIMESTAMP             

Indexes:
Name        :
Type        : TREE
Columns:
No  Name                  
--------------------------
 0  col1

Name        :
Type        : TREE
Columns:
No  Name                  
--------------------------
 0  col2
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>An error will not occur even if an index that has already been created is specified.</li>
<li>An index name is not supported. In case of specifying an index name, use the detailed version or SQL.</li>
</ul>
<h3 id="creating-a-compound-index">Creating a compound index</h3>
<p>Create a composite index on the column of a specified container.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>createcompindex <Container name> <Column name> &hellip;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Container name&gt;</td>
<td>Specify the name of container that the column subject to the index operation belongs to.</td>
</tr>
<tr>
<td>Column name</td>
<td>Specify the name of the column subject to the index operation. Specify more than one.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//create index
gs[public]&gt; createcompindex cont003 col2 col3

gs[public]&gt; showcontainer cont003
Database    : public
Name        : cont003
Type        : COLLECTION
Partition ID: 27
DataAffinity: -

Columns:
No  Name                  Type            CSTR  RowKey
------------------------------------------------------------------------------
 0  col1                  INTEGER         NN    [RowKey]
 1  col2                  STRING
 2  col3                  TIMESTAMP

Indexes:
Name        :
Type        : TREE
Columns:
No  Name
--------------------------
 0  col1

Name        :
Type        : TREE
Columns:
No  Name
--------------------------
 0  col2
 1  col3
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>An error will not occur even if an index that has already been created is specified.</li>
<li>An index name is not supported. In case of specifying an index name, use the detailed version or SQL.</li>
<li>Operations on the partition table are not supported. An error will occur if a partition table is specified for the container name.</li>
</ul>
<h3 id="deleting-an-index">Deleting an index</h3>
<p>Delete the index in the column of a specified container.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>dropindex &lt;Container name&gt; &lt;Column name&gt; &lt;Index type&gt; &hellip;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Container name&gt;</td>
<td>Specify the name of container that the column subject to the index operation belongs to.</td>
</tr>
<tr>
<td>Column name</td>
<td>Specify the name of the column subject to the index operation.</td>
</tr>
<tr>
<td>Index type &hellip;</td>
<td>Specify the index type. Specify TREE or SPATIAL for the index type.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//delete index
gs[public]&gt; showcontainer cont004
Database    : public
Name        : cont004
    :
    :
Indexes:
Name        :
Type        : TREE
Columns:
No  Name                  
--------------------------
 0  id

Name        : myIndex
Type        : TREE
Columns:
No  Name                  
--------------------------
 0  value

gs[public]&gt; dropindex cont004 value tree
gs[public]&gt; showcontainer cont004
Database    : public
Name        : cont004
    :
    :
Indexes:
Name        :
Type        : TREE
Columns:
No  Name                  
--------------------------
 0  id
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>An error will not occur even if an index that has not been created is specified.</li>
</ul>
<h3 id="deleting-a-compound-index">Deleting a compound index</h3>
<p>Delete the compound index in the column of a specified container.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>dropcompindex <Container name> <Column name> &hellip;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Container name&gt;</td>
<td>Specify the name of container that the column subject to the index operation belongs to.</td>
</tr>
<tr>
<td>Column name</td>
<td>Specify the name of the column subject to the index operation. Specify more than one.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//delete index
gs[public]&gt; showcontainer cont003
Database    : public
Name        : cont003
Type        : COLLECTION
Partition ID: 27
DataAffinity: -

Columns:
No  Name                  Type            CSTR  RowKey
------------------------------------------------------------------------------
 0  col1                  INTEGER         NN    [RowKey]
 1  col2                  STRING
 2  col3                  TIMESTAMP

Indexes:
Name        :
Type        : TREE
Columns:
No  Name
--------------------------
 0  col1

Name        :
Type        : TREE
Columns:
No  Name
--------------------------
 0  col2
 1  col3

gs[public]&gt; dropcompindex cont003 col2 col3

gs[public]&gt; showcontainer cont003
Database    : public
Name        : cont003
Type        : COLLECTION
Partition ID: 27
DataAffinity: -

Columns:
No  Name                  Type            CSTR  RowKey
------------------------------------------------------------------------------
 0  col1                  INTEGER         NN    [RowKey]
 1  col2                  STRING
 2  col3                  TIMESTAMP

Indexes:
Name        :
Type        : TREE
Columns:
No  Name
--------------------------
 0  col1
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>An error will not occur even if an index that has not been created is specified.</li>
<li>Operations on the partition table are not supported. An error will occur if a partition table is specified for the container name.</li>
</ul>
<h2 id="execution-plan">Execution plan</h2>
<p>This section explains subcommands to displays an SQL execution plan.</p>
<h3 id="getting-an-sql-analysis-result-global-plan">Getting an SQL analysis result (global plan)</h3>
<p>Display an SQL analysis result (global plan) in text format or in JSON format.</p>
<h4 id="text-format">Text format</h4>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>getplantxt [&lt;Text file name&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Text file name</td>
<td>Specify the name of the file where the results are saved.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; EXPLAIN ANALYZE select * from table1, table2 where table1.value=0 and table1.id=table2.id;
Search is executed (11 ms).

gs[public]&gt; getplantxt
Id Type       Input Rows Lead time Actual time Node                 And more..
--------------------------------------------------------------------------------------------------------------------
0 SCAN       -     -            0           0 192.168.15.161:10001 table: {table1} INDEX SCAN
1   SCAN     0     0            2           2 192.168.15.161:10001 table: {table1, table2} INDEX SCAN JOIN_EQ_HASH
2     RESULT 1     0            0           0 192.168.15.161:20001
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>This subcommand is for an SQL statement executed using EXPLAIN or EXPLAIN ANALYZE immediately before running the subcommand.</li>
<li>The contents to be displayed
<ul>
<li>ID: Plan ID</li>
<li>Type: Type of processing</li>
<li>Input: Plan ID of the input plan</li>
<li>Rows: The number of input rows</li>
<li>Lead time: Processing time</li>
<li>Actual time: Time the thread was occupied for processing</li>
<li>Node: Node the processing was executed</li>
</ul>
</li>
<li>See the chapter on &ldquo;SQL execution plan&rdquo; in the &ldquo;<a href="../15.md_sql_tuning_guide/md_sql_tuning_guide.md">GridDB SQL Tuning Guide</a>&rdquo; for the details about the displayed contents.</li>
</ul>
<h4 id="json-format">JSON format</h4>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>getplanjson [&lt;JSON file name&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>JSON file name</td>
<td>Specify the name of the file where the results are saved.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; getplanjson
{
  &#34;nodeList&#34; : [ {
    &#34;cmdOptionFlag&#34; : 65,
    &#34;id&#34; : 0,
    &#34;indexInfoList&#34; : [ 2, 0, 0 ],
    &#34;inputList&#34; : [ ],
    &#34;outputList&#34; : [ {
      &#34;columnId&#34; : 0,
      &#34;columnType&#34; : &#34;STRING&#34;,
      &#34;inputId&#34; : 0,
      &#34;op&#34; : &#34;EXPR_COLUMN&#34;,
      &#34;qName&#34; : {
        &#34;db&#34; : &#34;public&#34;,
        &#34;name&#34; : &#34;id&#34;,
        &#34;table&#34; : &#34;collection_nopart_AA22&#34;
      },
      &#34;srcId&#34; : 1
    }, {



</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>This subcommand is for an SQL statement executed using EXPLAIN or EXPLAIN ANALYZE immediately before running the subcommand.</li>
<li>See the chapter on &ldquo;SQL execution plan&rdquo; in the &ldquo;<a href="../15.md_sql_tuning_guide/md_sql_tuning_guide.md">GridDB SQL Tuning Guide</a>&rdquo; for the details about the displayed contents.</li>
</ul>
<h3 id="getting-detailed-information-about-an-sql-analysis-result">Getting detailed information about an SQL analysis result</h3>
<p>Display the detailed information of an SQL analysis result in JSON format.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>gettaskplan &lt;plan ID&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Plan ID</td>
<td>Specify the plan ID of the plan to display.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; gettaskplan 0
{
  &#34;cmdOptionFlag&#34; : 65,
  &#34;id&#34; : 0,
  &#34;indexInfoList&#34; : [ 2, 0, 0 ],
  &#34;inputList&#34; : [ ],
  &#34;outputList&#34; : [ {
    &#34;columnId&#34; : 0,
    &#34;columnType&#34; : &#34;STRING&#34;,
    &#34;inputId&#34; : 0,
    &#34;op&#34; : &#34;EXPR_COLUMN&#34;,
    &#34;qName&#34; : {
      &#34;db&#34; : &#34;public&#34;,
      &#34;name&#34; : &#34;id&#34;,
      &#34;table&#34; : &#34;collection_nopart_AA22&#34;
    },
    &#34;srcId&#34; : 1
  }, {



</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>This subcommand is for an SQL statement executed using EXPLAIN or EXPLAIN ANALYZE immediately before running the subcommand.</li>
<li>See the chapter on &ldquo;SQL execution plan&rdquo; in the &ldquo;<a href="../15.md_sql_tuning_guide/md_sql_tuning_guide.md">GridDB SQL Tuning Guide</a>&rdquo; for the details about the displayed contents.</li>
</ul>
<h2 id="other-operations">Other operations</h2>
<p>This section explains the sub-commands for other operations.</p>
<h3 id="echo-back-setting">Echo back setting</h3>
<p>Display the executed sub-command in the standard output.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>echo <boolean></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Boolean</td>
<td>Display the executed sub-command in the standard output when TRUE is specified. Default value is FALSE.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//display the executed sub-command in the standard output
gs&gt; echo TRUE
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>gs_sh prompt &ldquo;gs&gt;&rdquo; always appear in the standard output.</li>
</ul>
<h3 id="displaying-a-message">Displaying a message</h3>
<p>Display the definition details of the specified character string or variable.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>print &lt;message&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Message</td>
<td>Specify the character string or variable to display.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//display of character string
gs&gt; print print executed.
print executed.
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Append &ldquo;$&rdquo; in front of the variable name when using a variable.</li>
</ul>
<h3 id="sleep">Sleep</h3>
<p>Set the time for the sleeping function.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>sleep &lt;No. of sec&gt;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>No. of sec</td>
<td>Specify the no. of sec to go to sleep.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//sleep for 10 sec
gs&gt; sleep 10
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Specify a positive integer for the no. of sec number.</li>
</ul>
<h3 id="executing-external-commands">Executing external commands</h3>
<p>Execute an external command.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>exec &lt;External command&gt; [&lt;External command arguments&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>External command</td>
<td>Specify an external command.</td>
</tr>
<tr>
<td>External command arguments</td>
<td>Specify the argument of an external command.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//display the file data of the current directory
gs&gt; exec ls -la
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Pipe, redirect, and hear document cannot be used.</li>
</ul>
<h3 id="terminating-gs_sh">Terminating gs_sh</h3>
<p>The above command is used to terminate gs_sh.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>exit<br>quit</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">// terminate gs_sh.
gs&gt; exit
</code></pre></li>
</ul>
<p>In addition, if an error occurs in the sub-command, the setting can be configured to end gs_sh.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>errexit <boolean></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>If TRUE is specified, gs_sh ends when an error occurs in the sub-command. Default is FALSE.</td>
<td></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//configure the setting so as to end gs_sh when an error occurs in the sub-command
gs&gt; errexit TRUE
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>There is no functional difference between the exit sub-command and quit sub-command.</li>
</ul>
<h3 id="help">Help</h3>
<p>Display a description of the sub-command.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>help [&lt;Sub-command name&gt;]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Sub-command name</td>
<td>Specify the sub-command name to display the description Display a list of the sub-commands if omitted.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//display the description of the sub-command
gs&gt; help exit
exit
terminate gs_sh.
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>A description of gs_sh can be obtained with the command &ldquo;gs_sh &ndash;help&rdquo;.</li>
</ul>
<h3 id="version">Version</h3>
<p>Display the version of gs_sh.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>version</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//display the version
gs&gt; version
gs_sh version 2.0.0
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>The gs_sh version data can be obtained with the command &ldquo;gs_sh &ndash;version&rdquo; as well.</li>
</ul>
<h3 id="setting-the-time-zone">Setting the time zone</h3>
<p>Set the time zone.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>settimezone [setting value]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Value</td>
<td>The format of the setting value is &ldquo;hh:mm&rdquo;, &ldquo;hhmm&rdquo;, &ldquo;Z&rdquo;, and &ldquo;auto&rdquo;. For example, for Japan time, the setting value is &ldquo;+09:00&rdquo;. <br>When the value is not specified, the setting value for the time zone is cleared.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>If the time zone setting is changed with the settimezone subcommand after executing the connect subcommand, the changed timezone setting is not reflected until the connect subcommand is executed again. After changing the time zone setting, execute the connect subcommand again.</li>
</ul>
<h3 id="specifying-the-authentication-method">Specifying the authentication method</h3>
<p>Specify the authentication method. For details on the authentication method, see the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a> .</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>setauthmethod [authentication method]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>authentication method</td>
<td>Specify either INTERNAL (internal authentication) or LDAP (LDAP authentication) as an authentication method to be used. If unspecified, the set value is cleared. The set value can be checked by using the authentication variable.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; setauthmethod ldap

// Check the settings.
gs[public]&gt; print $authentication
ldap
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Rerun the connect subcommand after modifying the settings.</li>
</ul>
<h3 id="setting-ssl-connection">Setting SSL connection</h3>
<p>Secure communication with the GridDB cluster with SSL,</p>
<p>After enabling SSL connection on the GridDB cluster, enable SSL connection with the following subcommand of the gs_sh command. For details on SSL connection, see the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>setsslmode [SSL connection settings]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>For SSL connection settings, specify DISABLED (SSL is invalid), REQUIRED (SSL is valid), or VERIFY (SSL is valid and performs server certificate verification). The default value is DISABLED. The set value can be checked by using the variable sslMode.</td>
<td></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs&gt; setsslmode REQUIRED

//Check the settings.
gs[public]&gt; print $sslMode
REQUIRED
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Rerun the connect subcommand after modifying the settings.</li>
<li>If the SSL connection settings are invalid on the GridDB cluster, SSL communications cannot be enabled regardless of the settings of this tool.</li>
<li>To specify VERIFY for the settings for SSL communications (sslMode), a certificate by the Certificate Authority (CA) is required; import the certificate using the keytool command. To set a truststore (-Djavax.net.ssl.trustStore) and a password (-Djavax.net.ssl.trustStorePassword) as arguments upon launching java, specify them for the environment variable <code>GS_COMMON_JVM_ARGS</code>. Note that the command interpreter does not support the checking of the expiration date of a CA certificate to ensure it is valid.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">GS_COMMON_JVM_ARGS=&#34;-Djavax.net.ssl.trustStore=/var/lib/gridstore/admin/keystore.jks -Djavax.net.ssl.trustStorePassword=changeit&#34;
export GS_COMMON_JVM_ARGS
</code></pre><h3 id="setting-the-address-of-the-interface-to-receive-the-multicast-packets-from">Setting the address of the interface to receive the multicast packets from</h3>
<p>To configure the cluster network in multicast mode when multiple network interfaces are available, specify the IP address of the interface to receive the multicast packets from.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>setntfif [IP address]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>IP address</td>
<td>Specify in IPv4 the IP address of the interface from which the multicast packet is received. If unspecified, the set value is cleared. The set value can be checked by using the variable notificationInterfaceAddress.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs[public]&gt; setntfif 192.168.1.100

// Check the settings.
gs[public]&gt; print $notificationInterfaceAddress
192.168.1.100
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Rerun the connect subcommand after modifying the settings.</li>
</ul>
<h3 id="displaying-history-and-rerunning-a-previous-subcommand">Displaying history and rerunning a previous subcommand</h3>
<p>Display previously run subcommands.</p>
<ul>
<li>Sub-command
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>history</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>Rerun recent subcommands from the subcommand history displayed with the history subcommand.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>!history number</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Argument</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>history number</td>
<td>Specify the history number of the subcommand you want to rerun from the subcommand history displayed with the history subcommand.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>Rerun the previously run subcommand.</p>
<ul>
<li>
<p>Sub-command</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>!!</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gs&gt; history
  1  connect $mycluster
  2  showcontainer
  3  select * from mytable;
  :
  210  configcluster $mycluster
  211  history

gs&gt; !210
gs&gt; configcluster $mycluster
           :

gs&gt; !!
gs&gt; configcluster $mycluster
           :
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Up to 500 most recent commands can be displayed.</li>
</ul>
<h2 id="options-and-sub-commands-specifications">Options and sub-commands specifications</h2>
<h3 id="option">Option</h3>
<ul>
<li>
<p>Command list</p>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_sh [&lt;Script file&gt;]</td>
</tr>
<tr>
<td>gs_sh -v|&ndash;version</td>
</tr>
<tr>
<td>gs_sh -h|&ndash;help</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Required</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>-v|&ndash;version</td>
<td></td>
<td>Display the version of the tool.</td>
</tr>
<tr>
<td>-h|&ndash;help</td>
<td></td>
<td>Display the command list as a help message.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>In order to batch process the gs_sh sub-command, a script file can be created. Extension of script file is gsh.</li>
<li>During gs_sh startup, .gsshrc script files under the gsadm user home directory are imported automatically. The .gsshrc contents will also be imported to the destination from other script files.</li>
</ul>
<h3 id="sub-command-list">Sub-command list</h3>
<ul>
<li>
<p>GridDB cluster definition sub-command list</p>
<table>
<thead>
<tr>
<th>Sub-command</th>
<th>Argument</th>
<th>Note</th>
<th>*1</th>
</tr>
</thead>
<tbody>
<tr>
<td>setnode</td>
<td>&lt;Node variable&gt; &lt;IP address&gt; &lt;Port no.&gt; [&lt;SSH port no.&gt;]</td>
<td>Define the node variable.</td>
<td></td>
</tr>
<tr>
<td>setcluster</td>
<td>setcluster &lt;Cluster variable&gt; &lt;Cluster name&gt; &lt;Multicast address&gt; &lt;Port no.&gt; [&lt;Node variable&gt; &hellip;]</td>
<td>Define the cluster variable.</td>
<td></td>
</tr>
<tr>
<td>setclustersql</td>
<td>setclustersql &lt;Cluster variable&gt; &lt;Cluster name&gt; &lt;SQL address&gt; &lt;SQL port no.&gt;</td>
<td>Define the SQL connection destination in the cluster configuration.</td>
<td></td>
</tr>
<tr>
<td>modcluster</td>
<td>&lt;Cluster variable&gt; add</td>
<td>remove &lt;Node variable&gt; &hellip;</td>
<td>Add or delete a node variable to or from the cluster variable.</td>
</tr>
<tr>
<td>setuser</td>
<td>&lt;User name&gt; &lt;Password&gt; [&lt;gsadm password&gt;]</td>
<td>Define the user and password to access the cluster.</td>
<td></td>
</tr>
<tr>
<td>set</td>
<td>&lt;Variable name&gt; [&lt;Value&gt;]</td>
<td>Define an arbitrary variable.</td>
<td></td>
</tr>
<tr>
<td>show</td>
<td>[&lt;Variable name&gt;]</td>
<td>Display the detailed definition of the variable.</td>
<td></td>
</tr>
<tr>
<td>save</td>
<td>[&lt;Script file name&gt;]</td>
<td>Save the variable definition in the script file.</td>
<td></td>
</tr>
<tr>
<td>load</td>
<td>[&lt;Script file name&gt;]</td>
<td>Execute a read script file.</td>
<td></td>
</tr>
<tr>
<td>sync</td>
<td>IP address port number  [cluster variable name [node variable] ]</td>
<td>Connect to the running GridDB cluster and automatically define a cluster variable and a node variable.</td>
<td>*</td>
</tr>
</tbody>
</table>
<ul>
<li>*1 : Commands marked with an * can be executed by the administrator user only.</li>
</ul>
</li>
<li>
<p>GridDB cluster operation sub-command list</p>
<table>
<thead>
<tr>
<th>Sub-command</th>
<th>Argument</th>
<th>Note</th>
<th>*1</th>
</tr>
</thead>
<tbody>
<tr>
<td>startnode</td>
<td>&lt;Node variable&gt; | &lt;Cluster variable&gt; [&lt;Timeout time in sec&gt;]</td>
<td>Start the specified node.</td>
<td>*</td>
</tr>
<tr>
<td>stopnode</td>
<td>&lt;Node variable&gt; | &lt;Cluster variable&gt; [&lt;Timeout time in sec&gt;]</td>
<td>Stop the specified node.</td>
<td>*</td>
</tr>
<tr>
<td>stopnodeforce</td>
<td>&lt;Node variable&gt; | &lt;Cluster variable&gt; [&lt;Timeout time in sec&gt;]</td>
<td>Stop the specified node by force.</td>
<td>*</td>
</tr>
<tr>
<td>startcluster</td>
<td>&lt;Cluster variable&gt; [ &lt;Timeout time in sec.&gt; ]</td>
<td>Attach the active node groups to a cluster, together at once.</td>
<td>*</td>
</tr>
<tr>
<td>stopcluster</td>
<td>&lt;Cluster variable&gt; [ &lt;Timeout time in sec.&gt; ]</td>
<td>Detach all of the currently attached nodes from a cluster, together at once.</td>
<td>*</td>
</tr>
<tr>
<td>joincluster</td>
<td>&lt;Cluster variable&gt; &lt;Node variable&gt; [ &lt;Timeout time in sec.&gt; ]</td>
<td>Attach a node individually to a cluster.</td>
<td>*</td>
</tr>
<tr>
<td>leavecluster</td>
<td>&lt;Node variable&gt; [ &lt;Timeout time in sec.&gt; ]</td>
<td>Detach a node individually from a cluster.</td>
<td>*</td>
</tr>
<tr>
<td>leaveclusterforce</td>
<td>&lt;Node variable&gt; [ &lt;Timeout time in sec.&gt; ]</td>
<td>Detach a node individually from a cluster by force.</td>
<td>*</td>
</tr>
<tr>
<td>appendcluster</td>
<td>&lt;Cluster variable&gt; &lt;Node variable&gt; [ &lt;Timeout time in sec.&gt; ]</td>
<td>Add an undefined node to a pre-defined cluster.</td>
<td>*</td>
</tr>
<tr>
<td>configcluster</td>
<td>Cluster variable</td>
<td>Display the cluster status data.</td>
<td>*</td>
</tr>
<tr>
<td>config</td>
<td>Node variable</td>
<td>Display the cluster configuration data.</td>
<td>*</td>
</tr>
<tr>
<td>stat</td>
<td>Node variable</td>
<td>Display the node configuration data and statistical information.</td>
<td>*</td>
</tr>
<tr>
<td>logs</td>
<td>Node variable</td>
<td>Displays the log of the specified node.</td>
<td>*</td>
</tr>
<tr>
<td>logconf</td>
<td>&lt;Node variable&gt; [ &lt;Category name&gt; [ &lt;Output level&gt; ] ]</td>
<td>Display and change the log settings.</td>
<td>*</td>
</tr>
<tr>
<td>showsql</td>
<td>Query ID</td>
<td>Display the SQL processing under execution.</td>
<td></td>
</tr>
<tr>
<td>showevent</td>
<td></td>
<td>Display the event list under execution.</td>
<td></td>
</tr>
<tr>
<td>showconnection</td>
<td></td>
<td>Display the list of connections.</td>
<td></td>
</tr>
<tr>
<td>killsql</td>
<td>Query ID</td>
<td>Cancel the SQL processing in progress.</td>
<td>*</td>
</tr>
</tbody>
</table>
<ul>
<li>*1 : Commands marked with an * can be executed by the administrator user only.</li>
</ul>
</li>
<li>
<p>Data operation sub-command list</p>
<table>
<thead>
<tr>
<th>Sub-command</th>
<th>Argument</th>
<th>Note</th>
<th>*1</th>
</tr>
</thead>
<tbody>
<tr>
<td>connect</td>
<td>&lt;Cluster variable&gt; [&lt;Database name&gt;]</td>
<td>Connect to a GridDB cluster.</td>
<td></td>
</tr>
<tr>
<td>tql</td>
<td>&lt;Container name&gt; &lt;Query;&gt;</td>
<td>Execute a search and retain the search results.</td>
<td></td>
</tr>
<tr>
<td>get</td>
<td>[ &lt;No. of acquires&gt; ]</td>
<td>Get the search results and display them in a stdout.</td>
<td></td>
</tr>
<tr>
<td>getcsv</td>
<td>&lt;CSV file name&gt; [&lt;No. of acquires&gt;]</td>
<td>Get the search results and save them in a file in the CSV format.</td>
<td></td>
</tr>
<tr>
<td>getnoprint</td>
<td>[ &lt;No. of acquires&gt; ]</td>
<td>Get the query results but do not display them in a stdout.</td>
<td></td>
</tr>
<tr>
<td>tqlclose</td>
<td></td>
<td>Close the TQL and discard the search results saved.</td>
<td></td>
</tr>
<tr>
<td>tqlexplain</td>
<td>&lt;Container name&gt; &lt;Query;&gt;</td>
<td>Execute the specified TQL command and display the execution plan and actual measurement values such as the number of cases processed etc.</td>
<td></td>
</tr>
<tr>
<td>tqlanalyze</td>
<td>&lt;Container name&gt; &lt;Query;&gt;</td>
<td>Displays the execution plan of the specified TQL command.</td>
<td></td>
</tr>
<tr>
<td>sql</td>
<td>&lt;SQL command;&gt;</td>
<td>Execute an SQL command and retains the search result.</td>
<td></td>
</tr>
<tr>
<td>sqlcount</td>
<td>Boolean</td>
<td>Set whether to execute count query when SQL querying.</td>
<td></td>
</tr>
<tr>
<td>queryclose</td>
<td></td>
<td>Close the query and discard the search results saved.</td>
<td></td>
</tr>
<tr>
<td>disconnect</td>
<td></td>
<td>Disconnect user from a GridDB cluster.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>*1 : Commands marked with an * can be executed by the administrator user only.</li>
</ul>
</li>
<li>
<p>Database management sub-command list</p>
<table>
<thead>
<tr>
<th>Sub-command</th>
<th>Argument</th>
<th>Note</th>
<th>*1</th>
</tr>
</thead>
<tbody>
<tr>
<td>createdatabase</td>
<td>&lt;Database name&gt;</td>
<td>Create a database.</td>
<td>*</td>
</tr>
<tr>
<td>dropdatabase</td>
<td>&lt;Database name&gt;</td>
<td>Delete a database.</td>
<td>*</td>
</tr>
<tr>
<td>getcurrentdatabase</td>
<td></td>
<td>Display the current database name.</td>
<td></td>
</tr>
<tr>
<td>showdatabase</td>
<td>&lt;Database name&gt;</td>
<td>List the databases with access right information.</td>
<td></td>
</tr>
<tr>
<td>grantacl</td>
<td>&lt;access rights&gt; &lt;Database name&gt; &lt;User name&gt;</td>
<td>Grant the database access rights to user.</td>
<td>*</td>
</tr>
<tr>
<td>revokeacl</td>
<td>&lt;access rights&gt; &lt;Database name&gt; &lt;User name&gt;</td>
<td>Revoke access rights to the database.</td>
<td>*</td>
</tr>
</tbody>
</table>
<ul>
<li>*1 : Commands marked with an * can be executed by the administrator user only.</li>
</ul>
</li>
<li>
<p>User management sub-command list</p>
<table>
<thead>
<tr>
<th>Sub-command</th>
<th>Argument</th>
<th>Note</th>
<th>*1</th>
</tr>
</thead>
<tbody>
<tr>
<td>createuser</td>
<td>&lt;User name&gt; &lt;Password&gt;</td>
<td>Create a general user.</td>
<td>*</td>
</tr>
<tr>
<td>dropuser</td>
<td>&lt;User name&gt;</td>
<td>Delete a general user.</td>
<td>*</td>
</tr>
<tr>
<td>setpassword</td>
<td>&lt;Password&gt;</td>
<td>Change the own password.</td>
<td></td>
</tr>
<tr>
<td>setpassword</td>
<td>&lt;User name&gt; &lt;Password&gt;</td>
<td>Change the password of a general user.</td>
<td>*</td>
</tr>
<tr>
<td>showuser</td>
<td>[user name</td>
<td>role name]</td>
<td>Display information on a general user and a role.</td>
</tr>
</tbody>
</table>
<ul>
<li>*1 : Commands marked with an * can be executed by the administrator user only.</li>
</ul>
</li>
<li>
<p>Container management sub-command list</p>
<table>
<thead>
<tr>
<th>Sub-command</th>
<th>Argument</th>
<th>Note</th>
<th>*1</th>
</tr>
</thead>
<tbody>
<tr>
<td>createcollection</td>
<td>&lt;Container name&gt; &lt;Column name&gt; &lt;Column type&gt; [&lt;Column name&gt; &lt;Column type&gt; &hellip;]</td>
<td>Create a container (collection).</td>
<td></td>
</tr>
<tr>
<td>createtimeseries</td>
<td>&lt;Container name&gt; &lt;Compression method&gt; &lt;Column name&gt; &lt;Column type&gt; [&lt;Column name&gt; &lt;Column type&gt; &hellip;]</td>
<td>Create a container (timeseries container).</td>
<td></td>
</tr>
<tr>
<td>createcontainer</td>
<td>&lt;Container definition file&gt; [&lt;Container name&gt;]</td>
<td>Create a container based on the container definition file.</td>
<td></td>
</tr>
<tr>
<td>dropcontainer</td>
<td>&lt;Container name&gt;</td>
<td>Delete a container</td>
<td></td>
</tr>
<tr>
<td>putrow</td>
<td>container name value [value&hellip;]</td>
<td>Register a row in a container.</td>
<td></td>
</tr>
<tr>
<td>removerow</td>
<td>container name row key value [row key value&hellip;]</td>
<td>Delete a row from a container.</td>
<td></td>
</tr>
<tr>
<td>showcontainer</td>
<td>[ &lt;Container name&gt; ]</td>
<td>Display the container data.</td>
<td></td>
</tr>
<tr>
<td>showtable</td>
<td>[ &lt;Table name&gt; ]</td>
<td>Display the table data.</td>
<td></td>
</tr>
<tr>
<td>searchcontainer</td>
<td>[container name]</td>
<td>Search for a container by specifying a container name.</td>
<td></td>
</tr>
<tr>
<td>searchview</td>
<td>[view name]</td>
<td>Search for a view by specifying a view name.</td>
<td></td>
</tr>
<tr>
<td>createindex</td>
<td>&lt;Container name&gt; &lt;Column name&gt; &lt;Index type&gt; &hellip;</td>
<td>Create an index in the specified column.</td>
<td></td>
</tr>
<tr>
<td>createcompindex</td>
<td>&lt;Container name&gt; &lt;Column name&gt; &hellip;</td>
<td>Create a composite index on the specified column.</td>
<td></td>
</tr>
<tr>
<td>dropindex</td>
<td>&lt;Container name&gt; &lt;Column name&gt; &lt;Index type&gt; &hellip;</td>
<td>Delete an index of the specified column.</td>
<td></td>
</tr>
<tr>
<td>dropcompindex</td>
<td>&lt;Container name&gt; &lt;Column name&gt; &hellip;</td>
<td>Deletes the composite index of the specified column.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>*1 : Commands marked with an * can be executed by the administrator user only.</li>
</ul>
</li>
<li>
<p>Execution plan sub-command list</p>
<table>
<thead>
<tr>
<th>Sub-command</th>
<th>Argument</th>
<th>Note</th>
<th>*1</th>
</tr>
</thead>
<tbody>
<tr>
<td>getplantxt</td>
<td>[Text file name]</td>
<td>Display an SQL analysis result in text format.</td>
<td></td>
</tr>
<tr>
<td>getplanjson</td>
<td>[JSON file name]</td>
<td>Display an SQL analysis result in JSON format.</td>
<td></td>
</tr>
<tr>
<td>gettaskplan</td>
<td>Plan ID</td>
<td>Display the detailed information of an SQL analysis result in JSON format.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>*1 : Commands marked with an * can be executed by the administrator user only.</li>
</ul>
</li>
<li>
<p>Other operation sub-command list</p>
<table>
<thead>
<tr>
<th>Sub-command</th>
<th>Argument</th>
<th>Note</th>
<th>*1</th>
</tr>
</thead>
<tbody>
<tr>
<td>echo</td>
<td>Boolean</td>
<td>Set whether to echo back.</td>
<td></td>
</tr>
<tr>
<td>print</td>
<td>Message</td>
<td>Display the definition details of the specified character string or variable.</td>
<td></td>
</tr>
<tr>
<td>sleep</td>
<td>No. of sec</td>
<td>Set the time for the sleeping function.</td>
<td></td>
</tr>
<tr>
<td>exec</td>
<td>External command [External command arguments]</td>
<td>Execute an external command.</td>
<td></td>
</tr>
<tr>
<td>exit</td>
<td></td>
<td>The above command is used to terminate gs_sh.</td>
<td></td>
</tr>
<tr>
<td>quit</td>
<td></td>
<td>The above command is used to terminate gs_sh.</td>
<td></td>
</tr>
<tr>
<td>errexit</td>
<td>Boolean</td>
<td>Set whether to terminate gs_sh when an error occurs.</td>
<td></td>
</tr>
<tr>
<td>help</td>
<td>[ &lt;Sub-command name&gt; ]</td>
<td>Display a description of the sub-command.</td>
<td></td>
</tr>
<tr>
<td>version</td>
<td></td>
<td>Display the version of gs_sh.</td>
<td></td>
</tr>
<tr>
<td>settimezone</td>
<td>[setting value]</td>
<td>Set the time zone.</td>
<td></td>
</tr>
<tr>
<td>setauthmethod</td>
<td>[ authentication method ]</td>
<td>Specify the authentication method.</td>
<td></td>
</tr>
<tr>
<td>sslMode</td>
<td>[ SSL connection settings ]</td>
<td>Specify whether to secure communication with the GridDB cluster through SSL.</td>
<td></td>
</tr>
<tr>
<td>setntfif</td>
<td>[ IP address ]</td>
<td>Specify the IP address of the interface from which the multicast packet is received.</td>
<td></td>
</tr>
<tr>
<td>history</td>
<td></td>
<td>Display previously run subcommands.</td>
<td></td>
</tr>
<tr>
<td>![history number ]</td>
<td></td>
<td>Specify the history number of the subcommand you want to rerun from the subcommand history displayed with the history subcommand.</td>
<td></td>
</tr>
<tr>
<td>!!</td>
<td></td>
<td>Rerun the previously run subcommand.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>*1 : Commands marked with an * can be executed by the administrator user only.</li>
</ul>
</li>
</ul>
<p><a id="griddb_gs_admin"></a></p>
<h2 id="----integrated-operation-control-gui-gs_admin----">&mdash; Integrated operation control GUI (gs_admin) &mdash;</h2>
<h2 id="overview-1">Overview</h2>
<p>The integrated operation control GUI (hereinafter described as gs_admin) is a Web application that integrates GridDB cluster operation functions.</p>
<p>The following operations can be carried out using gs_admin.</p>
<ul>
<li>Management and operation of cluster configuration
<ul>
<li>Consolidate cluster data and node data in node repository</li>
<li>Edit node repository</li>
<li>Operation of cluster configuration</li>
</ul>
</li>
<li>Compare cluster and node data
<ul>
<li>Display a dashboard to show the performance data and log analysis data</li>
<li>Cluster status and configuration data</li>
<li>Node version and data (checkpoint) written to a data disk</li>
<li>Container data arranged in a node</li>
<li>Viewing event log of a node, dynamic changes in the event log output level for error analysis purposes</li>
<li>Execute SQL command on a cluster and display results</li>
</ul>
</li>
<li>See node performance data
<ul>
<li>Display node performance data in a graph</li>
<li>The performance data of the node at a specific point is stored and compared with the current performance data</li>
</ul>
</li>
<li>Database-related function in a cluster.
<ul>
<li>Database list display</li>
<li>Tree display of database and container</li>
<li>Create a database in a cluster, delete database from a cluster</li>
<li>Assign, revoke database access rights for a general user</li>
<li>Execution of SQL commands on a database, result display</li>
</ul>
</li>
<li>General user-related functions in a cluster.
<ul>
<li>Creating a general user in a cluster, deleting a general user from a cluster</li>
<li>Changing the password of a general user</li>
</ul>
</li>
<li>Container-related functions in a database.
<ul>
<li>Create a container in a database, delete a container from a database</li>
<li>Save the container search and search tree structural</li>
<li>Display container data and set indexes in a container</li>
<li>Execute a TQL command on a container (inquiry language) and display results</li>
</ul>
</li>
</ul>
<h3 id="gs_admin-configuration">gs_admin configuration</h3>
<p>gs_admin needs to be installed on a machine in which nodes constituting a cluster have been started, or in a machine on the network with the same subnet and multicast distribution.</p>
<h2 id="setting-up-gs_admin">Setting up gs_admin</h2>
<p>gs_admin is a Web application that contains Web containers.</p>
<p>To use gs_admin, Java have to be installed beforehand.  The supported versions are as follows.</p>
<ul>
<li>Oracle Java 8</li>
<li>Oracle Java 11</li>
<li>OpenJDK 8</li>
<li>OpenJDK 11</li>
</ul>
<p>The GridDB version supported by gs_admin Ver. 5.0 is:</p>
<ul>
<li>GridDB V5.0 Enterprise Edition</li>
</ul>
<p>The procedure to use gs_admin is as follows.</p>
<ol>
<li>Configure the respective GridDB nodes that constitute a GridDB cluster.</li>
<li>Install and configure gs_admin.</li>
<li>Access the gs_admin application URI with a browser, and log in as a gs_admin user.</li>
</ol>
<p>See the &ldquo;<a href="../2.md_quickstart_guide/md_quickstart_guide.md">GridDB Quickstart Guide</a>&rdquo;  for the procedure to configure a GridDB node.</p>
<p>The procedure to install and configure gs_admin is as follows.</p>
<ol>
<li>Installation of GridDB client package</li>
<li>gs_admin user settings</li>
<li>gs_admin.properties file settings</li>
<li>Node repository settings</li>
</ol>
<h3 id="installation-of-client-package">Installation of client package</h3>
<p>Install the GridDB Web UI package (griddb-ee-webui).</p>
<p>On a machine where the Web application is placed, install the package using the command below.</p>
<pre tabindex="0"><code class="language-example(CentOS)" data-lang="example(CentOS)">$ sudo rpm -Uvh griddb-ee-webui-X.X.X-linux.x86_64.rpm
</code></pre><pre tabindex="0"><code class="language-example(Ubuntu" data-lang="example(Ubuntu">$ sudo dpkg -i griddb-ee-webui_X.X.X_amd64.deb
</code></pre><p>*X.X.X indicates the GridDB version.</p>
<p>When a client package is installed, a directory named admin is created in the GridDB home directory ( <code>/var/lib/gridstore</code> ). This directory (<code>/var/lib/gridstore/admin</code> ) is known as adminHomehereinafter.</p>
<p>The configuration under adminHome is as follows.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">capture/                                                # snapshot storage directory (*)
        \&lt;Node address\&gt;_\&lt;port\&gt;/YYYYMMDDHHMMSS.json   # snapshotfile(*)
conf/                                                   # configuration file directory
     gs_admin.properties                                # Static parameter file to be configured initially
     gs_admin.settings                                  # dynamic parameter file to configure display-related settings
     password                                           # gs_admin user definition file
     repository.json                                    # node repository file
log/                                                    # log file directory of gs_admin (*)
    gs_admin-YYYYMMDD.log                               # log file (*)
tree/                                                   # structural file directory of container tree (*)
     foldertree-\&lt;cluster name\&gt;-\&lt;user name\&gt;.json     # folder tree file (*)
</code></pre><p>Files and directories marked with a (*) are created automatically by gs_admin.</p>
<p>[Notes]</p>
<ul>
<li>Files and directories under adminHome will not be deleted even if the client package is uninstalled.  Manually delete the files if they are not required.</li>
</ul>
<h3 id="gs_admin-user-settings">gs_admin user settings</h3>
<p>When using gs_admin, perform authentication as a gs_admin user.</p>
<p>Administrator users of GridDB clusters under management need to be set up as gs_admin users.</p>
<p>The gs_admin user definition file is found in <code>/var/lib/gridstore/admin/conf/password</code></p>
<p><strong>This file will not be created when a client package is installed.</strong></p>
<p>To create this file easier, overwrite the user definition file of the node in the cluster you want to manage (<code>/var/lib/gridstore/conf/password</code> ) to the gs_admin user definition file ( <code>/var/lib/gridstore/admin/conf/password</code> ). In this case, all administrator users listed in the copied user definition file will become gs_admin users.</p>
<p>[Memo]</p>
<ul>
<li>See <a href="#user_management">User management</a> for details about user management in GridDB.</li>
<li>See Managing multiple clusters if you want to <a href="#managing_multiple_clusters">manage multiple clusters</a> in gs_admin.</li>
</ul>
<h3 id="gs_adminproperties-file-settings">gs_admin.properties file settings</h3>
<p>The configuration file is found in <code>/var/lib/gridstore/admin/conf/gs_admin.properties</code> . Set together with the GridDB cluster configuration as a gsadm user.</p>
<p><strong>If the property file has been modified, restart the griddb-webui service.</strong></p>
<p>gs_admin.properties contains the following settings.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>adminUser</td>
<td>admin</td>
<td>Set the gs_admin administrator user. Multiple user names can be set by separating the names with commas. This function can be used by a gs_admin administrator user. <br>- cluster operation function<br>- Repository management function</td>
</tr>
<tr>
<td>ospassword</td>
<td>-</td>
<td>Set the password of the node gsadm user (OS user). The following functions can be used when the password is set. <br>- Node start operation (start) in the cluster operation functions<br>- OS information display screen</td>
</tr>
<tr>
<td>timeZone</td>
<td>-</td>
<td>Set timeZone as a property for cluster connection. <br>The set value is used as the time zone of the TIMESTAMP type column value on the TQL screen and SQL screen. If not specified, the time zone will be UTC.</td>
</tr>
<tr>
<td>logging.performance</td>
<td>FALSE</td>
<td>Specify TRUE to retrieve the performance log.</td>
</tr>
<tr>
<td>gs_admin.debug</td>
<td>FALSE</td>
<td>Specify TRUE to start in debug mode.</td>
</tr>
<tr>
<td>sqlLoginTimeout</td>
<td></td>
<td>Specify the SQL login timeout in seconds.</td>
</tr>
<tr>
<td>authenticationMethod</td>
<td>*dependent on the GridDB cluster settings</td>
<td>Specify either INTERNAL (internal authentication) or LDAP (LDAP authentication) as an authentication method to be used.</td>
</tr>
<tr>
<td>notificationInterfaceAddress</td>
<td>*OS-dependent</td>
<td>To configure the cluster network in multicast mode when multiple network interfaces are available, specify the IP address of the interface to receive the multicast packets from.</td>
</tr>
<tr>
<td>sslMode</td>
<td>DISABLED</td>
<td>For SSL connection settings, specify DISABLED (SSL is invalid), REQUIRED (SSL is valid), or VERIFY (SSL is valid and performs server certificate verification).</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>When installing GridDB, gsadm is created as an OS user to use GridDB. As no password has been set for the gsadm user, a password needs to be set if <code>ospassword</code> is required for the gs_admin.</li>
<li>For details on LDAP authentication  and SLL connection, see the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>.</li>
<li>If the SSL connection settings are invalid on the GridDB cluster, SSL communications cannot be enabled regardless of the settings of this tool.</li>
<li>To specify VERIFY for the settings for SSL communications (sslMode), a certificate by the Certificate Authority (CA) is required; import the certificate using the keytool command. To set a truststore (-Djavax.net.ssl.trustStore) and a password (-Djavax.net.ssl.trustStorePassword) as arguments upon launching java, specify them for the environment variable <code>GS_COMMON_JVM_ARGS</code>. Note that the command interpreter does not support the checking of the expiration date of a CA certificate to ensure it is valid.</li>
<li>Set the environment variable <code>GS_COMMON_JVM_ARGS</code> in /etc/environment, referring to the example below. Restart gs_admin to apply the settings.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">GS_COMMON_JVM_ARGS=&#34;-Djavax.net.ssl.trustStore=/var/lib/gridstore/admin/keystore.jks -Djavax.net.ssl.trustStorePassword=changeit&#34;
</code></pre><ul>
<li>To enable SSL communications between the Web browser and gs_admin, set up /usr/griddb-webui/application.properties by referring to the following:</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">server.ssl.enabled=true
server.port=8443
server.ssl.key-store-type=JKS
server.ssl.key-store=/var/lib/gridstore/admin/keystore.jks
server.ssl.key-store-password=changeit
server.ssl.key-alias=tomcat
</code></pre><h3 id="node-repository-settings">Node repository settings</h3>
<p>Node repository files are files to centrally manage cluster configuration data and node data (<code>/var/lib/gridstore/admin/conf/repository.json</code> ). They are used to specify cluster under management and cluster operation functions.  Set together with the GridDB cluster configuration as a gsadm user.</p>
<p>The default file contents are as follows.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;header&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;lastModified&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;version&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;5.0.0&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;clusters&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;name&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;INPUT_YOUR_CLUSTER_NAME_HERE&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;address&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">31999</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;jdbcAddress&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;239.0.0.1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;jdbcPort&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">41999</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;nodes&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;address&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;192.168.1.10&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">10040</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;sshPort&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">22</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;clusterName&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;INPUT_YOUR_CLUSTER_NAME_HERE&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>To configure a node repository, either edit the file directly or use the repository management screen. Repository management screen is recommended.
When configuring using the repository management screen, see <a href="#repository_management_screen">the functions on the repository management screen</a> and <a href="#start_cluster_management">Starting management of a cluster in operation with gs_admin</a>.</p>
<p><strong>Use of the operation control command or command interpreter (gs_sh) is recommended when performing cluster configuration for the first time.</strong></p>
<h3 id="start-and-stop">Start and stop</h3>
<p>Use the systemctl command to start and stop gs_admin.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ sudo systemctl [start|stop|status|restart] griddb-webui
</code></pre><h2 id="login-and-login-destination-screen">Login and login destination screen</h2>
<h3 id="login-screen">Login screen</h3>
<p>Access the application URI below to access gs_admin.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">http://[Tomcat operating machine address]:8080/gs_admin
</code></pre><p>he login screen appears when you access the gs_admin application URI.</p>
<figure>
<img src="img/gs_admin-login.png" alt="Login screen" width="500"/>
<figcaption>Login screen</figcaption>
</figure>
<p>In the log-in screen, you can choose from 2 different environment; cluster or repository manager. In the former option, you need to select the cluster that you would like to manage from the drop-down list. Once logged in, you will be taken to <a href="#integrated_operation_control_screen">the Integrated operation control screen</a></p>
<p>On the other hand, for the latter option, you will be taken to the <a href="#repository_management_screen">Repository management screen</a>.</p>
<p>When logging in, enter your gs_admin user name and password in the box next to &ldquo;user&rdquo; and &ldquo;password&rdquo; respectively, and press the Login button.</p>
<p>[Memo]</p>
<ul>
<li>The port no. of the Tomcat operating machine differs depending on the environment. Default port is 8080.</li>
<li>It is possible to log into the integrated operation control screen even if the node has not been started.</li>
</ul>
<p><a id="integrated_operation_control_screen"></a></p>
<h3 id="integrated-operation-control-screen">Integrated operation control screen</h3>
<p>The integrated operation control screen is shown below.</p>
<figure>
<img src="img/gs_admin-main.png" alt="Integrated operation control screen" width="600"/>
<figcaption>Integrated operation control screen</figcaption>
</figure>
<p>The integrated operation control screen is made up of the following elements.</p>
<table>
<thead>
<tr>
<th>Element</th>
<th>Abbreviation</th>
<th>Location</th>
<th>Functions</th>
</tr>
</thead>
<tbody>
<tr>
<td>Tree view</td>
<td>Tree</td>
<td>Left</td>
<td>Display, select a list of operating targets</td>
</tr>
<tr>
<td>Data display and input section</td>
<td>View</td>
<td>Right</td>
<td>Data display and data input subject to operation</td>
</tr>
<tr>
<td>Menu area</td>
<td></td>
<td>Top</td>
<td>Log out</td>
</tr>
<tr>
<td>Message area</td>
<td></td>
<td>Bottom</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Tree function</strong></p>
<p>In Tree, a cluster or container can be selected as the main operation target by switching tabs at the top.</p>
<table>
<thead>
<tr>
<th>Tab</th>
<th>Tree name</th>
<th>Main functions</th>
</tr>
</thead>
<tbody>
<tr>
<td>ClusterTree</td>
<td><a href="#cluster_tree">Cluster tree</a></td>
<td>Display a list of the clusters and nodes, select the operating targets</td>
</tr>
<tr>
<td>ContainerTree</td>
<td><a href="#container_tree">Container tree</a></td>
<td>Display a list of the databases, search for containers, select operating targets</td>
</tr>
</tbody>
</table>
<p><strong>View function</strong></p>
<p>In View, the tab displayed at the top of View differs for each operating target selected in Tree.  The function can be switched by selecting the tab at the top.</p>
<p>See the items of each tree and screen for details.</p>
<p><a id="repository_management_screen"></a></p>
<h3 id="repository-management-screen">Repository management screen</h3>
<p><strong>This function can be used by a gs_admin administrator user only.</strong></p>
<p>Select repository manager in the login screen and login as a gs_admin administrator user to arrive at the repository management screen.</p>
<p>The repository management screen is shown below.</p>
<figure>
<img src="img/gs_admin-repos.png" alt="Repository management screen" width="500"/>
<figcaption>Repository management screen</figcaption>
</figure>
<p>The following functions are available in the repository management screen.</p>
<ul>
<li>Displaying repository data
<ul>
<li>Display of the node repository file (<code>/var/lib/gridstore/admin/conf/repository.json</code> ) is divided into 2 sections. The top half of the screen shows the cluster data, whereas the bottom half displays the node data.</li>
</ul>
</li>
<li>Editing repository data
<ul>
<li><strong>Any changes/edit in the repository data will not be applied unless it is saved.</strong></li>
<li>To add clusters and nodes to the repository, enter the cluster and node data in the boxes provided, and click the Add button.
<ul>
<li>A cluster cannot be added or replaced when the cluster name is duplicated.</li>
<li>A node cannot be added or replaced when the combination of the IP address and port is duplicated.</li>
</ul>
</li>
<li>Replace and Delete can be performed by selecting a row in the table.
<ul>
<li>Upon selecting a row, the contents of the row will be copied to the input column.</li>
<li>Multiple rows cannot be selected.</li>
</ul>
</li>
<li>Besides the cluster name, one of the following data is required to add or replace a cluster depending on the cluster connection method.
<ul>
<li>If the cluster connection method is &ldquo;MULTICAST&rdquo;: multicast address, multicast port</li>
<li>f the cluster connection method is &ldquo;FIXED_LIST&rdquo;: connection destination list of the fixed list method</li>
<li>If the cluster connection method is &ldquo;PROVIDER&rdquo;: provider URL of the provider method</li>
</ul>
</li>
<li>IP address and port are required to add or replace a node.</li>
<li>When deleting a cluster, if there are registered nodes in the deleted cluster after deletion, a dialog to confirm deletion of the cluster from these nodes will appear. Select Yes to delete.</li>
</ul>
</li>
<li>Cluster synchronization
<ul>
<li>Data of a cluster in operation can be acquired and registered in a repository.</li>
<li>Click the Sync button to display the dialog for inputting the IP address and port.  Enter the IP address and port of any node constituting the cluster in here and press the Sync button. Click Yes in the confirmation dialog to overwrite and update the display in the repository management screen.
<ul>
<li>The specified node need not be a master node.</li>
<li>Specify <code>/system/serviceAddress</code> of the node definition file (gs_cluster.json) as the IP address.</li>
<li>Specify <code>/system/servicePort</code> of the node definition file (gs_node.json) as the port.</li>
<li>SSH port is registered as 22 by default. Change this setting if needed.</li>
</ul>
</li>
</ul>
</li>
<li>Updating repository data
<ul>
<li>Click the Refresh button to import the node repository file again.</li>
<li><strong>Unsaved contents will be discarded.</strong></li>
</ul>
</li>
<li>Saving repository data
<ul>
<li>Click the Save button to save the contents displayed on the screen.</li>
<li><strong>As long as the data is not saved yet, no changes will be made to the node repository file.</strong></li>
</ul>
</li>
</ul>
<p>The specifications of the input column are as follows.</p>
<p><strong>Cluster</strong></p>
<ul>
<li>Cluster name (Name)
<ul>
<li>Specify <code>/cluster/clusterName</code> of the cluster definition file (gs_cluster.json).</li>
</ul>
</li>
<li>Cluster connection method (Mode)
<ul>
<li>Select from the following methods.
<ul>
<li>MULTICAST: multicast method</li>
<li>FIXED_LIST: fixed list method</li>
<li>PROVIDER: provider method</li>
</ul>
</li>
</ul>
</li>
<li>Multicast address (Multicast Address)
<ul>
<li>Specify <code>/transaction/notificationAddress</code> of the cluster definition file (gs_cluster.json).</li>
<li>Must be specified when using the multicast method.</li>
</ul>
</li>
<li>Multicast port (Multicast Port)
<ul>
<li>Specify <code>/transaction/notificationAddress</code> of the cluster definition file (gs_cluster.json).</li>
<li>Must be specified when using the multicast method.</li>
</ul>
</li>
<li>JDBC address (JDBC Address)
<ul>
<li>Specify <code>/sql/notificationAddress</code> of the cluster definition file (gs_cluster.json).</li>
<li>Specify when using the multicast method. (optional)</li>
<li>This is necessary when using the SQL screen.</li>
</ul>
</li>
<li>JDBC port (JDBC Port)
<ul>
<li>Specify <code>/sql/notificationPort</code> of the cluster definition file (gs_cluster.json).</li>
<li>Specify when using the multicast method. (optional)</li>
<li>This is necessary when using the SQL screen.</li>
</ul>
</li>
<li>Connection destination list of fixed list method (Transaction Member)
<ul>
<li>Combine the <code>/cluster/notificationMember/transaction/address</code> and <code>/cluster/notificationMember/transaction/port</code> in the cluster definition file (gs_cluster.json) with a &ldquo;:&rdquo; and specify the value of each node by separating them with a comma.</li>
<li>Example: 192.168.10.1:10001,192.168.10.2:10001,192.168.10.3:10001</li>
</ul>
</li>
<li>Connection destination list of fixed list method (SQL Member)
<ul>
<li>Combine the <code>/cluster/notificationMember/sql/address</code> and <code>/cluster/notificationMember/sql/port</code> in the cluster definition file (gs_cluster.json) with a &ldquo;:&rdquo; and specify the value of each node by separating them with a comma.</li>
<li>Example: 192.168.10.1:20001,192.168.10.2:20001,192.168.10.3:20001</li>
</ul>
</li>
<li>Provider URL of provider method (Provider URL)
<ul>
<li>Specify /cluster/notificationProvider/url<code>  </code> of the cluster definition file (gs_cluster.json).</li>
<li>This is necessary when using the provider method.</li>
</ul>
</li>
</ul>
<p><strong>Node</strong></p>
<ul>
<li>Cluster
<ul>
<li>Select a registered cluster in the selection box.</li>
</ul>
</li>
<li>IP Address
<ul>
<li>Specify <code>/system/serviceAddress</code> of the node definition file (gs_node.json).</li>
</ul>
</li>
<li>Port
<ul>
<li>Specify <code>/system/servicePort</code> of the node definition file (gs_node.json).</li>
</ul>
</li>
<li>SSH Port
<ul>
<li>Specify the SSH port of the machine with operating nodes. Default port is 22.</li>
</ul>
</li>
</ul>
<h2 id="cluster-tree-related-functions">Cluster tree-related functions</h2>
<p><a id="cluster_tree"></a></p>
<h3 id="cluster-tree">Cluster tree</h3>
<p><strong>Summary</strong></p>
<p>In a cluster tree, the nodes constituting a cluster under management, i.e the repository nodes (clusterName is the cluster under management) are displayed in a tree format.</p>
<figure>
<img src="img/gs_admin-clustertree01.png" alt="Cluster tree" width="200"/>
<figcaption>Cluster tree</figcaption>
</figure>
<p>An * will appear at the beginning of a node which has not been registered in the repository.</p>
<p>A description of the icons shown in a cluster tree is given below.</p>
<table>
<thead>
<tr>
<th>Icon</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="img/gs_admin-icon01.png" alt=""></td>
<td>Cluster</td>
</tr>
<tr>
<td><img src="img/gs_admin-icon02.png" alt=""></td>
<td>Master node</td>
</tr>
<tr>
<td><img src="img/gs_admin-icon03.png" alt=""></td>
<td>Follower node</td>
</tr>
<tr>
<td><img src="img/gs_admin-icon04.png" alt=""></td>
<td>Started node</td>
</tr>
<tr>
<td><img src="img/gs_admin-icon05.png" alt=""></td>
<td>Stopped node</td>
</tr>
<tr>
<td><img src="img/gs_admin-icon06.png" alt=""></td>
<td>Status unconfirmed node</td>
</tr>
<tr>
<td><img src="img/gs_admin-icon10.png" alt=""></td>
<td>Message</td>
</tr>
</tbody>
</table>
<p><strong>Context menu</strong></p>
<p>When an element of the tree is right clicked, a context menu appears according to which element is clicked, cluster or node.  Data update and element operation can then be performed by selecting an item from the menu.</p>
<p>The menus and functions for the respective selected elements are as follows.</p>
<table>
<thead>
<tr>
<th>Selection element</th>
<th>Menu</th>
<th>Functions</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster</td>
<td>refresh</td>
<td>Get list of nodes in a tree again</td>
</tr>
<tr>
<td>Node</td>
<td>refresh</td>
<td>Display the latest node information in View</td>
</tr>
</tbody>
</table>
<p><strong>Operating target and view tab</strong></p>
<p>When an element in the tree is left clicked, the functions appear in the View according to which element is clicked, cluster or node.  The function can be changed by tapping the top section of the View.</p>
<table>
<thead>
<tr>
<th>Selection element</th>
<th>Tab</th>
<th>Screen name</th>
<th>Functions</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster</td>
<td>Dashboard</td>
<td><a href="#dashboard_screen">Dashboard screen</a></td>
<td>The dashboard screen contains a variety of information related to the entire cluster such as memory usage, cluster health, log information, etc.</td>
</tr>
<tr>
<td></td>
<td>Status</td>
<td><a href="#cluster_status_screen">Cluster status screen</a></td>
<td>Display configuration data and information of cluster under management.</td>
</tr>
<tr>
<td></td>
<td>Monitor</td>
<td><a href="#os_data_display_screen">OS data display screen</a></td>
<td>Display OS data of a machine with operating nodes.</td>
</tr>
<tr>
<td></td>
<td>Configuration</td>
<td><a href="#cluster_operation_screen">Cluster operation screen</a></td>
<td>The cluster operations screen consists of a list of table of the running nodes, as well as the start and end node features.</td>
</tr>
<tr>
<td>Node</td>
<td>System</td>
<td><a href="#system_data_screen">System data screen</a></td>
<td>Display system data of the node.</td>
</tr>
<tr>
<td></td>
<td>Container</td>
<td><a href="#container_list_screen">Container list screen</a></td>
<td>The container list screen contains containers information such as the name of the containers and to which database it belongs to.</td>
</tr>
<tr>
<td></td>
<td>Performance</td>
<td><a href="#performance_data_screen">Performance data screen</a></td>
<td>Display performance data of the node as a graph.</td>
</tr>
<tr>
<td></td>
<td>Snapshot</td>
<td><a href="#snapshot_screen">Snapshot screen</a></td>
<td>The snapshot screen shows the node&rsquo;s performance at a point in time. The values can be compared with the values measured earlier.</td>
</tr>
<tr>
<td></td>
<td>Log</td>
<td><a href="#log_screen">Log screen</a></td>
<td>The log screen contains the event log information of a node and the corresponding setting of its output level.</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>If the master node of a cluster is changed, re-acquisition of the node list may fail. Log out once first before logging in again.</li>
</ul>
<p><a id="dashboard_screen"></a></p>
<h3 id="dashboard-screen">Dashboard screen</h3>
<p><strong>Summary</strong></p>
<p>The dashboard screen contains a variety of information related to the entire cluster such as memory usage, cluster health, log information, etc.</p>
<p><strong>Method of use</strong></p>
<table>
<thead>
<tr>
<th>Type of tree</th>
<th>Operating target</th>
<th>Tab</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster tree</td>
<td>Cluster</td>
<td>Dashboard</td>
</tr>
</tbody>
</table>
<p><strong>Screen</strong></p>
<figure>
<img src="img/gs_admin-dashb.png" alt="Dashboard screen" width="600"/>
<figcaption>Dashboard screen</figcaption>
</figure>
<p><strong>Functions</strong></p>
<p>The following functions are available in the dashboard screen.</p>
<ul>
<li>Total volume of data in the cluster (Total Stored)
<ul>
<li>Display the total volume of data in the cluster along with its unit. (KB - TB)</li>
<li>The % of the total volume of data saved in the memory is also displayed.</li>
</ul>
</li>
<li>Total amount of memory used (Memory Usage)
<ul>
<li>The utilization rate of memory is displayed on a pie chart.</li>
</ul>
</li>
<li>Cluster health (Cluster Health)
<ul>
<li>Display the proportion of operating nodes and non-operating nodes on a pie chart.</li>
</ul>
</li>
<li>Network connection in a cluster (Current Connections)
<ul>
<li>Display the current connection, session and number of transactions of the cluster on a bar chart.</li>
</ul>
</li>
<li>Number of cluster events (in the past 5 minutes) (Event Count)
<ul>
<li>Display the read command, write command, swap read, swap write and event count of the lock bids which occurred in the past 5 minutes (*1) in a cluster.</li>
<li>(*1) Past 5 minutes refers to the past 5 minutes starting from the time the latest performance data is output to the log.</li>
</ul>
</li>
<li>Log analysis data (Log Information)
<ul>
<li>Display the WARNING and ERROR logs of each node constituting a cluster.</li>
<li>Move and hover the cursor to the icon on the far left to display detailed data of the target log.</li>
</ul>
</li>
</ul>
<p><a id="cluster_status_screen"></a></p>
<h3 id="cluster-status-screen">Cluster status screen</h3>
<p><strong>Summary</strong></p>
<p>Display configuration data and information of cluster under management.</p>
<p><strong>Method of use</strong></p>
<table>
<thead>
<tr>
<th>Type of tree</th>
<th>Operating target</th>
<th>Tab</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster tree</td>
<td>Cluster</td>
<td>Status</td>
</tr>
</tbody>
</table>
<p><strong>Screen</strong></p>
<figure>
<img src="img/gs_admin-cstatus.png" alt="Cluster status screen" width="500"/>
<figcaption>Cluster status screen</figcaption>
</figure>
<p><strong>Functions</strong></p>
<p>The cluster status screen is comprised of the following components.</p>
<ul>
<li>
<p>Cluster data display (Cluster Information)</p>
<ul>
<li>Display the following data acquired from a master node.
<ul>
<li>Cluster name, operation node number, number of nodes constituting a cluster, partition status, multicast address and port</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Data-related information display (Stored Data Information)</p>
<ul>
<li>Display the following data acquired from a cluster.
<ul>
<li>No. of partitions, total no. of containers</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Display data on nodes constituting a cluster (Node Information)</p>
<ul>
<li>Display the following data of each node.
<ul>
<li>IP address and port, node status, cluster status, composite status, node version</li>
<li>Composite status is the status of a node displayed on <a href="#cluster_operation_screen">the cluster operation screen</a>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><a id="os_data_display_screen"></a></p>
<h3 id="os-data-display-screen">OS data display screen</h3>
<p><strong>Summary</strong></p>
<p>The OS data display screen is comprised of two components, Resource Information and OS Performance of the current cluster. The GridDB performance analysis, and the CPU and Network load status are displayed by pie charts and line graphs respectively.</p>
<p><strong>Method of use</strong></p>
<table>
<thead>
<tr>
<th>Type of tree</th>
<th>Operating target</th>
<th>Tab</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster tree</td>
<td>Cluster</td>
<td>Monitor</td>
</tr>
</tbody>
</table>
<p><strong>Screen</strong></p>
<figure>
<img src="img/gs_admin-monitor.png" alt="OS data display screen" width="500"/>
<figcaption>OS data display screen</figcaption>
</figure>
<p><strong>Functions</strong></p>
<p>The OS data display screen is comprised of the following components.</p>
<ul>
<li>Display resource Information of a node (Resource Information)
<ul>
<li>Display the following data acquired from a node.
<ul>
<li>Memory, swap memory capacity, utilization rate</li>
<li>Capacity of the data directory and backup directory, disk usage <br>* If the option is set to divide data files, the free space in the directory where the divided data files are placed is not displayed.</li>
</ul>
</li>
</ul>
</li>
<li>OS performance data display (OS Performance)
<ul>
<li>Clicking the Start button will bring up 2 graphs showing the performance of the node at a specified interval.
<ul>
<li>CPU utilization rate</li>
<li>Network transfer volume</li>
</ul>
</li>
<li>Click the Stop button to stop the graph drawing.</li>
</ul>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>This function cannot be used if the <code>ospassword</code> has not been set up in gs_admin.properties.</li>
<li>This setting is necessary in order to connect to the node execution environment from the gs_admin execution environment as an OS user &ldquo;gsadm&rdquo;. See the manual of each OS for details on the SSH connection procedure.</li>
</ul>
<p><a id="cluster_operation_screen"></a></p>
<h3 id="cluster-operation-screen">Cluster operation screen</h3>
<p><strong>This function can be used by the gs_admin administrator only.</strong></p>
<p><strong>Summary</strong></p>
<p>The cluster operations screen consists of a list of table of the running nodes, as well as the start and end node features.</p>
<p><strong>Method of use</strong></p>
<table>
<thead>
<tr>
<th>Type of tree</th>
<th>Operating target</th>
<th>Tab</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster tree</td>
<td>Cluster</td>
<td>Configuration</td>
</tr>
</tbody>
</table>
<p><strong>Screen</strong></p>
<figure>
<img src="img/gs_admin-configuration.png" alt="Cluster operation screen" width="500"/>
<figcaption>Cluster operation screen</figcaption>
</figure>
<p><strong>Functions</strong></p>
<p>The following functions are available in the cluster operation screen.</p>
<ul>
<li>Displaying list of nodes
<ul>
<li>The cluster operation screen can display three of the following types of nodes, which have been registered to the repository:
<ul>
<li>Nodes that constitute the actual cluster (displayed at the top of the table)</li>
<li>Nodes that have been allocated to the current (being managed) cluster but do not constitute (not yet configured to) the actual cluster</li>
<li>Nodes that have NOT been allocated to any cluster</li>
</ul>
</li>
</ul>
</li>
<li>Displaying node data
<ul>
<li>Display the following data of each node.
<ul>
<li>Cluster registration status (check box)</li>
<li>Role in the cluster (Role)</li>
<li>IP address and port, and SSH port</li>
<li>Node status</li>
</ul>
</li>
<li>The cluster registration status indicates whether the nodes are registered in the current cluster.</li>
<li>There are 3 types of role - master node (M), follower node (F), and unassigned role (-).</li>
<li><a href="#cluster_and_node_status">Node status</a> appears only for the nodes that constitute the actual cluster, and the nodes that have been allocated to the current (being managed) cluster but do not constitute (not yet configured to) the actual cluster</li>
</ul>
</li>
<li>Registration and removal of nodes
<ul>
<li>*Contents of a node repository are edited by this function. So, a confirmation dialog will be displayed.</li>
<li>Click the check box next to the cluster registration status to register or delete a node to/from a cluster.</li>
<li>In this screen, only nodes that have been registered into a cluster can be operated.</li>
<li>When a cluster is in operation, the check box is disabled.</li>
</ul>
</li>
<li>Cluster operations components
<ul>
<li>Start cluster
<ul>
<li>Compose a cluster with all the nodes registered in the cluster.</li>
<li>This command can be executed only when the <a href="#cluster_and_node_status">node status</a> of all the nodes is STARTED.</li>
</ul>
</li>
<li>Stop cluster
<ul>
<li>Stop a cluster in operation.</li>
<li>This command can be executed only when the cluster is in operation.</li>
</ul>
</li>
</ul>
</li>
<li>Node operations components
<ul>
<li>Executable operating buttons will appear in the operations column of each node.
<ul>
<li>Display buttons differ depending on the <a href="#cluster_and_node_status">node status</a>.</li>
</ul>
</li>
<li>Starting a node (Start)
<ul>
<li>Start a node which has been stopped (status STOPPED)</li>
</ul>
</li>
<li>Joining a cluster (Join)
<ul>
<li>Add or re-add a node to a cluster.</li>
</ul>
</li>
<li>Leave a cluster (Leave)
<ul>
<li>Remove a node from the active cluster.</li>
</ul>
</li>
<li>Increase the number of nodes in a cluster (Append)
<ul>
<li>Increase the no. of nodes of the active cluster.</li>
</ul>
</li>
<li>Stopping a node (Stop)
<ul>
<li>Stop the node in operation.</li>
<li>Cannot be executed while a cluster is operating. Stop the node after removing it from the cluster.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>To start a node, this setting is necessary in order to connect to the node execution environment from the gs_admin execution environment as an OS user &ldquo;gsadm&rdquo;. See the manual of each OS for details on the SSH connection procedure.</li>
</ul>
<p><a id="system_data_screen"></a></p>
<h3 id="system-data-screen">System data screen</h3>
<p><strong>Summary</strong></p>
<p>Display system data of the node.</p>
<p><strong>Method of use</strong></p>
<table>
<thead>
<tr>
<th>Type of tree</th>
<th>Operating target</th>
<th>Tab</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster tree</td>
<td>Node</td>
<td>System</td>
</tr>
</tbody>
</table>
<p><strong>Screen</strong></p>
<figure>
<img src="img/gs_admin-system.png" alt="Cluster operation screen" width="500"/>
<figcaption>Cluster operation screen</figcaption>
</figure>
<p><strong>Functions</strong></p>
<p>The following functions are available in the system data screen.</p>
<ul>
<li>Displaying node data (Configuration Information)
<ul>
<li>Display the following data acquired from a node.
<ul>
<li>Node version, IP address and port, node status</li>
</ul>
</li>
</ul>
</li>
<li>Displaying checkpoint, backup data ( CheckPoint/Backup Information)
<ul>
<li>Display the number of checkpoint executions, number of backups performed, etc., as shown in the screenshot above.</li>
</ul>
</li>
</ul>
<p><a id="container_list_screen"></a></p>
<h3 id="container-list-screen">Container list screen</h3>
<p><strong>Summary</strong></p>
<p>The container list screen contains containers information such as the name of the containers and to which database it belongs to.</p>
<p><strong>Method of use</strong></p>
<table>
<thead>
<tr>
<th>Type of tree</th>
<th>Operating target</th>
<th>Tab</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster tree</td>
<td>Node</td>
<td>Container</td>
</tr>
</tbody>
</table>
<p><strong>Screen</strong></p>
<figure>
<img src="img/gs_admin-container.png" alt="Container list screen" width="500"/>
<figcaption>Container list screen</figcaption>
</figure>
<p><strong>Functions</strong></p>
<p>The following functions are available in the container list screen.</p>
<ul>
<li>Displaying the container list (Own Containers Information)
<ul>
<li>Display a list of the containers stored in a node.
<ul>
<li>Display the database name, container name and partition ID.</li>
</ul>
</li>
</ul>
</li>
<li>Hyperlink to the <a href="#container_details_screen">container details screen</a>
<ul>
<li>Click on the container name to move to <a href="#container_details_screen">the container details screen</a> and get detailed information of the container.</li>
</ul>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>The container tree needs to be initialized before moving to the container details screen. If the container details cannot be displayed, click the ContainerTree tab on the Tree once to initialize the container tree.</li>
</ul>
<p><a id="performance_data_screen"></a></p>
<h3 id="performance-data-screen">Performance data screen</h3>
<p><strong>Summary</strong></p>
<p>Display performance data of the node as a graph.</p>
<p><strong>Method of use</strong></p>
<table>
<thead>
<tr>
<th>Type of tree</th>
<th>Operating target</th>
<th>Tab</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster tree</td>
<td>Node</td>
<td>Performance</td>
</tr>
</tbody>
</table>
<p><strong>Screen</strong></p>
<figure>
<img src="img/gs_admin-performance.png" alt="Performance data screen" width="500"/>
<figcaption>Performance data screen</figcaption>
</figure>
<p><strong>Functions</strong></p>
<p>The following functions are available in the performance data screen.</p>
<ul>
<li>Plot a graph (Performance Capture)
<ul>
<li>Clicking the Start button will bring up 3 graphs showing the performance of the node at a specified interval.</li>
<li>The operation can be stopped with the Stop button.</li>
</ul>
</li>
<li>Memory/Storage Information
<ul>
<li>Display the volume of data saved in the memory and stored in a disk.</li>
<li>Unit is in MB.</li>
</ul>
</li>
<li>Read/Write Count Information
<ul>
<li>Display the number of times the memory or disk is read from or written to over time.</li>
</ul>
</li>
<li>Misc Count Information
<ul>
<li>Display the current connection, session, transaction, and number of lock bids generated.</li>
</ul>
</li>
</ul>
<p><a id="snapshot_screen"></a></p>
<h3 id="snapshot-screen">Snapshot screen</h3>
<p><strong>Summary</strong></p>
<p>The snapshot screen shows the node&rsquo;s performance at a point in time. The values can be compared with the values measured earlier.</p>
<p><strong>Method of use</strong></p>
<table>
<thead>
<tr>
<th>Type of tree</th>
<th>Operating target</th>
<th>Tab</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster tree</td>
<td>Node</td>
<td>Snapshot</td>
</tr>
</tbody>
</table>
<p><strong>Screen</strong></p>
<figure>
<img src="img/gs_admin-snapshot.png" alt="Snapshot screen" width="500"/>
<figcaption>Snapshot screen</figcaption>
</figure>
<p><strong>Functions</strong></p>
<p>The following functions are available in the snapshot screen.</p>
<ul>
<li>Gathering of performance data
<ul>
<li>Click the Capture button to get the current performance data of the node.</li>
</ul>
</li>
<li>Differential display
<ul>
<li>Click the Capture button several times to save and display the baseline and the difference (Diff) between the previous performance data (Start) and current performance data (End).</li>
</ul>
</li>
<li>Display and save baseline
<ul>
<li>Click the Baseline button to save the displayed differential value per second as the Baseline.</li>
<li>Saved data can be selected from the selection box. Only the latest 10 cases will be displayed in the selection box.</li>
<li>The baseline is saved in the capture directory of adminHome with the time indicated in Start as its name.</li>
</ul>
</li>
</ul>
<p><a id="log_screen"></a></p>
<h3 id="log-screen">Log screen</h3>
<p><strong>Summary</strong></p>
<p>The log screen contains the event log information of a node and the corresponding setting of its output level.</p>
<p><strong>Method of use</strong></p>
<table>
<thead>
<tr>
<th>Type of tree</th>
<th>Operating target</th>
<th>Tab</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster tree</td>
<td>Node</td>
<td>Log</td>
</tr>
</tbody>
</table>
<p><strong>Screen</strong></p>
<figure>
<img src="img/gs_admin-log.png" alt="Log screen" width="500"/>
<figcaption>Log screen</figcaption>
</figure>
<p><strong>Functions</strong></p>
<p>The following functions are available in the log screen.</p>
<ul>
<li>Displaying event log (Log Information)
<ul>
<li>Display the last 30 event logs of the node.</li>
<li>Event logs can be acquired again with the reload button.</li>
</ul>
</li>
<li>Event log output level display setting (Current Capture Level)
<ul>
<li>The current event log output level can be checked for each category.</li>
<li>The log output levels are ERROR, WARNING, INFO and DEBUG.</li>
<li>By restarting the node, the changed log level will get back to the level before the change.
<ul>
<li>Edit the node definition file (gs_node.json) of the target node to be perpetuated.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>[Notes]</p>
<ul>
<li><strong>Be sure to follow the instructions of the support desk when changing the log output level.</strong></li>
</ul>
<h2 id="container-tree-related-functions">Container tree-related functions</h2>
<p><a id="container_tree"></a></p>
<h3 id="container-tree">Container tree</h3>
<p><strong>Summary</strong></p>
<p>In a container tree, the databases and containers which exist in a cluster under management are displayed in a tree format.</p>
<p>The cluster under management is displayed at the top of the tree (the figure within the parentheses () refer to the total number of databases in the cluster).</p>
<figure>
<img src="img/gs_admin-containertree01.png" alt="Container tree" width="200"/>
<figcaption>Container tree</figcaption>
</figure>
<p>A description of the icons shown in a container tree is given below.</p>
<table>
<thead>
<tr>
<th>Icon</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="img/gs_admin-icon01.png" alt=""></td>
<td>Cluster</td>
</tr>
<tr>
<td><img src="img/gs_admin-icon11.png" alt=""></td>
<td>Database</td>
</tr>
<tr>
<td><img src="img/gs_admin-icon12.png" alt=""></td>
<td>Database (does not exist)</td>
</tr>
<tr>
<td><img src="img/gs_admin-icon07.png" alt=""></td>
<td>Container (collection)</td>
</tr>
<tr>
<td><img src="img/gs_admin-icon08.png" alt=""></td>
<td>Container (timeseries container)</td>
</tr>
<tr>
<td><img src="img/gs_admin-icon13.png" alt=""></td>
<td>Partitioned table (container)</td>
</tr>
<tr>
<td><img src="img/gs_admin-icon09.png" alt=""></td>
<td>Search folder</td>
</tr>
<tr>
<td><img src="img/gs_admin-icon14.png" alt=""></td>
<td>Temporary work folder</td>
</tr>
<tr>
<td><img src="img/gs_admin-icon10.png" alt=""></td>
<td>Message</td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<p>The following functions are available in a container tree.</p>
<ul>
<li>Displaying cluster operation functions
<ul>
<li>Upon selecting a cluster, a list of functions such as database creation etc. will appear in View.</li>
</ul>
</li>
<li>Auto detection of database
<ul>
<li>Automatically detects all databases existing in a cluster and displays them under the cluster.</li>
<li>If the displayed database no longer exists in the cluster, it can be deleted from the Tree.</li>
</ul>
</li>
<li>Selecting database subject to operation
<ul>
<li>Upon selecting a database, a list of functions such as container creation etc. will appear in View.</li>
</ul>
</li>
<li>Searching for container
<ul>
<li>Containers in each database can be searched using key words. Search conditions can be added by separating them with a single-byte space.</li>
<li>A search is conducted by selecting a database or search folder, entering the key words in the search bar at the top, and then clicking the search button or pressing the Enter key.</li>
<li>A search folder is created during a search. Figure within parentheses () indicates the number of containers found.</li>
<li>Search results can be filtered by stratifying the search folder.</li>
<li>Search folders can be deleted with the context menu or Delete key. Even if it is deleted, containers in clusters that are displayed in the folder will not be deleted.</li>
</ul>
</li>
<li>Deleting container
<ul>
<li>A container can be deleted from a cluster with the context menu or Delete key. Display a confirmation dialog prior to deletion.</li>
</ul>
</li>
<li>Selecting container subject to operation
<ul>
<li>Icon changes depending on the type of container selected.</li>
<li>Upon selecting a container, detailed information etc. of the container will appear in View.</li>
</ul>
</li>
<li>Temporary work folder
<ul>
<li>This folder is created under the database when a container is created in the container creation screen, or when the container name is clicked from the container data screen.</li>
<li>Can be deleted with the context menu or Delete key. Even if it is deleted, containers in clusters that are displayed in the folder will not be deleted.</li>
</ul>
</li>
<li>Saving tree structure
<ul>
<li>Tree structure after the search is saved and imported during the next login. (File differs for each cluster and user)</li>
<li>Objects saved include clusters, databases and search folders. Search results, containers and temporary work folders will not be saved.</li>
<li>These are saved in <code>/var/lib/gridstore/admin/tree/foldertree-[cluster name]-[user name].json</code> in the Tomcat operating machine.</li>
</ul>
</li>
</ul>
<p>After login, the ClusterTree tab and node list are displayed automatically. Upon switching to the ContainerTree tab, the tree structure of the container tree will be added automatically if it has been saved.  However, search folders will not be searched again automatically.</p>
<p>The following operations cannot be carried out in a container tree.</p>
<ul>
<li>Search for containers across the database
<ul>
<li>Containers in a cluster cannot be searched across a database.</li>
</ul>
</li>
<li>Creation/deletion of database
<ul>
<li>Perform the operation from the <a href="#database_management_screen">database management screen</a>.</li>
</ul>
</li>
<li>Creating a container
<ul>
<li>Perform the operation from the <a href="#container_creation_screen">container creation screen</a>.</li>
</ul>
</li>
<li>Deletion of partitioned table (container)
<ul>
<li>Perform the operation from the SQL screen with a <a href="#sql_screen">SQL command</a>.</li>
</ul>
</li>
</ul>
<p><strong>Context menu</strong></p>
<p>When an element of the tree is right clicked, a context menu appears according to which element is clicked, cluster or node.  Data update and element operation can then be performed by selecting an item from the menu.</p>
<p>The menus and functions for the respective selected elements are as follows.</p>
<table>
<thead>
<tr>
<th>Selection element</th>
<th>Menu</th>
<th>Functions</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster</td>
<td>refresh</td>
<td>Read the tree structure of the tree again and automatically detect the database</td>
</tr>
<tr>
<td>Database</td>
<td>refresh</td>
<td>Check the database existence and search for containers again</td>
</tr>
<tr>
<td>Container</td>
<td>refresh</td>
<td>Display the latest container information in View</td>
</tr>
<tr>
<td></td>
<td>drop</td>
<td>Deletion of container (with confirmation dialog)</td>
</tr>
<tr>
<td>Search folder</td>
<td>refresh</td>
<td>Search for container again</td>
</tr>
<tr>
<td></td>
<td>remove</td>
<td>Deletion of the search folder</td>
</tr>
<tr>
<td>Temporary work folder</td>
<td>remove</td>
<td>Deletion of a temporary work folder</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>Each function of a container tree can be used only when a cluster is in operation.</li>
</ul>
<p><strong>Operating target and view tab</strong></p>
<p>When an element in the tree is left clicked, the functions appear in the View according to which element is clicked, cluster or node.  The function can be changed by tapping the top section of the View.</p>
<table>
<thead>
<tr>
<th>Selection element</th>
<th>Tab</th>
<th>Screen name</th>
<th>Function overview</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster</td>
<td>Database</td>
<td><a href="#database_management_screen">Database management screen</a></td>
<td>A database can be created or deleted, and access rights can be assigned or revoked.</td>
</tr>
<tr>
<td></td>
<td>User</td>
<td><a href="#user_management_screen">User management screen</a></td>
<td>In the user management window, addition and deletion of general user, as well as modification of the password can be performed.</td>
</tr>
<tr>
<td></td>
<td>SQL</td>
<td><a href="#sql_screen">SQL screen</a></td>
<td>The results of a SQL command executed on the database can be displayed.</td>
</tr>
<tr>
<td>Database</td>
<td>Create</td>
<td><a href="#container_creation_screen">Container creation screen</a></td>
<td>A container can be created in a database.</td>
</tr>
<tr>
<td></td>
<td>SQL</td>
<td><a href="#sql_screen">SQL screen</a></td>
<td>The results of a SQL command executed on the database can be displayed.</td>
</tr>
<tr>
<td>Container</td>
<td>Details</td>
<td><a href="#container_details_screen">Container details screen</a></td>
<td>The container details screen contains column and index configuration data of a container.</td>
</tr>
<tr>
<td></td>
<td>Index</td>
<td><a href="#index_setting_screen">Index setting screen</a></td>
<td>Index setting window allows an index to be created or deleted for each column of a container.</td>
</tr>
<tr>
<td></td>
<td>TQL</td>
<td><a href="#tql_screen">TQL screen</a></td>
<td>Execute a TQL (query language) on a container and display the results.</td>
</tr>
<tr>
<td>Partition</td>
<td>Details</td>
<td><a href="#container_details_screen">Container details screen</a></td>
<td>Column, index and table partitioning data of a container will be displayed.</td>
</tr>
</tbody>
</table>
<p><a id="database_management_screen"></a></p>
<h3 id="database-management-screen">Database management screen</h3>
<p><strong>Summary</strong></p>
<p>A database can be created or deleted, and access rights can be assigned or revoked.</p>
<p><strong>Method of use</strong></p>
<table>
<thead>
<tr>
<th>Type of tree</th>
<th>Operating target</th>
<th>Tab</th>
</tr>
</thead>
<tbody>
<tr>
<td>Container tree</td>
<td>Cluster</td>
<td>Database</td>
</tr>
</tbody>
</table>
<p><strong>Screen</strong></p>
<figure>
<img src="img/gs_admin-database.png" alt="Database management screen" width="500"/>
<figcaption>Database management screen</figcaption>
</figure>
<p><strong>Functions</strong></p>
<p>The following functions are available in the database management screen.</p>
<ul>
<li>Creating database (Create Database)
<ul>
<li>Input the database name and click the Create button to create a database in a cluster.</li>
</ul>
</li>
<li>Displaying database list (Database List)
<ul>
<li>Display a list of the databases existing in a cluster.
<ul>
<li>Display the database name, access rights (Privileges), and operations in the database.</li>
</ul>
</li>
<li>Display general users who have access rights to the database and their roles in the access rights (Privilege) column.</li>
<li>Public database cannot be operated.</li>
</ul>
</li>
<li>Deleting database (Drop)
<ul>
<li>Delete a database from a cluster.</li>
<li><strong>An error will occur if a container exists in the database.</strong></li>
</ul>
</li>
<li>Assignment of access rights (Grant)
<ul>
<li>Assign database access rights to a general user.</li>
<li>Click Grant to display the user selection dialog. A general user existing in a cluster and selectable roles can be selected from the selection box.</li>
</ul>
</li>
<li>Revoking access rights (Revoke)
<ul>
<li>Revoke database access rights from a general user.</li>
<li>In the <a href="#user_management_screen">user management screen tab</a>, when a general user is deleted from the user list, all access rights of that user will be automatically deleted.</li>
</ul>
</li>
</ul>
<p><a id="user_management_screen"></a></p>
<h3 id="user-management-screen">User management screen</h3>
<p><strong>Summary</strong></p>
<p>In the user management window, addition and deletion of general user, as well as modification of the password can be performed.</p>
<p><strong>Method of use</strong></p>
<table>
<thead>
<tr>
<th>Type of tree</th>
<th>Operating target</th>
<th>Tab</th>
</tr>
</thead>
<tbody>
<tr>
<td>Container tree</td>
<td>Cluster</td>
<td>User</td>
</tr>
</tbody>
</table>
<p><strong>Screen</strong></p>
<figure>
<img src="img/gs_admin-user.png" alt="User management screen" width="500"/>
<figcaption>User management screen</figcaption>
</figure>
<p><strong>Functions</strong></p>
<ul>
<li>Creating a user (Create User)
<ul>
<li>Input the desired user name and password, and click the Create button to register a general user into the cluster.</li>
</ul>
</li>
<li>Displaying a list of the users (User List)
<ul>
<li>Display a list of the general users existing in the cluster.
<ul>
<li>Display the user name and operation on the user.</li>
</ul>
</li>
</ul>
</li>
<li>Deleting user (Drop)
<ul>
<li>Delete a general user from the cluster.</li>
<li>If the user has access rights to the database, all access rights will be automatically revoked.</li>
</ul>
</li>
<li>Changing password (Change Password)
<ul>
<li>The password of a user can be changed. The original password is not needed.</li>
<li>Click Change Password to display the input dialog for a new password.  Enter the new password and click Change to change the password.</li>
</ul>
</li>
</ul>
<p><a id="sql_screen"></a></p>
<h3 id="sql-screen">SQL screen</h3>
<p><strong>Summary</strong></p>
<p>The results of a SQL command executed on the database can be displayed.</p>
<p><strong>Method of use</strong></p>
<table>
<thead>
<tr>
<th>Type of tree</th>
<th>Operating target</th>
<th>Tab</th>
</tr>
</thead>
<tbody>
<tr>
<td>Container tree</td>
<td>Cluster</td>
<td>SQL</td>
</tr>
<tr>
<td>Container tree</td>
<td>Database</td>
<td>SQL</td>
</tr>
</tbody>
</table>
<p><strong>Screen</strong></p>
<figure>
<img src="img/gs_admin-sql.png" alt="SQL screen" width="500"/>
<figcaption>SQL screen</figcaption>
</figure>
<p><strong>Functions</strong></p>
<p>The following functions are available in the SQL screen.</p>
<ul>
<li>Selecting a database subject to execution (Database)
<ul>
<li>A database existing in a cluster can be selected with the selection box.</li>
<li>If a database is selected in a container tree, it will be fixed in the selected database.</li>
</ul>
</li>
<li>SQL execution (SQL)
<ul>
<li>Enter the SQL command and click the Execute button to execute the command. The results are displayed in Result.
<ul>
<li>Although a new line can be returned for input to be carried out, there is only 1 SQL command that can be executed.</li>
<li>Inputs can be deleted with the Clear button.</li>
</ul>
</li>
<li>By checking the count check box, the number of hits is displayed. Otherwise, the number is not displayed. (In the latter case, by not getting the number, the response is faster).</li>
<li>The number of rows to display is indicated in Display Limit.</li>
<li>See &ldquo;<a href="manuals/14.md_reference_sql/md_reference_sql.md">GridDB SQL Reference</a>&rdquo; for details of the SQL syntax that can be used.</li>
</ul>
</li>
<li>Displaying result (Result)
<ul>
<li>If the SELECT command is executed, the number of hits, the number of rows located, and elapsed time (ms) will be displayed (in a table format).
<ul>
<li>The execution time of the SQL statement is displayed as elapsed time in ms.</li>
<li>A NULL value and a value of array type are displayed as (NULL). A value of BLOB is displayed as (BLOB).</li>
<li>A value of TIMESTAMP is displayed as following format:
<ul>
<li>Date and time format: ISO8601 format</li>
<li>Time zone: Time zone value, UTC if not specified</li>
<li>Example: 2018-11-07T12:30:00.417Z, 2019-05-01T09:30:00.000+09:00</li>
</ul>
</li>
</ul>
</li>
<li>If the INSERT/DELETE/UPDATE command is executed, the no. of rows will be displayed. If other DCL commands or DDL commands are executed, SUCCESS will be displayed in the results.</li>
</ul>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>When using this screen, the JDBC address and port need to be added to the cluster data of the node repository.
<ul>
<li>Settings in the node repository can be executed from the <a href="#repository_management_screen">repository management screen</a>.</li>
</ul>
</li>
<li>When the number of displaying columns is over 1024, the number of displaying rows at once is decreased and some displaying formats are changed.</li>
</ul>
<p><a id="container_creation_screen"></a></p>
<h3 id="container-creation-screen">Container creation screen</h3>
<p><strong>Summary</strong></p>
<p>A container can be created in a database.</p>
<p><strong>Method of use</strong></p>
<table>
<thead>
<tr>
<th>Type of tree</th>
<th>Operating target</th>
<th>Tab</th>
</tr>
</thead>
<tbody>
<tr>
<td>Container tree</td>
<td>Database</td>
<td>Create</td>
</tr>
</tbody>
</table>
<p><strong>Screen</strong></p>
<figure>
<img src="img/gs_admin-create1.png" alt="Container creation screen (collection)" width="500"/>
<figcaption>Container creation screen (collection)</figcaption>
</figure>
<figure>
<img src="img/gs_admin-create2.png" alt="Container creation screen (timeseries container)" width="500"/>
<figcaption>Container creation screen (timeseries container)</figcaption>
</figure>
<p><strong>Functions</strong></p>
<p>The following functions are available in the container creation screen.</p>
<ul>
<li>Creation of container (Create Container)
<ul>
<li>Specify the container name and container type, followed by the parameters according to the container type, and then click the Create button to create a container in a database.</li>
<li>The container type can be either a collection (Collection) or timeseries container (TimeSeries).</li>
<li>The parameters and column contents that can be set differ depending on the container type.</li>
</ul>
</li>
<li>Setting a column (Column Definition)
<ul>
<li>Column settings can be configured when creating a container. The upper limit of the number of columns is 100.</li>
<li>A column can be added with the Add Column button and deleted with the Del button on the right side of the column.</li>
<li>All settings except the container type can be returned to their initial status with the Reset button.</li>
<li>If Row Key Assigned is set to true when a collection is selected for the container type, the first column will be set up as the row key.
<ul>
<li>When a row key is set up, the data type of the first column will be limited to those that can be used. And a NOT NULL constraint will be fixed as true.</li>
</ul>
</li>
<li>If a timeseries container is selected for the container type, the data type of the first column will be fixed as TIMESTAMP and index settings will be disabled. And a NOT NULL constraint will be fixed as true.</li>
</ul>
</li>
<li>Add to container tree
<ul>
<li>If a container is created successfully, a temporary work folder will be created under the database of the container tree and the created container will be added automatically under the folder.</li>
</ul>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>See the &ldquo;<a href="../12.md_reference_java_api/md_reference_java_api.html">GridDB Java API Reference</a>&rdquo;  for the detailed settings.</li>
<li>A container that contains a composite row key or composite index cannot be created.</li>
<li>The following functions are removed from GridDB V5.0. If they are specified in the container creation window, an error occurs due to an unsupported function.
<ul>
<li>Hash Index (Index Types: Hash)</li>
<li>Row Expiration (Row Expiration Time)</li>
<li>Timeseries Compression (Compression Method: SS/HI)</li>
</ul>
</li>
</ul>
<p><a id="container_details_screen"></a></p>
<h3 id="container-details-screen">Container details screen</h3>
<p><strong>Summary</strong></p>
<p>The container details screen contains column and index configuration data of a container.</p>
<p><strong>Method of use</strong></p>
<table>
<thead>
<tr>
<th>Type of tree</th>
<th>Operating target</th>
<th>Tab</th>
</tr>
</thead>
<tbody>
<tr>
<td>Container tree</td>
<td>Container</td>
<td>Details</td>
</tr>
</tbody>
</table>
<p><strong>Screen</strong></p>
<figure>
<img src="img/gs_admin-details.png" alt="Container details screen" width="500"/>
<figcaption>Container details screen</figcaption>
</figure>
<p><strong>Functions</strong></p>
<p>The following functions are available in the container details screen.</p>
<ul>
<li>Display container parameters (Container Details)
<ul>
<li>Displaying the container parameters, including the container name, container type etc.</li>
</ul>
</li>
<li>Displaying column data of a container (Columns:)
<ul>
<li>Display the following data as column data of a container.
<ul>
<li>Column name, data type, column constraints, row key setting, table partitioning data (partitioned table only)</li>
</ul>
</li>
</ul>
</li>
<li>Display container index information (Indexes :)
<ul>
<li>Display the following data as column data of a container.
<ul>
<li>Index name, index type, column name</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><a id="index_setting_screen"></a></p>
<h3 id="index-setting-screen">Index setting screen</h3>
<p><strong>Summary</strong></p>
<p>An index can be created or deleted for each container.</p>
<p><strong>Method of use</strong></p>
<table>
<thead>
<tr>
<th>Type of tree</th>
<th>Operating target</th>
<th>Tab</th>
</tr>
</thead>
<tbody>
<tr>
<td>Container tree</td>
<td>Container</td>
<td>Index</td>
</tr>
</tbody>
</table>
<p><strong>Screen</strong></p>
<figure>
<img src="img/gs_admin-index.png" alt="Index setting screen" width="500"/>
<figcaption>Index setting screen</figcaption>
</figure>
<p><strong>Functions</strong></p>
<p>The following functions are available in the index setting screen.</p>
<ul>
<li>Creating an index (Create Index)
<ul>
<li>Specify an index name, an index type, and columns and click the Create button to create an index. A confirmation dialog is displayed before creating an index.</li>
</ul>
</li>
<li>Displaying an index (Indexes)
<ul>
<li>Display the index name, column names, and the index type.</li>
<li>Click the Drop button to delete the index. A confirmation dialog is displayed before deleting the index.</li>
<li>Click the Refresh button to reload.</li>
</ul>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>A composite index cannot be created.</li>
</ul>
<p><a id="tql_screen"></a></p>
<h3 id="tql-screen">TQL screen</h3>
<p><strong>Summary</strong></p>
<p>Execute a TQL (query language) on a container and display the results.</p>
<p><strong>Method of use</strong></p>
<table>
<thead>
<tr>
<th>Type of tree</th>
<th>Operating target</th>
<th>Tab</th>
</tr>
</thead>
<tbody>
<tr>
<td>Container tree</td>
<td>Container</td>
<td>TQL</td>
</tr>
</tbody>
</table>
<p><strong>Screen</strong></p>
<figure>
<img src="img/gs_admin-tql.png" alt="TQL screen" width="500"/>
<figcaption>TQL screen</figcaption>
</figure>
<p><strong>Functions</strong></p>
<p>The following functions are available in the TQL screen.</p>
<ul>
<li>TQL execution (TQL)
<ul>
<li>Input the TQL command and click the Execute button to execute the command. The results are displayed in Result.</li>
<li>Although a new line can be used as an input, 1 TQL command can be executed at a time.</li>
<li>The FROM phrase can be omitted since this command will be executed on containers subject to the operation.</li>
<li>Inputs can be deleted with the Clear button.</li>
<li>The number of rows to display is indicated in Display Limit.</li>
</ul>
</li>
<li>Displaying result (Result)
<ul>
<li>Display the number of hits, the number of rows located (in a table format), and elapsed time (ms).
<ul>
<li>The number of hits is not displayed for a partitioned table. The execution time of the TQL statement is displayed as elapsed time in ms.</li>
<li>A NULL value is displayed as (NULL). A value of BLOB is displayed as (BLOB).</li>
<li>A value of TIMESTAMP is displayed as following format:
<ul>
<li>Date and time format: ISO8601 format</li>
<li>Time zone: Time zone value, UTC if not specified</li>
<li>Example: 2018-11-07T12:30:00.417Z, 2019-05-01T09:30:00.000+09:00</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>See &ldquo;<a href="../11.md_reference_tql/md_reference_tql.md">GridDB TQL Reference</a>&rdquo;  for the TQL details.</li>
<li>When the number of displaying columns is over 1024, the number of displaying rows at once is decreased and some displaying formats are changed.</li>
</ul>
<h2 id="how-to-use-gs_admin">How to use gs_admin</h2>
<p>This section provides a guide on how to use various functions accessible by gs_admin.</p>
<p><a id="start_cluster_management"></a></p>
<h3 id="commencing-management-of-a-cluster-in-operation">Commencing management of a cluster in operation</h3>
<p>To manage the current active cluster in gs_admin, use the repository management function  and follow the procedure below.</p>
<ol>
<li>
<p>Select the repository manager in the login screen and login as a gs_admin administrator user.</p>
</li>
<li>
<p>Click the Sync button, enter the following data of any cluster in operation, and then click Sync to synchronize the data.</p>
<ul>
<li>Specify <code>/system/serviceAddress</code> of the node definition file (gs_node.json) as the IP address.</li>
<li>Specify <code>/system/servicePort</code> of the node definition file (gs_node.json) as the port.</li>
</ul>
</li>
<li>
<p>Data of a cluster in operation will be reflected in the cluster list and node list.</p>
</li>
<li>
<p>Click the Save button to save repository data.</p>
</li>
<li>
<p>Click the Logout button to return to the login screen.</p>
</li>
<li>
<p>Select the name of the cluster in operation from the list of clusters on the login screen.</p>
</li>
<li>
<p>Log in as a gs_admin administrator user or a normal user to commence the operating functions.</p>
</li>
</ol>
<p><a id="managing_multiple_clusters"></a></p>
<h3 id="managing-multiple-clusters">Managing multiple clusters</h3>
<p>When managing multiple clusters as a single gs_admin user, take note of the gs_admin user settings.</p>
<p>gs_admin user is managed in a single file, therefore if an administrator managing multiple clusters use different passwords for each of the cluster, the admin cannot be specified as a gs_admin user.</p>
<p>Therefore, the appropriate settings need to be configured according to number of admin in charge of the entire clusters.</p>
<ul>
<li>When multiple clusters are managed by different users
<ul>
<li>Choose unique names for each of the gs_admin users.</li>
</ul>
</li>
<li>When multiple clusters are managed by a single user
<ul>
<li>Register gs_admin users with the same password in all the clusters to-be-managed.</li>
</ul>
</li>
</ul>
<p>The procedure to register a new gs_admin user is shown below.</p>
<ol>
<li>
<p>Use the gs_adduser command to add an administrator user to a single node among the clusters that you want to manage as a new user.</p>
<p>Example: If the new user name/password is gs#newuser/newuser</p>
</li>
</ol>
<pre tabindex="0"><code class="language-example" data-lang="example">  $ su - gsadm
  $ gs_adduser gs#newuser -p newuser
  $ cat /var/lib/gridstore/conf/password
  admin,8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918
  gs#newuser,9c9064c59f1ffa2e174ee754d2979be80dd30db552ec03e7e327e9b1a4bd594e
  system,6ee4a469cd4e91053847f5d3fcb61dbcc91e8f0ef10be7748da4c4a1ba382d17
</code></pre><ol start="2">
<li>
<p>Distribute the above-mentioned user definition file to all the other nodes of the cluster that you want to manage as a new user.</p>
</li>
<li>
<p>All nodes will be restarted to reconstitute the cluster.</p>
</li>
<li>
<p>Add the user name and password added above to the gs_admin user definition file as a Tomcat execution user.</p>
<p>Example: If the new user name/password is gs#newuser/newuser</p>
</li>
</ol>
<pre tabindex="0"><code class="language-example" data-lang="example">  $ echo gs#newuser,9c9064c59f1ffa2e174ee754d2979be80dd30db552ec03e7e327e9b1a4bd594e &gt;&gt; /var/lib/gridstore/admin/conf/password
</code></pre><h2 id="gathering-of-error-data">Gathering of error data</h2>
<p>gs_admin error data and other logs are output to the adminHome log directory.</p>
<p>The default output level is info.</p>
<p>This command is used in collecting data when a gs_admin problem occurs, or when there is a request from the support desk, etc.</p>
<p>The log output level can be set in the <code>/webapps/gs_admin/WEB-INF/classes/logback.xml</code> under the Tomcat home directory ( <code>/usr/local/tomcat</code> by default).</p>
<h2 id="error-list">Error list</h2>
<table>
<thead>
<tr>
<th>Error type</th>
<th>Error no.</th>
<th>Message</th>
<th>Treatment method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Internal Server Error</td>
<td>E00104</td>
<td>Cluster is not servicing.</td>
<td>Cluster under management is not operating. Use the configuration tab and other operation tools to operate the cluster, refresh the clusters from the cluster tree, or login again.</td>
</tr>
<tr>
<td>Internal Server Error</td>
<td>E00105</td>
<td>D10135: Failed to check a node status.</td>
<td>Nodes from Ver.1.5 or lower may have been registered in the nodes registered in the repository. Check the version of each node.</td>
</tr>
<tr>
<td>Internal Server Error</td>
<td></td>
<td>Failed to create &lt;File path&gt;.</td>
<td>File creation failed. Check if there is any directory which does not exist in the displayed path, or any directory for which access rights of Tomcat user have not been assigned.</td>
</tr>
<tr>
<td>Internal Server Error</td>
<td>E0030C</td>
<td>[Code:******] &lt;Error message&gt;</td>
<td>Error message of GridDB node. <br>See <a href="../6.md_error_code/md_error_code.md">GridDB Error Codes</a> and check the countermeasure with the corresponding code.</td>
</tr>
<tr>
<td>Bad Request</td>
<td>E00300</td>
<td>Container &ldquo;Container name&rdquo; already exists.</td>
<td>Container name is duplicated. Specify another container name to create a container.</td>
</tr>
<tr>
<td>Bad Request</td>
<td>E00303</td>
<td>Container &ldquo;Container name&rdquo; not found.</td>
<td>Specified container does not exist. Right click the ContainerTree cluster, select refresh and search for the container again.</td>
</tr>
<tr>
<td>Bad Request</td>
<td></td>
<td>[Code:******] &lt;Error message&gt;</td>
<td>Error message of GridDB node. <br>See <a href="../6.md_error_code/md_error_code.md">GridDB Error Codes</a> and check the countermeasure with the corresponding code.</td>
</tr>
<tr>
<td>Input Error</td>
<td></td>
<td>&lt;Field name&gt; is required.</td>
<td>The input field has been left blank. Enter a value in the &lt;Field name&gt; input file.</td>
</tr>
<tr>
<td>Input Error</td>
<td></td>
<td>&lt;Field name&gt; is invalid.</td>
<td>An invalid value has been entered in the &lt;Field name&gt; input field. See &ldquo;<a href="../5.md_reference_operation_tool/md_reference_operation_tool.md">GridDB Operation Tools Reference</a>&rdquo; and input a possible types value.</td>
</tr>
</tbody>
</table>
<p><a id="expimp_function"></a></p>
<h2 id="----exportimport-tools----">&mdash; Export/import tools &mdash;</h2>
<p>In the GridDB export/import tools, to recover a database from local damages or the database migration process, save/recovery functions are provided in the database and container unit.</p>
<h2 id="installed-directories-and-files">Installed directories and files</h2>
<p>The export tool saves the container and row data of a GridDB cluster in the file below. A specific container can also be exported by specifying its name.</p>
<ul>
<li><strong>Container data file</strong>
<ul>
<li>Save GridDB container data and row data.</li>
<li>There are 2 types of format available, one for saving data in a container unit and the other for consolidating and saving data in multiple containers.</li>
</ul>
</li>
<li><strong>Export execution data file</strong>
<ul>
<li>Save the data during export execution. This is required to directly recover exported data in a GridDB cluster.</li>
</ul>
</li>
</ul>
<p>The import tool imports the container and export execution data files, and recover the container and row data in GridDB. A specific container data can also be imported as well.</p>
<figure>
<img src="img/expimp.png" alt="Export/import configuration" width="500"/>
<figcaption>Export/import configuration</figcaption>
</figure>
<h3 id="container-data-files">Container data files</h3>
<p>Container data files are composed of <strong>metadata files</strong> and <strong>row data files</strong>.</p>
<p>A metadata file is a json-format file which contains the container type and schema, and the index data that has been set up.</p>
<p>There are 2 types of row data file, one of which is the <strong>CSV data file</strong> in which container data is stored in the CSV format, and the other is the <strong>binary data file</strong> in which data is stored in a zip format.</p>
<ul>
<li>CSV data file:
<ul>
<li>Stores container row data as CSV data. Readability is high, and the file can be imported and edited with generic tools.</li>
<li>If the row data is a specific data type such as BLOB, spatial data, array etc., the data is stored in an external object file while only the external object file name is stored in a CSV data file. An external object file is created for each row data.</li>
</ul>
</li>
<li>Binary data file:
<ul>
<li>Stores container row data in the Zip format. Can be created with the command gs_export only.  Size is smaller compared to a CSV data file. In addition, the number of files can be reduced as there is no need to create external object files. However, binary data files are not readable and cannot be edited.</li>
</ul>
</li>
</ul>
<p>See <a href="#format_of_container_data_file">Format of a container data file</a> for details of the contents described in each file.</p>
<p>In addition, there are 2 types of container data file as shown below depending on the number of containers to be listed.</p>
<ul>
<li>Single container configuration: Holds 1 container data file for each container</li>
<li>Multi-container configuration: Consolidates multiple containers into a single container data file</li>
</ul>
<p>Hereinafter, container data files of various configurations will be written as <strong>single container data file</strong> and <strong>multi-container data file</strong>.</p>
<figure>
<img src="img/cDatafile.png" alt="Container data file" width="500"/>
<figcaption>Container data file</figcaption>
</figure>
<p>When a large container is specified as a single container data file and export is executed, management becomes troublesome as a large amount of metadata files and row data files are created.  On the other hand, even if a large container is specified as a multi-container data file, only 1 metadata file and row data file is output.</p>
<p>Therefore, it is recommended that these 2 configurations be <strong>used differently depending on the application</strong>.</p>
<p>A single container data file is used in the following cases.</p>
<ul>
<li>To output the current data of a specific container to perform data analysis.</li>
<li>To create many containers with the same schema as existing containers to register data.</li>
</ul>
<p>A multi-container data file is used in the following cases.</p>
<ul>
<li>To backup a specific container group.</li>
<li>To move a database to a different GridDB cluster.</li>
</ul>
<h3 id="export-execution-data-file">Export execution data file</h3>
<p>Data such as the export date and time, the number of containers, container name etc. is saved in the export execution data file. This file is required to directly recover exported data in a GridDB cluster.</p>
<p>[Memo]</p>
<ul>
<li>The file name of an export execution data file is gs_export.json.</li>
<li>Delete the export execution data if an exported container data file is edited manually. A registration error may occur due to discrepancies in the data.</li>
<li>When importing without any export execution data file, it is essential that the container metadata file be specified. If not, import will fail.</li>
</ul>
<h2 id="configuration-of-exportimport-execution-environment">Configuration of export/import execution environment</h2>
<p>The following settings are required to execute an export/import command.</p>
<h3 id="rpm-package-installation">RPM package installation</h3>
<p>To execute the export/import commands, the client package containing the export/import functions and Java library package need to be installed.</p>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example"># rpm -Uvh griddb-ee-client-X.X.X-linux.x86_64.rpm
Preparing...                ########################################### [100%]
User and group has already been registered correctly.
GridDB uses existing user and group.
   1:griddb-ee-client          ########################################### [100%]

# rpm -Uvh griddb-ee-java_lib-X.X.X-linux.x86_64.rpm
Preparing...                ########################################### [100%]
   1:griddb-ee-java_lib        ########################################### [100%]
</code></pre><p><a id="property_file_settings"></a></p>
<h3 id="property-file-settings">Property file settings</h3>
<p>Set the property file in accordance with the GridDB cluster configuration used by a gsadm user. Property file is <code>/var/lib/gridstore/expimp/conf/gs_expimp.properties</code>.</p>
<p>The property file contains the following settings.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Required</th>
<th>Default value</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>mode</td>
<td>Required</td>
<td>MULTICAST</td>
<td>Specify the type of connection method. If the method is not specified, the method used will be the multicast method. <br>MULTICAST MULTICAST: multicast method<br>FIXED_LISTfixed list method<br>PROVIDER provider method</td>
</tr>
<tr>
<td>hostAddress</td>
<td>Essential if mode=MULTICAST</td>
<td>239.0.0.1</td>
<td>Specify the /transaction/notificationAddress in the GridDB cluster definition file (gs_cluster.json). Multicast address used by the export/import tool to access a cluster.</td>
</tr>
<tr>
<td>hostPort</td>
<td>Essential if mode=MULTICAST</td>
<td>31999</td>
<td>Specify the /transaction/notificationPort in the GridDB cluster definition file (gs_cluster.json). Port of multicast address used by the export/import tool to access a cluster.</td>
</tr>
<tr>
<td>jdbcAddress</td>
<td>Essential if mode=MULTICAST</td>
<td>239.0.0.1</td>
<td>Specify /sql/notificationAddress in the GridDB cluster definition file (gs_cluster.json) when using the multicast method.</td>
</tr>
<tr>
<td>jdbcPort</td>
<td>Essential if mode=MULTICAST</td>
<td>41999</td>
<td>Specify /sql/notificationPort in the GridDB cluster definition file (gs_cluster.json) when using the multicast method.</td>
</tr>
<tr>
<td>notificationMember</td>
<td>Essential if mode=FIXED_LIST</td>
<td></td>
<td>Specify /cluster/notificationMember/transaction of the cluster definition file (gs_cluster.json) when using the fixed list method to connect. Connect address and port with a &ldquo;:&rdquo; in the description. For multiple nodes, link them up using commas. <br>Example)192.168.0.100:10001,192.168.0.101:10001</td>
</tr>
<tr>
<td>jdbcNotificationMember</td>
<td>Essential if mode=FIXED_LIST</td>
<td></td>
<td>Specify sql/address and sql/port under the /cluster/notificationMember of the cluster definition file (gs_cluster.json) when using the fixed list method to connect. Connect address and port with a &ldquo;:&rdquo; in the description. For multiple nodes, link them up using commas. <br>Example)192.168.0.100:20001,192.168.0.101:20001</td>
</tr>
<tr>
<td>notificationProvider.url</td>
<td>Essential if mode=PROVIDER</td>
<td></td>
<td>Specify /cluster/notificationProvide/url of the cluster definition file (gs_cluster.json) when using the provider method to connect.</td>
</tr>
<tr>
<td>restAddress</td>
<td></td>
<td>127.0.0.1</td>
<td>Specify /system/listenerAddress of the GridDB node definition file (gs_node.json). Parameter for future expansion.</td>
</tr>
<tr>
<td>restPort</td>
<td></td>
<td>10040</td>
<td>Specify /system/listenerPort of the GridDB node definition file (gs_node.json). Parameter for future expansion.</td>
</tr>
<tr>
<td>clusterName</td>
<td>Required</td>
<td>INPUT_YOUR_CLUSTER_NAME_HERE</td>
<td>Specify the cluster name of GridDB which is used in the command &ldquo;gs_joincluster&rdquo;.</td>
</tr>
<tr>
<td>logPath</td>
<td></td>
<td>/var/lib/gridstore/log</td>
<td>Specify the directory to output the error data and other logs when using the export/import tools. Log is output in gs_expimp-YYYYMMDD.log under the directory.</td>
</tr>
<tr>
<td>commitCount</td>
<td></td>
<td>1000</td>
<td>Specify the number of rows as a unit to register data when registering container data with the import tool. When the numerical value becomes larger, the buffer for data processing gets larger too. If the row size is small, raise the numerical value, and if the row size is large, lower the numerical value. The parameter affects the registration performance for data import.</td>
</tr>
<tr>
<td>transactionTimeout</td>
<td></td>
<td>2147483647</td>
<td>Specify the time allowed from the start until the end of a transaction. When registering or acquiring a large volume of data, a large numerical value matching the data volume needs to be set. A maximum value has been specified for processing a large volume of data by default. (Unit: second)</td>
</tr>
<tr>
<td>failoverTimeout</td>
<td></td>
<td>10</td>
<td>Specify the failover time to repeat retry starting from the time a node failure is detected. This is also used in the timeout of the initial connection to the cluster subject to import/export. Increase the value when performing a process such as registering/acquiring a large volume of data in/from a container. (Unit: second)</td>
</tr>
<tr>
<td>jdbcLoginTimeout</td>
<td></td>
<td>10</td>
<td>Specify the time of initial connection timeout for JDBC. (Unit: second)</td>
</tr>
<tr>
<td>authenticationMethod</td>
<td></td>
<td>*dependent on the GridDB cluster settings</td>
<td>Specify either INTERNAL (internal authentication) or LDAP (LDAP authentication) as an authentication method to be used.</td>
</tr>
<tr>
<td>notificationInterfaceAddress</td>
<td></td>
<td>*OS-dependent</td>
<td>To configure the cluster network in multicast mode when multiple network interfaces are available, specify the IP address of the interface to receive the multicast packets from.</td>
</tr>
<tr>
<td>sslMode</td>
<td></td>
<td>DISABLED</td>
<td>For SSL connection settings, specify DISABLED (SSL is invalid), REQUIRED (SSL is valid), or VERIFY (SSL is valid and performs server certificate verification).</td>
</tr>
</tbody>
</table>
<p>[Memo]</p>
<ul>
<li>For details on LDAP authentication  and SLL connection, see the <a href="../3.md_reference_feature/md_reference_feature.md">GridDB Features Reference</a>.</li>
<li>If the SSL connection settings are invalid on the GridDB cluster, SSL communications cannot be enabled regardless of the settings of this tool.</li>
<li>To specify VERIFY for the settings for SSL communications (sslMode), a certificate by the Certificate Authority (CA) is required; import the certificate using the keytool command. To set a truststore (-Djavax.net.ssl.trustStore) and a password (-Djavax.net.ssl.trustStorePassword) as arguments upon launching java, specify them for the environment variable <code>GS_COMMON_JVM_ARGS</code>. Note that export/import tools do not support the checking of the expiration date of a CA certificate to ensure it is valid.</li>
</ul>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">GS_COMMON_JVM_ARGS=&#34;-Djavax.net.ssl.trustStore=/var/lib/gridstore/admin/keystore.jks -Djavax.net.ssl.trustStorePassword=changeit&#34;
export GS_COMMON_JVM_ARGS
</code></pre><p><a id="export_function"></a></p>
<h2 id="export-function">Export function</h2>
<p>The options that can be specified when using the export function is explained here (based on usage examples of the export function).</p>
<h3 id="specifying-a-process-target">Specifying a process target</h3>
<h4 id="how-to-specify-a-container">How to specify a container</h4>
<p>There are 3 ways to specify a container from a GridDB cluster, by specifying all the containers of the cluster: by specifying the database, and by specifying the container individually.</p>
<p><strong>(1) Specify all containers</strong></p>
<ul>
<li>
<p>The entire containers and databases in the cluster are applicable.</p>
</li>
<li>
<p>Specify &ndash;all option.</p>
</li>
<li>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_export --all -u admin/admin
</code></pre></li>
<li>
<p>[Memo]</p>
<ul>
<li>When executed by a general user, all the containers in the database (in which the general user has access rights to) will be applicable.</li>
</ul>
</li>
</ul>
<p><strong>(2) Specify the database</strong></p>
<ul>
<li>
<p>All containers in the specified database are applicable.</p>
</li>
<li>
<p>Specify the database name with the &ndash;db option. Multiple database names can also be specified repeatedly by separating the names with a &quot; &quot; (blank).</p>
</li>
<li>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_export --db db001 db002 -u admin/admin  //Enumerate DB name. Container in the DB Container in the DB
</code></pre></li>
<li>
<p>[Memo]</p>
<ul>
<li>When executed by a general user, an error will occur if the general user has no access rights to the database specified in &ndash;db. (Process can continue if executed by &ndash;force.)</li>
</ul>
</li>
</ul>
<p><strong>(3) Specify container individually</strong></p>
<ul>
<li>
<p>Specified container is applicable</p>
</li>
<li>
<p>$ gs_export &ndash;container c001 c002 -u admin/admin // Enumerate container name</p>
<ul>
<li>Separate multiple container names with &quot; &quot; (blank) and specify them repeatedly in the &ndash;container option.</li>
</ul>
</li>
<li>
<p>Regular expression and specification of the container names</p>
<ul>
<li>Specify the regular expression of the container names with a &ndash;containerregex option. A Java regular expression can be used in the specification. Enclose the specification with &quot;&quot; (double quotation) when specifying with a regular expression.</li>
</ul>
</li>
<li>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_export --container c001 c002 -u admin/admin       //Enumerate container name
$ gs_export --containerregex &#34;^c0&#34; -u admin/admin      //regular expression specification: Specify containers whose container name start with c0
</code></pre></li>
<li>
<p>[Memo]</p>
<ul>
<li>Specify the name of the applicable database with the &ndash;prefixdb option in the &ndash;container/&ndash;containerregex option.
If the &ndash;prefixdb option is omitted, the container in the default connection destination database &ldquo;public&rdquo; will be processed.</li>
<li>When executed by a general user, an error will occur if the general user has no access rights to the database where the container specified in the &ndash;container/&ndash;containerregex option is stored. (Process can continue if executed by &ndash;force.)</li>
</ul>
</li>
</ul>
<h4 id="how-to-specify-a-row">How to specify a row</h4>
<p>Rows located by a search query can be exported by specifying a search query to remove rows from a container.
All rows stored in a container which has not been specified in the search query will be exported.</p>
<p>Specify search query</p>
<ul>
<li>Specify the definition file describing the container name and search query with the &ndash;filterfile option. Describe the search query and its corresponding container in the definition file.</li>
</ul>
<p>[Example] Execution example</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_export -c c001 c002 -u admin/admin --filterfile filter1.txt

$ gs_export --all -u admin/admin --filterfile filter2.txt
</code></pre><p>[Example] Description of definition file</p>
<pre tabindex="0"><code class="language-example" data-lang="example">^cont_month     :select * where time &gt; 100
^cont_minutes_.*:select * where flag = 0
cont_year2014   :select * where timestamp &gt; TIMESTAMP(&#39;2014-05-21T08:00:00.000Z&#39;)
</code></pre><p>[Memo]</p>
<ul>
<li>Specify the containers with a regular Java expression.  Example: If &ldquo;container1&rdquo; is used in the description, all containers containing container1 will be relevant (container10, container12 etc.). If fully consistent, use &ldquo;^container1$&rdquo; in the description.</li>
<li>Among the containers subject to export which are specified in the &ndash;all and -c options, all rows in containers which the definition described in the definition file does not apply to will be exported.</li>
<li>To describe the container and search query in 1 line, use a &ldquo;:&rdquo; for the separation.</li>
<li>If the container applies to multiple definitions, the definition described at the beginning will be applied.</li>
<li>Describe the file in the UTF-8 format.</li>
<li>Execute the export test function to check whether the description of the definition file is correct.</li>
</ul>
<h4 id="how-to-specify-user-access-rights">How to specify user access rights</h4>
<p>Information on GridDB cluster users and their access rights can also be exported.  Use the following command when migrating all data in the cluster.</p>
<ul>
<li>Specify the &ndash;all option and &ndash;acl option. However, only user information of a general user can be exported. Migrate the data on the administrator user separately (copy the user definition file).</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_export --all -u admin/admin --acl
</code></pre><p>[Memo]</p>
<ul>
<li>The command needs to be executed by an administrator user.</li>
</ul>
<h4 id="how-to-specify-a-view">How to specify a view</h4>
<p>A view of a GridDB cluster can also be exported as well as the container.</p>
<p>Specify &ndash;all option or &ndash;db option to export the view of the database to be exported.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_export --db public -u admin/admin
Export Start.
Directory : /tmp/export
     :
Number of target container:5 ( Success:5 Failure:0 )

The number of target  views : 15
Export Completed.
</code></pre><h3 id="specifying-the-output-format-of-a-row-data-file">Specifying the output format of a row data file</h3>
<p>A CSV data file or binary data file can be specified as the output format of a row data file.</p>
<ul>
<li>
<p>Output in the CSV data file</p>
<ul>
<li>Execute an export command without specifying the &ndash;binary option</li>
</ul>
</li>
<li>
<p>Output in the binary data file</p>
<ul>
<li>Specify the &ndash;binary [file size upper limit] option.</li>
<li>Split the binary data file using the specified file size upper limit and export the file.</li>
<li>The file size upper limit is specified in Mbytes. If the file size upper limit is not specified, the size upper limit will be 100 Mbytes. The maximum file size that can be specified is 1,000 Mbytes.</li>
</ul>
</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_export -c c001 c002 -u admin/admin --binary

$ gs_export --all -u admin/admin --binary 500       //Export Completed.
</code></pre><h3 id="specifying-the-output-configuration-of-container-data-file">Specifying the output configuration of container data file</h3>
<p>A single container data file to create container data file in a container unit, or a multi-container data file to output all containers to a single container data file can be specified.</p>
<ul>
<li>
<p>Output using a single container data file</p>
<ul>
<li>If the &ndash;out option is not specified during export, the data will be output using a single container data file.</li>
</ul>
</li>
<li>
<p>Output using a multi-container data file</p>
<ul>
<li>It specifies the &ndash;out [file identifier] option. By specifying the file identifier, the file name of the metadata file will become &ldquo;file identifier_properties.json&rdquo;.
The file will be named &ldquo;file identifier.csv&rdquo; or &ldquo;file identifier_divN.mc&rdquo; (N is the sequential number of the divided files) if the multi-container data file format is CSV, or binary respectively.
The number of characters in the file identifier is limited to 20.</li>
<li>If the file identifier is omitted in the &ndash;out [file identifier] option, the file identifier is the representation of executed date. (Example: 20131031_155015_810_properties.json, 20131031_155015_810.csv)</li>
</ul>
</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_export -c c001 c002 -u admin/admin --out test

$ gs_export --all -u admin/admin --out           //file is created with the date
</code></pre><h3 id="specifying-the-output-destination">Specifying the output destination</h3>
<p>The directory of the container data file can be specified as the output destination. Create a directory if the specified directory does not exist.
If the directory is not specified, data will be output to the current directory when a command is executed. Use the -d option to specify the output destination.</p>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_export --all -u admin/admin --out test -d /tmp
</code></pre><p>[Memo]</p>
<ul>
<li>A directory which already contains container data files cannot be specified.</li>
</ul>
<h3 id="specifying-the-number-parallel-executions">Specifying the number parallel executions</h3>
<p>Get data to access a cluster in parallel with the export tool. If a command is executed in parallel on a cluster composed of multiple nodes, data can be acquired at a high speed as each node is accessed in parallel.</p>
<ul>
<li>Execute in parallel for the specified number by specifying the &ndash;parallel option. When executed in parallel, the export data will be divided by the same number as the number of parallel executions. A range from 2 to 32 can be specified.</li>
</ul>
<p>[Memo]</p>
<ul>
<li>The &ndash;parallel option can be specified only if the binary format (&ndash;binary option) and multi-container format (&ndash;out option) are specified.</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_export --all -u admin/admin --binary --out --parallel 4
</code></pre><h3 id="test-execution-function">Test execution function</h3>
<p>Before exporting a container, the user can assess whether the export can be carried out correctly.</p>
<ul>
<li>Specify test execution
<ul>
<li>The export sequence can be checked simply by adding the &ndash;test option to the export command. No files will be created as the process simply checks but does not actually acquire any data.</li>
<li>The information on the container name, partition ID, and the number of rows is displayed during the test.</li>
</ul>
</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_export -u admin/admin --all --test
Export Start.
[TEST Mode]
Directory : /var/lib/gridstore/export
The number of target containers  : 5

Name                                      PartitionId Row
------------------------------------------------------------------
public.container_2                                 15          10
public.container_3                                 25          20
public.container_0                                 35          10
public.container_1                                 53          10
public.container_4                                 58          20

Number of target container:5 ( Success:5 Failure:0 )

The number of target views : 15
Export Completed.
</code></pre><h3 id="error-continuation-specification">Error continuation specification</h3>
<p>Export processing can be continued even if a row data acquisition error were to occur due to a lock conflict with another application.</p>
<ul>
<li>By specifying the &ndash;force option, the export process will continue from the row data of the next container even if an acquisition error were to occur in a row data.</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_export --all -u admin/admin --force
</code></pre><p>[Memo]</p>
<ul>
<li>Regarding containers which skipped the processing due to an error, data will still be output to the container data file even though it is not complete. However, import processing will not be carried out as the data will not be recorded in the export execution file. After resolving the row data acquisition error, execute the export process for the relevant container again.</li>
</ul>
<h3 id="other-functions">Other functions</h3>
<p><strong>Detailed settings in the operating display</strong></p>
<ul>
<li>Processing details can be displayed by specifying the &ndash;verbose option.</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_export --containerregex &#34;^c0&#34; -u admin/admin --verbose
Export Start.
Directory : /data/exp
Number of target container : 4

public.c003 : 1
public.c002 : 1
public.c001 : 1
public.c010 : 1
The row data has been acquired. : time=[5080]

Number of target container:4 ( Success:4 Failure:0 )
Export Completed.
</code></pre><p><strong>Suppressed settings in the operating display</strong></p>
<ul>
<li>The processing status display can be suppressed by specifying the &ndash;silent option.</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_export -c c002 c001 -u admin/admin --silent
</code></pre><h2 id="import-function">Import function</h2>
<p>Import the container data file data into the GridDB cluster.</p>
<h3 id="types-of-data-source-for-import">Types of data source for import</h3>
<p>The input data sources used by the import tool are as follows.</p>
<ul>
<li>Container data file: Container data saved by the export function, or container data created by the user</li>
</ul>
<h3 id="importing-from-a-container-data-file">Importing from a container data file</h3>
<p>Use the export function to import data in the exported data format into a GridDB cluster.</p>
<h4 id="specifying-a-process-target-1">Specifying a process target</h4>
<p>Processing data to be imported from the container data file needs to be specified.</p>
<h5 id="how-to-specify-a-container-1">How to specify a container</h5>
<p>There are 3 ways to specify a container, by specifying all the containers in the container data file, by specifying the database, and by specifying the container individually.</p>
<p><strong>(1) Specify all containers</strong></p>
<ul>
<li>
<p>All containers in all the databases are applicable</p>
</li>
<li>
<p>Specify &ndash;all option.</p>
</li>
<li>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_import --all -u admin/admin
</code></pre></li>
</ul>
<p><strong>(2) Specify the database</strong></p>
<ul>
<li>
<p>All containers in the specified database are applicable.</p>
</li>
<li>
<p>Enumerate a database name.</p>
<ul>
<li>Specify multiple database names repeatedly by separating the names with a &quot; &quot; (blank) in the &ndash;db option.</li>
</ul>
</li>
<li>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_import --db db001 db002 -u admin/admin  //Enumerate DB name. Container in the DB Container in the DB
</code></pre></li>
</ul>
<p><strong>(3) Specify container individually</strong></p>
<ul>
<li>
<p>Specified container is applicable.</p>
</li>
<li>
<p>$ gs_export &ndash;container c001 c002 -u admin/admin // Enumerate container name</p>
<ul>
<li>Separate multiple container names with &quot; &quot; (blank) and specify them repeatedly in the &ndash;container option.</li>
</ul>
</li>
<li>
<p>Regular expression and specification of the container names</p>
<ul>
<li>Specify the regular expression of the container names with a &ndash;containerregex option. A Java regular expression can be used in the specification. Enclose the specification with &quot;&quot; (double quotation) when specifying with a regular expression.</li>
</ul>
</li>
<li>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_import --container c001 c002 -u admin/admin  //Enumerate container name
$ gs_import --containerregex &#34;^c0&#34; -u admin/admin      //regular expression specification: Specify containers whose container name start with c0
</code></pre></li>
</ul>
<p>[Points to note]</p>
<ul>
<li>If the exported data in GridDB V3.2 or earlier includes the NewSQL tables created using NewSQL I/F, the NewSQL tables will be imported as collections (tables) in GridDB V3.5 or later. In addition, the index names attached to the indices of the NewSQL tables are not imported.</li>
</ul>
<p>[Memo]</p>
<ul>
<li>When executed by an administrator user, a database will be created if the database does not exist at the storage location of the container.</li>
<li>When executed by a general user, an error will occur if the general user has no access rights, or if the database does not exist at the storage location of the container. (Process can continue if executed by &ndash;force.)</li>
<li>Specify the name of the applicable database with the &ndash;prefixdb option if the &ndash;container/&ndash;containerregex option is specified.
If the &ndash;prefixdb option is omitted, the default connection destination database &ldquo;public&rdquo; will be processed.</li>
<li>Check the container list stored in the container data file with the &ndash;list option.</li>
</ul>
<h5 id="how-to-specify-user-access-rights-1">How to specify user access rights</h5>
<p>If data is exported by specifying the &ndash;acl option in the export function, data on the user and access rights can also be imported.  Use the following command when migrating all data in the cluster.</p>
<ul>
<li>Specify the &ndash;all option and &ndash;acl option.</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_import --all --acl -u admin/admin
</code></pre><p>[Memo]</p>
<ul>
<li>The command needs to be executed by an administrator user.</li>
<li>Use the following command when migrating all data in the cluster. Execute the command without any databases and general users existing in the migration destination.</li>
</ul>
<h5 id="how-to-specify-a-view-1">How to specify a view</h5>
<p>If the view was exported using the export function, a view can also be imported together with the container data.</p>
<p>Specify &ndash;all option or &ndash;db option to import the view of the database to be imported.</p>
<p>[Memo]</p>
<ul>
<li>When &ndash;replace option is specified, the view is imported as follows:
<ul>
<li>An error will occur if a container with the same name exists, even if &ndash;force option is specified.</li>
<li>When the view with the same name exists, the existing view is deleted and a new one is create.</li>
</ul>
</li>
<li>If some of the created views cannot be referred to, a message will appear.</li>
</ul>
<h4 id="specifying-a-container-data-file">Specifying a container data file</h4>
<p>Specify the container data file. If this is not specified, the file in the current directory will be processed.</p>
<ul>
<li>Specify the directory
<ul>
<li>Specify the directory address of the container data file using the -d option.</li>
<li>If the directory is not specified, the container data file in the current directory will be chosen instead.</li>
</ul>
</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//Specify all containers from the current directory
$ gs_import --all -u admin/admin

//Specify multiple databases from a specific directory
$ gs_import --db db002 db001 -u admin/admin  -d /data/expdata

//Specify multiple containers from a specific directory
$ gs_import -c c002 c001 -u admin/admin  -d /data/expdata
</code></pre><p>[Memo]</p>
<ul>
<li>If the export execution data file (gs_export.json) does not exist, e.g. because the container data file is created manually; specify the metadata file (XXXXX_properties.json) using the -f option. If the -f command is not specified, import will fail.</li>
</ul>
<h4 id="getting-a-container-list">Getting a container list</h4>
<p>The container data can be checked before importing.</p>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_import --list
Container List in local export file
DB            Name              Type            FileName
public        container_2       COLLECTION      container_2.csv
public        container_0       TIME_SERIES     container_0.csv
public        container_1       COLLECTION      container_1.csv
userDB        container_1_db    TIME_SERIES     userDB.container_1_db.csv
userDB        container_2_db    TIME_SERIES     userDB.container_2_db.csv
userDB        container_0_db    COLLECTION      userDB.container_0_db.csv
</code></pre><h3 id="data-registration-option">Data registration option</h3>
<p>When importing, if a specific option is not specified, an error will occur if the container that you are trying to register already exists in the GridDB cluster.
Data can be added or replaced by specifying the next option. During data registration, the number of containers registered successfully and the number of containers which failed to be registered are shown.</p>
<ul>
<li>
<p>Add/update data</p>
<ul>
<li>
<p>Data can be registered and updated in an existing container by specifying the &ndash;append option</p>
</li>
<li>
<p>Data can be added, registered or updated only if the  existing container and the specified container have the same container definition data, including the container schema and index setting data.</p>
</li>
<li>
<p>The registration procedure according to the type of container is as follows.</p>
<table>
<thead>
<tr>
<th>Container type</th>
<th>Row key assigned</th>
<th>Behavior</th>
</tr>
</thead>
<tbody>
<tr>
<td>Collection</td>
<td>TRUE</td>
<td>Columns with the same key will be updated while data with different keys will be added.</td>
</tr>
<tr>
<td></td>
<td>FALSE</td>
<td>All row data will be added and registered.</td>
</tr>
<tr>
<td>Timeseries</td>
<td>TRUE</td>
<td>The data will be added and registered if it has more recent time than the existing registration data. <br>If the data has the same time as the existing data, the column data will be updated.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>For timeseries containers, if the time of the data to be registered is the same as the existing data, the existing row is overwritten. The number of rows is not increased.</p>
</li>
<li>
<p>By specifying the &ndash;schemaCheckSkip option, the existing container definition data is not checked.
Specify this option, when you import data different from the existing container definition, such as importing a new index.</p>
</li>
</ul>
</li>
<li>
<p>Replace container</p>
<ul>
<li>Delete the existing container, create a new container, and register data in it by specifying the &ndash;replace option.</li>
</ul>
</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_import -c c002 c001 -u admin/admin  --append
Import initiated (Append Mode)
Import completed
Success:2 Failure:0

$ gs_import -c c002 c001 -u admin/admin  --replace
Import initiated (Replace Mode)
Import completed
Success:2 Failure:0

$ gs_import --all  -u admin/admin  -d /datat/expdata   --replace
</code></pre><h3 id="error-continuation-specification-1">Error continuation specification</h3>
<p>The import process can be continued even if a registration error were to occur in a specific row data due to a user editing error in the container data file.</p>
<ul>
<li>By specifying the &ndash;force option, the import process will continue from the row data of the next container even if a registration error were to occur in the row data.</li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_import --all -u admin/admin -d /data/expdata --force
</code></pre><p>[Memo]</p>
<ul>
<li>Specify the container replacement option (&ndash;replace) to re-register a collection in which an error has occurred after revising the container data file.</li>
</ul>
<h3 id="other-functions-1">Other functions</h3>
<p><strong>Detailed settings in the operating display</strong></p>
<ul>
<li>Processing details can be displayed by specifying the &ndash;verbose option.</li>
</ul>
<h2 id="commandoption-specifications">Command/option specifications</h2>
<h3 id="export-command">Export command</h3>
<ul>
<li>
<p>Command list</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_export</td>
<td>-u&ndash;user &lt;User name&gt;/&lt;Password&gt;<br>&ndash;all  &ndash;db &lt;database name&gt; [&lt;database name&gt;] | ( &ndash;container &lt;container name&gt; [&lt;container name&gt;] &hellip; | &ndash;containerregex &lt;regular expression&gt; [&lt;regular expression&gt;] &hellip;)<br>[-d&ndash;directory &lt;output destination directory path&gt;] <br>[&ndash;out [&lt;file identifier&gt;] <br>[&ndash;binary [&lt;file size&gt;]] <br>[&ndash;filterfile definition file name] <br>[&ndash;parallel &lt;no. of parallel executions&gt;] <br>[&ndash;acl] <br>[&ndash;prefixdb &lt;database name&gt;] <br>[&ndash;force] <br>[-t&ndash;test] <br>[-v&ndash;verbose] <br>[&ndash;silent] <br>[&ndash;schemaOnly]</td>
</tr>
<tr>
<td>gs_export</td>
<td>&ndash;version</td>
</tr>
<tr>
<td>gs_export</td>
<td>[-h&ndash;help]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Required</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>-u|&ndash;user &lt;user name&gt;/&lt;password&gt;</td>
<td></td>
<td>Specify the user and password used for authentication purposes.</td>
</tr>
<tr>
<td>&ndash;all</td>
<td></td>
<td>All containers of the cluster shall be exported. Either &ndash;all, &ndash;container, &ndash;containerregex, &ndash;db option needs to be specified.</td>
</tr>
<tr>
<td>&ndash;db</td>
<td></td>
<td>All containers in the specified database shall be exported. Either &ndash;all, &ndash;container, &ndash;containerregex, &ndash;db option needs to be specified.</td>
</tr>
<tr>
<td>-c|&ndash;container &lt;container name&gt; &hellip;</td>
<td></td>
<td>Specify the container to be exported. Multiple specifications are allowed by separating them with blanks. Either &ndash;all, &ndash;container, &ndash;containerregex, &ndash;db option needs to be specified.</td>
</tr>
<tr>
<td>&ndash;containerregex &lt;regular expression&gt; &hellip;</td>
<td></td>
<td>Specify the containers by the regular expression to be exported. Multiple specifications are allowed by separating them with blanks. When using a regular expression, enclose it within double quotations to specify it. Either &ndash;all, &ndash;container, &ndash;containerregex, &ndash;db option needs to be specified. This option can be used in combination with &ndash;container option.</td>
</tr>
<tr>
<td>-d|&ndash;directory &lt;output destination directory path&gt;</td>
<td></td>
<td>Specify the directory path of the export destination. Default is the current directory.</td>
</tr>
<tr>
<td>&ndash;out [&lt;file identifier&gt;]</td>
<td></td>
<td>Specify this when using the multi-container format for the file format of the output data. The single container format will be used by default. The number of characters in the file identifier is limited to 20. <br>If the file identifier is specified, the file identifier will be used as the file name, and if it is omitted, the output start date and time will be used as the file name.</td>
</tr>
<tr>
<td>&ndash;binary [&lt;file size&gt;]</td>
<td></td>
<td>Specify this when using the binary format for the output format of the row data file. The CSV format will be used by default. <br>Specify the output file size in MB. Default is 100MB. A range from 1 to 1000 (1GB) can be specified.</td>
</tr>
<tr>
<td>&ndash;filterfile &lt;definition file name&gt;</td>
<td></td>
<td>Specify the definition file in which the search query used to export rows is described. All rows are exported by default.</td>
</tr>
<tr>
<td>&ndash;parallel &lt;no. of parallel executions&gt;</td>
<td></td>
<td>Execute in parallel for the specified number. When executed in parallel, the export data will be divided by the same number as the number of parallel executions. This can be specified only for the multi-container format (when the &ndash;out option is specified). A range from 2 to 32 can be specified.</td>
</tr>
<tr>
<td>&ndash;acl</td>
<td></td>
<td>Data on the database, user, access rights will also be exported. This can be specified only if the user is an administrator user and &ndash;all option is specified.</td>
</tr>
<tr>
<td>&ndash;prefixdb &lt;database name&gt;</td>
<td></td>
<td>If a &ndash;container option is specified, specify the database name of the container. The containers in the default database will be processed if they are omitted.</td>
</tr>
<tr>
<td>&ndash;force</td>
<td></td>
<td>Processing is forced to continue even if an error occurs. Error descriptions are displayed in a list after processing ends.</td>
</tr>
<tr>
<td>-t|&ndash;test</td>
<td></td>
<td>Execute the tool in the test mode.</td>
</tr>
<tr>
<td>-v|&ndash;verbose</td>
<td></td>
<td>Output the operating display details.</td>
</tr>
<tr>
<td>&ndash;silent</td>
<td></td>
<td>Operating display is not output.</td>
</tr>
<tr>
<td>&ndash;schemaOnly</td>
<td></td>
<td>Export container definitions only; row data is not exported.</td>
</tr>
<tr>
<td>&ndash;version</td>
<td></td>
<td>Display the version of the tool.</td>
</tr>
<tr>
<td>-h|&ndash;help</td>
<td></td>
<td>Display the command list as a help message.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>If the -t (&ndash;test) option is specified, a query will be executed until the data is fetched. Container data file will not be created.</li>
<li>If the -v (&ndash;verbose) option is specified, a message will appear during processing. If omitted, a message will appear only when there is an error.</li>
<li>Create the respective directory and file if the specified directory path does not exist in the -d (&ndash;directory) option, and the specified file name does not exist in the &ndash;out option.</li>
<li>If a &ndash;containerregex option is specified, Java regular expressions can be specified for the container names. See the Java &ldquo;Class Pattern&rdquo; for details.</li>
</ul>
<h3 id="import-command">Import command</h3>
<ul>
<li>
<p>Command list</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_import</td>
<td>-u&ndash;user &lt;User name&gt;/&lt;Password&gt;<br>&ndash;all  &ndash;db &lt;database name&gt; [&lt;database name&gt;] | ( &ndash;container &lt;container name&gt; [&lt;container name&gt;] &hellip; | &ndash;containerregex &lt;regular expression&gt; [&lt;regular expression&gt;] &hellip;)<br>&ndash;db &lt;database name&gt; [&lt;database name&gt;]<br>[&ndash;append&ndash;replace]<br>[-d&ndash;directory &lt;import target directory path&gt;]<br>[-f&ndash;file &lt;file name&gt; [&lt;file name&gt; &hellip;]]<br>[&ndash;count &lt;commit count&gt;]<br>[&ndash;acl]<br>[&ndash;prefixdb &lt;database name&gt;]<br>[&ndash;force]<br>[&ndash;schemaCheckSkip]<br>[-v&ndash;verbose]<br>[&ndash;silent]</td>
</tr>
<tr>
<td>gs_import</td>
<td>-l&ndash;list<br>[-d&ndash;directory &lt;directory path&gt;]<br>[-f&ndash;file &lt;file name&gt; [&lt;file name&gt; &hellip;]]</td>
</tr>
<tr>
<td>gs_import</td>
<td>&ndash;version</td>
</tr>
<tr>
<td>gs_import</td>
<td>[-h&ndash;help]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Required</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>-u|&ndash;user &lt;user name&gt;/&lt;password&gt;</td>
<td></td>
<td>Specify the user and password used for authentication purposes.</td>
</tr>
<tr>
<td>--all</td>
<td></td>
<td>All containers in the import source file shall be imported. Either &ndash;all, &ndash;container, &ndash;containerregex, &ndash;db option needs to be specified.</td>
</tr>
<tr>
<td>--db</td>
<td></td>
<td>All containers in the specified database shall be imported. Either &ndash;all, &ndash;container, &ndash;containerregex, &ndash;db option needs to be specified.</td>
</tr>
<tr>
<td>-c|&ndash;container &lt;container name&gt; &hellip;</td>
<td></td>
<td>Specify the container subject to import. Multiple specifications are allowed by separating them with blanks. Either &ndash;all, &ndash;container, &ndash;containerregex, &ndash;db option needs to be specified.</td>
</tr>
<tr>
<td>--containerregex &lt;regular expression&gt; &hellip;</td>
<td></td>
<td>Specify the containers by regular expressions subject to import. Multiple specifications are allowed by separating them with blanks. When using a regular expression, enclose it within double quotations to specify it. Either &ndash;all, &ndash;container, &ndash;containerregex, &ndash;db option needs to be specified. This option can be used in combination with &ndash;container option.</td>
</tr>
<tr>
<td>--append</td>
<td></td>
<td>Register and update data in an existing container.</td>
</tr>
<tr>
<td>--replace</td>
<td></td>
<td>Delete the existing container, create a new container, and register data.</td>
</tr>
<tr>
<td>-d|&ndash;directory &lt;import target directory path&gt;</td>
<td></td>
<td>Specify the directory path of the import source. Default is the current directory.</td>
</tr>
<tr>
<td>-f|&ndash;file &lt;file name&gt; [&lt;file name&gt; &hellip;]</td>
<td></td>
<td>Specify the container data file to be imported. Multiple specifications allowed. All container data files of the current directory or directory specified in d (&ndash;directory) will be applicable by default.</td>
</tr>
<tr>
<td>--count &lt;commit count&gt;</td>
<td></td>
<td>Specify the number of input cases until the input data is committed together.</td>
</tr>
<tr>
<td>--acl</td>
<td></td>
<td>Data on the database, user, access rights will also be imported. This can be specified only if the user is an administrator user and the &ndash;all option is specified for data exported by specifying the &ndash;acl option.</td>
</tr>
<tr>
<td>--prefixdb &lt;database name&gt;</td>
<td></td>
<td>If a &ndash;container option is specified, specify the database name of the container. The containers in the default database will be processed if they are omitted.</td>
</tr>
<tr>
<td>--force</td>
<td></td>
<td>Processing is forced to continue even if an error occurs. Error descriptions are displayed in a list after processing ends.</td>
</tr>
<tr>
<td>--schemaCheckSkip</td>
<td></td>
<td>When &ndash;append option is specified, a schema check of the existing container will not be executed.</td>
</tr>
<tr>
<td>-v|&ndash;verbose</td>
<td></td>
<td>Output the operating display details.</td>
</tr>
<tr>
<td>--silent</td>
<td></td>
<td>Operating display is not output.</td>
</tr>
<tr>
<td>-l|&ndash;list</td>
<td></td>
<td>Display a list of the specified containers to be imported.</td>
</tr>
<tr>
<td>--version</td>
<td></td>
<td>Display the version of the tool.</td>
</tr>
<tr>
<td>-h|&ndash;help</td>
<td></td>
<td>Display the command list as a help message.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>If -l (&ndash;list) option is specified, and options other than the -d (&ndash;directory) and -f (&ndash;file) option are specified, an option argument error will occur.</li>
<li>If the -v (&ndash;verbose) option is specified, a message will appear during processing. If omitted, a message will appear only when there is an error.</li>
<li>If &ndash;containerregex option is specified, Java regular expressions can be used to specify the container names. See the Java &ldquo;Class Pattern&rdquo; for details.</li>
</ul>
<p><a id="format_of_container_data_file"></a></p>
<h2 id="format-of-container-data-file">Format of container data file</h2>
<p>The respective file formats to configure container data files are shown below.</p>
<p><a id="metadata_file"></a></p>
<h3 id="metadata-file">Metadata file</h3>
<p>The metadata file stores the container data in the JSON format.  The container data to be stored is shown below.</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;Container name&gt;</td>
<td>Name of the container.</td>
</tr>
<tr>
<td>Container type</td>
<td>Refers to a collection or time series container.</td>
</tr>
<tr>
<td>Schema data</td>
<td>Data of a group of columns constituting a row. Specify the column name, data type, and column constraints.</td>
</tr>
<tr>
<td>Index setting data</td>
<td>Index type data set in a container. Availability of index settings. Specify the type of index, including tree index and spatial index.</td>
</tr>
<tr>
<td>Row key setting data</td>
<td>Set up a row key when collection container is used. For time series containers, either there is no row key set or the default value, if set, will be valid.</td>
</tr>
<tr>
<td>Table partitioning data</td>
<td>Specify table partitioning data.</td>
</tr>
</tbody>
</table>
<p>The tag and data items of the metadata in the JSON format are shown below. Tags that are essential for new creations by the user are also listed (tag setting condition).</p>
<table>
<thead>
<tr>
<th>field</th>
<th>Item</th>
<th>Note</th>
<th>Setting conditions</th>
</tr>
</thead>
<tbody>
<tr>
<td>Common parameters</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>database</td>
<td>&lt;Database name&gt;</td>
<td>&lt;Database name&gt;</td>
<td>Arbitrary, &ldquo;public&rdquo; by default</td>
</tr>
<tr>
<td>container</td>
<td>&lt;Container name&gt;</td>
<td>&lt;Container name&gt;</td>
<td>Required</td>
</tr>
<tr>
<td>containerType</td>
<td>Container type</td>
<td>Specify either COLLECTION or TIME_SERIES</td>
<td>Required</td>
</tr>
<tr>
<td>containerFileType</td>
<td>Container data file type</td>
<td>Specify either csv or binary.</td>
<td>Required</td>
</tr>
<tr>
<td>containerFile</td>
<td>Container data file name</td>
<td>File name</td>
<td>Arbitrary</td>
</tr>
<tr>
<td>dataAffinity</td>
<td>Data affinity name</td>
<td>Specify the data affinity name.</td>
<td>Arbitrary</td>
</tr>
<tr>
<td>partitionNo</td>
<td>Partition</td>
<td>Null string indicates no specification.</td>
<td>Arbitrary, output during export. Not used even if it is specified when importing.</td>
</tr>
<tr>
<td>columnSet</td>
<td>Column data set (, schema data)</td>
<td>Column data needs to match when adding data to an existing container</td>
<td>Required</td>
</tr>
<tr>
<td>columnName</td>
<td>Column name</td>
<td></td>
<td>Required</td>
</tr>
<tr>
<td>type</td>
<td>JSON Data type</td>
<td>Specify either of the following values: BOOLEAN/ STRING/ BYTE/ SHORT/ INTEGER/ LONG/ FLOAT/ DOUBLE/ TIMESTAMP/ GEOMETRY/ BLOB/ BOOLEAN[]/ STRING[]/ BYTE[] /SHORT. []/ INTEGER[]/ LONG[]/ FLOAT[]/ DOUBLE[]/ TIMESTAMP[].</td>
<td>Required</td>
</tr>
<tr>
<td>notNull</td>
<td>NOT NULL constraint</td>
<td>true/false</td>
<td>Arbitrary, &ldquo;false&rdquo; by default</td>
</tr>
<tr>
<td>rowKeyAssigned</td>
<td>Row key setting (*1)</td>
<td>specify either true/false<br>Specifying also rowKeySet causes an error</td>
<td>Arbitrary, &ldquo;false&rdquo; by default</td>
</tr>
<tr>
<td>rowKeySet</td>
<td>Row key column names</td>
<td>Specify row key column names in array format.<br>The row key needs to match when adding data to an existing container</td>
<td>Arbitrary (*2)</td>
</tr>
<tr>
<td>indexSet</td>
<td>Index data set</td>
<td>Can be set for each column.  Non-existent column name will be ignored or an error will be output.</td>
<td>Arbitrary</td>
</tr>
<tr>
<td>columnNames</td>
<td>Column names</td>
<td>Specify column names in array format.</td>
<td>Arbitrary (essential when indexSet is specified)</td>
</tr>
<tr>
<td>type</td>
<td>Index type</td>
<td>Specify one of the following values: TREE (STRING/ BOOLEAN/ BYTE/ SHORT/ INTEGER/ LONG/ FLOAT/ DOUBLE/ TIMESTAMP) or SPATIAL (GEOMETRY).</td>
<td>Arbitrary (essential when indexSet is specified)</td>
</tr>
<tr>
<td>indexName</td>
<td>Index name</td>
<td>Index name</td>
<td>Arbitrary, not specified either by default or when null is specified.</td>
</tr>
<tr>
<td>Table partitioning data</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>tablePartitionInfo</td>
<td>Table partitioning data</td>
<td>For Interval-Hash partitioning, specify the following group of items for both Interval and Hash as an array in that order</td>
<td>Arbitrary</td>
</tr>
<tr>
<td>type</td>
<td>Table partitioning type</td>
<td>Specify either HASH or INTERVAL</td>
<td>Essential if tablePartitionInfo is specified</td>
</tr>
<tr>
<td>column</td>
<td>Partitioning key</td>
<td>Column types that can be specified are as follows<br>Any type if type=HASH<br>BYTE, SHORT, INTEGER, LONG, TIMESTAMP if type=INTERVAL</td>
<td>Essential if tablePartitionInfo is specified</td>
</tr>
<tr>
<td>divisionCount</td>
<td>Number of hash partitions</td>
<td>(Effective only if type=HASH) Specify the number of hash partitions</td>
<td>Essential if type=HASH</td>
</tr>
<tr>
<td>intervalValue</td>
<td>Interval value</td>
<td>(Effective only if type=INTERVAL) Specify the interval value</td>
<td>Essential if type=INTERVAL</td>
</tr>
<tr>
<td>intervalUnit</td>
<td>Interval unit</td>
<td>(Effective only if type=INTERVAL) DAY only</td>
<td>Essential if type=INTERVAL and column=TIMESTAMP</td>
</tr>
<tr>
<td>Interval or interval-hash partitioning only parameter</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>expirationType</td>
<td>Type of expiry release function</td>
<td>Specify &ldquo;partition&rdquo;, when specifying partition expiry release.</td>
<td>Arbitrary</td>
</tr>
<tr>
<td>expirationTime</td>
<td>Length of expiration</td>
<td>Integer value</td>
<td>Essential if expirationType is specified</td>
</tr>
<tr>
<td>expirationTimeUnit</td>
<td>Elapsed time unit of row expiration</td>
<td>Specify either of the following values: DAY/ HOUR/ MINUTE/ SECOND/ MILLISECOND.</td>
<td>Essential if expirationType is specified</td>
</tr>
</tbody>
</table>
<ul>
<li>* 1: Information output to metadata file before V4.2. Use rowKeySet in V4.3 or later.</li>
<li>* 2: Required when containerType is TIME_SERIES and rowKeyAssigned is false.</li>
</ul>
<p>[Memo]</p>
<ul>
<li>
<p>Metadata file is written in UTF-8.</p>
</li>
<li>
<p>Container metadata is described in the json format in the metadata file of a single container data file.</p>
</li>
<li>
<p>Container metadata is described in a json <strong>array</strong> in the metadata file of a multi-container data file.</p>
</li>
<li>
<p>When exporting, the metadata file is named according to the following rules.</p>
<ul>
<li>
<p>When the format is a single container format</p>
<ul>
<li>
<p>&lt;database name&gt;.&lt;container name&gt;_properties.json</p>
</li>
<li>
<p>The database and container name in the file name are URL-encoded. If the length of &ldquo;encoded database name.encoded container name&rdquo; is over 140 characters, the file name is modified as connecting 140 characters from the beginning and the sequential number.</p>
</li>
<li>
<p>Example:</p>
<pre tabindex="0"><code class="language-example" data-lang="example">In the case of importing the next three containers,
* database &#34;db1&#34;, container &#34;container_ ... _2017/08/01&#34; (the container name that contains over 140 characters)
* database &#34;db1&#34;, container &#34;container_ ... _2017/09/01&#34; (the container name that contains over 140 characters)
* database &#34;db1&#34;, container &#34;container_ ... _2017/10/01&#34; (the container name that contains over 140 characters)

the name of each metadata file will be the container name encoded, trimmed to be less than 140 characters, and consecutive numbers added, like as follows:
db1.container2017%2f08_0_properties.json
db1.container2017%2f09_1_properties.json
db2.container2017%2f10_2_properties.json
</code></pre></li>
</ul>
</li>
<li>
<p>When the format is a multi-container format</p>
<ul>
<li>A file identifier is specified by &ndash;out option: &lt;file identifier&gt;_properties.json</li>
<li>The file identifier is omitted in &ndash;out option: YYYYMMDD_HHmmss_SSS_properties.json</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>[Notes]</p>
<ul>
<li>Do not edit metadata files if row data files are exported in the binary format.</li>
</ul>
<p>[Example1] Example of a collection in a single container data file (public.c001_properties.json)</p>
<ul>
<li>
<p>A single collection is described.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;container&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;c001&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;containerFile&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;public.c001.csv&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;containerFileType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;csv&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;containerType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;COLLECTION&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;columnSet&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;COLUMN_ID&#34;</span><span style="color:#000;font-weight:bold">,</span>  <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;INTEGER&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;COLUMN_STRING&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;STRING&#34;</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;indexSet&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;COLUMN_ID&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;TREE&#34;</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;COLUMN_STRING&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;TREE&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;rowKeyAssigned&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
</ul>
<p>[Example 2] Example of a collection and timeseries container in a multi-container data file (public.container01_properties.json)</p>
<ul>
<li>
<p>For collections and timeseries containers &gt;</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;container&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;c001&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;containerType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;collection&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;containerFileType&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;csv&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;containerFile&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;public.container01.csv&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;rowKeyAssigned&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;columnSet&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;COLUMN_FLAG&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;BOOLEAN&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;COLUMN_BLOB_DATA&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;BLOB&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;COLUMN_STRING&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;STRING&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;indexSet&#34;</span><span style="color:#000;font-weight:bold">:[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34; COLUMN_STRING &#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;indexType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;TREE&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;container&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;c002&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;containerType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;timeSeries&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;containerFileType&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;csv&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;containerFile&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;public.container01.csv&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;rowKeyAssigned&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;dataAffinity&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;month&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;columnSet&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;COLUMN_TIMESTAMP&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;TIMESTAMP&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;COLUMN_FLAG&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;BOOLEAN&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;COLUMN_BLOB_DATA&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;BLOB&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;COLUMN_INTEGER&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;INTEGER&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;indexSet&#34;</span><span style="color:#000;font-weight:bold">:[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34; COLUMN_FLAG &#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;indexType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;TREE&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">]</span>
</span></span></code></pre></div></li>
</ul>
<p>[Example 3] Example of a description for table partitioning</p>
<ul>
<li>
<p>For hash partitioning (Showing only the description for table partitioning data) &gt;</p>
<pre tabindex="0"><code class="language-example" data-lang="example">  &#34;tablePartitionInfo&#34;:{
      &#34;type&#34;: &#34;HASH&#34;,
      &#34;column&#34;: &#34;column03&#34;,
      &#34;divisionCount&#34;: 16
  }
</code></pre></li>
<li>
<p>For interval partitioning (Showing only the description for table partitioning data) &gt;</p>
<pre tabindex="0"><code class="language-example" data-lang="example">  &#34;tablePartitionInfo&#34;:{
      &#34;type&#34;: &#34;INTERVAL&#34;,
      &#34;column&#34;: &#34;timecolumn05&#34;,
      &#34;intervalValue&#34;: 20,
      &#34;intervalUnit&#34;: &#34;DAY&#34;
  }
</code></pre></li>
<li>
<p>For interval-hash partitioning (Showing only the description for table partitioning data) &gt;</p>
<pre tabindex="0"><code class="language-example" data-lang="example">  &#34;tablePartitionInfo&#34;:[
       {
           &#34;type&#34;: &#34;INTERVAL&#34;,
           &#34;column&#34;: &#34;timecolumn05&#34;,
           &#34;intervalValue&#34;: 10,
           &#34;intervalUnit&#34;: &#34;DAY&#34;
       },
       {
           &#34;type&#34;: &#34;HASH&#34;,
           &#34;column&#34;: &#34;column03&#34;,
           &#34;divisionCount&#34;: 16
       }
  ]
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>For interval-hash partitioning, it is necessary to describe the partitioning data under the tablePartitionInfo in the order of INTERVAL, HASH. An error occurs if the order of description is not right.</li>
</ul>
<h3 id="row-data-file-binary-data-file">Row data file (binary data file)</h3>
<p>A row data file, binary data file, is in zip format and can be created by gs_export only. No readability, and cannot be edited as well.</p>
<h3 id="row-data-file-csv-data-file">Row data file (CSV data file)</h3>
<p>A row data file, csv file, is in CSV format and describes the references to the metadata file, which defines rows, in the container data file data section.</p>
<p>[Memo]</p>
<ul>
<li>A CSV data file is described using the UTF-8 character code.</li>
</ul>
<p>&lt;CSV data file format&gt;</p>
<p><strong>1. Header section (1st - 2nd row)</strong></p>
<p>Header section contains data output during export. Header data is not required during import.</p>
<ul>
<li>
<p>Assign a &ldquo;#&rdquo; at the beginning of the command to differentiate it. The format will be as follows.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">&#34;#(Date and time) GridDB release version&#34;
&#34;#User:(user name)&#34;
</code></pre></li>
</ul>
<p>[Example]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">&#34;#2017-10-01T17:34:36.520+0900 GridDB V4.0.00&#34;
&#34;#User:admin &#34;
</code></pre><p><strong>2. Container data file data section (3rd and subsequent rows)</strong></p>
<p>Describe the references to the metadata file.</p>
<ul>
<li>
<p>Assign a &ldquo;%&rdquo; at the beginning of the command to differentiate it. The format of one row will be as follows.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">&#34;%&#34;,&#34;metadata file name&#34;
</code></pre></li>
</ul>
<p><strong>3. Row data section (container data and subsequent sections)</strong></p>
<p>The following section describes the row data.</p>
<ul>
<li>
<p>Assign &ldquo;$&rdquo; at the beginning of the container name and describe the row data for the number of cases that you want to register in the container.</p>
</li>
<li>
<p>Separate the row data of the column with commas and describe them in one line of the CSV file.</p>
<pre tabindex="0"><code class="language-example" data-lang="example">&#34;$&#34;,&#34;database name.container name&#34;
&#34;value&#34;,&#34;value&#34;,&#34;value&#34;, ... (number of column definitions)
&#34;value&#34;,&#34;value&#34;,&#34;value&#34;, ... (number of column definitions)
    
            //Describe the number of row cases you want to register
    
</code></pre></li>
</ul>
<p>[Memo]</p>
<ul>
<li>Backslash \ and double quote &quot; included in row data must be escaped with a backslash.</li>
<li>For TIMESTAMP type, specify the value in &ldquo;yyyy-MM-dd&rsquo;T&rsquo;HH:mm:ss.SSSZ&rdquo; format.
<ul>
<li>Example: &ldquo;2016-12-25T00:22:30.000+0900&rdquo;</li>
</ul>
</li>
</ul>
<p><strong>4. Comments section</strong></p>
<p>The comment section can be described anywhere in the CSV data file except the header section.</p>
<ul>
<li>Assign a &ldquo;#&rdquo; at the beginning of the command to differentiate it.</li>
</ul>
<p>[Memo]</p>
<ul>
<li>The CSV data file of a single container data file is configured as follows.
<ul>
<li>
<pre><code>1. Header section, 2. Container data file data section, 3. Row data section
</code></pre>
</li>
</ul>
</li>
<li>The CSV data file of a multi-container data file is configured as follows.
<ul>
<li>
<pre><code>1. Header section, 2. Container data file data section, 3. Row data section (multiple)
</code></pre>
</li>
</ul>
</li>
</ul>
<p>&lt;File name format&gt;</p>
<p>The name of the CSV data file output by the export tool is as follows.</p>
<ul>
<li>When the format is a single container format
<ul>
<li><database name>.<container name>.csv</li>
<li>The database and container name in the file name are URL-encoded. If the length of &ldquo;encoded database name.encoded container name&rdquo; is over 140 characters, the file name is modified as connecting 140 characters from the beginning and the sequential number.</li>
</ul>
</li>
<li>When the format is a multi-container format
<ul>
<li>File identifier is specified by &ndash;out option: <file identifier>.csv</li>
<li>File identifier is omitted by &ndash;out option: YYYYMMDD_HHmmss_SSS.csv</li>
</ul>
</li>
</ul>
<p>[Example] a meta data file in CSV format ,including external object file, for Example 1</p>
<pre tabindex="0"><code class="language-example" data-lang="example">&#34;#2017-10-01T11:19:03.437+0900  GridDB V4.0.00&#34;
&#34;#User:admin&#34;
&#34;%&#34;,&#34;public.c001_properties.json&#34;
&#34;$&#34;,&#34;public.c001&#34;
&#34;1&#34;,&#34;Tokyo&#34;
&#34;2&#34;,&#34;Kanagawa&#34;
&#34;3&#34;,&#34;Osaka&#34;
</code></pre><p>When the data below is included in some of the rows of the CSV data file, prepare an external object file separate from the CSV data file as an external object. List the references of the external data file in the target column of the CSV file as below.
&ldquo;@data type&rdquo;: (file name)</p>
<ul>
<li>BLOB data
<ul>
<li>List &ldquo;@BLOB:&rdquo; + (file name) as BLOB data in the &ldquo;value&rdquo; section of the relevant column.</li>
<li>The file naming section has a format which is the file name + &ldquo;.blob&rdquo;.</li>
<li>The binary file is located according to the rules of the file naming section.</li>
</ul>
</li>
<li>Spatial data
<ul>
<li>List &ldquo;@GEOMETRY:&rdquo; + (file name) as GEOMETRY data in the relevant &ldquo;value&rdquo; section.</li>
<li>The file naming section has a format which is the file name + &ldquo;.geometry&rdquo;.</li>
<li>List a spatial column in the external object file.</li>
<li>Describe using character code UTF-8.</li>
</ul>
</li>
<li>Array (BOOLEAN[]/ STRING[]/ BYTE[]/ SHORT[]/ INTEGER[]/LONG[]/ FLOAT[]/ DOUBLE[]/ TIMESTAMP[])
<ul>
<li>List &ldquo;@(Data Type)_ARRAY:&rdquo; + (file name) as ARRAY data in the relevant &ldquo;value&rdquo; section.</li>
<li>The file naming section has a format which is the file name + &ldquo;.(data type)_array&rdquo;.</li>
<li>If the length of the character string exceeds 100 characters, list down array data in the external object file.</li>
<li>Describe using character code UTF-8.</li>
</ul>
</li>
<li>Character string data
<ul>
<li>List &ldquo;@STRING:&rdquo; + (file name) as STRING data in the relevant &ldquo;value&rdquo; section.</li>
<li>The file naming section has a format which is the file name + &ldquo;.string&rdquo;.</li>
<li>If the length of the character string exceeds 100 characters, or if it includes a line return (\r), list down string data in the external object file.</li>
<li>Describe using character code UTF-8.</li>
</ul>
</li>
</ul>
<p>When an external object file is exported, the external object file name is created in accordance with the following rules during export.</p>
<ul>
<li>When the format is a single container format
<ul>
<li>&lt;Database name&gt;.&lt;container name&gt;<em>&lt;row no.&gt;</em>&lt;column no.&gt;.&lt;data type&gt;</li>
<li>The row no. and column no. shows the sequence no. of the container data and they are numbered starting from 0.</li>
<li>Example) When the column of an container is a Byte array, an external object file name is as follows: database name.container name_ROW number_COLUMN number .byte_array.</li>
</ul>
</li>
<li>When the format is a multi-container format
<ul>
<li>File identifier specified in the &ndash;out option &lt;File identifier&gt;<em>&lt;database name&gt;</em>&lt;container name&gt;<em>&lt;row no.&gt;</em>&lt;column no.&gt;.&lt;data type&gt;</li>
<li>File identifier omitted in &ndash;out option &lt;Date and time&gt;<em>&lt;database name&gt;</em>&lt;container name&gt;<em>&lt;row no.&gt;</em>&lt;column no.&gt;.&lt;data type&gt;</li>
</ul>
</li>
<li>The database and container name in the file name are URL-encoded. If the length of &ldquo;encoded database name.encoded container name&rdquo; is over 140 characters, the file name is modified as connecting 140 characters from the beginning and the sequential number.</li>
</ul>
<p>For import purposes, any file name can be used for the external object file. List down the CSV data file with a file name of any data type in the relevant column.</p>
<p>[Example] Naming example of an external object file</p>
<pre tabindex="0"><code class="language-example" data-lang="example">//When a collection (colb) having a BYTE array in the 3rd column is exported

10  4 12:51 2017 public.colb.csv
10  4 12:51 2017 public.colb_0_3.byte_array
10  4 12:51 2017 public.colb_1_3.byte_array
10  4 12:51 2017 public.colb_2_3.byte_array
10  4 12:51 2017 public.colb_3_3.byte_array
10  4 12:51 2017 public.colb_4_3.byte_array
10  4 12:51 2017 public.colb_properties.json
</code></pre><p>[Example] Description of an external object file in a single container data file is shown below.</p>
<ul>
<li>
<p>Metadata file public.col01_properties.json</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;version&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;4.0.0&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;container&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;col01&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;containerFile&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;public.col01.csv&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;containerFileType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;csv&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;containerType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;COLLECTION&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;columnSet&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;name&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;string&#34;</span>  <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;status&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;boolean&#34;</span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;long&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;lob&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;byte[]&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">],</span>        
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;indexSet&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;name&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;TREE&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;columnName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;count&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;TREE&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;rowKeyAssigned&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div></li>
<li>
<p>CSV data file public.col01.csv</p>
<pre tabindex="0"><code class="language-example" data-lang="example">&#34;#2017-10-01T19:41:35.320+0900  GridDB V4.0.00&#34;
&#34;#User:admin&#34;
&#34;%&#34;,&#34;public.col01_properties.json&#34;  
&#34;$&#34;,&#34;public.col01&#34;
&#34;name02&#34;,&#34;false&#34;,&#34;2&#34;,&#34;@BYTE_ARRAY:public.col01_0_3.byte_array&#34;
</code></pre></li>
<li>
<p>External object file public.col01_03.byte_array</p>
<pre tabindex="0"><code class="language-example" data-lang="example">1,10,15,20,40,70,71,72,73,74
</code></pre></li>
</ul>
<h2 id="----database-file-migration-tool----">&mdash; Database file migration tool &mdash;</h2>
<h2 id="overview-2">Overview</h2>
<p>Migrate the database files created in GridDB V4 to the format that can be used in GridDB V5. The following section provides the procedure for migration by using the migration tool on a single machine.</p>
<ul>
<li>(1) preparation for migration</li>
<li>(2) GridDB V5 installation</li>
<li>(3) execution of the database file migration tool</li>
<li>(4) start of a GridDB V5 cluster</li>
</ul>
<p>[Notes]</p>
<ul>
<li>
<p>Before migration, be sure to run backups of the database files.</p>
</li>
<li>
<p>The settings file (gs_node.json/gs_cluster.json) for V4 can also be used as the settings file for V5. The parameters added in V5 are enabled using the default value. The parameters that have been discontinued in V5 are ignored, and the following warning is recorded in the event log.</p>
</li>
</ul>
<pre tabindex="0"><code class="language-example" data-lang="example">2021-12-26T16:10:41.211+09:00 RHEL83-1 31897 WARNING MAIN [100002:CT_PARAMETER_INVALID] Unknown parameter (source=gs_node.json, group=dataStore, name=storeWarmStart)
</code></pre><ul>
<li>
<p>This migration tool supports migration of database files created in GridDB V4. Use the export/import tools to migrate database files for GridDB V3 or earlier.</p>
</li>
<li>
<p>Functions not supported in V5 (trigger, HASH, row expiry release, and timeseries compression) cannot be migrated. In SQL, check whether unsupported functions are used. They must be deleted. To delete them, see <a href="#prepare_for_migration">Preparation for migration</a>.</p>
</li>
</ul>
<p><a id="prepare_for_migration"></a></p>
<h2 id="preparation-for-migration">Preparation for migration</h2>
<p>If the V4 database meets any of the following conditions, the database file migration tool fails to run.</p>
<ul>
<li>Functions not supported in GridDB V5 are used.</li>
<li>The background process is currently running.</li>
</ul>
<p>Before using the database file migration tool, delete the functions not supported in V5 from the database to be migrated and complete the background process.</p>
<h3 id="starting-a-griddb-v4-cluster">Starting a GridDB V4 cluster</h3>
<p>To check the V4 database, start a GridDB V4 cluster. GridDB clusters can be started using the GridDB service and various tools. For detailed operation, see the following chapters:</p>
<ul>
<li><a href="#griddb_service">Service</a></li>
<li><a href="#griddb_commands">Operating command</a></li>
<li><a href="#griddb_gs_sh">Cluster operation control command interpreter</a></li>
<li><a href="#griddb_gs_admin">Integrated operation control GUI</a></li>
</ul>
<p><a id="unsupported_function"></a></p>
<h3 id="checking-unsupported-functions-and-deleting-them">Checking unsupported functions and deleting them</h3>
<p>Functions not supported in V5 (trigger, HASH, row expiry release, and timeseries compression) cannot be migrated. In SQL, check whether unsupported functions are used. They must be deleted. The following procedure is based on the sections on <a href="#griddb_gs_sh">Cluster operation control command interpreter (gs_sh)</a> and <a href="#expimp_function">Export/import tools</a>.</p>
<h4 id="checking-and-deleting-a-trigger">Checking and deleting a trigger</h4>
<p>Execute the following SQL statement using gs_sh to check if there is any trigger.</p>
<pre tabindex="0"><code>gs[public]&gt; select database_name, table_name, trigger_name from &#34;#event_triggers&#34;;
</code></pre><ul>
<li>
<p>If it results in no hit, then there is no trigger.</p>
</li>
<li>
<p>If it results in one or more hits, there is at least one trigger; delete trigger(s) using the gs_sh subcommand droptrigger.</p>
<p>&gt; Sample output when there is any trigger</p>
<pre tabindex="0"><code># Searching for a trigger
gs[public]&gt; select count(*) from &#34;#event_triggers&#34;
3 hits are returned.

gs[public]&gt; get
DATABASE_NAME,TABLE_NAME,TRIGGER_NAME
public,c01,trigger1
public,c01,trigger1
public,c01,trigger1
Completed retrieving 3 hits.
</code></pre><p>&gt; Example of deleting a trigger</p>
<pre tabindex="0"><code># Deleting the trigger1 trigger in the c01 container.
gs[public]&gt; droptrigger c01 trigger1

gs[public]&gt; select database_name, table_name, trigger_name from &#34;#event_triggers&#34;;
No hit is returned.
</code></pre></li>
</ul>
<h4 id="checking-and-deleting-a-hash-index">Checking and deleting a Hash index</h4>
<p>Execute the following SQL statement using gs_sh to check if there is any Hash index.</p>
<pre tabindex="0"><code>gs[public]&gt; select database_name, table_name, column_name from &#34;#index_info&#34; where index_type=&#39;HASH&#39;;
</code></pre><ul>
<li>
<p>If it results in no hit, then there is no Hash index.</p>
</li>
<li>
<p>If it results in one or more hits, there is at least one Hash index; delete Hash index(es) using the gs_sh subcommand dropindex.</p>
<p>&gt; Sample output when there is any Hash index</p>
<pre tabindex="0"><code># Searching for a Hash index
gs[public]&gt; select database_name, table_name, column_name from &#34;#index_info&#34; where index_type=&#39;HASH&#39;;
1 hit is returned.

gs[public]&gt; get
DATABASE_NAME,TABLE_NAME,COLUMN_NAME
public,c02,status
Completed retrieving 1 hit.
</code></pre><p>&gt; Example of deleting a Hash index</p>
<pre tabindex="0"><code># Deleting the Hash index in the status column in the c02 container.
gs[public]&gt; dropindex c02 status HASH

gs[public]&gt; select database_name, table_name, column_name from &#34;#index_info&#34; where index_type=&#39;HASH&#39;;
No hit is returned.
</code></pre></li>
</ul>
<h4 id="checking-and-deleting-row-expiry-release">Checking and deleting row expiry release</h4>
<p>Execute the following SQL statement using gs_sh to check if there is any container with row expiry release.</p>
<pre tabindex="0"><code>gs[public]&gt; select database_name, table_name from &#34;#tables&#34; where EXPIRATION_TYPE=&#39;ROW&#39;;
</code></pre><ul>
<li>
<p>If it results in no hit, then there is no container with row expiry release.</p>
</li>
<li>
<p>If it results in one or more hits, there is at least one container with row expiry release. Run the backups using gs_export and delete container(s) using the gs_sh subcommand dropcontainer.</p>
<p>&gt; Sample output when there is any container with row expiry release</p>
<pre tabindex="0"><code># Searching for a container with row expiry release
gs[public]&gt; select database_name, table_name from &#34;#tables&#34; where EXPIRATION_TYPE=&#39;ROW&#39;;
1 hit is returned.

gs[public]&gt; get
DATABASE_NAME,TABLE_NAME
public,c03
Completed retrieving 1 hit.
</code></pre><p>&gt; Example of running the backups of a container with row expiry release</p>
<pre tabindex="0"><code># Using the gs_export command, run backups of the c03 container.
$ mkdir c03
$ cd c03
$ gs_export -u admin/admin -d public -c c03
</code></pre><p>&gt; Example of deleting a container with row expiry release</p>
<pre tabindex="0"><code># Deleting the c03 container with row expiry release
gs[public]&gt; dropcontainer c03

gs[public]&gt; select database_name, table_name from &#34;#tables&#34; where EXPIRATION_TYPE=&#39;ROW&#39;;
No hit is returned.
</code></pre></li>
</ul>
<h4 id="checking-and-deleting-timeseries-compression">Checking and deleting timeseries compression</h4>
<p>Execute the following SQL statement using gs_sh to check if there is any container with timeseries compression.</p>
<pre tabindex="0"><code>gs[public]&gt; select database_name, table_name from &#34;#tables&#34; where COMPRESSION_METHOD is not null;
</code></pre><ul>
<li>
<p>If it results in no hit, then there is no container with timeseries compression.</p>
</li>
<li>
<p>If it results in one or more hits, there is at least one container with timeseries compression. Run the backups using gs_export and delete container(s) using the gs_sh subcommand dropcontainer.</p>
<p>&gt; Sample output when there is any container with timeseries compression</p>
<pre tabindex="0"><code># Searching for a container with timeseries compression
gs[public]&gt; select database_name, table_name from &#34;#tables&#34; where COMPRESSION_METHOD is not null;
1 hit is returned.

gs[public]&gt; get
DATABASE_NAME,TABLE_NAME
public,c04
Completed retrieving 1 hit.
</code></pre><p>&gt; Example of running the backups of a container with timeseries compression</p>
<pre tabindex="0"><code># Using the gs_export command, run backups of the c04 container.
$ mkdir c04
$ cd c04
$ gs_export -u admin/admin -d public -c c04
</code></pre><p>&gt; Example of deleting a container with timeseries compression</p>
<pre tabindex="0"><code># Deleting the c04 container with timeseries compression
gs[public]&gt; dropcontainer c04

gs[public]&gt; select database_name, table_name from &#34;#tables&#34; where EXPIRATION_TYPE=&#39;ROW&#39;;
No hit is returned.
</code></pre></li>
</ul>
<h3 id="checking-the-completion-of-a-background-process">Checking the completion of a background process</h3>
<p>Using the cluster information retrieval command gs_stat, check the completion of a background process. If numBackground is equal to 0, the background process is completed.</p>
<pre tabindex="0"><code>$ gs_stat -u admin/admin | grep numBackground
        &#34;numBackground&#34;: 0,
</code></pre><p>Check the completion on all the GridDB clusters. If numBackground is one or more, the background process is currently running. Wait with the GridDB cluster running until the background process is completed (i.e., until numBackground reaches 0).</p>
<h3 id="stopping-a-griddb-v4-cluster">Stopping a GridDB V4 cluster</h3>
<p>After checking the deletion of the functions not supported in V5 and the completion of the background process, stop the V4 cluster and then each node. To prepare for the installation of GridDB V5, rename the storage directory for database files.</p>
<p>Example:</p>
<pre tabindex="0"><code>$ mv /var/lib/gridstore/data /var/lib/gridstore/data-v4
</code></pre><h2 id="installing-griddb-v5">Installing GridDB V5</h2>
<p>Before installing GridDB V5, uninstall all the GridDB V4 packages.</p>
<p>[example of running CentOS]</p>
<pre tabindex="0"><code>$ sudo rpm -e griddb-ee-server
$ sudo rpm -e griddb-ee-client
$ sudo rpm -e griddb-ee-java-lib
$ sudo rpm -e griddb-ee-c-lib
</code></pre><p>[Memo]</p>
<ul>
<li>For Ubuntu Server, use the dpkg command to uninstall the packages.
<pre tabindex="0"><code>$ sudo dpkg -r griddb-ee-server
</code></pre></li>
</ul>
<p>After uninstalling GridDB V4, install GridDB V5. For details on installation, see the &ldquo;<a href="../4.md_administrators_guide/md_administrators_guide.md">GridDB Administrator Guide</a>&rdquo; .</p>
<h2 id="running-the-database-file-migration-tool">Running the database file migration tool</h2>
<p>On the machine where V4 databases reside, run the database file migration tool.</p>
<ul>
<li>
<p>Command</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option/argument</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_convdbv4tov5</td>
<td>&ndash;v4data: storage directory for V4 database files. <br> &ndash;v5data: storage directory for V5 data files. <br> &ndash;v5txnlog: storage directory for V5 transaction log files. <br> [ &ndash;v5splitCount: number of data file splits. ] <br> [ &ndash;parallel: number of parallel runs. ]]</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Options</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>&ndash;v4data: storage directory for V4 database files.</td>
<td>Specify the storage directory for V4 database files.</td>
</tr>
<tr>
<td>&ndash;v5data: storage directory for V4 data files.</td>
<td>Specify the storage directory for V5 data files generated from V4 database files.</td>
</tr>
<tr>
<td>&ndash;v5txnlog: storage directory for V5 transaction log files.</td>
<td>Specify the storage directory for V5 transaction log files generated from V4 databases.</td>
</tr>
<tr>
<td>&ndash;v5splitCount: data file splits.</td>
<td>Specify the number of V5 data file splits generated from V4 database files. The default value is zero (no split).</td>
</tr>
<tr>
<td>&ndash;parallel: number of parallel runs</td>
<td>The specified number of parallel runs. The numbers that can be specified for the number of parallel runs are 1, 2, 4, and 8. The default value is 1.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>[example of running the command]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ gs_convdbv4tov5 --v4data /var/lib/gridstore/data-v4 --v5data /var/lib/gridstore/data --v5txnlog /var/lib/gridstore/txnlog
</code></pre><p>[Notes]</p>
<ul>
<li>
<p>Before running the database file migration tool, change the upper limit for the number of processes available to the user gsadm and the number of files that gsadm can open. Otherwise, the database file migration tool might fail to run. After editing /etc/security/limits.conf, log in again as gsadm and the settings are applied. Use the command ulmit -a to check the content of the settings.</p>
<p>[example of setting in limits.conf]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">gsadm soft nproc 16384
gsadm hard nproc 16384
gsadm soft nofile 65536
gsadm hard nofile 65536
</code></pre></li>
</ul>
<h2 id="starting-a-griddb-v5-cluster">Starting a GridDB V5 cluster</h2>
<p>After completing running the database file migration tool, start a GridDB V5 cluster and make sure that the data has been migrated. Import the container exported in the section <a href="#unsupported_function">7.2.2. Checking unsupported functions and deleting them</a> as needed.</p>
<p>[Notes]</p>
<ul>
<li>
<p>Before running the database file migration tool, edit the [metadata file] (#metadata_file) exported by the export tool and delete the settings for row expiry release and timeseries compression. If they are not deleted, importing from the V5 cluster fails.</p>
<ul>
<li>The tags (settings for row expiry release and timeseries compression) that should be deleted from the metadata file are:
<ul>
<li>timeSeriesProperties</li>
<li>compressionInfo</li>
</ul>
</li>
</ul>
<p>[example of running import]</p>
<pre tabindex="0"><code class="language-example" data-lang="example">$ cd c03
$ gs_import --all -u admin/admin
</code></pre></li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ce58bc8029e0ec9fea42e20e483adbba">13 - Zabbix Template guide</h1>
    <div class="lead">Explanation on how to use the settings and templates for Zabbix to monitor GridDB</div>
	<h2 id="----introduction----">&mdash; Introduction &mdash;</h2>
<h2 id="purpose-of-this-document">Purpose of this Document</h2>
<p>This document explains how to set up GridDB Monitoring Template for Zabbix and how to monitor applying the Template</p>
<h2 id="note">Note</h2>
<p>GridDB Monitoring Template for Zabbix is a template that helps you monitor GridDB.
Customize the Template to use it for your system to operate.</p>
<p>Note questions concerning operation and actions of a monitoring system using the Template as well as Zabbix are beyond the scope of our GridDB support services.</p>
<h2 id="----overview----">&mdash; Overview &mdash;</h2>
<h2 id="what-is-griddb-monitoring-template-for-zabbix">What is GridDB Monitoring Template for Zabbix?</h2>
<p>GridDB Monitoring Template for Zabbix is a template that helps you monitor GridDB in Zabbix in a number of ways including alive monitoring, resource monitoring, and performance monitoring.</p>
<h2 id="file-configuration">File configuration</h2>
<p>GridDB Monitoring Template is found in the directory <code>/misc/zabbix-template</code> in the installation media.</p>
<p>This Template consists of the following file:</p>
<ul>
<li><code>griddb_templates.xml</code>
<ul>
<li>monitoring template</li>
</ul>
</li>
</ul>
<h2 id="working-environment">Working environment</h2>
<p>GridDB Monitoring Template requires the following software for you to use:</p>
<ul>
<li>Zabbix version 4.0/5.0 or higher</li>
<li>GridDB V5.0 Enterprise Edition</li>
</ul>
<p>Also, install Zabbix Agent on each server running the monitored GridDB node.</p>
<p>The following instructions assume the above software is installed and servers to be monitored are registered as hosts in Zabbix.</p>
<p>[note]</p>
<ul>
<li>A GridDB version other than the one shown in the bullet list above may not be able to retrieve some of the items.</li>
</ul>
<h2 id="----how-to-install----">&mdash; How to install &mdash;</h2>
<h2 id="setting-the-zabbix-agent">Setting the Zabbix agent</h2>
<p>This Monitoring Template uses ActiveCheck to retrieve GridDB event logs. To activate ActiveCheck, enter the following in the settings file. ( The default file is <code>/etc/zabbix/zabbix_agentd.conf</code> for the Zabbix agent. )</p>
<table>
<thead>
<tr>
<th>setup value</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Server</td>
<td>address of the Zabbix server</td>
</tr>
<tr>
<td>Hostname</td>
<td>host name set in Zabbix</td>
</tr>
<tr>
<td>ServerActive</td>
<td>address of the Zabbix server</td>
</tr>
</tbody>
</table>
<p>After changing the settings, restart the Zabbix agent.</p>
<h2 id="importing-a-template">Importing a template</h2>
<p>Log in to the Zabbix frontend and perform the following steps to import the Monitoring Template:</p>
<ol>
<li>Select Configuration Templates Import.</li>
<li>Specify <code>griddb_templates.xml</code> as the import file.</li>
<li>Click on Import with the given default rules.</li>
</ol>
<p>If the Template is successfully imported, the template [Template GridDB] will be added to the list.</p>
<h2 id="setting-template-macros">Setting template macros</h2>
<p>Select [Template GridDB] Macros tab and change the default for each macro to match GridDB settings.</p>
<table>
<thead>
<tr>
<th>macro</th>
<th>default</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>{$GSHOME}</td>
<td><code>/var/lib/gridstore</code></td>
<td>GridDB home directory</td>
</tr>
<tr>
<td>{$GSLOG}</td>
<td><code>/var/lib/gridstore/log</code></td>
<td>GridDB event log storage directory</td>
</tr>
<tr>
<td>{$GSHOSTGROUP}</td>
<td>GridDB nodes</td>
<td>Zabbix host group name</td>
</tr>
<tr>
<td>{$GSHOSTPORT}</td>
<td>10040</td>
<td>port number for the operational management of GridDB nodes</td>
</tr>
<tr>
<td>{$GSUSER}</td>
<td>admin</td>
<td>administrative user of GridDB clusters</td>
</tr>
<tr>
<td>{$GSPASS}</td>
<td>admin</td>
<td>password for an administrative user of GridDB clusters</td>
</tr>
<tr>
<td>{$GSPARTITIONNUM}</td>
<td>128</td>
<td>number of partitions</td>
</tr>
<tr>
<td>{$GSWEBAPIURL}</td>
<td>http://localhost:8081/griddb/v2/myCluster/dbs/public</td>
<td>URI for the GridDB WebAPI</td>
</tr>
</tbody>
</table>
<p>[note]</p>
<ul>
<li>To set different values to each host, set macros in each host; which will then be used instead of template macros.</li>
</ul>
<h2 id="setting-a-template-to-a-host">Setting a template to a host</h2>
<p>Monitoring starts once the Monitoring Template is set to a host where the Zabbix agent and the GridDB server are installed.</p>
<p>Follow the steps below to set the Template:</p>
<ol>
<li>Go to Configuration  Hosts and select the target host and open the configuration screen for the host.</li>
<li>Switch to the Templates tab and click on Link new templates.</li>
<li>Select Template GridDB and Add  Save.</li>
</ol>
<p>Saving template settings will automatically start monitoring.
To view the results of monitoring, go to Monitoring  Latest data section and select the target host in the list displayed.</p>
<h2 id="----what-the-monitoring-template-monitors----">&mdash; What the Monitoring Template monitors &mdash;</h2>
<h2 id="applications">Applications</h2>
<p>The following applications are currently available:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>Overview</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_stat</td>
<td>set of items for performance information that can be obtained using the gs_stat command</td>
</tr>
<tr>
<td>gs_logs</td>
<td>set of items concerning the GridDB server log</td>
</tr>
<tr>
<td>gs_aggregation</td>
<td>set of items that aggregates data for host groupset of items that aggregates data for host group</td>
</tr>
</tbody>
</table>
<h2 id="items">Items</h2>
<p>This section describes items in each application.</p>
<h3 id="gs_stat">gs_stat</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>monitoring interval</th>
<th>Overview</th>
</tr>
</thead>
<tbody>
<tr>
<td>[GridDB] gs_stat master</td>
<td>HTTP agent</td>
<td>30 sec.</td>
<td>retrieves JSON-format performance information from nodes; used as a master file of miscellaneous performance information items</td>
</tr>
<tr>
<td>[GridDB] (JSON Path)</td>
<td>dependent item</td>
<td>-</td>
<td>miscellaneous performance information items</td>
</tr>
<tr>
<td>(JSON Path).diff</td>
<td>dependent item</td>
<td>-</td>
<td>items that calculate the differences between the previous and current cumulative values, from among miscellaneous performance information.</td>
</tr>
</tbody>
</table>
<p>For details about gs_stat items, see the GridDB Features Reference.</p>
<p>To enable SSL connection, enter the following settings:</p>
<ul>
<li>
<p>Set the macro <code>{$GSHOSTPORT}</code> to<code>/system/serviceSslPort</code> (default: 10045) of the node.</p>
</li>
<li>
<p>Change the URL for the item <code>[GridDB] gs_stat master</code> from <code>http://</code> to <code>https://</code>.</p>
</li>
</ul>
<h3 id="gs_logs">gs_logs</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>monitoring interval</th>
<th>Overview</th>
</tr>
</thead>
<tbody>
<tr>
<td>[GridDB] Event logs</td>
<td>Zabbix agent (active)</td>
<td>1 sec.</td>
<td>collects event log files</td>
</tr>
<tr>
<td>[GridDB] Event logs INFO</td>
<td>Zabbix agent (active)</td>
<td>1 sec.</td>
<td>collects INFO logs</td>
</tr>
<tr>
<td>[GridDB] Event logs WARNING</td>
<td>Zabbix agent (active)</td>
<td>1 sec.</td>
<td>collects WARNING logs</td>
</tr>
<tr>
<td>[GridDB] Event logs ERROR</td>
<td>Zabbix agent (active)</td>
<td>1 sec.</td>
<td>collects ERROR logs</td>
</tr>
<tr>
<td>[GridDB] Periodic checkpoint elapsed time</td>
<td>Zabbix agent (active)</td>
<td>10 sec.</td>
<td>retrieves from logs the elapsed time for periodic checkpoint execution</td>
</tr>
<tr>
<td>[GridDB] Slow query logs</td>
<td>Zabbix agent (active)</td>
<td>1 sec.</td>
<td>collects slow query logs</td>
</tr>
</tbody>
</table>
<h3 id="gs_aggregation">gs_aggregation</h3>
<p>gs_aggregation items perform aggregation operations for the host group specified in {$GSHOSTSGROUP} to collect cluster-level information.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>monitoring interval</th>
<th>Overview</th>
</tr>
</thead>
<tbody>
<tr>
<td>[GridDB] Owner partition count</td>
<td>Zabbix aggregate</td>
<td>30 sec.</td>
<td>number of owners among cluster replicas</td>
</tr>
<tr>
<td>[GridDB] Backup partition count</td>
<td>Zabbix aggregate</td>
<td>30 sec.</td>
<td>number of backups among cluster replicas</td>
</tr>
<tr>
<td>[GridDB] Store total use</td>
<td>Zabbix aggregate</td>
<td>30 sec.</td>
<td>capacity (in bytes) of all the data owned by a cluster</td>
</tr>
</tbody>
</table>
<h2 id="triggers">Triggers</h2>
<p>Set a trigger for a monitoring item to detect and report incidents and events related to GridDB.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>severity</th>
<th>requirements</th>
<th>Overview</th>
</tr>
</thead>
<tbody>
<tr>
<td>[GridDB] OWNER_LOSS partition has been detected.</td>
<td>High</td>
<td>patitionStatus has transitioned to OWNER LOSS.</td>
<td>reports problems with partitions.</td>
</tr>
<tr>
<td>[GridDB] ABNORMAL node has been detected.</td>
<td>High</td>
<td>nodeStatus has transitioned to ABNORMAL.</td>
<td>reports problems with nodes.</td>
</tr>
<tr>
<td>[GridDB] Log duplication has stopped due to some error.</td>
<td>Average</td>
<td>duplicateLog has changed to -1.</td>
<td>reports automatic backups have stopped due to some error.</td>
</tr>
<tr>
<td>[GridDB] Some error has been detected on {HOST.NAME}.</td>
<td>Average</td>
<td>Logs containing the string ERROR have been detected.</td>
<td>reports an error output in an event log.</td>
</tr>
<tr>
<td>[GridDB] REPLICA_LOSS partition has been detected.</td>
<td>Warning</td>
<td>partitionStatus has transitioned to REPLICA_LOSS.</td>
<td>reports changes in partition status.</td>
</tr>
<tr>
<td>[GridDB] Node has left the cluster.</td>
<td>Warning</td>
<td>clusterStatus has transitioned to SUB_CLUSTER.</td>
<td>reports a node has left a cluster.</td>
</tr>
<tr>
<td>[GridDB] Cluster status has become stable.</td>
<td>Information</td>
<td>activeCount has changed to be equivalent to designatedCount.</td>
<td>reports cluster status has become stable.</td>
</tr>
<tr>
<td>[GridDB] Total number of nodes in the cluster has decreased.</td>
<td>Information</td>
<td>designatedCount has decreased.</td>
<td>reports reduction in cluster size.</td>
</tr>
<tr>
<td>[GridDB] Total number of nodes in the cluster has increased.</td>
<td>Information</td>
<td>designatedCount has increased.</td>
<td>reports expansion in cluster size.</td>
</tr>
</tbody>
</table>
<p>[note]</p>
<ul>
<li>For those triggers whose severity is other than Information, PROBLEM event generation mode is set to Multiple.</li>
</ul>
<h2 id="graphs">Graphs</h2>
<p>The Monitoring Template provides custom graphs that summarize multiple items to position them on a screen and a dashboard.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>use</th>
</tr>
</thead>
<tbody>
<tr>
<td>[GridDB] Cluster health</td>
<td>Exploded</td>
<td>for checking whether a cluster is stable; only master nodes are displayed.</td>
</tr>
<tr>
<td>[GridDB] Store memory usage</td>
<td>Exploded</td>
<td>for grasping the amount of memory used divided by the memory limit for data management, as a percentage.</td>
</tr>
<tr>
<td>[GridDB] storeDetail.***</td>
<td>Exploded</td>
<td>for grasping detailed store information.</td>
</tr>
<tr>
<td>[GridDB] Network status</td>
<td>Normal</td>
<td>for displaying the current network conditions.</td>
</tr>
<tr>
<td>[GridDB] Total read and write operation</td>
<td>Normal</td>
<td>for displaying the (total) number of data Reads/Writes</td>
</tr>
<tr>
<td>[GridDB] Total checkpoint and backup</td>
<td>Normal</td>
<td>for displaying the (total) number of data Reads/Writes</td>
</tr>
<tr>
<td>[GridDB] memoryDetail total</td>
<td>Stacked</td>
<td>for grasping the breakdown of the total amount of memory attached.</td>
</tr>
<tr>
<td>[GridDB] memoryDetail cached</td>
<td>Stacked</td>
<td>for grasping the breakdown of the amount of cached memory.</td>
</tr>
</tbody>
</table>
<h2 id="screens">Screens</h2>
<p>The Monitoring Template also provides screens that summarize items and graphs on node information. These screens can be viewed from a host screen for each host.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>Overview</th>
</tr>
</thead>
<tbody>
<tr>
<td>[GridDB] Node status</td>
<td>displays items and custom graphs concerning node status.</td>
</tr>
<tr>
<td>[GridDB] Store details</td>
<td>displays custom graphs for detailed store information on one screen.</td>
</tr>
</tbody>
</table>
<h2 id="----applications-of-the-monitoring-template----">&mdash; Applications of the Monitoring Template &mdash;</h2>
<p>As applications of the Monitoring Template, this chapter describes how to add a monitoring item and how to create a dashboard.</p>
<h2 id="adding-a-monitoring-item-using-griddb-webapi">Adding a monitoring item using GridDB WebAPI</h2>
<p>GridDB WebAPI enables you to execute any SELECT statement to obtain the result in JSON format.
You can also monitor the status of GridDB clusters by aggregating data in miscellaneous meta tables using SQL.</p>
<p>In Zabbix, create monitoring items as indicated in the table below to monitor the status of GridDB cluster, using GridDB WebAPI and meta tables.</p>
<table>
<thead>
<tr>
<th>item type</th>
<th>item to create</th>
</tr>
</thead>
<tbody>
<tr>
<td>HTTP agent</td>
<td>executes an SQL statement through the API.</td>
</tr>
<tr>
<td>dependent item</td>
<td>treats the above HTTP agent item as a master item and extracts a parameter using a JSON Path in preprocessing.</td>
</tr>
</tbody>
</table>
<p>These two items allow you to perform more flexible monitoring in Zabbix;a separate JDBC application specifically for status collection is not needed.</p>
<p>The Monitoring Template comes with the following application as a reference.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>Overview</th>
</tr>
</thead>
<tbody>
<tr>
<td>gs_webapi</td>
<td>set of items that retrieve information through the GridDBWebAPI.</td>
</tr>
</tbody>
</table>
<p>gs_webapi includes the following items. These items store cluster-level information; activate these items for one host only.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>item type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>[GridDB] Query count master</td>
<td>HTTP agent</td>
<td>aggregates the total number of meta table #sqls queries</td>
</tr>
<tr>
<td>[GridDB] Query count</td>
<td>dependent item</td>
<td>total number of running queries</td>
</tr>
</tbody>
</table>
<figure>
<img src="img/zbx_qcount.png" alt="total number of running queries"/>
<figcaption>total number of running queries</figcaption>
</figure>
<h2 id="creating-a-dashboard">Creating a dashboard</h2>
<p>Dashboards cannot be included in a template. To fully utilize the Monitoring Template in the actual monitoring system, you need to create a widget or position template graphs on a dashboard, among others.</p>
<p>Moreover, many of the items included in the Monitoring Template display node-level information.
To see cluster-level information, utilize a dashboard widget.</p>
<p>Below are the configuration examples of a widget and a dashboard which includes this widget.</p>
<h3 id="example-of-widget-configuration">Example of widget configuration</h3>
<h4 id="process-memory-history">process memory history</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>widget type</td>
<td>Graphs</td>
</tr>
<tr>
<td>item name</td>
<td>[GridDB] processMemory</td>
</tr>
<tr>
<td>use</td>
<td>for grasping a summary of memory usage</td>
</tr>
</tbody>
</table>
<figure>
<img src="img/zbx_pmemory.png" alt="process memory"/>
<figcaption>process memory</figcaption>
</figure>
<h4 id="overview-of-node-status">overview of node status</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>widget type</td>
<td>plain text</td>
</tr>
<tr>
<td>item name</td>
<td>(any item)</td>
</tr>
<tr>
<td>use</td>
<td>for grasping node status</td>
</tr>
</tbody>
</table>
<figure>
<img src="img/zbx_nodestatus.png" alt="node status"/>
<figcaption>node status</figcaption>
</figure>
<h4 id="number-of-reference-rows">number of reference rows</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>widget type</td>
<td>Graphs</td>
</tr>
<tr>
<td>item name</td>
<td>[GridDB] totalRowRead.diff</td>
</tr>
<tr>
<td>use</td>
<td>for grasping changes in load due to disk reads</td>
</tr>
</tbody>
</table>
<figure>
<img src="img/zbx_rowread.png" alt="number of reference rows"/>
<figcaption>number of reference rows</figcaption>
</figure>
<h4 id="number-of-registration-rows">number of registration rows</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>widget type</td>
<td>Graphs</td>
</tr>
<tr>
<td>item name</td>
<td>[GridDB] totalRowWrite.diff</td>
</tr>
<tr>
<td>use</td>
<td>for grasping changes in load due to disk writes</td>
</tr>
</tbody>
</table>
<figure>
<img src="img/zbx_rowwrite.png" alt="number of registration rows"/>
<figcaption>number of registration rows</figcaption>
</figure>
<h4 id="elapsed-time-for-periodic-checkpoint-execution">elapsed time for periodic checkpoint execution</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>widget type</td>
<td>Graphs</td>
</tr>
<tr>
<td>item name</td>
<td>[GridDB] Periodic checkpoint elapsed time</td>
</tr>
<tr>
<td>use</td>
<td>for grasping changes in load due to disk writes</td>
</tr>
</tbody>
</table>
<figure>
<img src="img/zbx_cptime.png" alt="elapsed time for periodic checkpoint execution"/>
<figcaption>elapsed time for periodic checkpoint execution</figcaption>
</figure>
<h4 id="slow-query-logs">slow query logs</h4>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>widget type</td>
<td>plain text</td>
</tr>
<tr>
<td>item name</td>
<td>[GridDB] Slow query logs</td>
</tr>
<tr>
<td>use</td>
<td>for analyzing causes of a slowdown if there is one.</td>
</tr>
</tbody>
</table>
<figure>
<img src="img/zbx_slowquery.png" alt="slow query logs"/>
<figcaption>slow query logs</figcaption>
</figure>
<h3 id="example-of-dashboard-configuration">Example of dashboard configuration</h3>
<h4 id="for-cluster-monitoring">for cluster monitoring</h4>
<figure>
<img src="img/zbx_db.png" alt="Example of dashboard configuration (cluster monitoring)" width="100%"/>
<figcaption>Example of dashboard configuration (cluster monitoring)</figcaption>
</figure>
<p>To monitor an entire cluster, display graphs that aggregate information on each node, information on event logs, load on each node, and resource usage.</p>
<p>Moreover, you could also use items included in the Template OS Linux and item keys for the Zabbix agent to display information on OS resources together in addition to the information above, which will be useful for identifying bottlenecks.</p>
<p>Additionally, it is recommended to configure a cluster in such a way that gives you a visual representation of incident status at a glance by fully utilizing various Zabbix features including action logs, incident information, and maps.</p>
<h4 id="for-node-monitoring">for node monitoring</h4>
<figure>
<img src="img/zbx_db_node.png" alt="Example of dashboard configuration (node monitoring)" width="100%"/>
<figcaption>Example of dashboard configuration (node monitoring)</figcaption>
</figure>
<p>It is also recommended to create a dash board for node monitoring in addition to cluster monitoring.</p>
<p>A dashboard for node monitoring aggregates and displays more detailed information about nodes, including node event logs, breakdowns of memory usage, and disk space. Such information will be useful for cause analysis when specific nodes are highly loaded or a node failure occurs.</p>
<p>Set each widget as a Dynamic item; this will allow you to switch nodes to display by selecting Host on the upper right-hand side of the window.</p>
<h2 id="----trademarks----">&mdash; Trademarks &mdash;</h2>
<ul>
<li>GridDB is a registered trademark for Toshiba Digital Solutions Corporation in Japan.</li>
<li>Zabbix is a registered trademark for Zabbix SIA.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-fb271a09f30866a9dcd47cb7cc67dff4">14 - User Guide for GridDB Dockerfile sample</h1>
    <div class="lead">Explanation on how to use the GridDB Dockerfile sample.</div>
	<h2 id="----overview----">&mdash; Overview &mdash;</h2>
<h2 id="purpose-of-this-document">Purpose of this document</h2>
<p>This document explains how to use the GridDB Dockerfile sample.</p>
<h2 id="precautions">Precautions</h2>
<p>Make sure you can connect to the Internet. If you are behind a proxy, uncomment the proxy settings in the Dockerfiles.</p>
<h2 id="----griddb-dockerfile-sample----">&mdash; GridDB Dockerfile sample &mdash;</h2>
<h2 id="overview">Overview</h2>
<p>You can use GridDB Dockerfile sample to create GridDB server image and GridDB client image.
You can run GridDB server and GridDB client on docker hosts.</p>
<h2 id="architecture">Architecture</h2>
<p>GridDB Dockerfile sample includes two types of Dockerfile:</p>
<ul>
<li>
<p>Dockerfile for GridDB server</p>
<p>Used to build GridDB server image</p>
</li>
<li>
<p>Dockerfile for GridDB client</p>
<p>Used to build GridDB client image which can run operation tools, SQL interface, Java library, and WebAPI</p>
</li>
</ul>
<p>After building GridDB server and client image successfully, you can run
these images to compose a GridDB cluster or you can push them in a
container registry then you are able to pull them from other machines.</p>
<figure>
<img src="img/usecases.png"/>
<figcaption>GridDB docker usage</figcaption>
</figure>
<h2 id="component-of-griddb-dockerfile-sample">Component of GridDB Dockerfile sample</h2>
<ul>
<li>Docker_server/: GridDB server directory
<ul>
<li>rpm/: GridDB installer directory</li>
<li>Dockerfile_server</li>
<li>docker-entrypoint_server.sh</li>
</ul>
</li>
<li>Docker_client/: GridDB client directory
<ul>
<li>3rd/: external software directory</li>
<li>rpm/: GridDB installer directory</li>
<li>Dockerfile_client</li>
<li>docker-entrypoint_client.sh</li>
</ul>
</li>
<li>Provider/:
<ul>
<li>Provider</li>
<li>provider.json</li>
</ul>
</li>
<li>sample/:
<ul>
<li>JDBCClient.java</li>
<li>MultiNodesClient.java</li>
</ul>
</li>
<li>docker-compose.yml: config file for docker-compose</li>
<li>.env: environment variables for docker-compose</li>
</ul>
<h2 id="supported-environment-condition">Supported environment condition</h2>
<p>GridDB Dockerfile sample has been confirmed to work in the following</p>
<ul>
<li>
<p>On-premises:</p>
<ul>
<li>Host OS: RHEL / CentOS 8.3</li>
<li>Docker: Docker CE 20.10.10 (with docker-compose V1.21.2)</li>
</ul>
</li>
</ul>
<p>This sample has been tested and proven compatible with GridDB Enterprise Edition 5.0.</p>
<h2 id="----how-to-use-griddb-dockerfile-sample-on-premise----">&mdash; How to use GridDB Dockerfile sample on-premise &mdash;</h2>
<h2 id="build-image">Build image</h2>
<h3 id="build-griddb-server-image">Build GridDB server image</h3>
<p>Copy the following files to <strong>Docker_server\rpm</strong> directory:</p>
<pre tabindex="0"><code>$ ls rpm
griddb-ee-client-5.0.0-linux.x86_64.rpm
griddb-ee-server-5.0.0-linux.x86_64.rpm
</code></pre><p>Execute the following command in the <strong>Docker_server</strong> directory to build GridDB server image:</p>
<pre tabindex="0"><code>$ docker build -t griddb/griddb-server:5.0 -f Dockerfile_server .
</code></pre><h3 id="build-griddb-client-image">Build GridDB client image</h3>
<p>Copy the following files to <strong>Docker_client\rpm</strong> directory:</p>
<pre tabindex="0"><code>$ ls rpm
griddb-ee-client-5.0.0-linux.x86_64.rpm
griddb-ee-java-lib-5.0.0-linux.x86_64.rpm
griddb-ee-webapi-5.0.0-linux.x86_64.rpm
griddb-ee-webui-5.0.0-linux.x86_64.rpm
</code></pre><p>Copy the following file to <strong>Docker_client\3rd</strong> directory:</p>
<ul>
<li>Java SE 8 (jdk-8uXXX-linux-x64.rpm)</li>
</ul>
<p>Execute the following command in the <strong>Docker_client</strong> directory to build GridDB client image:</p>
<pre tabindex="0"><code>$ docker build -t griddb/griddb-client:5.0 -f Dockerfile_client .
</code></pre><h2 id="run-griddb-image">Run GridDB image</h2>
<h3 id="run-griddb-server-image">Run GridDB server image</h3>
<p>Use the following command to start GridDB server container built in the previous section:</p>
<pre tabindex="0"><code>$ docker run -d --name &lt;docker_container_name&gt; \
    -e GRIDDB_CLUSTERNAME=&lt;cluster_name&gt; \
    -e GRIDDB_NODE_NUM=&lt;node_number&gt; \
    -e NOTIFICATION_ADDRESS=&lt;notification_address&gt; \
    griddb/griddb-server:5.0
</code></pre><p>The following environment variables need to be specified when starting GridDB server container:</p>
<table>
<thead>
<tr>
<th>Enviroment variable name</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td>GRIDDB_CLUSTERNAME</td>
<td>cluster name</td>
<td>myCluster</td>
</tr>
<tr>
<td>GRIDDB_NODE_NUM</td>
<td>number of nodes of the cluster</td>
<td>1</td>
</tr>
<tr>
<td>NOTIFICATION_ADDRESS</td>
<td>multicast address (MULTICAST mode)</td>
<td>(*1)</td>
</tr>
<tr>
<td>NOTIFICATION_MEMBER</td>
<td>list of IP addresses of nodes, separated by comma (FIXED_LIST mode)</td>
<td>(*1)</td>
</tr>
<tr>
<td>NOTIFICATION_PROVIDER</td>
<td>provider url (PROVIDER mode)</td>
<td>(*1)</td>
</tr>
<tr>
<td>SERVICE_ADDRESS</td>
<td>ip address of a node</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>(*1) only specify one of them</p>
<h3 id="run-griddb-client-image">Run GridDB client image</h3>
<p>Use the following command to start GridDB client container built in the previous section:</p>
<pre tabindex="0"><code>$ docker run -d --name &lt;docker_container_name&gt; \
    -e GRIDDB_NODE=&lt;node_ip&gt; \
    -e GRIDDB_PORT=&lt;node_operation_port&gt; \
    griddb/griddb-client:5.0
</code></pre><p>The following environment variables need to be specified when starting GridDB client container:</p>
<table>
<thead>
<tr>
<th>Enviroment variable name</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td>GRIDDB_NODE</td>
<td>IP address of a node (any node)</td>
<td>-(required)</td>
</tr>
<tr>
<td>GRIDDB_PORT</td>
<td>port of a node</td>
<td>-(required)</td>
</tr>
</tbody>
</table>
<h2 id="compose-a-griddb-cluster-on-the-same-docker-host">Compose a GridDB cluster (on the same Docker host)</h2>
<h3 id="single-node">Single node</h3>
<ul>
<li>
<p>Start GridDB cluster</p>
<p>Start a GridDB server container and build a cluster with a single node configuration.</p>
<p>Run the following command. The container name is <strong>griddb</strong>:</p>
<pre tabindex="0"><code>$ docker run -d --name griddb \
    -e GRIDDB_CLUSTERNAME=&lt;cluster_name&gt; \
    -e GRIDDB_NODE_NUM=1 \
    -e NOTIFICATION_ADDRESS=&lt;notification_address&gt; \
    griddb/griddb-server:5.0
</code></pre><p>Use <strong>&ndash;mount</strong> option persisting data GridDB home directory as a docker volume:</p>
<pre tabindex="0"><code>$ docker run -d --name griddb \
    -e GRIDDB_CLUSTERNAME=&lt;cluster_name&gt; \
    -e GRIDDB_NODE_NUM=1 \
    -e NOTIFICATION_ADDRESS=&lt;notification_address&gt; \
    --mount source=&lt;volume_name&gt;,target=/var/lib/gridstore/ \
    griddb/griddb-server:5.0
</code></pre></li>
<li>
<p>Connect from GridDB client</p>
<p>Connect with NoSQL API:</p>
<pre tabindex="0"><code>$ cd sample
$ javac -cp /usr/share/java/gridstore.jar SingleNodeClient.java
$ java -cp .:/usr/share/java/gridstore.jar SingleNodeClient &lt;IP Address&gt; 10001 myCluster
</code></pre><p>Connect with JDBC:</p>
<pre tabindex="0"><code>$ cd sample
$ javac JDBCClient.java
$ java -cp .:/usr/share/java/gridstore-jdbc.jar JDBCClient &lt;IP Address&gt; 20001 myCluster
</code></pre></li>
<li>
<p>Connect from GridDB client container</p>
<p>Specify a running GridDB server by <strong>&ndash;link</strong> option and start the GridDB client container.</p>
<pre tabindex="0"><code>$ docker run -d --name griddb-client \
    --link &lt;container_name&gt;:griddb \
    griddb/griddb-client:5.0
</code></pre></li>
</ul>
<h3 id="multiple-nodes">Multiple nodes</h3>
<p>The following steps will start and compose a three-node GridDB cluster and GridDB home directory of each node is persisted.
The client container will also run on the same docker host.</p>
<figure>
<img src="img/single_host.png"/>
<figcaption>GridDB cluster on the same docker host</figcaption>
</figure>
<p>By using <strong>docker-compose.yml</strong> file, you can start multiple containers including client at once:</p>
<pre tabindex="0"><code>version: &#39;3&#39;
services:
    griddb1:
        container_name: myNode1
        image: griddb-server:${GRIDDB_VERSION}
        build:
            context: ./Docker_server
            dockerfile: Dockerfile_server
        env_file: .env
        networks:
            griddb_net:
                ipv4_address: ${IPADDR_NODE1}
        volumes:
            - &#34;node1:/var/lib/gridstore/&#34;
    griddb2:
        container_name: myNode2
        image: griddb-server:${GRIDDB_VERSION}
        env_file: .env
        networks:
            griddb_net:
                ipv4_address: ${IPADDR_NODE2}
        volumes:
            - &#34;node2:/var/lib/gridstore/&#34;
    griddb3:
        container_name: myNode3
        image: griddb-server:${GRIDDB_VERSION}
        env_file: .env
        networks:
            griddb_net:
                ipv4_address: ${IPADDR_NODE3}
        volumes:
            - &#34;node3:/var/lib/gridstore/&#34;
    client:
        container_name: client
        image: griddb-client:${GRIDDB_VERSION}
        build:
            context: ./Docker_client
            dockerfile: Dockerfile_client
        env_file: .env
        networks:
            griddb_net:
                ipv4_address: ${IPADDR_CLIENT}
        volumes:
            - &#34;client:/var/lib/gridstore/log&#34;
        depends_on:
            - &#34;griddb1&#34;
            - &#34;griddb2&#34;
            - &#34;griddb3&#34;
        ports:
            - 8080:8080
            - 8081:8081

volumes:
    node1:
    node2:
    node3:
    client:

networks:
    griddb_net:
        driver: bridge
        ipam:
            config:
                - subnet: ${SUBNET}
</code></pre><p>Define environment variable corresponding to the GridDB cluster connection method (FIXED_LIST, MULTICAST, PROVIDER).
The environment variables for starting container in section 3.2 and for above docker-compose are described in <code>.env</code> file:</p>
<table>
<thead>
<tr>
<th>Environment variable</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>GRIDDB_NODE_NUM</td>
<td>number of nodes of the cluster</td>
<td>3</td>
</tr>
<tr>
<td>GRIDDB_CLUSTERNAME</td>
<td>cluster name</td>
<td>dockerCluster</td>
</tr>
<tr>
<td>GRIDDB_VERSION</td>
<td>version</td>
<td>5.0</td>
</tr>
<tr>
<td>NOTIFICATION_ADDRESS</td>
<td>multicast address (MULTICAST mode)</td>
<td>239.0.0.1</td>
</tr>
<tr>
<td>NOTIFICATION_MEMBER</td>
<td>list of IP addresses of nodes, separated by comma (FIXED_LIST mode)</td>
<td>172.18.0.2,172.18.0.3,172.18.0.4</td>
</tr>
<tr>
<td>NOTIFICATION_PROVIDER</td>
<td>provider url (PROVIDER mode)</td>
<td>http://providerhost/provider.json</td>
</tr>
<tr>
<td>GRIDDB_NODE</td>
<td>IP address of a node (any node)</td>
<td>172.18.0.2</td>
</tr>
<tr>
<td>GRIDDB_PORT</td>
<td>port of a node</td>
<td>10040</td>
</tr>
<tr>
<td>IPADDR_NODE1</td>
<td>IP address of myNode1</td>
<td>172.18.0.2</td>
</tr>
<tr>
<td>IPADDR_NODE2</td>
<td>IP address of myNode2</td>
<td>172.18.0.3</td>
</tr>
<tr>
<td>IPADDR_NODE3</td>
<td>IP address of myNode3</td>
<td>172.18.0.4</td>
</tr>
<tr>
<td>IPADDR_CLIENT</td>
<td>IP address of client</td>
<td>172.18.0.5</td>
</tr>
<tr>
<td>SUBNET</td>
<td>subnetwork of the cluster</td>
<td>172.18.0.0/24</td>
</tr>
</tbody>
</table>
<h2 id="compose-a-griddb-cluster-multiple-docker-hosts">Compose a GridDB cluster (multiple Docker hosts)</h2>
<p>Starting multiple containers on the same docker host in previous section does not provide the full benefit of clustering in the following respects:</p>
<ul>
<li>Ensure availability through node redundancy</li>
<li>High-speed processing by parallel use of independent resources</li>
</ul>
<p>Building a GridDB cluster on multiple docker hosts offers these benefits.</p>
<h3 id="multicast-method">MULTICAST method</h3>
<p>When building cluster in MULTICAST mode, the network of container must be <strong>host</strong> mode.</p>
<p>The following commands will build a three-node GridDB cluster on 3 docker hosts in <strong>MULTICAST</strong> method.</p>
<figure>
<img src="img/host-network.png"/>
<figcaption>GridDB cluster on multiple docker hosts (MULTICAST method)</figcaption>
</figure>
<p>On host1:</p>
<pre tabindex="0"><code>$ docker run --net=host \
    -e GRIDDB_NODE_NUM=3 \
    -e GRIDDB_CLUSTERNAME=dockerCluster \
    -e NOTIFICATION_ADDRESS=239.0.0.2 \
    -e SERVICE_ADDRESS=192.168.56.101 \
    --name myNode1 griddb/griddb-server:5.0
</code></pre><p>On host2</p>
<pre tabindex="0"><code>$ docker run --net=host \
    -e GRIDDB_NODE_NUM=3 \
    -e GRIDDB_CLUSTERNAME=dockerCluster \
    -e NOTIFICATION_ADDRESS=239.0.0.2 \
    -e SERVICE_ADDRESS=192.168.56.102 \
    --name myNode2 griddb/griddb-server:5.0
</code></pre><p>On host3</p>
<pre tabindex="0"><code>$ docker run --net=host \
    -e GRIDDB_NODE_NUM=3 \
    -e GRIDDB_CLUSTERNAME=dockerCluster \
    -e NOTIFICATION_ADDRESS=239.0.0.2 \
    -e SERVICE_ADDRESS=192.168.56.103 \
    --name myNode3 griddb/griddb-server:5.0
</code></pre><h3 id="fixed_list-method">FIXED_LIST method</h3>
<p>In FIXED_LIST method, you can use either <strong>macvlan</strong> or <strong>overlay</strong> network for containers.
With <strong>macvlan</strong> network, each container uses the same subnet with docker host, so it is no need to expose ports.
With <strong>overlay</strong> network, it is necessary to expose 3 ports: 10001, 20001 (when using NewSQL) and 10040.</p>
<p>The following commands will build a three-node GridDB cluster on 3 docker hosts in <strong>FIXED_LIST</strong> method using <strong>overlay</strong> network.</p>
<figure>
<img src="img/overlay-network.png"/>
<figcaption>GridDB cluster on multiple docker hosts (FIXED\_LIST method)</figcaption>
</figure>
<ul>
<li>
<p>Using docker in <strong>swarm</strong> mode to create an <strong>overlay</strong> network</p>
<p>On host1</p>
<pre tabindex="0"><code>$ docker swarm init --advertise-addr=192.168.56.101
</code></pre><p>This command will return the token for other nodes to join the swarm</p>
<p>On host2</p>
<pre tabindex="0"><code>$ docker swarm join --token &lt;TOKEN&gt; \
    --advertise-addr 192.168.56.102 192.168.56.101:2377
</code></pre><p>On host3</p>
<pre tabindex="0"><code>$ docker swarm join --token &lt;TOKEN&gt; \
    --advertise-addr 192.168.56.103 192.168.56.101:2377
</code></pre></li>
<li>
<p>Create an <strong>overlay</strong> network (griddb-net)</p>
<pre tabindex="0"><code>$ docker network create -d overlay \
    --subnet 10.0.1.0/24 --attachable griddb-net
</code></pre></li>
<li>
<p>Start GridDB server containers:</p>
<p>On host1</p>
<pre tabindex="0"><code>$ docker run \
    -e GRIDDB_NODE_NUM=3 \
    -e GRIDDB_CLUSTERNAME=dockerCluster \
    -e NOTIFICATION_MEMBER=10.0.1.4,10.0.1.5,10.0.1.6 \
    -p 10001:10001 -p 10040:10040 -p 20001:20001 \
    --network griddb-net --ip 10.0.1.4 \
    --name myNode1 griddb/griddb-server:5.0
</code></pre><p>On host2</p>
<pre tabindex="0"><code>$ docker run -e GRIDDB_NODE_NUM=3 \
    -e GRIDDB_NODE_NUM=3 \
    -e GRIDDB_CLUSTERNAME=dockerCluster \
    -e NOTIFICATION_MEMBER=10.0.1.4,10.0.1.5,10.0.1.6 \
    -p 10001:10001 -p 10040:10040 -p 20001:20001 \
    --network griddb-net --ip 10.0.1.5 \
    --name myNode2 griddb/griddb-server:5.0
</code></pre><p>On host3</p>
<pre tabindex="0"><code>$ docker run -e GRIDDB_NODE_NUM=3 \
    -e GRIDDB_NODE_NUM=3 \
    -e GRIDDB_CLUSTERNAME=dockerCluster \
    -e NOTIFICATION_MEMBER=10.0.1.4,10.0.1.5,10.0.1.6 \
    -p 10001:10001 -p 10040:10040 -p 20001:20001 \
    --network griddb-net --ip 10.0.1.6 \
    --name myNode3 griddb/griddb-server:5.0
</code></pre></li>
<li>
<p>Modify 2 files: <code>gs_node.json</code> and <code>gs_cluster.json</code> in each container:</p>
<p><code>gs_node.json</code> of myNode1:
Modify <code>/transaction/serviceAddress</code> and <code>/sql/serviceAddress</code> to &ldquo;192.168.56.101&rdquo;</p>
<p><code>gs_node.json</code> of myNode2:
Modify <code>/transaction/serviceAddress</code> and <code>/sql/serviceAddress</code> to &ldquo;192.168.56.102&rdquo;</p>
<p><code>gs_node.json</code> of myNode3:
Modify <code>/transaction/serviceAddress</code> and <code>/sql/serviceAddress</code> to &ldquo;192.168.56.103&rdquo;</p>
<p><code>gs_cluster.json</code> of 3 nodes:</p>
<pre tabindex="0"><code>{
  ...
  &#34;cluster&#34;: {
    ...
    &#34;notificationMember&#34;: [
      {
        &#34;cluster&#34;: {&#34;address&#34;: &#34;10.0.1.4&#34;,&#34;port&#34;: 10010},
        &#34;sync&#34;: {&#34;address&#34;: &#34;10.0.1.4&#34;,&#34;port&#34;: 10020},
        &#34;system&#34;: {&#34;address&#34;: &#34;10.0.1.4&#34;,&#34;port&#34;: 10040},
        &#34;transaction&#34;: {&#34;address&#34;: &#34;192.168.56.101&#34;,&#34;port&#34;: 10001},
        &#34;sql&#34;: {&#34;address&#34;: &#34;192.168.56.101&#34;,&#34;port&#34;: 20001}
      },
      {
        &#34;cluster&#34;: {&#34;address&#34;: &#34;10.0.1.5&#34;,&#34;port&#34;: 10010},
        &#34;sync&#34;: {&#34;address&#34;: &#34;10.0.1.5&#34;,&#34;port&#34;: 10020},
        &#34;system&#34;: {&#34;address&#34;: &#34;10.0.1.5&#34;,&#34;port&#34;: 10040},
        &#34;transaction&#34;: {&#34;address&#34;: &#34;192.168.56.102&#34;,&#34;port&#34;: 10001},
        &#34;sql&#34;: {&#34;address&#34;: &#34;192.168.56.102&#34;,&#34;port&#34;: 20001}
      },
      {
        &#34;cluster&#34;: {&#34;address&#34;: &#34;10.0.1.6&#34;,&#34;port&#34;: 10010},
        &#34;sync&#34;: {&#34;address&#34;: &#34;10.0.1.6&#34;,&#34;port&#34;: 10020},
        &#34;system&#34;: {&#34;address&#34;: &#34;10.0.1.6&#34;,&#34;port&#34;: 10040},
        &#34;transaction&#34;: {&#34;address&#34;: &#34;192.168.56.103&#34;,&#34;port&#34;: 10001},
        &#34;sql&#34;: {&#34;address&#34;: &#34;192.168.56.103&#34;,&#34;port&#34;: 20001}
      }
    ]
    ...
  }
  ...
}
</code></pre></li>
</ul>
<h3 id="provider-method">PROVIDER method</h3>
<p>PROVIDER method is the same as FIXED_LIST method
On docker host with <strong>overlay</strong> network, 3 ports: 10001, 20001 (when using NewSQL) and 10040 must be exposed.</p>
<p>The following commands will build a three-node GridDB cluster on 3 docker hosts in <strong>PROVIDER</strong> method using <strong>overlay</strong> network.</p>
<p>Assume that the <strong>provider host</strong> is http://192.168.56.104/provider.json and provides the following host information:</p>
<pre tabindex="0"><code>$ curl http://192.168.56.104/provider.json
[
  {
    &#34;cluster&#34;: {&#34;address&#34;: &#34;10.0.1.4&#34;,&#34;port&#34;: 10010},
    &#34;sync&#34;: {&#34;address&#34;: &#34;10.0.1.4&#34;,&#34;port&#34;: 10020},
    &#34;system&#34;: {&#34;address&#34;: &#34;10.0.1.4&#34;,&#34;port&#34;: 10040},
    &#34;transaction&#34;: {&#34;address&#34;: &#34;192.168.56.101&#34;,&#34;port&#34;: 10001},
    &#34;sql&#34;: {&#34;address&#34;: &#34;192.168.56.101&#34;,&#34;port&#34;: 20001}
  },
  {
    &#34;cluster&#34;: {&#34;address&#34;: &#34;10.0.1.5&#34;,&#34;port&#34;: 10010},
    &#34;sync&#34;: {&#34;address&#34;: &#34;10.0.1.5&#34;,&#34;port&#34;: 10020},
    &#34;system&#34;: {&#34;address&#34;: &#34;10.0.1.5&#34;,&#34;port&#34;: 10040},
    &#34;transaction&#34;: {&#34;address&#34;: &#34;192.168.56.102&#34;,&#34;port&#34;: 10001},
    &#34;sql&#34;: {&#34;address&#34;: &#34;192.168.56.102&#34;,&#34;port&#34;: 20001}
  },
  {
    &#34;cluster&#34;: {&#34;address&#34;: &#34;10.0.1.6&#34;,&#34;port&#34;: 10010},
    &#34;sync&#34;: {&#34;address&#34;: &#34;10.0.1.6&#34;,&#34;port&#34;: 10020},
    &#34;system&#34;: {&#34;address&#34;: &#34;10.0.1.6&#34;,&#34;port&#34;: 10040},
    &#34;transaction&#34;: {&#34;address&#34;: &#34;192.168.56.103&#34;,&#34;port&#34;: 10001},
    &#34;sql&#34;: {&#34;address&#34;: &#34;192.168.56.103&#34;,&#34;port&#34;: 20001}
  }
]
</code></pre><ul>
<li>
<p>Using docker in <strong>swarm</strong> mode to create an <strong>overlay</strong> network</p>
<p>On host1</p>
<pre tabindex="0"><code>$ docker swarm init --advertise-addr=192.168.56.101
</code></pre><p>This command will return the token for other nodes to join the swarm.</p>
<p>On host2</p>
<pre tabindex="0"><code>$ docker swarm join --token &lt;TOKEN&gt; \
    --advertise-addr 192.168.56.102 192.168.56.101:2377
</code></pre><p>On host3</p>
<pre tabindex="0"><code>$ docker swarm join --token &lt;TOKEN&gt; \
    --advertise-addr 192.168.56.103 192.168.56.101:2377
</code></pre></li>
<li>
<p>Create an <strong>overlay</strong> network (griddb-net)</p>
<pre tabindex="0"><code>$ docker network create -d overlay \
    --subnet 10.0.1.0/24 --attachable griddb-net
</code></pre></li>
<li>
<p>Start GridDB server containers:</p>
<p>On host1</p>
<pre tabindex="0"><code>$ docker run -e GRIDDB_NODE_NUM=3 \
    -e GRIDDB_CLUSTERNAME=dockerCluster \
    -e NOTIFICATION_PROVIDER=http://192.168.56.104/provider.json \
    -p 10001:10001 -p 10040:10040 -p 20001:20001 \
    --network griddb-net --ip 10.0.1.4 \
    --name myNode1 griddb/griddb-server:5.0
</code></pre><p>On host2</p>
<pre tabindex="0"><code>$ docker run -e GRIDDB_NODE_NUM=3 \
    -e GRIDDB_CLUSTERNAME=dockerCluster \
    -e NOTIFICATION_PROVIDER=http://192.168.56.104/provider.json \
    -p 10001:10001 -p 10040:10040 -p 20001:20001 \
    --network griddb-net --ip 10.0.1.5 \
    --name myNode2 griddb/griddb-server:5.0
</code></pre><p>On host3</p>
<pre tabindex="0"><code>$ docker run -e GRIDDB_NODE_NUM=3 \
    -e GRIDDB_CLUSTERNAME=dockerCluster \
    -e NOTIFICATION_PROVIDER=http://192.168.56.104/provider.json \
    -p 10001:10001 -p 10040:10040 -p 20001:20001 \
    --network griddb-net --ip 10.0.1.6 \
    --name myNode3 griddb/griddb-server:5.0
</code></pre></li>
<li>
<p>Modify file <code>gs_node.json</code> in each container, (<code>gs_cluster.json</code> is not necessaty)</p>
<p><code>gs_node.json</code> of myNode1:
Modify <code>/transaction/serviceAddress</code> and <code>/sql/serviceAddress</code> to &ldquo;192.168.56.101&rdquo;</p>
<p><code>gs_node.json</code> of myNode2:
Modify <code>/transaction/serviceAddress</code> and <code>/sql/serviceAddress</code> to &ldquo;192.168.56.102&rdquo;</p>
<p><code>gs_node.json</code> of myNode3:
Modify <code>/transaction/serviceAddress</code> and <code>/sql/serviceAddress</code> to &ldquo;192.168.56.103&rdquo;</p>
</li>
</ul>
<h2 id="----operations----">&mdash; Operations &mdash;</h2>
<h2 id="start-a-shell-in-a-container">Start a shell in a container</h2>
<pre tabindex="0"><code>$ docker exec -it &lt;node_name&gt; bash
</code></pre><h2 id="check-griddb-cluster-status">Check GridDB cluster status</h2>
<pre tabindex="0"><code>$ docker exec -it &lt;node_name&gt; bash
$ su - gsadm
$ gs_stat -u admin/admin
</code></pre><h2 id="access-to-griddb-cluster">Access to GridDB cluster</h2>
<h3 id="access-griddb-cluster-in-multicast-mode-from-docker-host">Access GridDB cluster in MULTICAST mode from docker host</h3>
<ul>
<li>
<p>Set a multicast route from the host network to the container&rsquo;s docker0 interface.</p>
<pre tabindex="0"><code>$ ip route add 239.0.0.1/32 dev docker0
</code></pre></li>
<li>
<p>The client accesses the multicast route</p>
<pre tabindex="0"><code>$ cd sample
$ javac -cp /usr/share/java/gridstore.jar MultiNodesClient.java
$ java -cp .:/usr/share/java/gridstore.jar MultiNodesClient 239.0.0.1 31999 myCluster
</code></pre></li>
</ul>
<h3 id="access-from-griddb-client-outside-docker-host">Access from GridDB client outside Docker host</h3>
<ul>
<li>
<p>Keep the necessary ports exposed when starting the container</p>
<pre tabindex="0"><code>$ docker run -P -d --name griddb griddb/griddb-server:5.0
</code></pre><p>or forward port:</p>
<pre tabindex="0"><code>$ docker run -p 40001:10001 -d --name griddb griddb/griddb-server:5.0
</code></pre></li>
<li>
<p>You can check the exposed port with the following command</p>
<pre tabindex="0"><code>$ docker port griddb
</code></pre></li>
<li>
<p>The client accesses the exposed port</p>
<pre tabindex="0"><code>$ cd sample
$ javac -cp /usr/share/java/gridstore.jar SingleNodeClient.java
$ java -cp .:/usr/share/java/gridstore.jar SingleNodeClient &lt;Docker Host IP Address&gt; 40001 myCluster
</code></pre></li>
</ul>
<h2 id="----trademark----">&mdash; Trademark &mdash;</h2>
<ul>
<li>GridDB is a registered trademark of Toshiba Digital Solutions Corporation in Japan.</li>
<li>Docker is a registered trademark of Docker Inc. in the United States and other countries.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c8b48f98612f532417a0684771edd68c">15 - User Guide for GridDB Template for Ansible</h1>
    <div class="lead">Describes how to set up templates to assist in the construction of GridDB.</div>
	<h2 id="----introduction----">&mdash; Introduction &mdash;</h2>
<h2 id="purpose-of-this-documentation">Purpose of this documentation</h2>
<p>This documentation describes how to set up the GridDB Template for Ansible.</p>
<h2 id="considerations">Considerations</h2>
<p>The GridDB Template for Ansible is a template to help build GridDB.
Customize the template as required by the system to operate.</p>
<p>Inquiries about the operation and behavior of GridDB using the templates and about Ansible fall outside the scope of GridDB support services.</p>
<h2 id="----summary----">&mdash; Summary &mdash;</h2>
<h2 id="what-is-the-griddb-template-for-ansible">What is the GridDB Template for Ansible?</h2>
<p>Ansible is a tool that automates application and system building.</p>
<figure>
<img src="img/ansible_architecture.png" width="500" alt="example system configuration" />
<figcaption>example system configuration</figcaption>
</figure>
<p>Prepare in advance a Control Node (a machine in which Ansible is installed) and a Managed Node (a managed machine) .</p>
<p>Place the GridDB template for Ansible, the GridDB package, and the GridDB config files on the Control Node.</p>
<p>If you execute Ansible on the Control Node, Ansible connects to the Managed Node using SSH to install and set up GridDB.</p>
<h2 id="use-cases-handled-in-the-template">Use cases handled in the template</h2>
<p>The GridDB template for Ansible is a template to support the initial construction, configuration retrieval, configuration change, and node addition of GridDB using Ansible.</p>
<p>The connection method for the cluster configuration supports the multicast method.</p>
<table>
<thead>
<tr>
<th>use cases</th>
<th>description</th>
<th>multicast method</th>
</tr>
</thead>
<tbody>
<tr>
<td>initial construction</td>
<td>Newly creates a GridDB cluster.</td>
<td></td>
</tr>
<tr>
<td>configuration retrieval</td>
<td>Retrieves the configuration for a GridDB cluster.</td>
<td></td>
</tr>
<tr>
<td>configuration change</td>
<td>Changes the configuration for a GridDB cluster.</td>
<td></td>
</tr>
<tr>
<td>node addition</td>
<td>Adds a node to a GridDB cluster.</td>
<td></td>
</tr>
</tbody>
</table>
<!--
|use cases|description|multicast method|fixed list method|provider method|
|-|-|-|-|-|
|initial construction|Newly creates a GridDB cluster. ||-|-|
|configuration retrieval|Retrieves the configuration for a GridDB cluster. ||-|-|
|configuration change|Changes the configuration for a GridDB cluster. ||-|-|
|node addition|Adds a node to a GridDB cluster. ||-|-|
-->
<h2 id="file-configuration">File configuration</h2>
<p>The GridDB Template for Ansible is included in the installation media <code>/misc/ansible-template/ansible-template.zip</code>. To use the template, expand the zip file.
To use the template, expand the zip file.</p>
<p>The file configuration after expanding the zip file is as follows:</p>
<pre tabindex="0"><code>ansible-template
  initial-construction.yml (playbook file:  initial construction)
  get-setting.yml          (playbook file:  configuration retrieval)
  change-setting.yml       (playbook file:  configuration change)
  add-node.yml             (playbook file:  node addition)
  
conf (directory for placing the GridDB config files.)
      
roles (files that describe the processing performed by the playbook.)
  toshiba.griddb
        
      defaults
            main.yml
            
      handlers
            main.yml
            
      meta
            main.yml
            
      tasks
            main.yml                   (a list of tasks)
            variables.yml              (task file: validation of the configuration value)
            setup-griddb.yml           (task file: distribution of the GridDB package and the installation of GridDB)
            configure.yml              (task file: distribution of the GridDB config files and the restart of the GridDB cluster)
            get-setting.yml            (task file: retrieval of the GridDB config files)
            detect-cluster-setting.yml (task file: information retrieval of the GridDB cluster)
            add-node.yml               (task file: node addition)
            
      vars
              main.yml
              griddb.yml
              
vars
        initial-construction.yml (variable definition file: initial construction)
        get-setting.yml          (variable definition file: configuration retrieval)
        change-setting.yml       (variable definition file: configuration change)
        add-node.yml             (variable definition file: node addition)
</code></pre><h2 id="operating-environment">Operating environment</h2>
<p>This template has been tested and proven compatible with the following environments:</p>
<p>Control Node</p>
<ul>
<li>CentOS 8</li>
<li>Ansible 2.11.6</li>
<li>Python 3.6</li>
</ul>
<p>Managed Node</p>
<ul>
<li>environments in which the GridDB administration command can be run.</li>
</ul>
<p>This template has been tested and proven compatible with GridDB Enterprise Edition 5.0.</p>
<h2 id="----installation-steps----">&mdash; Installation steps &mdash;</h2>
<p>This section describes the installation steps for the GridDB template for Ansible.</p>
<h2 id="setting-up-ssh">Setting up SSH</h2>
<p>Make sure the Control Node can be connected to the Managed Node using SSH.</p>
<h2 id="installing-python">Installing Python</h2>
<p>Make sure Python is installed on the Control Node.</p>
<p>Ansible refers to <code>/usr/bin/python</code>; check the path.</p>
<h2 id="installing-ansible">Installing Ansible</h2>
<p>Install Ansible on the Control Node.</p>
<pre tabindex="0"><code>$ sudo yum install ansible
</code></pre><p>Check the version of Ansible installed.</p>
<pre tabindex="0"><code>$ ansible --version
ansible 2.X.X
</code></pre><p>The home directory of Ansible is <code>/etc/ansible</code>; check the path.</p>
<h2 id="setting-up-the-template">Setting up the template</h2>
<p>Expand the template file (<code>ansible-template.zip</code>) and place it in the home directory of Ansible.</p>
<pre tabindex="0"><code>/etc/ansible
 ansible.cfg
 hosts
 &lt;playbook.yml&gt;
 conf
 roles
  toshiba.griddb
       ...
 vars
     &lt;vars.yml&gt;
</code></pre><h2 id="ansible-configuration-file">Ansible configuration file</h2>
<p>Edit the Ansible configuration file and specify the destination for the execution log (log_path).</p>
<p>The Ansible configuration file is <code>/etc/ansible/ansible.cfg</code>. Use the format &ldquo;item name=value&rdquo;.</p>
<p>/etc/ansible/ansible.cfg</p>
<pre tabindex="0"><code>[defaults] 
log_path=/var/log/ansible.log
</code></pre><p>For details about the configuration settings, see the <a href="https://docs.ansible.com/ansible/2.8/reference_appendices/config.html">Ansible Documentation</a>.</p>
<p>The configuration settings of Ansible are preferentially applied in the order below.
If the settings are not applied, check each file.</p>
<ul>
<li>ANSIBLE_CONFIG (environment variable)</li>
<li>ansible.cfg (file in the current directory)</li>
<li>~/.ansible.cfg (file in the home directory)</li>
<li>/etc/ansible/ansible.cfg</li>
</ul>
<p>This completes installation.</p>
<h2 id="----procedures-for-an-initial-construction----">&mdash; Procedures for an initial construction &mdash;</h2>
<p>This section describes the procedures for creating a three-node GridDB cluster.</p>
<h2 id="advance-preparation">Advance preparation</h2>
<figure>
<img src="img/initial_construction.png" width="500" alt="initial construction" />
<figcaption>initial construction</figcaption>
</figure>
<p>Prepare in advance three machines for a Managed Node.</p>
<p>Suppose the name of the GridDB cluster to configure is <code>griddb_cluster1</code>.</p>
<p>Suppose also that the three nodes that configure the cluster are: node1<code>192.168.0.101</code>, node2<code>192.168.0.102</code>, node3<code>192.168.0.103</code>.</p>
<h2 id="what-is-an-initial-construction">What is an initial construction?</h2>
<p>An initial construction is performed in the following steps:</p>
<table>
<thead>
<tr>
<th>steps</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Validate the configuration value.</td>
</tr>
<tr>
<td>2</td>
<td>Distribute the GridDB package.</td>
</tr>
<tr>
<td>3</td>
<td>Install GridDB.</td>
</tr>
<tr>
<td>4</td>
<td>Distribute the GridDB config files.</td>
</tr>
<tr>
<td>5</td>
<td>Start the GridDB cluster.</td>
</tr>
</tbody>
</table>
<h2 id="editing-the-inventory-file">Editing the inventory file</h2>
<p>Use the Control Node to edit the inventory file.</p>
<p>/etc/ansible/hosts</p>
<pre tabindex="0"><code>[local]
localhost

[griddb_cluster1]
192.168.0.101
192.168.0.102
192.168.0.103
</code></pre><p>Enclose the GridDB cluster name in square brackets and specify it as <code>[griddb_cluster1]</code>.</p>
<p>Specify the node name as: <code>192.168.0.101</code>, <code>192.168.0.102</code>, and <code>192.168.0.103</code>.</p>
<p>For details about the inventory file, see <a href="#hosts_file">the inventory file</a>.</p>
<h2 id="editing-the-playbook-file">Editing the playbook file</h2>
<p>Use the Control Node to edit the playbook files.</p>
<p>The playbook file for an initial construction is <code>/etc/ansible/initial-construction.yml</code>.</p>
<p>/etc/ansible/initial-construction.yml</p>
<pre tabindex="0"><code>---
- hosts: griddb_cluster1
  become: yes
  vars_files:
    - vars/initial-construction.yml
  roles:
    - toshiba.griddb
</code></pre><p>Set the cluster name <code>griddb_cluster1</code> that has been specified in the inventory file to <code>hosts</code>.</p>
<p>Set <code>yes</code> to <code>become</code> and allow users other than the connection user to operate the Managed Node.</p>
<p>Set the variable definition file for an initial construction <code>vars/initial-construction.yml</code> to <code>vars_files</code>.</p>
<p>Set <code>toshiba.griddb</code> where the processing to be performed by the playbook is stored to <code>roles</code>.</p>
<p>For details about the <a href="#playbook_file">playbook files</a>, see the playbook files.</p>
<h2 id="editing-the-variable-definition-file">Editing the variable definition file</h2>
<p>Use the Control Node to edit the variable definition file.</p>
<p>The variable definition file for an initial construction is <code>/etc/ansible/vars/initial-construction.yml</code>.</p>
<p>/etc/ansible/vars/initial-construction.yml</p>
<pre tabindex="0"><code>---
env: &#39;on-premises&#39;
griddb_deploy_mode: &#39;multicast&#39;
griddb_package_path: &#39;/home/griddb/5.0.0&#39;
griddb_config_files: &#39;/etc/ansible/conf&#39;
</code></pre><p>Set <code>on-premises</code> to <code>env</code>.</p>
<p>Set the multicast method <code>multicast</code> to <code>griddb_deploy_mode</code>.</p>
<p>Set the path to the directory where the GridDB package is placed <code>/home/griddb/5.0.0</code> to <code>griddb_package_path</code>.</p>
<p>Set the path to the directory where the GridDB config files are placed <code>/etc/ansible/conf</code> to <code>griddb_config_files</code>.</p>
<p>For details about the variable definition file, see the <a href="#vars_file">variable definition file</a>.</p>
<!-- 
- In the multicast method, specify `multicast` as `griddb_deploy_mode`.
- In the fixed list method, specify `fixed_list` as `griddb_deploy_mode`.
- In the provider method, specify `provider` as `griddb_deploy_mode`
-->
<h2 id="placing-the-griddb-package">Placing the GridDB package</h2>
<p>Place the GridDB package in the directory specified in <code>griddb_package_path</code>.</p>
<pre tabindex="0"><code>/home/griddb/5.0.0
 griddb-ee-server-5.0.0-linux.x86_64.rpm
 griddb-ee-client-5.0.0-linux.x86_64.rpm
</code></pre><h2 id="placing-the-griddb-config-files">Placing the GridDB config files</h2>
<p>Edit the GridDB config files and place them in the directory specified in <code>griddb_config_files</code> <code>/etc/ansible/conf</code>.</p>
<p>The GridDB config files that are placed are of three types: gs_cluster.json (cluster definition file), gs_node.json (node definition file), and gridstore.conf (start configuration file).</p>
<pre tabindex="0"><code>/etc/ansible/conf
 gs_cluster.json (cluster definition file)
 gs_node.json    (node definition file)
 gridstore.conf  (start configuration file)
</code></pre><h3 id="editing-the-cluster-definition-file">Editing the cluster definition file</h3>
<p>In the cluster definition file, edit the <code>cluster name</code>.</p>
<p>/etc/ansible/conf/gs_cluster.json</p>
<pre tabindex="0"><code>...
&#34;cluster&#34;:{
  &#34;clusterName&#34;:&#34;griddb_cluster1&#34;,
  ...
</code></pre><p>Set <code>griddb_cluster1</code> to <code>clusterName</code>.</p>
<p>For details about the file, see the <a href="GridDB_FeaturesReference.html#label_parameters">GridDB Features Reference</a>.</p>
<h3 id="editing-the-node-definition-file">Editing the node definition file</h3>
<p>Edit the node definition file to set the <code>memory usage</code>.</p>
<p>/etc/ansible/conf/gs_node.json</p>
<pre tabindex="0"><code>...
&#34;dataStore&#34;:{
  ...
  &#34;storeMemoryLimit&#34;:&#34;1024MB&#34;,
  ...
</code></pre><p>Set the initial value <code>1024MB</code> to <code>storeMemoryLimit</code>.</p>
<p>For details about the file, see the <a href="GridDB_AdministratorsGuide.html">GridDB Administrators Guide</a>.</p>
<h3 id="editing-the-start-configuration-file">Editing the start configuration file</h3>
<p>Edit the start configuration file of the service and set the <code>cluster name</code> and the <code>number of the nodes</code>.</p>
<p>/etc/ansible/conf/gridstore.conf</p>
<pre tabindex="0"><code>CLUSTER_NAME=griddb_cluster1
MIN_NODE_NUM=3
</code></pre><p>Set <code>griddb_cluster1</code> as a <code>cluster name</code> to <code>CLUSTER_NAME</code>.</p>
<p>Set <code>3</code> as <code>the number of the nodes</code> to <code>MIN_NODE_NUM</code>.</p>
<p>For details about the file, see the <a href="GridDB_OperationToolsReference.html">GridDB Operation Tools Reference</a>.</p>
<h2 id="running-the-playbook-files">Running the playbook files</h2>
<p>Run the playbook for an initial construction in the Ansible home directory.</p>
<pre tabindex="0"><code>$ ansible-playbook -i hosts initial-construction.yml
</code></pre><h2 id="----procedures-for-configuration-retrieval----">&mdash; Procedures for configuration retrieval &mdash;</h2>
<p>This section describes the procedures for retrieving the configuration from the existing three-node GridDB cluster.</p>
<h2 id="advance-preparation-1">Advance preparation</h2>
<figure>
<img src="img/get_setting.png" width="500" alt="configuration retrieval" />
<figcaption>configuration retrieval</figcaption>
</figure>
<p>In the figure above, the GridDB cluster <code>griddb_cluster1</code> operates with the configuration, consisting of three nodes: node1:<code>192.168.0.101</code>, node2:<code>192.168.0.102</code>, and node3:<code>192.168.0.103</code>).</p>
<h2 id="what-is-configuration-retrieval">What is configuration retrieval?</h2>
<p>Configuration retrieval is performed in the following steps:</p>
<table>
<thead>
<tr>
<th>steps</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Validate the configuration value.</td>
</tr>
<tr>
<td>2</td>
<td>Retrieve the information about the GridDB cluster.</td>
</tr>
<tr>
<td>3</td>
<td>Retrieve the GridDB config files.</td>
</tr>
</tbody>
</table>
<h2 id="editing-the-inventory-file-1">Editing the inventory file</h2>
<p>Use the Control Node to edit the inventory file.</p>
<p>/etc/ansible/hosts</p>
<pre tabindex="0"><code>[local]
localhost

[griddb_cluster1]
192.168.0.101
192.168.0.102
192.168.0.103
</code></pre><p>Enclose the GridDB cluster name in square brackets and specify it as <code>[griddb_cluster1]</code>.</p>
<p>Specify the node name as: <code>192.168.0.101</code>, <code>192.168.0.102</code>, and <code>192.168.0.103</code>.</p>
<p>For details about the inventory file, see <a href="#hosts_file">the inventory file</a>.</p>
<h2 id="editing-the-playbook-file-1">Editing the playbook file</h2>
<p>Use the Control Node to edit the playbook files.</p>
<p>The playbook file for configuration retrieval is<code>/etc/ansible/get-setting.yml</code>.</p>
<p>/etc/ansible/get-setting.yml</p>
<pre tabindex="0"><code>---
- hosts: griddb_cluster1
  become: yes
  vars_files:
    - vars/get-setting.yml
  tasks:
    - name: Get setting
      include_role:
        name: toshiba.griddb
        tasks_from: get-setting.yml
</code></pre><p>Set the cluster name <code>griddb_cluster1</code> that has been specified in the inventory file to <code>hosts</code>.</p>
<p>Set <code>yes</code> to <code>become</code> and allow users other than the connection user to operate the Managed Node.</p>
<p>Set the variable definition file for configuration retrieval <code>vars/get-setting.yml</code> to <code>vars_files</code>.</p>
<p>Set the processing to be performed by the playbook to <code>tasks</code>; set <code>Get setting</code> to <code>name</code>.</p>
<p>Set <code>toshiba.griddb</code> where the processing to be performed by the playbook is stored to <code>name</code> under <code>include_role</code>.</p>
<p>Specify <code>get-setting.yml</code> for <code>tasks_from</code> to specify <code>roles/toshiba.griddb/tasks/get-setting.yml</code>.</p>
<p>For details about the <a href="#playbook_file">playbook files</a>, see the playbook files.</p>
<h2 id="editing-the-variable-definition-file-1">Editing the variable definition file</h2>
<p>Use the Control Node to edit the variable definition file.</p>
<p>The variable definition file for configuration retrieval is <code>/etc/ansible/vars/get-setting.yml</code>.</p>
<p>/etc/ansible/vars/get-setting.yml</p>
<pre tabindex="0"><code>---
griddb_get_setting: &#39;/etc/ansible/conf_latest&#39;
</code></pre><p>Set the path to the directory where the GridDB config files retrieved from the node are placed <code>/etc/ansible/conf_latest</code> to <code>griddb_get_setting</code>.</p>
<p>For details about the variable definition file, see the <a href="#vars_file">variable definition file</a>.</p>
<h2 id="running-the-playbook-files-1">Running the playbook files</h2>
<p>Run the playbook for configuration retrieval in the Ansible home directory.</p>
<pre tabindex="0"><code>$ ansible-playbook -i hosts get-setting.yml
</code></pre><h2 id="reviewing-the-griddb-config-files">Reviewing the GridDB config files</h2>
<p>The GridDB config file retrieved from the node is placed in the directory <code>/etc/ansible/conf_latest</code> specified in <code>griddb_get_setting</code>.</p>
<p>The GridDB config files that can be retrieved are of four types: gs_cluster.json (cluster definition file), gs_node.json (node definition file), gridstore.conf (start configuration file), and version.txt (GridDB version file).</p>
<pre tabindex="0"><code>/etc/ansible/conf_latest
 gs_cluster.json (cluster definition file)
 gs_node.json    (node definition file)
 gridstore.conf  (start configuration file)
 version.txt     (GridDB version file)
</code></pre><h2 id="----procedures-for-a-configuration-change----">&mdash; Procedures for a configuration change &mdash;</h2>
<p>This section describes the procedures for changing the configuration from the existing three-node GridDB cluster.</p>
<h2 id="advance-preparation-2">Advance preparation</h2>
<figure>
<img src="img/change_setting.png" width="500" alt="configuration change" />
<figcaption>configuration change</figcaption>
</figure>
<p>In the figure above, the GridDB cluster <code>griddb_cluster1</code> operates with the configuration, consisting of three nodes: node1:<code>192.168.0.101</code>, node2:<code>192.168.0.102</code>, and node3:<code>192.168.0.103</code>).</p>
<h2 id="what-is-a-configuration-change">What is a configuration change?</h2>
<p>A configuration change is performed in the following steps:</p>
<table>
<thead>
<tr>
<th>steps</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Validate the configuration value.</td>
</tr>
<tr>
<td>2</td>
<td>Distribute the GridDB config files.</td>
</tr>
<tr>
<td>3</td>
<td>Restart the GridDB cluster.</td>
</tr>
</tbody>
</table>
<h2 id="editing-the-inventory-file-2">Editing the inventory file</h2>
<p>Use the Control Node to edit the inventory file.</p>
<p>/etc/ansible/hosts</p>
<pre tabindex="0"><code>[local]
localhost

[griddb_cluster1]
192.168.0.101
192.168.0.102
192.168.0.103
</code></pre><p>Enclose the GridDB cluster name in square brackets and specify it as <code>[griddb_cluster1]</code>.</p>
<p>Specify the node name as: <code>192.168.0.101</code>, <code>192.168.0.102</code>, and <code>192.168.0.103</code>.</p>
<p>For details about the inventory file, see <a href="#hosts_file">the inventory file</a>.</p>
<h2 id="editing-the-playbook-file-2">Editing the playbook file</h2>
<p>Use the Control Node to edit the playbook files.</p>
<p>The playbook file for a configuration change is /etc/ansible/change-setting.yml.</p>
<p>/etc/ansible/change-setting.yml</p>
<pre tabindex="0"><code>---
- hosts: griddb_cluster1
  become: yes
  vars_files:
    - vars/change-setting.yml
  tasks:
    - name: Change setting
      include_role:
        name: toshiba.griddb
        tasks_from: configure.yml
</code></pre><p>Set the cluster name <code>griddb_cluster1</code> that has been specified in the inventory file to <code>hosts</code>.</p>
<p>Set <code>yes</code> to <code>become</code> and allow users other than the connection user to operate the Managed Node.</p>
<p>Set the variable definition file for a configuration change vars/change-setting.yml to vars_file.</p>
<p>Set the processing to be performed by the playbook to <code>tasks</code>; set <code>Change setting</code> to <code>name</code>.</p>
<p>Set <code>toshiba.griddb</code> where the processing to be performed by the playbook is stored to <code>name</code> under <code>include_role</code>.</p>
<p>Specify <code>configure.yml</code> for <code>tasks_from</code> to specify <code>roles/toshiba.griddb/tasks/configure.yml</code>.</p>
<p>For details about the <a href="#playbook_file">playbook files</a>, see the playbook files.</p>
<h2 id="editing-the-variable-definition-file-2">Editing the variable definition file</h2>
<p>Use the Control Node to edit the variable definition file.</p>
<p>The variable definition file for a configuration change is <code>/etc/ansible/vars/change-setting.yml</code>.</p>
<p>/etc/ansible/vars/change-setting.yml</p>
<pre tabindex="0"><code>---
griddb_config_files: &#39;/etc/ansible/conf&#39;
</code></pre><p>Set the path to the directory where the GridDB config files are placed <code>/etc/ansible/conf</code> to <code>griddb_config_files</code>.</p>
<p>For details about the variable definition file, see the <a href="#vars_file">variable definition file</a>.</p>
<h2 id="placing-the-griddb-config-files-1">Placing the GridDB config files</h2>
<p>Edit the GridDB config files and place them in the directory specified in <code>griddb_config_files</code> <code>/etc/ansible/conf</code>.</p>
<p>The GridDB config files that are placed are of three types: gs_cluster.json (cluster definition file), gs_node.json (node definition file), and gridstore.conf (start configuration file).</p>
<pre tabindex="0"><code>/etc/ansible/conf
 gs_cluster.json (cluster definition file)
 gs_node.json    (node definition file)
 gridstore.conf  (start configuration file)
</code></pre><h3 id="editing-the-cluster-definition-file-1">Editing the cluster definition file</h3>
<p>In the cluster definition file, edit the <code>cluster name</code>.</p>
<p>/etc/ansible/conf/gs_cluster.json</p>
<pre tabindex="0"><code>...
&#34;cluster&#34;:{
  &#34;clusterName&#34;:&#34;griddb_cluster1&#34;,
  ...
</code></pre><p>Set <code>griddb_cluster1</code> to <code>clusterName</code>.</p>
<p>For details about the file, see the <a href="GridDB_FeaturesReference.html#label_parameters">GridDB Features Reference</a>.</p>
<h3 id="editing-the-node-definition-file-1">Editing the node definition file</h3>
<p>Edit the node definition file to set the <code>memory usage</code>.</p>
<p>/etc/ansible/conf/gs_node.json</p>
<pre tabindex="0"><code>...
&#34;dataStore&#34;:{
  ...
  &#34;storeMemoryLimit&#34;:&#34;2048MB&#34;,
  ...
</code></pre><p>Set <code>2048MB</code> to <code>storeMemoryLimit</code>.</p>
<p>For details about the file, see the <a href="GridDB_AdministratorsGuide.html">GridDB Administrators Guide</a>.</p>
<h3 id="editing-the-start-configuration-file-1">Editing the start configuration file</h3>
<p>Edit the start configuration file of the service and set the <code>cluster name</code> and the <code>number of the nodes</code>.</p>
<p>/etc/ansible/conf/gridstore.conf</p>
<pre tabindex="0"><code>CLUSTER_NAME=griddb_cluster1
MIN_NODE_NUM=3
</code></pre><p>Set <code>griddb_cluster1</code> as a <code>cluster name</code> to <code>CLUSTER_NAME</code>.</p>
<p>Set <code>3</code> as <code>the number of the nodes</code> to <code>MIN_NODE_NUM</code>.</p>
<p>For details about the file, see the <a href="GridDB_OperationToolsReference.html">GridDB Operation Tools Reference</a>.</p>
<h2 id="running-the-playbook-files-2">Running the playbook files</h2>
<p>Run the playbook for a configuration change in the Ansible home directory.</p>
<pre tabindex="0"><code>$ ansible-playbook -i hosts change-setting.yml
</code></pre><h2 id="----procedures-for-node-addition----">&mdash; Procedures for node addition &mdash;</h2>
<p>This section describes the procedures for adding a node to the existing three-node GridDB cluster.</p>
<h2 id="advance-preparation-3">Advance preparation</h2>
<figure>
<img src="img/add_node.png" width="500" alt="node addition" />
<figcaption>node addition</figcaption>
</figure>
<p>In the figure above, the GridDB cluster <code>griddb_cluster1</code> operates with the configuration, consisting of three nodes: node1:<code>192.168.0.101</code>, node2:<code>192.168.0.102</code>, and node3:<code>192.168.0.103</code>).</p>
<p>If a node (node4: <code>192.168.0.104</code>) is added, the GridDB cluster <code>griddb_cluster1</code> will be configured by four nodes.</p>
<h2 id="what-is-node-addition">What is node addition?</h2>
<p>Node addition is performed in the following steps:</p>
<table>
<thead>
<tr>
<th>steps</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Validate the configuration value.</td>
</tr>
<tr>
<td>2</td>
<td>Retrieve the information about the GridDB cluster.</td>
</tr>
<tr>
<td>3</td>
<td>Create a group of additional nodes.</td>
</tr>
<tr>
<td>4</td>
<td>Distribute the GridDB package to the additional node.</td>
</tr>
<tr>
<td>5</td>
<td>Install GridDB on the additional node.</td>
</tr>
<tr>
<td>6</td>
<td>Distribute the GridDB config files to the additional node.</td>
</tr>
<tr>
<td>7</td>
<td>Start the additional node.</td>
</tr>
<tr>
<td>8</td>
<td>Append the additional node to the GridDB cluster configuration (Run gs_appendcluster)</td>
</tr>
</tbody>
</table>
<h2 id="editing-the-inventory-file-3">Editing the inventory file</h2>
<p>Use the Control Node to edit the inventory file.</p>
<p>/etc/ansible/hosts</p>
<pre tabindex="0"><code>[local]
localhost

[griddb_cluster1]
192.168.0.101
192.168.0.102
192.168.0.103
192.168.0.104
</code></pre><p>Enclose the GridDB cluster name in square brackets and specify it as <code>[griddb_cluster1]</code>.</p>
<p>Specify the node name as: <code>192.168.0.101</code>, <code>192.168.0.102</code>, <code>192.168.0.103</code>, and <code>192.168.0.104</code>.</p>
<p>For details about the inventory file, see <a href="#hosts_file">the inventory file</a>.</p>
<h2 id="editing-the-playbook-file-3">Editing the playbook file</h2>
<p>Use the Control Node to edit the playbook files.</p>
<p>The playbook file for node addition is /etc/ansible/add-node.yml.</p>
<p>/etc/ansible/add-node.yml</p>
<pre tabindex="0"><code>---
- hosts: griddb_cluster1
  become: yes
  vars_files:
    - vars/add-node.yml
  tasks:
    - name: Include detect-cluster-setting.yml
      include_role:
        name: toshiba.griddb
        tasks_from: detect-cluster-setting.yml
    - name: Create new host group
      add_host:
        hostname: &#34;{{ item }}&#34;
        groups: new_nodes_for_griddb_cluster1
        griddb_deploy_mode: &#34;{{griddb_deploy_mode}}&#34;
        griddb_svc_user: &#34;{{griddb_svc_user}}&#34;
        griddb_svc_password: &#34;{{griddb_svc_password}}&#34;
        griddb_system_service_port: &#34;{{griddb_system_service_port}}&#34;
        extra_nodes: &#34;{{ extra_nodes }}&#34;
      with_items: &#34;{{ ansible_play_batch + extra_nodes|list }}&#34;
      delegate_to: 127.0.0.1
      run_once: true
- hosts: new_nodes_for_griddb_cluster1
  become: yes
  vars_files:
    - vars/add-node.yml
  tasks:
    - name: Setup new nodes
      include_role:
        name: toshiba.griddb
        tasks_from: add-node.yml
</code></pre><p>Set the cluster name <code>griddb_cluster1</code> that has been specified in the inventory file to <code>hosts</code>.</p>
<p>Set <code>yes</code> to <code>become</code> and allow users other than the connection user to operate the Managed Node.</p>
<p>Set the variable definition file for node addition vars/add-node.yml to vars_file.</p>
<p>Set the processing to be performed by the playbook to <code>tasks</code>;</p>
<p>Set <code>toshiba.griddb</code> where the processing to be performed by the playbook is stored to <code>name</code> under <code>include_role</code>.</p>
<p>Specify <code>detect-cluster-setting.yml</code> for <code>tasks_from</code> to specify <code>roles/toshiba.griddb/tasks/detect-cluster-setting.yml</code>.</p>
<p>Next, specify settings for temporarily creating a group of additional nodes.</p>
<p>Set <code>new_nodes_for_griddb_cluster1</code> to <code>hosts</code>.</p>
<p>Set <code>yes</code> to <code>become</code> and allow users other than the connection user to operate the Managed Node.</p>
<p>Set the variable definition file for node addition vars/add-node.yml to vars_file.</p>
<p>Set the processing to be performed by the playbook to <code>tasks</code>;</p>
<p>Set <code>toshiba.griddb</code> where the processing to be performed by the playbook is stored to <code>name</code> under <code>include_role</code>.</p>
<p>Specify <code>add-node.yml</code> for <code>tasks_from</code> to specify <code>roles/toshiba.griddb/tasks/add-node.yml</code>.</p>
<p>For details about the <a href="#playbook_file">playbook files</a>, see the playbook files.</p>
<h2 id="editing-the-variable-definition-file-3">Editing the variable definition file</h2>
<p>Use the Control Node to edit the variable definition file.</p>
<p>The variable definition file for node addition is <code>/etc/ansible/vars/add-node.yml</code></p>
<p>/etc/ansible/vars/add-node.yml</p>
<pre tabindex="0"><code>---
griddb_package_path: &#39;/home/griddb/5.0.0&#39;
griddb_config_files: &#39;/etc/ansible/conf&#39;
extra_nodes:
  - 192.168.0.104
</code></pre><p>Set the path to the directory where the GridDB package is placed <code>/home/griddb/5.0.0</code> to <code>griddb_package_path</code>.</p>
<p>Set the path to the directory where the GridDB config files are placed <code>/etc/ansible/conf</code> to <code>griddb_config_files</code>.</p>
<p>Set the node to add <code>192.168.0.104</code> to <code>extra_nodes</code>.</p>
<p>For details about the variable definition file, see the <a href="#vars_file">variable definition file</a>.</p>
<h2 id="placing-the-griddb-package-1">Placing the GridDB package</h2>
<p>Place the GridDB package in the directory specified in <code>griddb_package_path</code>.</p>
<pre tabindex="0"><code>/home/griddb/5.0.0
 griddb-ee-server-5.0.0-linux.x86_64.rpm
 griddb-ee-client-5.0.0-linux.x86_64.rpm
</code></pre><h2 id="placing-the-griddb-config-files-2">Placing the GridDB config files</h2>
<p>Edit the GridDB config files and place them in the directory specified in <code>griddb_config_files</code> <code>/etc/ansible/conf</code>.</p>
<p>The GridDB config files that are placed are of three types: gs_cluster.json (cluster definition file), gs_node.json (node definition file), and gridstore.conf (start configuration file).</p>
<pre tabindex="0"><code>/etc/ansible/conf
 gs_cluster.json (cluster definition file)
 gs_node.json    (node definition file)
 gridstore.conf  (start configuration file)
</code></pre><h3 id="editing-the-cluster-definition-file-2">Editing the cluster definition file</h3>
<p>In the cluster definition file, edit the <code>cluster name</code>.</p>
<p>/etc/ansible/conf/gs_cluster.json</p>
<pre tabindex="0"><code>...
&#34;cluster&#34;:{
  &#34;clusterName&#34;:&#34;griddb_cluster1&#34;,
  ...
</code></pre><p>Set <code>griddb_cluster1</code> to <code>clusterName</code>.</p>
<p>For details about the file, see the <a href="GridDB_FeaturesReference.html#label_parameters">GridDB Features Reference</a>.</p>
<h3 id="editing-the-node-definition-file-2">Editing the node definition file</h3>
<p>Edit the node definition file to set the <code>memory usage</code>.</p>
<p>/etc/ansible/conf/gs_node.json</p>
<pre tabindex="0"><code>...
&#34;dataStore&#34;:{
  ...
  &#34;storeMemoryLimit&#34;:&#34;1024MB&#34;,
  ...
</code></pre><p>Set the initial value <code>1024MB</code> to <code>storeMemoryLimit</code>.</p>
<p>For details about the file, see the <a href="GridDB_AdministratorsGuide.html">GridDB Administrators Guide</a>.</p>
<h3 id="editing-the-start-configuration-file-2">Editing the start configuration file</h3>
<p>Edit the start configuration file of the service and set the <code>cluster name</code> and the <code>number of the nodes</code>.</p>
<p>/etc/ansible/conf/gridstore.conf</p>
<pre tabindex="0"><code>CLUSTER_NAME=griddb_cluster1
MIN_NODE_NUM=4
</code></pre><p>Set <code>griddb_cluster1</code> as a <code>cluster name</code> to <code>CLUSTER_NAME</code>.</p>
<p>Set <code>4</code> as <code>the number of the nodes</code> to <code>MIN_NODE_NUM</code>.</p>
<p>For details about the file, see the <a href="GridDB_OperationToolsReference.html">GridDB Operation Tools Reference</a>.</p>
<h2 id="running-the-playbook-files-3">Running the playbook files</h2>
<p>Run the playbook for node addition in the Ansible home directory.</p>
<pre tabindex="0"><code>$ ansible-playbook -i hosts add-node.yml
</code></pre><p><a id="hosts_file"></a></p>
<h2 id="----inventory-file----">&mdash; Inventory file &mdash;</h2>
<h2 id="what-is-the-inventory-file">What is the inventory file?</h2>
<p>The inventory file is where cluster configuration is set.</p>
<p>Specify <code>the name of the cluster</code> and <code>the name of nodes that configure the cluster</code>.</p>
<p>Place the inventory file in the Ansible home directory as hosts.</p>
<p>/etc/ansible/hosts</p>
<pre tabindex="0"><code>[local]
localhost

[griddb_cluster1]
192.168.0.101
192.168.0.102
192.168.0.103
192.168.0.104

[griddb_cluster2]
node1
node2
node3
...
</code></pre><h2 id="parameters-of-the-inventory-file">Parameters of the inventory file</h2>
<table>
<thead>
<tr>
<th>item name</th>
<th>description</th>
<th>examples for setting values</th>
</tr>
</thead>
<tbody>
<tr>
<td>cluster name</td>
<td>Enclose the GridDB cluster name in square brackets []. To specify multiple clusters, begin each cluster configuration on a new line.</td>
<td>[griddb_cluster1]</td>
</tr>
<tr>
<td>node name</td>
<td>Specify the host name or the IP address for the node name. To specify multiple nodes, begin each node on a new line.</td>
<td>192.168.0.101</td>
</tr>
</tbody>
</table>
<p><a id="vars_file"></a></p>
<h2 id="----variable-definition-file----">&mdash; Variable definition file &mdash;</h2>
<h2 id="what-is-the-variable-definition-file">What is the variable definition file?</h2>
<p>The variable definition file is a file for specifying variables used in the playbook. The file must be in yaml format.</p>
<p>Place the variable definition file in the vars directory under the Ansible home directory.</p>
<p>/etc/ansible/vars/&lt;vars.yml&gt;</p>
<pre tabindex="0"><code>---
env: &#39;on-premises&#39;
griddb_deploy_mode: &#39;multicast&#39;
griddb_package_path: &#39;/home/griddb/5.0.0&#39;
griddb_config_files: &#39;/etc/ansible/conf&#39;
</code></pre><h2 id="parameters-of-the-variable-definition-file">Parameters of the variable definition file</h2>
<table>
<thead>
<tr>
<th>item name</th>
<th>description</th>
<th>examples for setting values</th>
<th>initial construction</th>
<th>configuration retrieval</th>
<th>configuration change</th>
<th>node addition</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>env</code></td>
<td>Environment where the GridDB cluster is placed (on-premises)</td>
<td>on-premises</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>griddb_deploy_mode</code></td>
<td>connection method for the cluster configuration (multicast)</td>
<td>multicast</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>griddb_package_path</code></td>
<td>path to the directory where the GridDB package is placed</td>
<td>/home/griddb/5.0.0</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>griddb_config_files</code></td>
<td>path to the directory where the GridDB config files (gs_cluster.json, gs_node.json, and gridstore.conf)</td>
<td>/etc/ansible/conf</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>griddb_get_setting</code></td>
<td>path to the directory where the GridDB config files retrieved during configuration retrieval are placed</td>
<td>/etc/ansible/conf_latest</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>extra_nodes</code></td>
<td>name of the node to be added to the GridDB cluster (Multiple nodes can be specified)</td>
<td>node4</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<!--
|`env` | Environment where the GridDB cluster is placed (either on-premises or aws) | on-premises | ||||
|`griddb_deploy_mode` | connection method for the cluster configuration (fixed_list, multicast, or provider) | multicast | ||||
-->
<p><a id="playbook_file"></a></p>
<h2 id="----playbook-filea----">&mdash; Playbook filea &mdash;</h2>
<h2 id="what-are-the-playbooks">What are the playbooks?</h2>
<p>The playbook file is a configuration file for Ansible. The file must be in yaml format.</p>
<p>Place the playbook file in the Ansible home directory.</p>
<p>/etc/ansible/&lt;playbook.yml&gt;</p>
<pre tabindex="0"><code>---
- hosts: griddb_cluster1
  become: yes
  vars_files:
    - vars/get-setting.yml
  roles:
    - toshiba.griddb
  tasks:
    - name: Get setting
      include_role:
        name: toshiba.griddb
        tasks_from: get-setting.yml    
  environment:
    http_proxy: http://proxy.example.com:8080
    https_proxy: http://proxy.example.com:8080
</code></pre><h2 id="parameters-of-the-playbook-file">Parameters of the playbook file</h2>
<table>
<thead>
<tr>
<th>item name</th>
<th>description</th>
<th>examples for setting values</th>
</tr>
</thead>
<tbody>
<tr>
<td>hosts</td>
<td>Specifies the name of the cluster specified in the inventory file.</td>
<td>griddb_cluster1</td>
</tr>
<tr>
<td>become</td>
<td>Allows users other than the connection user to operate the Managed Node.</td>
<td>yes</td>
</tr>
<tr>
<td>vars_files</td>
<td>Specifies the variable definition file.</td>
<td>vars/initial-construction.yml</td>
</tr>
<tr>
<td>roles</td>
<td>Specifies the processing performed by the playbook.</td>
<td>toshiba.griddb</td>
</tr>
<tr>
<td>tasks</td>
<td>Specifies multiple operations performed by the playbook.</td>
<td>toshiba.griddb</td>
</tr>
<tr>
<td>environment</td>
<td>Sets a proxy.</td>
<td><a href="http://proxy.example.com:8080">http://proxy.example.com:8080</a></td>
</tr>
</tbody>
</table>
<h2 id="how-to-run-the-playbook">How to run the playbook</h2>
<p>Run the playbook in the Ansible home directory.</p>
<pre tabindex="0"><code>$ ansible-playbook -i hosts &lt;playbook.yml&gt;
</code></pre><p>Use the ansible-playbook command to run the playbook.</p>
<p>Specify the <code>hosts</code> file in the inventory file with the option <code>-i</code> and specify the playbook at the end.</p>
<h2 id="error-codes">Error codes</h2>
<p>While running the playbook, error messages may be displayed along with error codes.</p>
<p>This template validates the configuration value; refer to the causes and workarounds for the error and review the configuration value.</p>
<table>
<thead>
<tr>
<th>error codes</th>
<th>error message</th>
<th>cause of the error</th>
<th>workarounds</th>
</tr>
</thead>
<tbody>
<tr>
<td>E01001</td>
<td>Environment is not valid. It should be <code>on-premises</code> or <code>aws</code></td>
<td>The value of env is invalid</td>
<td>Review the value of env..</td>
</tr>
<tr>
<td>E01002</td>
<td>Deploy mode is not valid. Deploy mode should be <code>multicast</code>, <code>fixed_list</code> or <code>provider</code>.</td>
<td>The value of <code>griddb_deploy_mode</code> is invalid.</td>
<td>Review the value of <code>griddb_deploy_mode</code>.</td>
</tr>
<tr>
<td>E01003</td>
<td>Path to find packages is not defined.</td>
<td><code>griddb_package_path</code> is not set.</td>
<td>Review the value of <code>griddb_package_path</code>.</td>
</tr>
<tr>
<td>E01004</td>
<td>Path to config files is not defined.</td>
<td><code>griddb_config_files</code> is not set.</td>
<td>Review the value of <code>griddb_config_files</code>.</td>
</tr>
<tr>
<td>E01006</td>
<td>Path to folder get setting is not defined.</td>
<td><code>griddb_get_setting</code> is not set.</td>
<td>Review the value of <code>griddb_get_setting</code>.</td>
</tr>
<tr>
<td>E02001</td>
<td>Cannot access RPM package(s) on control node.</td>
<td>The GridDB package cannot be found in the path set in <code>griddb_package_path</code>.</td>
<td>Place the GridDB package on the path specified in <code>griddb_package_path</code>.</td>
</tr>
</tbody>
</table>
<!--
|E01005 | Deploy mode `multicast` is not supported on AWS | The value of `env` is set to `aws`, and the value of `griddbdeploymode` is set to `multicast`, which is invalid.  | The fixed method or the provider method is available on AWS.|
| |Review the value of `griddb_target_edition`.|
-->
<p>The execution results of a task is displayed in the status according to the Ansible specifications (ok/changed/unreachable/failed/skipped/rescued/ignored).</p>
<p>For information about error handling, see the <a href="https://docs.ansible.com/ansible/2.8/user_guide/playbooks_error_handling.html">Ansible Documentation</a>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f030c88320d8dff86cd0e25112d1c238">16 - Release Note</h1>
    <div class="lead">Release Note</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-0168167162e236bf1bfb4907e2883eef">16.1 - Community Edition</h1>
    <div class="lead">Contains information about the changes in the current GridDB v5.0 Community Edition</div>
	<h1 id="griddb-v50-community-edition">GridDB v5.0 Community Edition</h1>
<h2 id="changes-in-v50">Changes in V5.0</h2>
<p>Main changes in GridDB CE V5.0 are as follows</p>
<h3 id="performance-improvement-for-large-scale-data">Performance improvement for large-scale data</h3>
<ol>
<li>
<p>Core scaling improvement</p>
<ul>
<li>By restarting a node, concurrency (/dataStore/concurrency in the node definition file) can now be changed.</li>
</ul>
</li>
<li>
<p>Faster scan and data deletion</p>
<ul>
<li>By setting the string <strong>#unique</strong> as hint information for data affinity, it is now possible to occupy blocks on a per container (table) basis to place data.</li>
</ul>
</li>
<li>
<p>Reduction of the disk I/O load when performing a checkpoint</p>
<ul>
<li>It is now possible to write logs in several smaller batches during a checkpoint. The number of batches (splits) can be modified by /checkpoint/partialCheckpointInterval in the node definition file. It is 5 by default. While increasing the settings value can decrease the amount of writing to a checkpoint log file at a time, this may increase the recovery time during a startup.</li>
</ul>
</li>
</ol>
<h3 id="functionality-enhancement">Functionality enhancement</h3>
<ol start="4">
<li>
<p>Renaming a column using SQL</p>
<ul>
<li>The following SQL is supported:</li>
</ul>
<p>ALTER TABLE <em>table name</em> RENAME COLUMN <em>column name before renaming</em> TO <em>column name after renaming</em>;</p>
</li>
<li>
<p>GridDB Service</p>
<ul>
<li>When the OS starts (stops), we can start (stop) GridDB Server. Please refer to <a href="GridDB_Service.md">GridDB_Service.md</a> for details.</li>
</ul>
</li>
<li>
<p><a href="https://github.com/griddb/expimp">Export/Import tool</a></p>
<ul>
<li>A tool to export/import data from and to a GridDB cluster.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="specification-changes">Specification Changes</h2>
<h3 id="database-files-placement">Database files placement</h3>
<p>Prior to V5, checkpoint file and transaction log file are placed on the &ldquo;data&rdquo; directory.</p>
<p>In V5, the arrangement is as follows:</p>
<ul>
<li>Conventional checkpoint file is divided into data file (extension: &ldquo;dat&rdquo;) for writing data and checkpoint log file (extension: &ldquo;cplog&rdquo;) for writing block management information.</li>
<li>Data files and checkpoint log files are written to the &ldquo;data&rdquo; directory, and the transaction log files are written to  the &ldquo;txnlog&rdquo; directory.</li>
<li>Within the &ldquo;data&rdquo; (&ldquo;txnlog&rdquo;) directory, a directory is created for each partition and files are placed in the partition directory.</li>
</ul>
<h3 id="added-parameters">Added Parameters</h3>
<p>The following parameters are added to the node definition file (gs_node.json).</p>
<ul>
<li>
<p>/dataStore/transactionLogPath : Specify the full or relative path to the location directory for a transaction log file. The default value is txnlog.</p>
</li>
<li>
<p>/checkpoint/partialCheckpointInterval : Specify the number of splits in write processing of block management information to checkpoint log files during a checkpoint.</p>
</li>
</ul>
<h3 id="notations">Notations</h3>
<ul>
<li>Current version is not compatible with the previous GridDB versions. To use V4 data, please retrieve data using the export tool and store them in V5 database using the import tool.</li>
<li>Hash index, Row expiry release, Timeseries compression and Trigger function have been discontinued in V5.
Please use Tree index, Partition expiry release, and Block data compression instead of Hash index, Row expiry release, and Timeseries compression.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f02d40936c2a3314f2f8a64f58776ed8">16.2 - Enterprise Edition</h1>
    <div class="lead">Contains information about the changes in the current GridDB v5.0 Enterprise Edition</div>
	<h2 id="----introduction----">&mdash; Introduction &mdash;</h2>
<p>This document describes about release notes of GridDB Enterprise Edition (These products are represented simply as GridDB in this document).
The description includes information, such as product requirements and manuals, required to use GridDB.
Please read this document before using GridDB.</p>
<p>The contents of this document are as follows.</p>
<ol>
<li>Introduction</li>
<li>Overview and Changes</li>
<li>Function list</li>
<li>Product requirements</li>
<li>Installation packages</li>
<li>GridDB manuals</li>
<li>Dealing with problems</li>
<li>Important notes and limitations</li>
<li>Notices</li>
<li>History of the changes in previous versions</li>
<li>Trademarks</li>
<li>Supplementary explanation</li>
</ol>
<h2 id="----overview-and-changes----">&mdash; Overview and Changes &mdash;</h2>
<h2 id="overview-of-griddb">Overview of GridDB</h2>
<p>GridDB is a key-value datastore which can handle, store and search, an enormous amount of data at high speed and safely.
GridDB has the following features.</p>
<ul>
<li>Speeding up data operations by in-memory processing</li>
<li>Handling a large amount of data with its scale-out model</li>
<li>High reliability with data persistency by storage devices, data replication and transaction management.</li>
<li>Easy operation control by autonomous management of node addition and deletion</li>
<li>Utilizing SQL through JDBC/ODBC interface as a database access method</li>
</ul>
<p>GridDB V4.5 and later now provides a simple product architecture which consists of:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>GridDB Enterprise Edition (EE)</td>
<td>NewSQL type database product  featuring a NoSQL type database provided with an SQL interface.</td>
</tr>
</tbody>
</table>
<p>For checking functions provided by GridDB, see &ldquo;<a href="../..//1.md_release_notes/md_release_notes/">GridDB Release Notes</a>&rdquo;.</p>
<p>For starting to use GridDB, see &ldquo;<a href="../../2.md_quickstart_guide/md_quickstart_guide/">GridDB Quickstart Guide</a>&rdquo; .</p>
<p>See Fixlist.pdf in the installation media for the correction records including bug fixes.</p>
<h2 id="changes-in-v50">Changes in V5.0</h2>
<p>The data management unit has been revised to enhance the performance for massive data. A summary of changes in V5.0 is given as below:</p>
<p><strong><Performance></strong></p>
<ul>
<li>
<p>Improving core scaling</p>
<p>By restarting a node, concurrency (/dataStore/concurrency in the node definition file) can now be changed.</p>
</li>
<li>
<p>Faster scan and data deletion</p>
<p>By setting the string <strong>#unique</strong> as hint information for data affinity, it is now possible to occupy blocks on a per container (table) basis to place data.</p>
</li>
<li>
<p>Reduction of the disk I/O load when performing a checkpoint</p>
<p>It is now possible to write logs in several smaller batches during a checkpoint. The number of batches (splits) can be modified by /checkpoint/partialCheckpointInterval in the node definition file. It is 10 by default. While increasing the settings value can decrease the amount of writing to a checkpoint log file at a time, this may increase the recovery time during a startup.</p>
</li>
</ul>
<p><strong><Operation functions></strong></p>
<ul>
<li>
<p>Database conversion tool</p>
<p>Databases in V4 format have been converted into V5 format.</p>
</li>
</ul>
<p><strong><Supplementary explanation></strong></p>
<ul>
<li>
<p>Compatibility with previous versions</p>
<ul>
<li>
<p>API</p>
<p>A V5 cluster can be operated using the API for V4. Note that when a discontinued functionality is used, the cluster generates an error. Note also that a V5 cluster cannot be operated using the API for V3 and earlier.</p>
</li>
<li>
<p>Database</p>
<p>For databases in V4 database format, convert them into V5 database format using the conversion tool. For databases in V3 database format, retrieve data using gs_export for V3 and store them in  V5 database using gs_import for V5.</p>
</li>
<li>
<p>Cluster</p>
<p>A cluster cannot be configured if both V4 and V5 nodes are present.</p>
</li>
<li>
<p>Settings file</p>
<p>The settings file (gs_node.json/gs_cluster.json) for V4 can also be used as the settings file for V5. The parameters added in V5 are enabled using the default value. The parameters that have been discontinued in V5 are ignored.</p>
<ul>
<li>
<p>Parameters added in V5 (gs_node.json)</p>
<ul>
<li>
<p>/dataStore/transactionLogPath</p>
<p>Specify the full or relative path to the location directory for a transaction log file. The default value is txnlog.</p>
</li>
<li>
<p>/checkpoint/partialCheckpointInterval</p>
<p>Specify the number of splits in write processing of block management information to checkpoint log files during a checkpoint. The default value is 10.</p>
</li>
</ul>
</li>
<li>
<p>Parameters that have been discontinued in V5</p>
<ul>
<li>/dataStore/autoExpire</li>
<li>/dataStore/dbFilePathList</li>
<li>/dataStore/storeWarmStart</li>
<li>/checkpoint/checkpointMemoryLimit</li>
<li>/checkpoint/useParallelMode</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Change of the output parameter name for statistical information</p>
<p>The following output parameter names for GridDB performance and statistical information that can be retrieved using the operation command gs_stat have been changed.</p>
<table>
<thead>
<tr>
<th>(V4 and earlier)<br>output parameter name</th>
<th>(V5.0)<br>output parameter name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>/performance<br>/checkpointFileSize</td>
<td>/performance<br>/dataFileSize</td>
<td>data file size (in bytes)</td>
</tr>
<tr>
<td>/performance<br>/checkpointFileUsageRate</td>
<td>/performance<br>/dataFileUsageRate</td>
<td>data file usage</td>
</tr>
<tr>
<td>/performance<br>/checkpointFileAllocateSize</td>
<td>/performance<br>/dataFileAllocateSize</td>
<td>total size of blocks allocated to data files (in bytes)</td>
</tr>
<tr>
<td>-</td>
<td>/performance<br>/checkpointWrite</td>
<td>Write count to the date file by checkpoint processing</td>
</tr>
<tr>
<td>-</td>
<td>/performance<br>/checkpointWriteCompressTime</td>
<td>Compression time of write data to the data file by checkpointing process (ms)</td>
</tr>
<tr>
<td>/checkpoint<br>/archiveLog</td>
<td>-</td>
<td>discontinued</td>
</tr>
<tr>
<td>/performance<br>/checkpointMemory</td>
<td>-</td>
<td>discontinued</td>
</tr>
<tr>
<td>/performance<br>/checkpointMemoryLimit</td>
<td>-</td>
<td>discontinued</td>
</tr>
<tr>
<td>/performance<br>/expirationDetail/autoExpire</td>
<td>-</td>
<td>discontinued</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Changes in supported operating systems</p>
<p>Ubuntu Server 2004 is now supported. Starting with the current version, Red Hat Enterprise Linux 7.6, 7.7, 7.8, 8.1, and 8.2, and CentOS 7.6, 7.7, 7.8, 8.1, and 8.2 are no longer supported.</p>
</li>
<li>
<p>Functionalities that have been discontinued in V5</p>
<ul>
<li>Hash index</li>
<li>Row expiry release</li>
<li>Timeseries compression</li>
<li>Trigger function</li>
<li>Long-term archive</li>
<li>Functionality to work with RDB for export and import</li>
</ul>
</li>
</ul>
<p>[Memo]</p>
<ul>
<li>For changes in previous versions, see <a href="#change_logs">History of the changes in previous versions</a>.</li>
</ul>
<h2 id="----function-list----">&mdash; Function list &mdash;</h2>
<p>The functions of GridDB EE are as follows.</p>
<table>
<thead>
<tr>
<th>Title</th>
<th>Features</th>
<th>Enterprise Edition</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster</td>
<td>Cluster configuration</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Distributed data management</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Replication</td>
<td></td>
</tr>
<tr>
<td>Data Management</td>
<td>Collection</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Timeseries container</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Index</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Affinity</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Table Partitioning</td>
<td></td>
</tr>
<tr>
<td>Query Language</td>
<td>TQL</td>
<td></td>
</tr>
<tr>
<td></td>
<td>SQL</td>
<td></td>
</tr>
<tr>
<td>API</td>
<td>NoSQL Interface (Java/C)</td>
<td></td>
</tr>
<tr>
<td></td>
<td>NewSQL Interface (JDBC/ODBC)</td>
<td></td>
</tr>
<tr>
<td>Operation Control</td>
<td>Backup</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Export/Import</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Integrated operation control GUI</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Operating commands</td>
<td></td>
</tr>
<tr>
<td></td>
<td>LDAP authentication</td>
<td></td>
</tr>
<tr>
<td></td>
<td>SSL communication</td>
<td></td>
</tr>
<tr>
<td>Time series data</td>
<td>Expiry release</td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="----product-requirements----">&mdash; Product requirements &mdash;</h1>
<p>The product requirements of GridDB are as follows. The requirements are different for the server and the client.</p>
<h2 id="server-platform-to-run-the-database-server">Server: Platform to run the database server</h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU</td>
<td>x64 processor, 2.0GHz (minimum) or higher</td>
</tr>
<tr>
<td>Memory</td>
<td>1.0GB (minimum) or more</td>
</tr>
<tr>
<td>Disk Space</td>
<td>This is the requirement only for installation. Separate space is required for database and log files. The size depends on the application (at least 1.0GB).</td>
</tr>
<tr>
<td>OS</td>
<td>Red Hat Enterprise Linux 7.9 (64 bit)<br>Red Hat Enterprise Linux 8.3 (64 bit)<br>CentOS 7.9 (64 bit)<br>CentOS 8.3 (64 bit)<br>Ubuntu Server 20.04 (64 bit)</td>
</tr>
</tbody>
</table>
<p>Following specifications or higher performance hardware is recommended for the server.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU</td>
<td>x64 processor</td>
</tr>
<tr>
<td>Operating frequency</td>
<td>2.66GHz</td>
</tr>
<tr>
<td>Number of CPUs</td>
<td>2</td>
</tr>
<tr>
<td>Number of Cores</td>
<td>4</td>
</tr>
<tr>
<td>Memory</td>
<td>32GB</td>
</tr>
</tbody>
</table>
<p>The following LDAP server is supported for LDAP authentication.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>LDAP server</td>
<td>OpenLDAP 2.4<BR>Active Directory Schema Version 87 (Windows Server 2016)</td>
</tr>
</tbody>
</table>
<p>The following software is required to perform SSL communication.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>OpenSSL</td>
<td>OpenSSL 1.1.1</td>
</tr>
</tbody>
</table>
<p><strong>Required specifications for operation control commands</strong></p>
<ul>
<li>
<p>Software</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Python</td>
<td>Python 3.6</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Software (during SSL communication)</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>OpenSSL</td>
<td>OpenSSL 1.1.1</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2 id="client-platform-to-run-the-developed-application">Client: Platform to run the developed application</h2>
<p><strong>Required specifications for the application using Java API, C API, JDBC, Python, Node.js or Go</strong></p>
<ul>
<li>
<p>Platform</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU</td>
<td>x64 processor, 2.0GHz (minimum) or higher</td>
</tr>
<tr>
<td>Memory</td>
<td>1.0GB (minimum) or more</td>
</tr>
<tr>
<td>OS</td>
<td>Red Hat Enterprise Linux 7.9 (64bit)<br>Red Hat Enterprise Linux 8.3 (64 bit)<br>CentOS 7.9 (64 bit)<br>CentOS 8.3 (64 bit)<br>Ubuntu Server 20.04 (64bit)<br>Windows Server 2016 / Windows 10 (64 bit) *JDBC driver only</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Software</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Java</td>
<td>Oracle JDK 8<br>Oracle JDK 11<br>OpenJDK 8<br>OpenJDK 11</td>
</tr>
<tr>
<td>Python</td>
<td>Python 3.6</td>
</tr>
<tr>
<td>Node.js</td>
<td>Node.js 12</td>
</tr>
<tr>
<td>Go</td>
<td>Go 1.9</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p><strong>Required specifications for the application using ODBC or Windows C API</strong></p>
<ul>
<li>Platform
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU</td>
<td>x64 processor, 2.0GHz (minimum) or higher</td>
</tr>
<tr>
<td>Memory</td>
<td>1.0GB (minimum) or more</td>
</tr>
<tr>
<td>OS</td>
<td>Windows Server 2012 R2/2016<br>Windows 10 (64bit)</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p><strong>Required specifications for operation control commands</strong></p>
<ul>
<li>
<p>Software</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Python</td>
<td>Python 3.6</td>
</tr>
</tbody>
</table>
<p>The following software is required to perform SSL communication.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>OpenSSL</td>
<td>OpenSSL 1.1.1</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2 id="platform-to-use-the-integrated-operation-control-gui-gs_admin">Platform to use the integrated operation control GUI (gs_admin)</h2>
<ul>
<li>
<p>Platform</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU</td>
<td>x64 processor, 2.0GHz (minimum) or higher</td>
</tr>
<tr>
<td>Memory</td>
<td>1.0GB (minimum) or more</td>
</tr>
<tr>
<td>OS</td>
<td>Red Hat Enterprise Linux 7.9 (64 bit)<br>Red Hat Enterprise Linux 8.3<br>CentOS 7.9 (64 bit)<br>CentOS 8.3 (64 bit)<br>Ubuntu Server 20.04 (64 bit)</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Software</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Java</td>
<td>Oracle JDK 8<br>Oracle JDK 11<br>OpenJDK 8<br>OpenJDK 11</td>
</tr>
<tr>
<td>Browser</td>
<td>Internet Explorer 11.0</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2 id="platform-to-use-the-web-api">Platform to use the Web API</h2>
<ul>
<li>
<p>Platform</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU</td>
<td>x64 processor, 2.0GHz (minimum) or higher</td>
</tr>
<tr>
<td>Memory</td>
<td>1.0GB (minimum) or more</td>
</tr>
<tr>
<td>OS</td>
<td>Red Hat Enterprise Linux 7.9 (64 bit)<br>Red Hat Enterprise Linux 8.3 (64 bit)<br>CentOS 7.9 (64 bit)<br>CentOS 8.3 (64 bit)<br>Ubuntu Server 20.04 (64 bit)</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Software</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Java</td>
<td>Oracle JDK 8<br>Oracle JDK 11<br>OpenJDK 8<br>OpenJDK 11</td>
</tr>
</tbody>
</table>
<p>The following software is required to perform SSL communication.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>OpenSSL</td>
<td>OpenSSL 1.1.1</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2 id="operation-platform-for-the-dockerfile-sample">Operation platform for the Dockerfile sample</h2>
<ul>
<li>
<p>Platform</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU</td>
<td>x64 processor, 2.0GHz (minimum) or higher</td>
</tr>
<tr>
<td>Memory</td>
<td>1.0GB (minimum) or more</td>
</tr>
<tr>
<td>OS</td>
<td>Red Hat Enterprise Linux 8.3 (64bit)<br>CentOS 8.3 (64bit)</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Software</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Docker</td>
<td>Docker CE 20.10.10</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2 id="user-guide-for-griddb-template-for-ansible-operation-platform">User Guide for GridDB Template for Ansible Operation Platform</h2>
<ul>
<li>
<p>Platform</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>OS</td>
<td>CentOS 8 (64bit)</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Software</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Ansible</td>
<td>Ansible 2.11.6</td>
</tr>
<tr>
<td>Python</td>
<td>Python 3.6</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2 id="----installation-packages----">&mdash; Installation packages &mdash;</h2>
<p>There are 9 RPM packages.</p>
<table>
<thead>
<tr>
<th>Package</th>
<th>File name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Server package</td>
<td>griddb-ee-server</td>
<td>This package contains GridDB server module and operation commands for server start-up, backup/restore database, etc.</td>
</tr>
<tr>
<td>Client package</td>
<td>griddb-ee-client</td>
<td>This package contains operation control commands, export/import and cluster operation control command interpreter (gs_sh).</td>
</tr>
<tr>
<td>Web UI package</td>
<td>griddb-ee-webui</td>
<td>This package contains the integrated operations management GUI (gs_admin).</td>
</tr>
<tr>
<td>Web API package</td>
<td>griddb-ee-webapi</td>
<td>This package contains a Web API.</td>
</tr>
<tr>
<td>C library package</td>
<td>griddb-ee-c-lib</td>
<td>This package contains a C header file (/usr/include/gridstore.h) and a library (/usr/lib64/libgridstore.so, libgridstore_advanced.so).</td>
</tr>
<tr>
<td>Java library package</td>
<td>griddb-ee-java-lib</td>
<td>This package contains a Java library (/usr/share/java/gridstore.jar, gridstore-advanced.jar, gridstore-jdbc.jar).</td>
</tr>
<tr>
<td>Python library package</td>
<td>griddb-ee-python-lib</td>
<td>This package contains a Python package (griddb_python).</td>
</tr>
<tr>
<td>Node.js library package</td>
<td>griddb-ee-nodejs-lib</td>
<td>This package contains a Node.js module (griddb_node).</td>
</tr>
<tr>
<td>Go library package</td>
<td>griddb-ee-go-lib</td>
<td>This package contains a Go package (griddb/go_client).</td>
</tr>
</tbody>
</table>
<p>To find out the content of the installation media and the installation method, see the following manual. &ldquo;<a href="../../2.md_quickstart_guide/md_quickstart_guide/">GridDB Quickstart Guide</a>&rdquo;.</p>
<h2 id="----griddb-manuals----">&mdash; GridDB manuals &mdash;</h2>
<p>GridDB manuals are as follows.</p>
<table>
<thead>
<tr>
<th>Manual</th>
<th>Target</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>GridDB Quick Start Guide</td>
<td>Users using GridDB for the first time</td>
<td>This manual describes overview, functions and basic operations of GridDB.</td>
</tr>
<tr>
<td>GridDB Database Administrators Guide</td>
<td>Infrastructure designer<br />Operations manager</td>
<td>This manual describes the physical design and operation of the database.</td>
</tr>
<tr>
<td>GridDB Programming Guide</td>
<td>Application developer</td>
<td>This manual explains how to use Java and C language APIs using example programs such as data registration and search.</td>
</tr>
<tr>
<td>GridDB SQL Tuning Guide</td>
<td>Application developer</td>
<td>This manual describes SQL tuning procedures and SQL optimization rules.</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Reference</p>
<p>Targets are infrastructure designers, operators, and application developers.</p>
<table>
<thead>
<tr>
<th>Manual</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>GridDB Features Reference</td>
<td>This manual describes features and functions of GridDB.</td>
</tr>
<tr>
<td>GridDB Operation Tools Reference</td>
<td>This manual describes how to use each operation control command, the export/import tools, the integrated operation control GUI (gs_admin) and the cluster operation control command interpreter (gs_sh).</td>
</tr>
<tr>
<td>GridDB Error Codes</td>
<td>This manual describes GridDB error codes and their causes and approaches.</td>
</tr>
<tr>
<td>User Guide for GridDB Monitoring Template for Zabbix</td>
<td>This manual explains how to use Zabbix settings and templates for monitoring GridDB.</td>
</tr>
<tr>
<td>User Guide for GridDB Dockerfile sample</td>
<td>This manual explains how to use the GridDB Dockerfile sample.</td>
</tr>
<tr>
<td>User Guide for GridDB Template for Ansible</td>
<td>This manual explains how to use templates that support the construction of GridDB using Ansible.</td>
</tr>
<tr>
<td>GridDB TQL Reference<br />GridDB Java API Reference<br />GridDB C API Reference<br />GridDB SQL Reference<br />GridDB JDBC driver guide<br />GridDB Advanced Edition ODBC driver guide<br />GridDB Web API Reference<br />GridDB Python API Reference<br />GridDB Node.js API Reference<br />GridDB Go API Reference</td>
<td>This manual describes APIs and query language for the application development.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2 id="----dealing-with-problems----">&mdash; Dealing with problems &mdash;</h2>
<p>If there are any problems in using GridDB, see the following manual. &ldquo;<a href="../../3.md_reference_feature/md_reference_feature/">GridDB Features Reference</a>&rdquo; &ldquo;<a href="../../6.md_error_code/md_error_code/">GridDB Error Codes</a>&rdquo;</p>
<h2 id="-----important-notes-and-limitationsa----">&mdash;  Important notes and limitationsa &mdash;</h2>
<p>This section provides important notes and limitations that should be confirmed and understood before using the product.</p>
<h2 id="important-notes">Important notes</h2>
<table>
<thead>
<tr>
<th>No</th>
<th>Title</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Compatibility (database)</td>
<td>In GridDB V5.0 or later, databases created in GridDB V4 or earlier are not available. <br />For databases in V4 database format, convert them into V5 database format using the conversion tool. <br />For database files for GridDB V3 or earlier, data migration by the export/import tools is required.</td>
</tr>
<tr>
<td>2</td>
<td>Cluster with different major versions of GridDB nodes is not permitted</td>
<td>The cluster must be consisted of only the same major version of GridDB nodes in V4.1.1 or later. <br />Note that different major versions of GridDB nodes are not mixed in the network. <br />Further in GridDB V3.5 or earlier versions, different major and minor versions of GridDB nodes cannot be mixed in a cluster.</td>
</tr>
<tr>
<td>3</td>
<td>Compatibility (Zip output format in exporting)</td>
<td>It is not possible to use zip files exported before V2.7 in V2.7 or newer version.</td>
</tr>
<tr>
<td>4</td>
<td>Column type</td>
<td>In a SQL interface, the following NoSQL interface-specific data types cannot be used as table column types. <br />- Geometry (GEOMETRY) type<br />- Array type</td>
</tr>
<tr>
<td>5</td>
<td>SQL</td>
<td>To handle data types and sequences in a query flexibly, there are the cases where their error is not detected.</td>
</tr>
<tr>
<td>6</td>
<td>Compatibility (nodes in a cluster, API and a cluster)</td>
<td>- Version compatibility among nodes in a cluster<br />A rolling grade cannot be used to migrate from V4 to V5. <br /><br />- Version compatibility of API and a cluster<br />A V5 cluster can be operated using the API for V4. <br />Note that when a discontinued functionality is used, the cluster generates an error. <br />Note also that a V5 cluster cannot be operated using the API for V3 and earlier.</td>
</tr>
</tbody>
</table>
<h2 id="limitations">Limitations</h2>
<table>
<thead>
<tr>
<th>No</th>
<th>Title</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>S30007</td>
<td>Database names and user names are case-sensitive in some operations</td>
<td>In the operations for the creation, uppercase and lowercase characters are identified as the same. But in operations for the connection, reference and deletion, the names are treated as case-sensitive. <br /><br /><br />* After creating a database &ldquo;dbTest&rdquo;, the database named &ldquo;DBTEST&rdquo; or &ldquo;dbtest&rdquo; cannot be created. <br />-&gt; In creating a database, the database names different only in uppercase and lowercase characters are identified as the same name. <br /><br />* The database &ldquo;dbTest&rdquo; is not deleted by specifying &ldquo;DBTEST&rdquo; or &ldquo;dbtest&rdquo;. It is required to specify &ldquo;dbTest&rdquo; in order to delete the database. <br />-&gt; In deleting a database, the database names different in uppercase and lowercase characters are identified as different names.</td>
</tr>
<tr>
<td>S30009</td>
<td>Empty geometry values can not be registered</td>
<td>An error occurs when registering empty geometry value.<br />Examples of empty geometry data:<br />POINT(EMPTY), LINESTRING(EMPTY), POLYGON(EMPTY), etc.</td>
</tr>
<tr>
<td>S30014</td>
<td>Table partitioning cannot be performed on the table to which the node affinity is set</td>
<td>Creating a table by specifying both the node affinity and the partitioning causes an error. Example) CREATE TABLE table1@affinity(id integer) PARTITION BY HASH(id) PARTITIONS 5</td>
</tr>
<tr>
<td>I40004</td>
<td>If columns are added with putContainer of the NoSQL API, the NULL value is set in the corresponding columns of existing rows.</td>
<td>The empty value is set until V4.0.3. It will become selectable from the empty value and the NULL value in the future version.</td>
</tr>
<tr>
<td>T30004</td>
<td>In case of failure, gs_admin may not be able to get container information</td>
<td>When a part of partitions cannot be accessed for a database failure, gs_admin cannot get container information. Even in that case, gs_sh can get the container information on the normal partitions.</td>
</tr>
<tr>
<td>T30006</td>
<td>Clusters, databases and containers which name contains any special characters (&rsquo;-&rsquo;, &lsquo;.&rsquo;, &lsquo;/&rsquo;, &lsquo;=&rsquo;) cannot be handled by the Web API</td>
<td>When specifying a cluster name, a database name or a container causes an error.</td>
</tr>
</tbody>
</table>
<p><a id="change_logs"></a></p>
<h2 id="-----history-of-the-changes-in-previous-versionsa----">&mdash;  History of the changes in previous versionsa &mdash;</h2>
<h2 id="changes-in-v46">Changes in V4.6</h2>
<p>A summary of the function enhancements in V4.6 is as below:</p>
<p><strong>&lt;Functions for development&gt;</strong></p>
<ul>
<li>
<p>Renaming a column using SQL</p>
<p>The following SQL is supported:</p>
<ul>
<li>ALTER TABLE <em>table name</em> RENAME COLUMN <em>column name before renaming</em> TO <em>column name after renaming</em>;</li>
</ul>
</li>
<li>
<p>Unifying the Communication Edition (CE) and SQL implementation.</p>
<p>Unified SQL implementation for GridDB CE and EE. Through elimination of the differences in features and performance, migration from CE to EE is made easier. No functional changes are No functional changes have been made since V4.5 EE except for the renaming of columns by SQL.</p>
</li>
</ul>
<p><strong>&lt;Operation functions&gt;</strong></p>
<ul>
<li>
<p>Enhancing the SSL function</p>
<p>Server certification verification by the client is supported. It verifies the signed certificate with the trusted certificate authority.</p>
</li>
</ul>
<p><strong>&lt;Supplementary explanation&gt;</strong></p>
<ul>
<li>
<p>Changes in supported operating systems</p>
<p>Red Hat Enterprise Linux 7.9/8.2/8.3 and CentOS 7.9/8.2/8.3 are supported. This version and later versions no longer support Red Hat Enterprise Linux 6 and CentOS 6.</p>
</li>
</ul>
<h2 id="changes-in-v45">Changes in V4.5</h2>
<p>GridDB Enterprise V4.5 is released. A summary of enhancements made available in V4.5 is as given below: The abstract of the function enhancements is as below.</p>
<p><strong>&lt;Operation functions&gt;</strong></p>
<ul>
<li>
<p>LDAP authentication</p>
<p>LDAP authentication is supported as external authentication, which enables to centrally manage authentication information.</p>
</li>
<li>
<p>Securing communications paths through SSL.</p>
<p>SSL has been enabled for communication between the GridDB cluster and the client.</p>
</li>
<li>
<p>Enhancement of the integrated operations management GUI (gs_admin)</p>
<p>Web containers have been included in gs_admin. This has eliminated the need to prepare a Web server in advance in order to execute the service.</p>
</li>
<li>
<p>Enhancement of the cluster operation control command interpreter (gs_sh)</p>
<p>Subcommands for registering/deleting a row, searching for a container, synchronizing cluster node definitions, and displaying/running history are newly added.</p>
<p>The format of a history file (gssh_history) has been changed for enhancing the history function.
If the alert &ldquo;bad history file syntax&rdquo; is displayed while running the gs_sh command, delete the history file.</p>
</li>
</ul>
<p><strong>&lt;Supplementary explanation&gt;</strong></p>
<ul>
<li>
<p>Support for new OS versions</p>
<p>Red Hat Enterprise Linux 7.8  and 8.1 and CentOS 7.8 and 8.1 are supported.</p>
</li>
<li>
<p>Support for new Java versions</p>
<p>Oracle JDK 11 and RedHat OpenJDK 11 are supported.</p>
</li>
<li>
<p>Adding and deleting installation packages</p>
<p>The following packages are added.</p>
<ul>
<li>Web UI package (griddb-ee-webui)</li>
</ul>
<p>The following package is deleted.</p>
<ul>
<li>NewSQL package (griddb-ee-newsql)</li>
</ul>
<p>The following package names have been changed to the ones shown in parentheses:</p>
<ul>
<li>server package (griddb-ee-server)</li>
<li>client package (griddb-ee-client)</li>
<li>Web API package (griddb-ee-webapi)</li>
<li>C library package (griddb-ee-c_lib)</li>
<li>Java library package (griddb-ee-java_lib)</li>
<li>Python library package (griddb-ee-python_lib)</li>
<li>Node.js library package (griddb-ee-nodejs_lib)</li>
<li>Go library package (griddb-ee-go_lib)</li>
</ul>
<p>Upgrade installation from the V4.3 or earlier packages is not available. Uninstall those packages and reinstall.</p>
</li>
</ul>
<h2 id="changes-in-v434">Changes in V4.3.4</h2>
<p>A summary of the function enhancements in V4.3.4 is as below:</p>
<p><strong>&lt;Functions for development&gt;</strong></p>
<ul>
<li>
<p>Expansion of SQL functions (AE only)</p>
<p>Supports the following clauses:</p>
<ul>
<li>WINDOW function: LAG (gets the line before the current line), LEAD (gets the line after the current line)</li>
</ul>
<p>The following aggregate functions are available as analytic functions with the OVER clause:</p>
<ul>
<li>AVG (average value), COUNT (number of rows), MAX (maximum value), MIN (minimum value), SUM (total value)/TOTAL (total value), STDDEV_SAMP (sample standard deviation), STDDEV (sample standard deviation)/ STDDEV0 (sample standard deviation), STDDEV_POP (population standard deviation), VAR_SAMP (sample variance), VARIANCE (sample variance)/VARIANCE0 (sample variance), VAR_POP (population variance)</li>
</ul>
</li>
</ul>
<h2 id="changes-in-v432">Changes in V4.3.2</h2>
<p>A summary of enhancements made available in V4.3.2 is as given below:</p>
<p><strong>&lt;Functions for development&gt;</strong></p>
<ul>
<li>
<p>Expansion of SQL functions</p>
<p>Supports the following clauses:</p>
<ul>
<li>
<p>OVER clause</p>
<p>Splits and sorts query results. Used with the WINDOW function.</p>
</li>
</ul>
<p>The following functions are supported.</p>
<ul>
<li>Aggregate functions: STDDEV_SAMP (sample standard deviation), STDDEV0 (sample standard deviation), STDDEV_POP (population standard deviation), VAR_SAMP (sample variance), VARIANCE0 (sample variance), VAR_POP (population variance), MEDIAN (median)</li>
<li>WINDOW function: ROW_NUMBER (sequential value)</li>
</ul>
<p>The specifications of the following functions are changed:</p>
<ul>
<li>
<p>Aggregate function: STDDEV</p>
<p>Changed to return the sample standard deviation.<br>
Previously, the population standard deviation was returned.</p>
</li>
<li>
<p>Aggregate function: VARIANCE</p>
<p>Changed to return the sample standard deviation.<br>
Previously, the population variance was returned</p>
</li>
</ul>
</li>
</ul>
<h2 id="changes-in-v431">Changes in V4.3.1</h2>
<p>A summary of enhancements made available in V4.3.1 is as given below:</p>
<p><strong>&lt;Functions for development&gt;</strong></p>
<ul>
<li>
<p>Supporting SQL I/F and table partitioning of data affinity function</p>
<p>Data affinity can be set using SQL.
It can also be set when creating a partitioned table.</p>
</li>
<li>
<p>Expansion of SQL functions</p>
<p>The following functions are supported.</p>
<ul>
<li>Arithmetic function: HEX_TO_DEC (hexadecimal string)</li>
</ul>
<p>The specifications of the following functions are changed:</p>
<ul>
<li>
<p>Arithmetic functions: TRUNC (truncate to the specified number of digits)</p>
<p>Changed to return the result in LONG type when an integer is specified in the argument,<br>
whereas previously, DOUBLE type was returned.</p>
</li>
<li>
<p>Datetime function: STRFTIME (convert TIMESTAMP to string)</p>
<p>%W (week number) was added to the format string</p>
</li>
</ul>
</li>
<li>
<p>JDBC enhancement</p>
<p>The following methods are supported:</p>
<ul>
<li>PreparedStatement#setBinaryStream(int parameterIndex, InputStream x)</li>
<li>PreparedStatement#setBinaryStream(int parameterIndex, InputStream x, int length)</li>
<li>PreparedStatement#setBinaryStream(int parameterIndex, InputStream x, long length)</li>
<li>PreparedStatement#setBlob(int parameterIndex, InputStream inputStream)</li>
<li>PreparedStatement#setBlob(int parameterIndex, InputStream inputStream, long length)</li>
</ul>
</li>
<li>
<p>ODBC enhancement</p>
<p>The timeout time can be set during SQL execution.</p>
</li>
</ul>
<p><strong>&lt;Supplementary explanation&gt;</strong></p>
<ul>
<li>
<p>Adding supported Operating Systems</p>
<p>Red Hat Enterprise Linux 7.7 / CentOS 7.7 are now supported.</p>
</li>
<li>
<p>User Guide for GridDB Template for Ansible</p>
<p>This manual provides GridDB templates for Ansible that support initial configuration, acquiring settings, changing settings, and adding nodes.</p>
</li>
</ul>
<h2 id="changes-in-v43">Changes in V4.3</h2>
<p>A summary of enhancements made available in V4.3 is as given below:</p>
<p><strong>&lt;Scalability&gt;</strong></p>
<ul>
<li>
<p>Increasing block size</p>
<p>The block size, specified at the initial setting when creating a database, has been expanded up to 32MB.
By specifying a large block size, the amount of data managed by a node increases.
Furthermore, scanning performance of large scale data is expected to improve.</p>
</li>
<li>
<p>Splitting checkpoint files</p>
<p>The checkpoint file can be split and located in multiple directories, allowing the amount of data managed by a node to increase.
allowing the amount of data managed by a node to increase. By reducing the load of each disk, overall performance is also expected to improve.</p>
</li>
<li>
<p>Network configuration which separates the external and internal communication</p>
<p>The external and internal communication can be separated by assigning different network interfaces to external communication, which is between the client and the nodes, and to internal communication, which is between the nodes.
Network load can be distributed.</p>
</li>
</ul>
<p><strong>&lt;Performance&gt;</strong></p>
<ul>
<li>
<p>Composite index</p>
<p>An index set on multiple columns can be created. Search performance is expected to improve in a case when combining multiple column values increases data selectivity.</p>
</li>
</ul>
<p><strong>&lt;Functions for development&gt;</strong></p>
<ul>
<li>
<p>Composite row key</p>
<p>Row key can be set on multiple columns. which is useful when Row key of multiple columns specifies data uniquely.
Data design becomes more simple since surrogate keys (substitute keys) are not required.</p>
</li>
<li>
<p>Specifying time zone</p>
<p>Time zone is added to the client properties. Time zone argument is added to some TQL and SQL date functions.</p>
</li>
<li>
<p>Expansion of SQL functions</p>
<p>The following functions are supported.</p>
<ul>
<li>Aggregate functions: STDDEV (standard deviation), VARIANCE (variance)</li>
<li>Arithmetic functions: LOG (logarithm), SQRT (square root), TRUNC (truncate to the specified number of digits)</li>
<li>String function: TRANSLATE (string replacement)</li>
<li>Date/time functions: STRFTIME (convert TIMESTAMP to character string), MAKE_TIMESTAMP (generate TIMESTAMP), TIMESTAMP_TRUNC (truncate to specified granularity)</li>
</ul>
</li>
</ul>
<p><strong>&lt;Operation functions&gt;</strong></p>
<ul>
<li>Improvement in access rights
READ (read only) has been added as the type of permission for general users to access the database.
The conventional access right was ALL (full access) only. Access rights to multiple general users can be assigned to one database.</li>
</ul>
<p>The following points are changed from GridDB V4.3.</p>
<ul>
<li>
<p>Change in the time string format</p>
<p>The format of the time string output from the server and a client has been changed,
except when the time zone is UTC.</p>
<p>Example) When the time zone is JST:</p>
<ul>
<li>V4.2 or earlier
<pre tabindex="0"><code>2019-10-01T12:04:37.726+0900
</code></pre></li>
<li>V4.3
<pre tabindex="0"><code>2019-10-01T12:04:37.726+09:00
</code></pre></li>
</ul>
<p>The output result and logs of operation tools are also in the same format.</p>
</li>
<li>
<p>Partitioning key restrictions</p>
<p>In the default setting of V4.3, the column specified as the partitioning key must be the one with the primary key.</p>
<p>To specify a column other than the one with the primary key, like in the versions prior to V4.3, add the following settings to the cluster definition file.</p>
<pre tabindex="0"><code>    :
  &#34;sql&#34;: {
      :
    &#34;partitioningRowkeyConstraint&#34;: false
  }
    :
</code></pre></li>
<li>
<p>Maximum partition size</p>
<p>The upper limit of the partition size corresponding to the block size has been changed as follows.</p>
<ul>
<li>For the block size of 64KB: changed from about 64TB to about 4TB</li>
<li>For the block size of 1MB, changed from about 1PB to about 64TB</li>
</ul>
</li>
<li>
<p>Change in gs_sh specification</p>
<p>For grantacl/revokeacl subcommands, specifying the access right is required.</p>
</li>
<li>
<p>Removed restriction</p>
<p>The following restrictions has been removed.</p>
<table>
<thead>
<tr>
<th>No</th>
<th>Title</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>S30010</td>
<td>Swap files for SQL intermediate results don&rsquo;t shrink</td>
<td>When the memory size used for SQL exceeds the upper limit(sql.storeMemoryLimit in gs_node.json), the contents of memory is dumped into the swap files. These swap files are created on the directory specified by sql.storeSwapFilePath (the file name is &ldquo;swap_N.dat&rdquo;). <br />They are deleted when the server is shut down, but in the current version the file size is not reduced while the server is running. <br /><br />If there is a query that puts a large amount of intermediate result into the swap file, even after the query is finished, the disk space where the swap file is stored may be consumed by the query. <br />Please take the following actions beforehand. <br />* Before starting the real operations, check the swap file size by executing the query preliminarily and estimate the required disk space. <br />* By sql.storeSwapFilePath, allocate the swap files in a device or a partition where the database files are not stored.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2 id="changes-in-v425">Changes in V4.2.5</h2>
<p>The following changes have been made in V4.2.5:</p>
<ul>
<li>
<p>Dockerfile sample</p>
<p>Samples for creating and starting GridDB containers that run on Docker CE and Microsoft Azure Container Instance (ACI) are provided.</p>
<ul>
<li>Dockerfile and configuration file to generate Docker container image of GridDB server node and client node.</li>
<li>See User Guide for GridDB Dockerfile sample for how to build the container image and how to run the container.</li>
</ul>
</li>
</ul>
<h2 id="changes-in-v42">Changes in V4.2</h2>
<p>A summary of the function enhancements in V4.2 is as below:</p>
<p><strong>&lt;Performance&gt;</strong></p>
<ul>
<li>
<p>Using multiple indexes</p>
<p>Plans to use multiple indexes attached to tables sufficiently are generated and executed.</p>
<p>Moreover, you can control patterns of using indexes changing the describing order of conditions.</p>
</li>
<li>
<p>Controlling buffers for search</p>
<p>The amount of used buffers are controlled monitoring the amount of swap read of a job or a task of queries.</p>
<p>It reduces the performance degradation of a register process caused by the swap out of analysis queries.</p>
</li>
</ul>
<p><strong>&lt;Functions for failure analysis and performance analysis&gt;</strong></p>
<ul>
<li>
<p>Designating application names</p>
<p>The application name (applicationName) is added to the connection property.</p>
<p>It is output to the column values of a certain metatable, event logs, and client trace logs.</p>
<p>It is useful for specifying the application with problems.</p>
</li>
<li>
<p>Client trace log output (JDBC)</p>
<p>You can have a JDBC application output trace logs including a function name and arguments.</p>
<p>You can analyze a failure and debug efficiently using detail application logs.</p>
</li>
<li>
<p>Slow query log</p>
<p>If the processing time of a query (SQL) exceeds a threshold, the query information is output to event logs at the end of processing.</p>
<p>It is useful for specifying a query that takes a lot of time more than expected.</p>
<p>The threshold is set to the node definition file. You can change it online.</p>
</li>
<li>
<p>Output the current process list during execution</p>
<p>A metatable is added to obtain the NoSQL or NewSQL process information during execution.</p>
<p>It is useful for specifying what process uses the resources of a node and an OS.</p>
<p>Moreover, the sub command of gs_sh is added.</p>
<ul>
<li>showsql : Displaying SQL processes during execution</li>
<li>showevent : Displaying events during execution</li>
<li>showconnection : Displaying connections</li>
</ul>
</li>
<li>
<p>Canceling a query during execution</p>
<p>The sub command for canceling a query that is not terminated for a long time manually is added to gs_sh.</p>
<ul>
<li>killsql : Canceling a SQL process during execution</li>
</ul>
<p>You can confirm a resource ID to cancel a query using the sub command showsql.</p>
</li>
<li>
<p>Displaying an execution plan</p>
<p>The sub command displaying an execution plan for performance analysis of a query is added to gs_sh.</p>
<ul>
<li>getplantxt : Obtaining a SQL analysis result (Text format)</li>
<li>getplanjson : Obtaining a SQL analysis result (JSON format)</li>
<li>gettaskplan : Obtaining a detail SQL analysis result</li>
</ul>
</li>
<li>
<p>Improving the GridDB monitoring template for Zabbix</p>
<p>The SQL statistics information, a monitoring item, etc. for log analysis are added to the GridDB monitoring template for Zabbix that is provided as a sample for monitoring a GridDB cluster.</p>
</li>
<li>
<p>Improving the log display command (gs_logs)</p>
<p>The following options are added to make it easy to analyse event logs.</p>
<ul>
<li>The option to output result as a CSV format (&ndash;csv)</li>
<li>The option for performance trace analysis (&ndash;tracestats)</li>
<li>The option for slow query log analysis (&ndash;slowlogs)</li>
</ul>
</li>
<li>
<p>Improving the command for obtaining cluster information (gs_stat)</p>
<p>The following option to make it easy to analyze performance information is added.</p>
<ul>
<li>The option to output result as a CSV format (&ndash;csv)</li>
</ul>
</li>
</ul>
<p><strong>&lt;Functions for development&gt;</strong></p>
<ul>
<li>
<p>View</p>
<p>The function for defining a view and syntaxes for creating and deleting it are added. The view list can be referred in a metatable.</p>
<p>The view is a object similar to a container, however, it does not contain real data. When you execute query including a view, the result of evaluating SELECT sentences defined at creating it is returned.</p>
<p>Only the reference operation (SELECT) is valid for a view.</p>
</li>
<li>
<p>Web API v2</p>
<p>The APIs such as creating and deleting a container, obtaining a container list, and executing a TQL sentence are added.</p>
<p>Moreover, you can activate and stop it as a standalone service (griddb-webapi.)</p>
<p>Please refer the GridDB Web API Reference for details.</p>
</li>
</ul>
<p><strong>&lt;Programming language&gt;</strong></p>
<ul>
<li>
<p>Node.js</p>
<p>You can use Node.js as a programming language to develop an application.</p>
</li>
<li>
<p>Go</p>
<p>You can use Go as a programming language to develop an application.</p>
</li>
<li>
<p>C (For Windows environment)</p>
<p>You can use the C Client library on the Windows environment.</p>
</li>
<li>
<p>Improving the exception handling of C API</p>
<p>Parameters related to errors are added to a part of APIs.</p>
<p>You can use the parameters to obtain information without analyzing strings.</p>
</li>
</ul>
<p><strong>&lt;Supplementary explanation&gt;</strong></p>
<ul>
<li>
<p>Specifying a partition arrangement</p>
<p>You can use the operational command (gs_goalconf) to specify a partition arrangement. It is mainly used for the rolling upgrade.</p>
</li>
<li>
<p>Adding supported Operating Systems</p>
<p>You can use GridDB on Red Hat Enterprise Linux 7.6, 6.10 / CentOS 7.6, 6.10.</p>
</li>
</ul>
<p>The following points are changed from GridDB V4.2.</p>
<ul>
<li>
<p>Adding install packages</p>
<p>The following packages are added.</p>
<ul>
<li>Web API package (griddb-ee-webapi)</li>
<li>Node.js library package (griddb-ee-nodejs_lib)</li>
<li>Go library package (griddb-ee-go_lib)</li>
</ul>
</li>
<li>
<p>Deleting an install package</p>
<p>The following package is deleted. If you update version, please uninstall it in advance.</p>
<ul>
<li>Document package (griddb-ee-docs)</li>
</ul>
</li>
<li>
<p>Node definition file (gs_node.json)</p>
<p>The parameters of the node definition file are changed as below.</p>
<ul>
<li>
<p>Changing a parameter value</p>
<p>The default value of the max memory size used by operators in the SQL process is changed.</p>
<ul>
<li>/sql/workMemoryLimit 128MB -&gt; 32MB</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Deleting SQL hint clauses</p>
<p>The following hint clauses are deleted.</p>
<ul>
<li>MaxDegreeOfParallelism(Maximum number of processing threads for one query)</li>
<li>DistributedPolicy(Selection of distributed planning policy)</li>
</ul>
</li>
<li>
<p>Adding partition status (V4.2.1)</p>
<p>The following status has been added: In V4.2.0 and earlier, this status was displayed as NORMAL.</p>
<ul>
<li>INITIAL: Initial state not joined the cluster configuration</li>
</ul>
</li>
</ul>
<h2 id="changes-in-v41">Changes in V4.1</h2>
<p>A summary of enhancements made available in V4.1 is as given below:</p>
<p><strong>&lt;Data Management functions&gt;</strong></p>
<ul>
<li>
<p>Expanding the upper limit of the number of columns</p>
<p>The upper limit of the number of columns that can be handled on containers (tables).</p>
<p>It was 1024; however, it becomes 1024-32000 from V4.1. (It depends on the setting of a block size or the column type of a container.)</p>
</li>
<li>
<p>Improving a dynamic schema change (column addition)</p>
<p>It becomes possible to access a container (table) when a column is added to the end of it.</p>
<p>It is not possible to access it when the schema of it is changed in versions earlier than V4.1.
Moreover, the process of adding columns to the end of a container becomes faster.</p>
</li>
<li>
<p>Expanding an expiry release function</p>
<p>It becomes possible to set an expiry release in the case that a container (table) the type of which is a partitioned collection is used.
(However, the following conditions must be satisfied.) The partitioning type is interval or interval-hash The partitioning key is a TIMESTAMP type</p>
<p>The expiry release can be set only if a container is a timeseries type in versions earlier than V4.1.</p>
<p>A &ldquo;partition expiry release&rdquo; is added as an expiry release type.
Data is released in a data partition unit.
Data is released in a row unit in the existing row expiry release.</p>
<p>The partition expiry release can be set in the case that a container (table) the partitioning type of which is interval or interval-hash.
When the retention time has passed from the upper bound time of the data range in the data partition, all the rows in the data partition are released.</p>
</li>
</ul>
<p><strong>&lt;Operation functions&gt;</strong></p>
<ul>
<li>
<p>A long-term archive function</p>
<p>It is possible to save data released by the expiry release function to an external file (archive file) for reuse before been deleted from GridDB automatically.</p>
<p>It enables users to keep the data size of DB and save old data.
The saved archive file can be filtered by a period and a container name to refer needed files. Moreover, it can be reimported in GridDB.</p>
</li>
<li>
<p>Enhancing the backup function</p>
<p>Following functions are provided to execute an online backup of GridDB and recover to the latest status collaborating with the fast copy function of a storage or a snapshot solution.</p>
<ul>
<li>Checkpoint control function (Pause and restart a checkpoint)</li>
<li>Transaction log backup function (Enhancing the existing function)</li>
</ul>
</li>
<li>
<p>Enhancing the rolling upgrade function</p>
<p>The script of rolling upgrade is provided to make it easy to design an operation method and execute.</p>
</li>
</ul>
<p><strong>&lt;Programming language&gt;</strong></p>
<ul>
<li>
<p>Improving the performance of the Python client</p>
<p>The registration/search performance of the Python client is improved.</p>
</li>
</ul>
<p><strong>&lt;Supplementary explanation&gt;</strong></p>
<ul>
<li>
<p>Adding supported Operating Systems</p>
<p>Red Hat Enterprise Linux 7.5 / CentOS 7.5 are now supported.</p>
</li>
</ul>
<p>The following points are changed in GridDB V4.1.</p>
<ul>
<li>
<p>NoSQL I/F</p>
<p>The default value of failoverTimeout is changed from 60 second to 120 second. The value is a timeout time used in the case of a node failure.</p>
</li>
<li>
<p>Clients try to connect a normal node automatically in the time.</p>
<p>Template names of definition files &ldquo;.tmpl&rdquo; is added to the end of definition file names in the install directory.</p>
<ul>
<li>Example:
<ul>
<li>Node definition file: /usr/griddb/conf/gs_node.json.tmpl</li>
<li>Cluster definition file: /usr/griddb/conf/gs_cluster.json.tmpl</li>
<li>User definition file: /usr/griddb/conf/password.tmpl</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Node definition file (gs_node.json)</p>
<p>The parameters of the node definition file are changed as below.</p>
<ul>
<li>
<p>Changing a parameter value</p>
<p>The default value of the number of concurrent threads for processing SQLs is changed.</p>
<ul>
<li>/sql/concurrency 4 (existing value is 5)</li>
</ul>
</li>
<li>
<p>Adding a new parameter</p>
<p>It is possible to set the value that represents the automatic deletion function of expiry released data is enabled or not.</p>
<ul>
<li>/dataStore/autoExpire Set the automatic deletion of expiry released data</li>
</ul>
<p>false (automatic deletion disabled) is set as a default value in the template file of a node definition.
It is regarded as true (automatic deletion enabled) if it is not specified.</p>
<p>Users using the node definition file before V4.1 need not to modify it.
The function is not changed (automatic deletion enabled).</p>
</li>
</ul>
</li>
<li>
<p>SQL specification</p>
<p>The following option for the expiry release function that is used in executing create table is added.</p>
<ul>
<li>expiration_type The expiry release type (PARTITION/ROW) is set. The default value is PARTITION.</li>
</ul>
<p>The default value is changed from ROW to PARTITION.</p>
<p>If you use SQL sentences creating timeseries containers with the expiry release setting in the version before V4.1, please add the specification of the type (ROW) of an expiry release to SQL sentences. expiration_type=&lsquo;ROW&rsquo;</p>
</li>
<li>
<p>gs_export/gs_import</p>
<p>The property file path is changed as below.</p>
<ul>
<li>
<p>/var/lib/gridstore/expimp/conf/gs_expimp.properties</p>
<p>(previous) /usr/griddb/prop/gs_expimp.properties</p>
</li>
</ul>
</li>
<li>
<p>gs_admin/gs_sh</p>
<p>The way to display the column value of the TIMESTAMP type in the TQL/SQL function is unified as below.</p>
<ul>
<li>Time format: ISO8601</li>
<li>Timezone: UTC
<ul>
<li>
<p>Example) The TIMESTAMP type column value</p>
<p>2018-11-07T12:30:00.417Z</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="changes-in-v403">Changes in V4.0.3</h2>
<p>The following changes have been made in V4.0.3:</p>
<ul>
<li>
<p>Enhancement of table partitioning</p>
<p>New types of table partitioning are added (Interval and Interval-Hash).
By the variety of the types, it is possible to select an appropriate partitioning according to the nature of data or application, and then a large amount of data is stored and managed efficiently.</p>
<ul>
<li>
<p>Interval</p>
<ul>
<li>The table is partitioned by a specified interval range.</li>
</ul>
</li>
<li>
<p>Interval-Hash</p>
<ul>
<li>This is a combination of &ldquo;Interval&rdquo; and &ldquo;Hash&rdquo;.
The table is partitioned by &ldquo;Interval&rdquo; initially, and then it is further partitioned by hashing.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="changes-in-v402">Changes in V4.0.2</h2>
<p>The following changes have been made in V4.0.2:</p>
<ul>
<li>
<p>Expansion of Python client</p>
<p>Python client is enhanced to improve usability and to work with a data analysis library.</p>
<ul>
<li>
<p>Interface improvement</p>
<p>Such as registration and acquisition can be handled without being aware of data types in rows.
Data specified in Python list is implicitly converted to each column type of the row.</p>
<ul>
<li>
<p>Ex.) Registering a row into a container.</p>
<p>Container.put([1, &ldquo;value&rdquo;, False])</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Pandas linkage</p>
<p>Python client can work with a data analysis library &ldquo;Pandas&rdquo;.
Data acquired by Python client can be analyzed in Pandas and analysis data in Pandas can be registered into a GridDB cluster.</p>
<ul>
<li>
<p>Function enhancement</p>
<ul>
<li>Array type : Array type can be used in rows</li>
<li>NULL value : Rows containing NULL value can be handled</li>
<li>Named index : Named indices can be created and deleted</li>
<li>Partial execution mode: As an option for acquiring query results, partial execution mode can be specified.</li>
</ul>
</li>
</ul>
<p>Old Python clients for previous versions become obsolete.
Use new Python client in V4.0.2 or later.
And Python2 becomes unsupported as a running environment of the Python client.</p>
</li>
<li>
<p>Placement information display function of containers (tables)</p>
<p>Containers (tables) in a GridDB cluster are automatically distributed and placed on each node.
It is possible to check where each container (table) is placed by using an operation control tool or other methods.</p>
<p>This function can be used for checking containers placed on each node when DB sizes are not balanced among nodes, and taking a backup of nodes which have particular containers.</p>
</li>
<li>
<p>Enhancement of Java API exception handling</p>
<p>Map of parameters related to the error is added to the GSException Class.
By using this map, a part of information can be acquired without parsing.</p>
</li>
<li>
<p>Enhancement of automatic recovery function</p>
<p>Node will be automatically restarted even if the user or the OOM killer kills the node process.</p>
</li>
<li>
<p>Adding supported Operating Systems</p>
<p>Red Hat Enterprise Linux 7.4 / CentOS 7.4 are now supported.</p>
</li>
</ul>
<h2 id="changes-in-v40">Changes in V4.0</h2>
<p>Following features are changed in GridDB V4.0.</p>
<ul>
<li>
<p>Expansion of characters used for names</p>
<p>The characters which are allowed to be used in cluster names, database names, container names, etc. are increased.
Special characters (hyphen &lsquo;-&rsquo;, dot &lsquo;.&rsquo;, slash &lsquo;/&rsquo;, equal &lsquo;=&rsquo;) are added to the characters in prior versions.</p>
<p>By this expansion, it is easier to cooperate between GridDB and other NoSQL database systems, because object names of other systems can also be used in GridDB without rewriting the names in more cases.</p>
</li>
<li>
<p>Enhancement of interoperability between NoSQL and NewSQL</p>
<p>In addition to the enhancement in V3.5, TQL through the NoSQL interface can access partitioned tables created through the NewSQL interface.
For partitioned tables, either TQL or SQL can be selected to handle the tables depending on the application like containers.</p>
</li>
<li>
<p>Rolling upgrade</p>
<p>From V4.0, for upgrading a minor version or patching, it is possible to upgrade the product while the cluster is running.</p>
</li>
<li>
<p>Ensuring database and API compatibility</p>
<p>From V4.0, database and API backward compatibility is ensured in the same major version.</p>
</li>
<li>
<p>Support of the Python programming language</p>
<p>Python can be used as a programming language for application developments.
The APIs for Python2 and Python3 are newly provided.</p>
</li>
<li>
<p>SQL operations through the Web API</p>
<p>Execution of a SQL SELECT statement through the Web API is newly available.</p>
</li>
</ul>
<h2 id="----notices----">&mdash; Notices &mdash;</h2>
<p>Basic support contract is required for the use of perpetual license.
Please make the basic support contract at the same time of purchasing this product.
It is not possible to contract the support service after the purchasing.</p>
<h2 id="----trademarks----">&mdash; Trademarks &mdash;</h2>
<ul>
<li>GridDB is a registered trademark of Toshiba Digital Solutions Corporation in Japan.</li>
<li>Oracle and Java are registered trademarks of Oracle Corporation, its subsidiaries or affiliated companies in USA and other countries. There are the cases where the company or product name in this file is a trademark or a registered trademark.</li>
<li>Linux is a trademark of Linus Torvalds.</li>
<li>Red Hat is a registered trademark or a trademark of Red Hat, Inc. in USA and other countries.</li>
<li>Zabbix is a registered trademark of Zabbix SIA.</li>
<li>Docker is a registered trademark of Docker Inc. in the United States and other countries.</li>
<li>Microsoft and Azure are registered trademarks of Microsoft Corporation in the United States and other countries.</li>
<li>Ansible is a registered trademark or trademark of Red Hat, Inc. in the United States and other countries.</li>
<li>Each other product name is a trademark or registered trademark of the owner.</li>
</ul>
<h2 id="----supplementary-explanationa----">&mdash; Supplementary explanationa &mdash;</h2>
<p>The information about software and its license used by GridDB is included in Readme_en.txt bundled in the server package and the install media.</p>
<p>Contact the representative of the basic support service if there are any inquiries to use this product.</p>
<pre><code>                Copyright Toshiba Digital Solutions Corporation 2017-2022
</code></pre>

</div>



    
	
  

    
	
  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" rel="noopener" href="https://twitter.com/griddb" aria-label="Twitter">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Stack Overflow" aria-label="Stack Overflow">
    <a class="text-white" target="_blank" rel="noopener" href="https://stackoverflow.com/questions/tagged/griddb" aria-label="Stack Overflow">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/griddb" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2022 Toshiba Digital Solutions Corporation  </small>
        
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
    crossorigin="anonymous"></script>





<script src='/js/tabpane-persist.js'></script>


















<script src="/js/main.min.3f0e1da10e7505a3605ec596a005975226a1b01ade5b97a77cb9da82059a1ba8.js" integrity="sha256-Pw4doQ51BaNgXsWWoAWXUiahsBreW5enfLnaggWaG6g=" crossorigin="anonymous"></script>




  </body>
</html>
